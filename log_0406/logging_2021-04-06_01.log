current_plcdb_name: plcdata2021-04-06_01_00.db
1[785]: datalist_to_store size: 785
2021-04-06 01:00:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_00_50.db
trigger sensor detected: 2021-04-06 01:00:23.083
lastevent: 2021-04-06 01:00:23.076, last ten sensor data: [('2021-04-06 01:00:22.550', 'S+000008.8'), ('2021-04-06 01:00:22.710', 'D+000011.2'), ('2021-04-06 01:00:22.730', 'D+000012.4'), ('2021-04-06 01:00:22.750', 'D+000014.0'), ('2021-04-06 01:00:22.770', 'D+000015.2'), ('2021-04-06 01:00:22.790', 'D+000016.2'), ('2021-04-06 01:00:22.970', 'D+000012.6'), ('2021-04-06 01:00:22.990', 'D+000012.8'), ('2021-04-06 01:00:23.010', 'D+000012.6'), ('2021-04-06 01:00:23.030', 'D+000011.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [15.2, 16.2, 12.6, 12.8, 12.6, 11.4]
np.array X: [[15.2]
 [16.2]
 [12.6]
 [12.8]
 [12.6]
 [11.4]]
revised_weight: 14.6
2021-04-06 01:00:23.030: revising weight finished
revised_weight: 14.6 at 2021-04-06 01:00:23.030
plc_result: True
sendmessage: 20210406010023030,1,000114,000146
send message to PLC: 2021-04-06 01:00:23.095
time gap: 0:00:00.012231
2021-04-06 01:00:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:23.869
lastevent: 2021-04-06 01:00:23.860, last ten sensor data: [('2021-04-06 01:00:23.450', 'D+000012.4'), ('2021-04-06 01:00:23.470', 'D+000012.8'), ('2021-04-06 01:00:23.490', 'D+000013.0'), ('2021-04-06 01:00:23.510', 'D+000013.6'), ('2021-04-06 01:00:23.690', 'D+000013.8'), ('2021-04-06 01:00:23.710', 'D+000013.8'), ('2021-04-06 01:00:23.730', 'D+000013.4'), ('2021-04-06 01:00:23.750', 'D+000012.0'), ('2021-04-06 01:00:23.770', 'D+000011.8'), ('2021-04-06 01:00:23.790', 'D+000016.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [13.8, 13.8, 13.4, 12.0, 11.8, 16.6]
np.array X: [[13.8]
 [13.8]
 [13.4]
 [12. ]
 [11.8]
 [16.6]]
revised_weight: 13.7
2021-04-06 01:00:23.790: revising weight finished
revised_weight: 13.7 at 2021-04-06 01:00:23.790
plc_result: True
sendmessage: 20210406010023790,1,000166,000137
send message to PLC: 2021-04-06 01:00:23.881
time gap: 0:00:00.012005
2021-04-06 01:00:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:25.635
lastevent: 2021-04-06 01:00:25.619, last ten sensor data: [('2021-04-06 01:00:25.120', 'D+000005.6'), ('2021-04-06 01:00:25.300', 'D+000006.8'), ('2021-04-06 01:00:25.320', 'D+000006.8'), ('2021-04-06 01:00:25.340', 'D+000006.6'), ('2021-04-06 01:00:25.360', 'D+000006.8'), ('2021-04-06 01:00:25.540', 'D+000006.0'), ('2021-04-06 01:00:25.560', 'D+000005.8'), ('2021-04-06 01:00:25.580', 'D+000006.2'), ('2021-04-06 01:00:25.600', 'D+000006.0'), ('2021-04-06 01:00:25.620', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.0, 5.8, 6.2, 6.0, 6.2]
np.array X: [[6.8]
 [6. ]
 [5.8]
 [6.2]
 [6. ]
 [6.2]]
revised_weight: 6.2
2021-04-06 01:00:25.620: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:00:25.620
plc_result: True
sendmessage: 20210406010025620,1,000062,000062
send message to PLC: 2021-04-06 01:00:25.647
time gap: 0:00:00.011573
2021-04-06 01:00:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:26.829
lastevent: 2021-04-06 01:00:26.818, last ten sensor data: [('2021-04-06 01:00:26.510', 'D+000005.0'), ('2021-04-06 01:00:26.530', 'D+000005.0'), ('2021-04-06 01:00:26.550', 'D+000005.0'), ('2021-04-06 01:00:26.570', 'D+000004.8'), ('2021-04-06 01:00:26.590', 'D+000005.0'), ('2021-04-06 01:00:26.610', 'D+000005.2'), ('2021-04-06 01:00:26.750', 'D+000005.4'), ('2021-04-06 01:00:26.780', 'D+000005.6'), ('2021-04-06 01:00:26.800', 'D+000006.0'), ('2021-04-06 01:00:26.820', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 5.4, 5.6, 6.0, 6.2]
np.array X: [[5. ]
 [5.2]
 [5.4]
 [5.6]
 [6. ]
 [6.2]]
revised_weight: 5.8
2021-04-06 01:00:26.820: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:00:26.820
plc_result: True
sendmessage: 20210406010026820,1,000062,000058
send message to PLC: 2021-04-06 01:00:26.840
time gap: 0:00:00.011000
2021-04-06 01:00:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:27.484
lastevent: 2021-04-06 01:00:27.470, last ten sensor data: [('2021-04-06 01:00:26.850', 'D+000006.2'), ('2021-04-06 01:00:27.000', 'D+000005.8'), ('2021-04-06 01:00:27.020', 'D+000005.8'), ('2021-04-06 01:00:27.040', 'D+000006.4'), ('2021-04-06 01:00:27.060', 'D+000006.4'), ('2021-04-06 01:00:27.080', 'D+000006.2'), ('2021-04-06 01:00:27.260', 'D+000006.2'), ('2021-04-06 01:00:27.280', 'D+000006.0'), ('2021-04-06 01:00:27.300', 'D+000006.0'), ('2021-04-06 01:00:27.320', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.2, 6.2, 6.0, 6.0, 6.2]
np.array X: [[6.4]
 [6.2]
 [6.2]
 [6. ]
 [6. ]
 [6.2]]
revised_weight: 6.1
2021-04-06 01:00:27.320: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:00:27.320
plc_result: True
sendmessage: 20210406010027320,1,000062,000061
send message to PLC: 2021-04-06 01:00:27.496
time gap: 0:00:00.012030
2021-04-06 01:00:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:27.986
lastevent: 2021-04-06 01:00:27.960, last ten sensor data: [0, 0, ('2021-04-06 01:00:27.500', 'D+000006.0'), ('2021-04-06 01:00:27.520', 'D+000006.0'), ('2021-04-06 01:00:27.540', 'D+000005.4'), ('2021-04-06 01:00:27.560', 'D+000005.0'), ('2021-04-06 01:00:27.750', 'D+000010.2'), ('2021-04-06 01:00:27.770', 'D+000011.0'), ('2021-04-06 01:00:27.790', 'D+000013.2'), ('2021-04-06 01:00:27.810', 'D+000013.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.0, 10.2, 11.0, 13.2, 13.2]
np.array X: [[ 5.4]
 [ 5. ]
 [10.2]
 [11. ]
 [13.2]
 [13.2]]
revised_weight: 11.1
2021-04-06 01:00:27.810: revising weight finished
revised_weight: 11.1 at 2021-04-06 01:00:27.810
plc_result: True
sendmessage: 20210406010027810,1,000132,000111
send message to PLC: 2021-04-06 01:00:27.999
time gap: 0:00:00.012700
2021-04-06 01:00:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:28.524
lastevent: 2021-04-06 01:00:28.511, last ten sensor data: [('2021-04-06 01:00:28.040', 'D+000017.4'), ('2021-04-06 01:00:28.060', 'D+000017.6'), ('2021-04-06 01:00:28.220', 'D+000018.4'), ('2021-04-06 01:00:28.240', 'D+000017.6'), ('2021-04-06 01:00:28.260', 'D+000017.6'), ('2021-04-06 01:00:28.280', 'D+000018.2'), ('2021-04-06 01:00:28.300', 'D+000018.4'), ('2021-04-06 01:00:28.470', 'D+000009.6'), ('2021-04-06 01:00:28.490', 'D+000009.2'), ('2021-04-06 01:00:28.510', 'D+000009.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, ('2021-04-06 01:00:28.530', 'D+000009.4')]
list X: [17.6, 18.2, 18.4, 9.6, 9.2, 9.2]
np.array X: [[17.6]
 [18.2]
 [18.4]
 [ 9.6]
 [ 9.2]
 [ 9.2]]
revised_weight: 14.4
2021-04-06 01:00:28.510: revising weight finished
revised_weight: 14.4 at 2021-04-06 01:00:28.510
plc_result: True
sendmessage: 20210406010028510,1,000092,000144
send message to PLC: 2021-04-06 01:00:28.530
time gap: 0:00:00.006486
2021-04-06 01:00:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:29.255
lastevent: 2021-04-06 01:00:29.244, last ten sensor data: [('2021-04-06 01:00:28.780', 'D+000009.4'), ('2021-04-06 01:00:28.800', 'D+000009.4'), ('2021-04-06 01:00:28.980', 'D+000010.0'), ('2021-04-06 01:00:29.000', 'D+000009.6'), ('2021-04-06 01:00:29.020', 'D+000009.4'), ('2021-04-06 01:00:29.170', 'D+000010.4'), ('2021-04-06 01:00:29.190', 'D+000010.6'), ('2021-04-06 01:00:29.210', 'D+000010.8'), ('2021-04-06 01:00:29.230', 'D+000011.0'), ('2021-04-06 01:00:29.250', 'D+000011.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.4, 10.4, 10.6, 10.8, 11.0, 11.0]
np.array X: [[ 9.4]
 [10.4]
 [10.6]
 [10.8]
 [11. ]
 [11. ]]
revised_weight: 10.1
2021-04-06 01:00:29.250: revising weight finished
revised_weight: 10.1 at 2021-04-06 01:00:29.250
plc_result: True
sendmessage: 20210406010029250,1,000110,000101
send message to PLC: 2021-04-06 01:00:29.266
time gap: 0:00:00.011567
2021-04-06 01:00:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:29.952
lastevent: 2021-04-06 01:00:29.946, last ten sensor data: [('2021-04-06 01:00:29.500', 'D+000010.0'), ('2021-04-06 01:00:29.660', 'D+000010.4'), ('2021-04-06 01:00:29.680', 'D+000010.6'), ('2021-04-06 01:00:29.700', 'D+000010.6'), ('2021-04-06 01:00:29.720', 'D+000010.8'), ('2021-04-06 01:00:29.740', 'D+000011.0'), ('2021-04-06 01:00:29.900', 'D+000011.4'), ('2021-04-06 01:00:29.920', 'D+000011.4'), ('2021-04-06 01:00:29.940', 'D+000011.0'), ('2021-04-06 01:00:29.960', 'D+000011.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [10.8, 11.0, 11.4, 11.4, 11.0, 11.0]
np.array X: [[10.8]
 [11. ]
 [11.4]
 [11.4]
 [11. ]
 [11. ]]
revised_weight: 10.8
2021-04-06 01:00:29.960: revising weight finished
revised_weight: 10.8 at 2021-04-06 01:00:29.960
plc_result: True
sendmessage: 20210406010029960,1,000110,000108
send message to PLC: 2021-04-06 01:00:29.958
time gap: 0:00:00.006250
2021-04-06 01:00:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:31.467
lastevent: 2021-04-06 01:00:31.450, last ten sensor data: [('2021-04-06 01:00:30.910', 'D+000021.6'), ('2021-04-06 01:00:30.930', 'D+000021.8'), ('2021-04-06 01:00:30.950', 'D+000021.0'), ('2021-04-06 01:00:31.120', 'D+000017.0'), ('2021-04-06 01:00:31.140', 'D+000017.0'), ('2021-04-06 01:00:31.160', 'D+000016.4'), ('2021-04-06 01:00:31.180', 'D+000016.0'), ('2021-04-06 01:00:31.380', 'D+000006.6'), ('2021-04-06 01:00:31.400', 'D+000006.0'), ('2021-04-06 01:00:31.420', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [17.0, 16.4, 16.0, 6.6, 6.0, 5.6]
np.array X: [[17. ]
 [16.4]
 [16. ]
 [ 6.6]
 [ 6. ]
 [ 5.6]]
revised_weight: 13.0
2021-04-06 01:00:31.420: revising weight finished
revised_weight: 13.0 at 2021-04-06 01:00:31.420
plc_result: True
sendmessage: 20210406010031420,1,000056,000130
send message to PLC: 2021-04-06 01:00:31.478
time gap: 0:00:00.011311
2021-04-06 01:00:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:00:31: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db']
2021-04-06 01:00:31: [13069] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_00.db
select_plcdb_filename: b
2021-04-06 01:00:31: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:00:31: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:00:31: select done
2021-04-06 01:00:31: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:00:31: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:00:32: sendjson called, 10 records in httpPlcDataSender thread
2021-04-06 01:00:32: count: 10 in httpPlcDataSender thread
2021-04-06 01:00:32: D+: 10 in httpPlcDataSender thread
2021-04-06 01:00:32: D-: 0 in httpPlcDataSender thread
2021-04-06 01:00:32: S+: 0 in httpPlcDataSender thread
2021-04-06 01:00:32: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '14.6', 'sensorAt': '2021-04-06 01:00:23.030'}, {'value': '13.7', 'sensorAt': '2021-04-06 01:00:23.790'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:00:25.620'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:00:26.820'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:00:27.320'}, {'value': '11.1', 'sensorAt': '2021-04-06 01:00:27.810'}, {'value': '14.4', 'sensorAt': '2021-04-06 01:00:28.510'}, {'value': '10.1', 'sensorAt': '2021-04-06 01:00:29.250'}, {'value': '10.8', 'sensorAt': '2021-04-06 01:00:29.960'}, {'value': '13.0', 'sensorAt': '2021-04-06 01:00:31.420'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:00:23.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:23.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:25.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:26.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:27.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:27.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:28.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:29.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:29.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:31.420'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:00:32', 'collectDate': '2021-04-06 01:00:31', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '14.6', 'sensorAt': '2021-04-06 01:00:23.030'}, {'value': '13.7', 'sensorAt': '2021-04-06 01:00:23.790'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:00:25.620'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:00:26.820'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:00:27.320'}, {'value': '11.1', 'sensorAt': '2021-04-06 01:00:27.810'}, {'value': '14.4', 'sensorAt': '2021-04-06 01:00:28.510'}, {'value': '10.1', 'sensorAt': '2021-04-06 01:00:29.250'}, {'value': '10.8', 'sensorAt': '2021-04-06 01:00:29.960'}, {'value': '13.0', 'sensorAt': '2021-04-06 01:00:31.420'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:00:23.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:23.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:25.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:26.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:27.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:27.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:28.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:29.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:29.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:31.420'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:00:32: send http
2021-04-06 01:00:32: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:00:32.278
lastevent: 2021-04-06 01:00:32.264, last ten sensor data: [('2021-04-06 01:00:31.680', 'D+000004.4'), ('2021-04-06 01:00:31.840', 'D+000006.0'), ('2021-04-06 01:00:31.860', 'D+000005.8'), ('2021-04-06 01:00:31.880', 'D+000005.8'), ('2021-04-06 01:00:31.900', 'D+000005.6'), ('2021-04-06 01:00:31.960', 'D+000005.2'), ('2021-04-06 01:00:32.110', 'D+000005.6'), ('2021-04-06 01:00:32.130', 'D+000005.6'), ('2021-04-06 01:00:32.150', 'D+000005.2'), ('2021-04-06 01:00:32.170', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.2, 5.6, 5.6, 5.2, 5.6]
np.array X: [[5.6]
 [5.2]
 [5.6]
 [5.6]
 [5.2]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:00:32.170: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:00:32.170
plc_result: True
sendmessage: 20210406010032170,1,000056,000055
send message to PLC: 2021-04-06 01:00:32.285
time gap: 0:00:00.007235
2021-04-06 01:00:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
Backupserver True
2021-04-06 01:00:32: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:00:32: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:00:33.081
lastevent: 2021-04-06 01:00:33.067, last ten sensor data: [('2021-04-06 01:00:32.570', 'D+000005.0'), ('2021-04-06 01:00:32.590', 'D+000005.0'), ('2021-04-06 01:00:32.610', 'D+000005.2'), ('2021-04-06 01:00:32.630', 'D+000005.4'), ('2021-04-06 01:00:32.650', 'D+000005.4'), ('2021-04-06 01:00:32.810', 'D+000005.2'), ('2021-04-06 01:00:32.840', 'D+000004.8'), ('2021-04-06 01:00:32.860', 'D+000005.2'), ('2021-04-06 01:00:32.880', 'D+000005.4'), ('2021-04-06 01:00:33.070', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.2, 4.8, 5.2, 5.4, 4.4]
np.array X: [[5.4]
 [5.2]
 [4.8]
 [5.2]
 [5.4]
 [4.4]]
revised_weight: 4.8
2021-04-06 01:00:33.070: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:00:33.070
plc_result: True
sendmessage: 20210406010033070,1,000044,000048
send message to PLC: 2021-04-06 01:00:33.088
time gap: 0:00:00.007146
2021-04-06 01:00:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:33.516
lastevent: 2021-04-06 01:00:33.502, last ten sensor data: [0, 0, 0, ('2021-04-06 01:00:33.090', 'D+000004.4'), ('2021-04-06 01:00:33.110', 'D+000004.2'), ('2021-04-06 01:00:33.130', 'D+000004.2'), ('2021-04-06 01:00:33.320', 'D+000004.4'), ('2021-04-06 01:00:33.340', 'D+000004.6'), ('2021-04-06 01:00:33.360', 'D+000004.8'), ('2021-04-06 01:00:33.380', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 4.4, 4.6, 4.8, 4.6]
np.array X: [[4.2]
 [4.2]
 [4.4]
 [4.6]
 [4.8]
 [4.6]]
revised_weight: 4.7
2021-04-06 01:00:33.380: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:00:33.380
plc_result: True
sendmessage: 20210406010033380,1,000046,000047
send message to PLC: 2021-04-06 01:00:33.522
time gap: 0:00:00.006655
2021-04-06 01:00:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:00:35: httpScaleDataSender thread Timeout occurred
2021-04-06 01:00:35: [13690] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_00_50.db in httpScaleDataSender thread
2021-04-06 01:00:35: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:00:35: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_00_50.db
trigger sensor detected: 2021-04-06 01:00:35.325
lastevent: 2021-04-06 01:00:35.306, last ten sensor data: [('2021-04-06 01:00:34.840', 'D+000005.2'), ('2021-04-06 01:00:35.000', 'D+000005.2'), ('2021-04-06 01:00:35.030', 'D+000005.0'), ('2021-04-06 01:00:35.050', 'D+000004.8'), ('2021-04-06 01:00:35.070', 'D+000004.6'), ('2021-04-06 01:00:35.090', 'D+000004.4'), ('2021-04-06 01:00:35.250', 'D+000004.6'), ('2021-04-06 01:00:35.270', 'D+000004.8'), ('2021-04-06 01:00:35.290', 'D+000004.6'), ('2021-04-06 01:00:35.310', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.4, 4.6, 4.8, 4.6, 4.6]
np.array X: [[4.6]
 [4.4]
 [4.6]
 [4.8]
 [4.6]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:00:35.310: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:00:35.310
plc_result: True
sendmessage: 20210406010035310,1,000046,000046
send message to PLC: 2021-04-06 01:00:35.343
time gap: 0:00:00.018218
2021-04-06 01:00:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:00:35: select done
2021-04-06 01:00:35: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:00:35: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:00:35: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:00:35: count: 3000 in httpScaleDataSender thread
2021-04-06 01:00:35: D+: 0 in httpScaleDataSender thread
2021-04-06 01:00:35: D-: 0 in httpScaleDataSender thread
2021-04-06 01:00:35: S+: 3000 in httpScaleDataSender thread
2021-04-06 01:00:35: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:00:36.308
lastevent: 2021-04-06 01:00:36.295, last ten sensor data: [('2021-04-06 01:00:35.790', 'D+000004.2'), ('2021-04-06 01:00:35.950', 'D+000004.0'), ('2021-04-06 01:00:35.970', 'D+000004.0'), ('2021-04-06 01:00:35.990', 'D+000004.8'), ('2021-04-06 01:00:36.010', 'D+000005.0'), ('2021-04-06 01:00:36.170', 'D+000004.8'), ('2021-04-06 01:00:36.190', 'D+000004.4'), ('2021-04-06 01:00:36.210', 'D+000004.6'), ('2021-04-06 01:00:36.230', 'D+000004.6'), ('2021-04-06 01:00:36.250', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.8, 4.4, 4.6, 4.6, 4.8]
np.array X: [[5. ]
 [4.8]
 [4.4]
 [4.6]
 [4.6]
 [4.8]]
revised_weight: 4.8
2021-04-06 01:00:36.250: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:00:36.250
plc_result: True
sendmessage: 20210406010036250,1,000048,000048
send message to PLC: 2021-04-06 01:00:36.316
time gap: 0:00:00.008364
2021-04-06 01:00:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:36.934
lastevent: 2021-04-06 01:00:36.927, last ten sensor data: [('2021-04-06 01:00:36.430', 'D+000004.6'), ('2021-04-06 01:00:36.450', 'D+000004.6'), ('2021-04-06 01:00:36.470', 'D+000004.6'), ('2021-04-06 01:00:36.490', 'D+000004.8'), ('2021-04-06 01:00:36.670', 'D+000009.8'), ('2021-04-06 01:00:36.690', 'D+000010.0'), ('2021-04-06 01:00:36.710', 'D+000011.6'), ('2021-04-06 01:00:36.730', 'D+000012.2'), ('2021-04-06 01:00:36.750', 'D+000013.4'), ('2021-04-06 01:00:36.920', 'D+000022.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.8, 10.0, 11.6, 12.2, 13.4, 22.2]
np.array X: [[ 9.8]
 [10. ]
 [11.6]
 [12.2]
 [13.4]
 [22.2]]
revised_weight: 17.3
2021-04-06 01:00:36.920: revising weight finished
revised_weight: 17.3 at 2021-04-06 01:00:36.920
plc_result: False
sendmessage: 20210406010036920,0,000222,000173
send message to PLC: 2021-04-06 01:00:36.941
time gap: 0:00:00.007408
2021-04-06 01:00:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:00:37: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:00:37: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:00:37: send http
2021-04-06 01:00:37: response status code: 200
2021-04-06 01:00:37: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:00:37: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:00:37: select done
2021-04-06 01:00:37: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:00:37: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:00:37: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:00:37: count: 6 in httpPlcDataSender thread
2021-04-06 01:00:37: D+: 6 in httpPlcDataSender thread
2021-04-06 01:00:37: D-: 0 in httpPlcDataSender thread
2021-04-06 01:00:37: S+: 0 in httpPlcDataSender thread
2021-04-06 01:00:37: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.5', 'sensorAt': '2021-04-06 01:00:32.170'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:00:33.070'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:00:33.380'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:00:35.310'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:00:36.250'}, {'value': '17.3', 'sensorAt': '2021-04-06 01:00:36.920'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:00:32.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:33.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:33.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:35.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:36.250'}, {'value': 0, 'sensorAt': '2021-04-06 01:00:36.920'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:00:37', 'collectDate': '2021-04-06 01:00:36', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.5', 'sensorAt': '2021-04-06 01:00:32.170'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:00:33.070'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:00:33.380'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:00:35.310'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:00:36.250'}, {'value': '17.3', 'sensorAt': '2021-04-06 01:00:36.920'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:00:32.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:33.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:33.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:35.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:36.250'}, {'value': 0, 'sensorAt': '2021-04-06 01:00:36.920'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:00:37: send http
2021-04-06 01:00:37: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:00:37: got 'update query' results  in httpScaleDataSender thread
Backupserver True
2021-04-06 01:00:37: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:00:38: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:00:39.687
lastevent: 2021-04-06 01:00:39.674, last ten sensor data: [('2021-04-06 01:00:39.100', 'D+000001.2'), ('2021-04-06 01:00:39.270', 'D+000001.8'), ('2021-04-06 01:00:39.290', 'D+000002.0'), ('2021-04-06 01:00:39.310', 'D+000002.0'), ('2021-04-06 01:00:39.330', 'D+000002.0'), ('2021-04-06 01:00:39.350', 'D+000002.0'), ('2021-04-06 01:00:39.530', 'D+000002.2'), ('2021-04-06 01:00:39.550', 'D+000002.2'), ('2021-04-06 01:00:39.570', 'D+000002.4'), ('2021-04-06 01:00:39.590', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.0, 2.2, 2.2, 2.4, 2.2]
np.array X: [[2. ]
 [2. ]
 [2.2]
 [2.2]
 [2.4]
 [2.2]]
revised_weight: 2.0
2021-04-06 01:00:39.590: revising weight finished
revised_weight: 2.0 at 2021-04-06 01:00:39.590
plc_result: True
sendmessage: 20210406010039590,1,000022,000020
send message to PLC: 2021-04-06 01:00:39.694
time gap: 0:00:00.006869
2021-04-06 01:00:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:41.057
lastevent: 2021-04-06 01:00:41.042, last ten sensor data: [('2021-04-06 01:00:40.730', 'D+000004.0'), ('2021-04-06 01:00:40.750', 'D+000004.4'), ('2021-04-06 01:00:40.770', 'D+000004.4'), ('2021-04-06 01:00:40.790', 'D+000004.0'), ('2021-04-06 01:00:40.810', 'D+000004.0'), ('2021-04-06 01:00:40.830', 'D+000004.4'), ('2021-04-06 01:00:40.990', 'D+000005.2'), ('2021-04-06 01:00:41.010', 'D+000005.4'), ('2021-04-06 01:00:41.030', 'D+000005.0'), ('2021-04-06 01:00:41.050', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.4, 5.2, 5.4, 5.0, 5.0]
np.array X: [[4. ]
 [4.4]
 [5.2]
 [5.4]
 [5. ]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:00:41.050: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:00:41.050
plc_result: True
sendmessage: 20210406010041050,1,000050,000051
send message to PLC: 2021-04-06 01:00:41.064
time gap: 0:00:00.006914
2021-04-06 01:00:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:00:43: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:00:43: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:00:43: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:00:43: select done
2021-04-06 01:00:43: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:00:43: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:00:43: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:00:43: count: 2 in httpPlcDataSender thread
2021-04-06 01:00:43: D+: 2 in httpPlcDataSender thread
2021-04-06 01:00:43: D-: 0 in httpPlcDataSender thread
2021-04-06 01:00:43: S+: 0 in httpPlcDataSender thread
2021-04-06 01:00:43: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.0', 'sensorAt': '2021-04-06 01:00:39.590'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:00:41.050'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:00:39.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:41.050'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:00:43', 'collectDate': '2021-04-06 01:00:41', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.0', 'sensorAt': '2021-04-06 01:00:39.590'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:00:41.050'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:00:39.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:41.050'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:00:43: send http
2021-04-06 01:00:43: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:00:43: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:00:43: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:00:43.830
lastevent: 2021-04-06 01:00:43.814, last ten sensor data: [('2021-04-06 01:00:43.330', 'D+000002.0'), ('2021-04-06 01:00:43.350', 'D+000002.0'), ('2021-04-06 01:00:43.370', 'D+000001.8'), ('2021-04-06 01:00:43.550', 'D+000001.6'), ('2021-04-06 01:00:43.570', 'D+000001.8'), ('2021-04-06 01:00:43.590', 'D+000002.0'), ('2021-04-06 01:00:43.610', 'D+000001.8'), ('2021-04-06 01:00:43.790', 'D+000002.0'), ('2021-04-06 01:00:43.810', 'D+000001.6'), ('2021-04-06 01:00:43.830', 'D+000001.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.0, 1.8, 2.0, 1.6, 1.4]
np.array X: [[1.8]
 [2. ]
 [1.8]
 [2. ]
 [1.6]
 [1.4]]
revised_weight: 1.7
2021-04-06 01:00:43.830: revising weight finished
revised_weight: 1.7 at 2021-04-06 01:00:43.830
plc_result: True
sendmessage: 20210406010043830,1,000014,000017
send message to PLC: 2021-04-06 01:00:43.837
time gap: 0:00:00.006445
2021-04-06 01:00:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:00:47: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:00:47: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:00:48: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_00_50.db
2021-04-06 01:00:48: select done
2021-04-06 01:00:48: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:00:48: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:00:48: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:00:48: count: 3000 in httpScaleDataSender thread
2021-04-06 01:00:48: D+: 44 in httpScaleDataSender thread
2021-04-06 01:00:48: D-: 0 in httpScaleDataSender thread
2021-04-06 01:00:48: S+: 2956 in httpScaleDataSender thread
2021-04-06 01:00:48: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
2021-04-06 01:00:48: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:00:48: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:00:48: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:00:48: select done
2021-04-06 01:00:48: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:00:48: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:00:48: sendjson called, 1 records in httpPlcDataSender thread
2021-04-06 01:00:48: count: 1 in httpPlcDataSender thread
2021-04-06 01:00:48: D+: 1 in httpPlcDataSender thread
2021-04-06 01:00:48: D-: 0 in httpPlcDataSender thread
2021-04-06 01:00:48: S+: 0 in httpPlcDataSender thread
2021-04-06 01:00:48: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.7', 'sensorAt': '2021-04-06 01:00:43.830'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:00:43.830'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:00:48', 'collectDate': '2021-04-06 01:00:43', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.7', 'sensorAt': '2021-04-06 01:00:43.830'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:00:43.830'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:00:49: send http
2021-04-06 01:00:49: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:00:49: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:00:49: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:00:50: send http
2021-04-06 01:00:50: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:00:50: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:00:50: got 'update query' results  in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:00:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:00:54: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:00:54: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:00:54: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:00:54: select done
2021-04-06 01:00:54: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:00:54: No Data remains in httpPlcDataSender thread
2021-04-06 01:00:54: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:00:54: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:00:54: current db filename:  in httpPlcDataSender thread
2021-04-06 01:00:54: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:00:56.275
lastevent: 2021-04-06 01:00:56.270, last ten sensor data: [('2021-04-06 01:00:55.600', 'D+000002.4'), ('2021-04-06 01:00:55.790', 'D+000002.0'), ('2021-04-06 01:00:55.810', 'D+000002.4'), ('2021-04-06 01:00:55.830', 'D+000002.4'), ('2021-04-06 01:00:55.850', 'D+000002.0'), ('2021-04-06 01:00:56.030', 'D+000002.8'), ('2021-04-06 01:00:56.050', 'D+000002.6'), ('2021-04-06 01:00:56.070', 'D+000002.6'), ('2021-04-06 01:00:56.090', 'D+000002.8'), ('2021-04-06 01:00:56.270', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.8, 2.6, 2.6, 2.8, 2.8]
np.array X: [[2. ]
 [2.8]
 [2.6]
 [2.6]
 [2.8]
 [2.8]]
revised_weight: 2.8
2021-04-06 01:00:56.270: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:00:56.270
plc_result: True
sendmessage: 20210406010056270,1,000028,000028
send message to PLC: 2021-04-06 01:00:56.288
time gap: 0:00:00.012554
2021-04-06 01:00:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:56.862
lastevent: 2021-04-06 01:00:56.858, last ten sensor data: [('2021-04-06 01:00:56.510', 'D+000002.6'), ('2021-04-06 01:00:56.530', 'D+000003.0'), ('2021-04-06 01:00:56.550', 'D+000002.8'), ('2021-04-06 01:00:56.570', 'D+000003.0'), ('2021-04-06 01:00:56.590', 'D+000003.0'), ('2021-04-06 01:00:56.760', 'D+000003.4'), ('2021-04-06 01:00:56.780', 'D+000003.6'), ('2021-04-06 01:00:56.800', 'D+000003.8'), ('2021-04-06 01:00:56.820', 'D+000003.8'), ('2021-04-06 01:00:56.840', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.4, 3.6, 3.8, 3.8, 4.2]
np.array X: [[3. ]
 [3.4]
 [3.6]
 [3.8]
 [3.8]
 [4.2]]
revised_weight: 4.0
2021-04-06 01:00:56.840: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:00:56.840
plc_result: True
sendmessage: 20210406010056840,1,000042,000040
send message to PLC: 2021-04-06 01:00:56.873
time gap: 0:00:00.011125
2021-04-06 01:00:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:57.781
lastevent: 2021-04-06 01:00:57.776, last ten sensor data: [('2021-04-06 01:00:57.300', 'D+000003.8'), ('2021-04-06 01:00:57.320', 'D+000003.8'), ('2021-04-06 01:00:57.480', 'D+000006.0'), ('2021-04-06 01:00:57.500', 'D+000005.8'), ('2021-04-06 01:00:57.520', 'D+000005.8'), ('2021-04-06 01:00:57.540', 'D+000006.2'), ('2021-04-06 01:00:57.560', 'D+000006.2'), ('2021-04-06 01:00:57.740', 'D+000006.6'), ('2021-04-06 01:00:57.760', 'D+000006.6'), ('2021-04-06 01:00:57.780', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.2, 6.2, 6.6, 6.6, 6.8]
np.array X: [[5.8]
 [6.2]
 [6.2]
 [6.6]
 [6.6]
 [6.8]]
revised_weight: 6.5
2021-04-06 01:00:57.780: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:00:57.780
plc_result: True
sendmessage: 20210406010057780,1,000068,000065
send message to PLC: 2021-04-06 01:00:57.793
time gap: 0:00:00.012038
2021-04-06 01:00:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:00:59.978
lastevent: 2021-04-06 01:00:59.970, last ten sensor data: [('2021-04-06 01:00:59.510', 'D+000002.6'), ('2021-04-06 01:00:59.690', 'D+000002.6'), ('2021-04-06 01:00:59.710', 'D+000002.4'), ('2021-04-06 01:00:59.730', 'D+000002.4'), ('2021-04-06 01:00:59.750', 'D+000002.6'), ('2021-04-06 01:00:59.770', 'D+000002.8'), ('2021-04-06 01:00:59.930', 'D+000002.8'), ('2021-04-06 01:00:59.950', 'D+000002.6'), ('2021-04-06 01:00:59.970', 'D+000002.6'), ('2021-04-06 01:00:59.990', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.8, 2.8, 2.6, 2.6, 2.6]
np.array X: [[2.6]
 [2.8]
 [2.8]
 [2.6]
 [2.6]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:00:59.990: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:00:59.990
plc_result: True
sendmessage: 20210406010059990,1,000026,000025
send message to PLC: 2021-04-06 01:00:59.989
time gap: 0:00:00.010916
2021-04-06 01:00:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:01:00: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:01:00: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:01:00: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_00_50.db
2021-04-06 01:01:00: select done
2021-04-06 01:01:00: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:01:00: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:01:00: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:01:00: count: 3000 in httpScaleDataSender thread
2021-04-06 01:01:00: D+: 112 in httpScaleDataSender thread
2021-04-06 01:01:00: D-: 0 in httpScaleDataSender thread
2021-04-06 01:01:00: S+: 2888 in httpScaleDataSender thread
2021-04-06 01:01:00: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:01:01.494
lastevent: 2021-04-06 01:01:01.483, last ten sensor data: [('2021-04-06 01:01:01.160', 'D+000002.8'), ('2021-04-06 01:01:01.180', 'D+000003.0'), ('2021-04-06 01:01:01.200', 'D+000002.8'), ('2021-04-06 01:01:01.220', 'D+000002.8'), ('2021-04-06 01:01:01.240', 'D+000003.0'), ('2021-04-06 01:01:01.400', 'D+000002.8'), ('2021-04-06 01:01:01.420', 'D+000002.8'), ('2021-04-06 01:01:01.440', 'D+000003.0'), ('2021-04-06 01:01:01.460', 'D+000003.0'), ('2021-04-06 01:01:01.480', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 2.8, 3.0, 3.0, 3.0]
np.array X: [[3. ]
 [2.8]
 [2.8]
 [3. ]
 [3. ]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:01:01.480: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:01:01.480
plc_result: True
sendmessage: 20210406010101480,1,000030,000029
send message to PLC: 2021-04-06 01:01:01.507
time gap: 0:00:00.012813
2021-04-06 01:01:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:02.573
lastevent: 2021-04-06 01:01:02.561, last ten sensor data: [('2021-04-06 01:01:01.960', 'D+000002.8'), ('2021-04-06 01:01:02.140', 'D+000002.6'), ('2021-04-06 01:01:02.160', 'D+000002.8'), ('2021-04-06 01:01:02.180', 'D+000002.8'), ('2021-04-06 01:01:02.200', 'D+000002.8'), ('2021-04-06 01:01:02.220', 'D+000002.8'), ('2021-04-06 01:01:02.390', 'D+000003.0'), ('2021-04-06 01:01:02.410', 'D+000003.2'), ('2021-04-06 01:01:02.430', 'D+000003.4'), ('2021-04-06 01:01:02.450', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 3.0, 3.2, 3.4, 3.6]
np.array X: [[2.8]
 [2.8]
 [3. ]
 [3.2]
 [3.4]
 [3.6]]
revised_weight: 3.5
2021-04-06 01:01:02.450: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:01:02.450
plc_result: True
sendmessage: 20210406010102450,1,000036,000035
send message to PLC: 2021-04-06 01:01:02.587
time gap: 0:00:00.013981
2021-04-06 01:01:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:03.242
lastevent: 2021-04-06 01:01:03.231, last ten sensor data: [('2021-04-06 01:01:02.870', 'D+000003.8'), ('2021-04-06 01:01:02.890', 'D+000003.6'), ('2021-04-06 01:01:02.910', 'D+000003.6'), ('2021-04-06 01:01:02.930', 'D+000003.6'), ('2021-04-06 01:01:02.950', 'D+000003.6'), ('2021-04-06 01:01:03.110', 'D+000006.8'), ('2021-04-06 01:01:03.130', 'D+000006.6'), ('2021-04-06 01:01:03.150', 'D+000006.4'), ('2021-04-06 01:01:03.170', 'D+000006.2'), ('2021-04-06 01:01:03.190', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 6.8, 6.6, 6.4, 6.2, 6.4]
np.array X: [[3.6]
 [6.8]
 [6.6]
 [6.4]
 [6.2]
 [6.4]]
revised_weight: 7.3
2021-04-06 01:01:03.190: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:01:03.190
plc_result: True
sendmessage: 20210406010103190,1,000064,000073
send message to PLC: 2021-04-06 01:01:03.249
time gap: 0:00:00.006209
2021-04-06 01:01:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:03.495
lastevent: 2021-04-06 01:01:03.486, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:01:03.350', 'D+000007.4'), ('2021-04-06 01:01:03.370', 'D+000007.6'), ('2021-04-06 01:01:03.390', 'D+000007.6'), ('2021-04-06 01:01:03.410', 'D+000008.2'), ('2021-04-06 01:01:03.430', 'D+000008.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 7.4, 7.6, 7.6, 8.2, 8.4]
np.array X: [[0. ]
 [7.4]
 [7.6]
 [7.6]
 [8.2]
 [8.4]]
revised_weight: 7.4
2021-04-06 01:01:03.430: revising weight finished
revised_weight: 7.4 at 2021-04-06 01:01:03.430
plc_result: True
sendmessage: 20210406010103430,1,000084,000074
send message to PLC: 2021-04-06 01:01:03.506
time gap: 0:00:00.011332
2021-04-06 01:01:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:01:04: send http
2021-04-06 01:01:04: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:01:04: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:01:04: got 'update query' results  in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:01:04.778
lastevent: 2021-04-06 01:01:04.767, last ten sensor data: [('2021-04-06 01:01:04.110', 'D+000006.0'), ('2021-04-06 01:01:04.130', 'D+000005.8'), ('2021-04-06 01:01:04.150', 'D+000006.2'), ('2021-04-06 01:01:04.330', 'D+000006.2'), ('2021-04-06 01:01:04.350', 'D+000006.0'), ('2021-04-06 01:01:04.370', 'D+000005.6'), ('2021-04-06 01:01:04.390', 'D+000005.6'), ('2021-04-06 01:01:04.590', 'D+000004.4'), ('2021-04-06 01:01:04.610', 'D+000004.2'), ('2021-04-06 01:01:04.630', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 5.6, 5.6, 4.4, 4.2, 4.2]
np.array X: [[6. ]
 [5.6]
 [5.6]
 [4.4]
 [4.2]
 [4.2]]
revised_weight: 5.0
2021-04-06 01:01:04.630: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:01:04.630
plc_result: True
sendmessage: 20210406010104630,1,000042,000050
send message to PLC: 2021-04-06 01:01:04.801
time gap: 0:00:00.023207
2021-04-06 01:01:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:06.226
lastevent: 2021-04-06 01:01:06.214, last ten sensor data: [('2021-04-06 01:01:05.600', 'D+000003.0'), ('2021-04-06 01:01:05.620', 'D+000003.0'), ('2021-04-06 01:01:05.800', 'D+000002.4'), ('2021-04-06 01:01:05.820', 'D+000002.4'), ('2021-04-06 01:01:05.840', 'D+000002.8'), ('2021-04-06 01:01:05.860', 'D+000003.0'), ('2021-04-06 01:01:06.050', 'D+000003.2'), ('2021-04-06 01:01:06.070', 'D+000003.0'), ('2021-04-06 01:01:06.090', 'D+000003.0'), ('2021-04-06 01:01:06.110', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.0, 3.2, 3.0, 3.0, 3.2]
np.array X: [[2.8]
 [3. ]
 [3.2]
 [3. ]
 [3. ]
 [3.2]]
revised_weight: 3.2
2021-04-06 01:01:06.110: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:01:06.110
plc_result: True
sendmessage: 20210406010106110,1,000032,000032
send message to PLC: 2021-04-06 01:01:06.238
time gap: 0:00:00.012082
2021-04-06 01:01:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:08.023
lastevent: 2021-04-06 01:01:08.015, last ten sensor data: [('2021-04-06 01:01:07.540', 'D+000004.2'), ('2021-04-06 01:01:07.560', 'D+000004.4'), ('2021-04-06 01:01:07.580', 'D+000004.6'), ('2021-04-06 01:01:07.750', 'D+000007.4'), ('2021-04-06 01:01:07.770', 'D+000007.6'), ('2021-04-06 01:01:07.790', 'D+000007.8'), ('2021-04-06 01:01:07.970', 'D+000009.4'), ('2021-04-06 01:01:07.990', 'D+000011.8'), ('2021-04-06 01:01:08.010', 'D+000011.8'), ('2021-04-06 01:01:08.030', 'D+000009.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.6, 7.8, 9.4, 11.8, 11.8, 9.6]
np.array X: [[ 7.6]
 [ 7.8]
 [ 9.4]
 [11.8]
 [11.8]
 [ 9.6]]
revised_weight: 9.1
2021-04-06 01:01:08.030: revising weight finished
revised_weight: 9.1 at 2021-04-06 01:01:08.030
plc_result: True
sendmessage: 20210406010108030,1,000096,000091
send message to PLC: 2021-04-06 01:01:08.035
time gap: 0:00:00.012222
2021-04-06 01:01:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:09.595
lastevent: 2021-04-06 01:01:09.584, last ten sensor data: [('2021-04-06 01:01:09.170', 'D+000003.0'), ('2021-04-06 01:01:09.190', 'D+000003.0'), ('2021-04-06 01:01:09.210', 'D+000003.0'), ('2021-04-06 01:01:09.230', 'D+000003.4'), ('2021-04-06 01:01:09.250', 'D+000003.4'), ('2021-04-06 01:01:09.430', 'D+000004.0'), ('2021-04-06 01:01:09.450', 'D+000003.8'), ('2021-04-06 01:01:09.470', 'D+000003.8'), ('2021-04-06 01:01:09.490', 'D+000003.4'), ('2021-04-06 01:01:09.510', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.0, 3.8, 3.8, 3.4, 3.0]
np.array X: [[3.4]
 [4. ]
 [3.8]
 [3.8]
 [3.4]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:01:09.510: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:01:09.510
plc_result: True
sendmessage: 20210406010109510,1,000030,000029
send message to PLC: 2021-04-06 01:01:09.607
time gap: 0:00:00.012337
2021-04-06 01:01:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:10.549
lastevent: 2021-04-06 01:01:10.535, last ten sensor data: [('2021-04-06 01:01:10.000', 'D+000002.8'), ('2021-04-06 01:01:10.160', 'D+000003.2'), ('2021-04-06 01:01:10.180', 'D+000003.2'), ('2021-04-06 01:01:10.200', 'D+000003.2'), ('2021-04-06 01:01:10.220', 'D+000003.6'), ('2021-04-06 01:01:10.400', 'D+000004.8'), ('2021-04-06 01:01:10.420', 'D+000005.2'), ('2021-04-06 01:01:10.440', 'D+000005.0'), ('2021-04-06 01:01:10.460', 'D+000004.2'), ('2021-04-06 01:01:10.480', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.8, 5.2, 5.0, 4.2, 4.4]
np.array X: [[3.6]
 [4.8]
 [5.2]
 [5. ]
 [4.2]
 [4.4]]
revised_weight: 4.6
2021-04-06 01:01:10.480: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:01:10.480
plc_result: True
sendmessage: 20210406010110480,1,000044,000046
send message to PLC: 2021-04-06 01:01:10.562
time gap: 0:00:00.012222
2021-04-06 01:01:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:11.732
lastevent: 2021-04-06 01:01:11.724, last ten sensor data: [('2021-04-06 01:01:11.190', 'D+000003.6'), ('2021-04-06 01:01:11.210', 'D+000003.6'), ('2021-04-06 01:01:11.380', 'D+000004.0'), ('2021-04-06 01:01:11.400', 'D+000004.0'), ('2021-04-06 01:01:11.420', 'D+000004.2'), ('2021-04-06 01:01:11.440', 'D+000004.2'), ('2021-04-06 01:01:11.630', 'D+000004.8'), ('2021-04-06 01:01:11.650', 'D+000004.8'), ('2021-04-06 01:01:11.670', 'D+000004.6'), ('2021-04-06 01:01:11.690', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 4.8, 4.8, 4.6, 4.6]
np.array X: [[4.2]
 [4.2]
 [4.8]
 [4.8]
 [4.6]
 [4.6]]
revised_weight: 4.7
2021-04-06 01:01:11.690: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:01:11.690
plc_result: True
sendmessage: 20210406010111690,1,000046,000047
send message to PLC: 2021-04-06 01:01:11.743
time gap: 0:00:00.011736
2021-04-06 01:01:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:12.837
lastevent: 2021-04-06 01:01:12.826, last ten sensor data: [('2021-04-06 01:01:12.430', 'D+000003.2'), ('2021-04-06 01:01:12.590', 'D+000004.6'), ('2021-04-06 01:01:12.610', 'D+000004.4'), ('2021-04-06 01:01:12.630', 'D+000004.6'), ('2021-04-06 01:01:12.650', 'D+000004.6'), ('2021-04-06 01:01:12.670', 'D+000005.0'), ('2021-04-06 01:01:12.710', 'D+000005.0'), ('2021-04-06 01:01:12.730', 'D+000004.8'), ('2021-04-06 01:01:12.750', 'D+000005.0'), ('2021-04-06 01:01:12.770', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.0, 5.0, 4.8, 5.0, 5.0]
np.array X: [[4.6]
 [5. ]
 [5. ]
 [4.8]
 [5. ]
 [5. ]]
revised_weight: 4.8
2021-04-06 01:01:12.770: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:01:12.770
plc_result: True
sendmessage: 20210406010112770,1,000050,000048
send message to PLC: 2021-04-06 01:01:12.849
time gap: 0:00:00.011497
2021-04-06 01:01:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:14.255
lastevent: 2021-04-06 01:01:14.239, last ten sensor data: [('2021-04-06 01:01:13.750', 'D+000004.2'), ('2021-04-06 01:01:13.920', 'D+000004.4'), ('2021-04-06 01:01:13.940', 'D+000004.4'), ('2021-04-06 01:01:13.960', 'D+000004.6'), ('2021-04-06 01:01:13.980', 'D+000004.8'), ('2021-04-06 01:01:14.000', 'D+000004.6'), ('2021-04-06 01:01:14.180', 'D+000005.6'), ('2021-04-06 01:01:14.200', 'D+000005.2'), ('2021-04-06 01:01:14.220', 'D+000005.2'), ('2021-04-06 01:01:14.240', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.6, 5.6, 5.2, 5.2, 5.4]
np.array X: [[4.8]
 [4.6]
 [5.6]
 [5.2]
 [5.2]
 [5.4]]
revised_weight: 5.2
2021-04-06 01:01:14.240: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:01:14.240
plc_result: True
sendmessage: 20210406010114240,1,000054,000052
send message to PLC: 2021-04-06 01:01:14.270
time gap: 0:00:00.015116
2021-04-06 01:01:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:01:14: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:01:14: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:01:14: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_00_50.db
2021-04-06 01:01:14: select done
2021-04-06 01:01:14: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:01:14: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:01:15: sendjson called, 2785 records in httpScaleDataSender thread
2021-04-06 01:01:15: count: 2785 in httpScaleDataSender thread
2021-04-06 01:01:15: D+: 401 in httpScaleDataSender thread
2021-04-06 01:01:15: D-: 0 in httpScaleDataSender thread
2021-04-06 01:01:15: S+: 2384 in httpScaleDataSender thread
2021-04-06 01:01:15: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:01:16.315
lastevent: 2021-04-06 01:01:16.303, last ten sensor data: [('2021-04-06 01:01:15.810', 'D+000003.0'), ('2021-04-06 01:01:15.830', 'D+000003.0'), ('2021-04-06 01:01:16.020', 'D+000003.6'), ('2021-04-06 01:01:16.040', 'D+000003.6'), ('2021-04-06 01:01:16.060', 'D+000003.6'), ('2021-04-06 01:01:16.080', 'D+000003.6'), ('2021-04-06 01:01:16.250', 'D+000003.8'), ('2021-04-06 01:01:16.270', 'D+000003.8'), ('2021-04-06 01:01:16.290', 'D+000003.8'), ('2021-04-06 01:01:16.310', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.8, 3.8, 3.8, 4.0]
np.array X: [[3.6]
 [3.6]
 [3.8]
 [3.8]
 [3.8]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:01:16.310: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:01:16.310
plc_result: True
sendmessage: 20210406010116310,1,000040,000040
send message to PLC: 2021-04-06 01:01:16.327
time gap: 0:00:00.011304
2021-04-06 01:01:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:17.432
lastevent: 2021-04-06 01:01:17.418, last ten sensor data: [('2021-04-06 01:01:16.810', 'D+000003.8'), ('2021-04-06 01:01:16.970', 'D+000003.4'), ('2021-04-06 01:01:16.990', 'D+000003.4'), ('2021-04-06 01:01:17.010', 'D+000003.6'), ('2021-04-06 01:01:17.030', 'D+000003.6'), ('2021-04-06 01:01:17.050', 'D+000003.6'), ('2021-04-06 01:01:17.230', 'D+000003.8'), ('2021-04-06 01:01:17.250', 'D+000003.6'), ('2021-04-06 01:01:17.270', 'D+000003.6'), ('2021-04-06 01:01:17.290', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.8, 3.6, 3.6, 4.0]
np.array X: [[3.6]
 [3.6]
 [3.8]
 [3.6]
 [3.6]
 [4. ]]
revised_weight: 3.9
2021-04-06 01:01:17.290: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:01:17.290
plc_result: True
sendmessage: 20210406010117290,1,000040,000039
send message to PLC: 2021-04-06 01:01:17.443
time gap: 0:00:00.011300
2021-04-06 01:01:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:01:17: send http
2021-04-06 01:01:17: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:01:17: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:01:17: got 'update query' results  in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:01:20.271
lastevent: 2021-04-06 01:01:20.266, last ten sensor data: [('2021-04-06 01:01:19.720', 'D+000003.0'), ('2021-04-06 01:01:19.910', 'D+000003.6'), ('2021-04-06 01:01:19.930', 'D+000003.8'), ('2021-04-06 01:01:19.950', 'D+000004.2'), ('2021-04-06 01:01:19.970', 'D+000005.2'), ('2021-04-06 01:01:20.150', 'D+000011.6'), ('2021-04-06 01:01:20.170', 'D+000009.6'), ('2021-04-06 01:01:20.190', 'D+000009.6'), ('2021-04-06 01:01:20.210', 'D+000012.8'), ('2021-04-06 01:01:20.230', 'D+000014.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 11.6, 9.6, 9.6, 12.8, 14.8]
np.array X: [[ 5.2]
 [11.6]
 [ 9.6]
 [ 9.6]
 [12.8]
 [14.8]]
revised_weight: 11.3
2021-04-06 01:01:20.230: revising weight finished
revised_weight: 11.3 at 2021-04-06 01:01:20.230
plc_result: True
sendmessage: 20210406010120230,1,000148,000113
send message to PLC: 2021-04-06 01:01:20.277
time gap: 0:00:00.006155
2021-04-06 01:01:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:22.875
lastevent: 2021-04-06 01:01:22.858, last ten sensor data: [('2021-04-06 01:01:22.390', 'D+000003.0'), ('2021-04-06 01:01:22.410', 'D+000003.2'), ('2021-04-06 01:01:22.430', 'D+000004.2'), ('2021-04-06 01:01:22.580', 'D+000006.6'), ('2021-04-06 01:01:22.620', 'D+000008.0'), ('2021-04-06 01:01:22.640', 'D+000008.2'), ('2021-04-06 01:01:22.660', 'D+000008.6'), ('2021-04-06 01:01:22.840', 'D+000019.4'), ('2021-04-06 01:01:22.860', 'D+000019.8'), ('2021-04-06 01:01:22.880', 'D+000025.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.0, 8.2, 8.6, 19.4, 19.8, 25.8]
np.array X: [[ 8. ]
 [ 8.2]
 [ 8.6]
 [19.4]
 [19.8]
 [25.8]]
revised_weight: 19.5
2021-04-06 01:01:22.880: revising weight finished
revised_weight: 19.5 at 2021-04-06 01:01:22.880
plc_result: False
sendmessage: 20210406010122880,0,000258,000195
send message to PLC: 2021-04-06 01:01:22.886
time gap: 0:00:00.011510
2021-04-06 01:01:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:24.045
lastevent: 2021-04-06 01:01:24.032, last ten sensor data: [('2021-04-06 01:01:23.390', 'D+000010.6'), ('2021-04-06 01:01:23.570', 'D+000004.6'), ('2021-04-06 01:01:23.590', 'D+000004.0'), ('2021-04-06 01:01:23.610', 'D+000003.8'), ('2021-04-06 01:01:23.630', 'D+000003.8'), ('2021-04-06 01:01:23.650', 'D+000003.8'), ('2021-04-06 01:01:23.810', 'D+000004.8'), ('2021-04-06 01:01:23.830', 'D+000004.8'), ('2021-04-06 01:01:23.850', 'D+000005.0'), ('2021-04-06 01:01:23.870', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 4.8, 4.8, 5.0, 5.2]
np.array X: [[3.8]
 [3.8]
 [4.8]
 [4.8]
 [5. ]
 [5.2]]
revised_weight: 4.8
2021-04-06 01:01:23.870: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:01:23.870
plc_result: True
sendmessage: 20210406010123870,1,000052,000048
send message to PLC: 2021-04-06 01:01:24.057
time gap: 0:00:00.011379
2021-04-06 01:01:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:25.714
lastevent: 2021-04-06 01:01:25.697, last ten sensor data: [('2021-04-06 01:01:25.090', 'D+000003.8'), ('2021-04-06 01:01:25.280', 'D+000003.2'), ('2021-04-06 01:01:25.300', 'D+000003.2'), ('2021-04-06 01:01:25.320', 'D+000003.2'), ('2021-04-06 01:01:25.340', 'D+000003.6'), ('2021-04-06 01:01:25.510', 'D+000004.0'), ('2021-04-06 01:01:25.530', 'D+000003.8'), ('2021-04-06 01:01:25.550', 'D+000003.8'), ('2021-04-06 01:01:25.570', 'D+000003.6'), ('2021-04-06 01:01:25.590', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 3.8, 3.8, 3.6, 3.4]
np.array X: [[3.6]
 [4. ]
 [3.8]
 [3.8]
 [3.6]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:01:25.590: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:01:25.590
plc_result: True
sendmessage: 20210406010125590,1,000034,000034
send message to PLC: 2021-04-06 01:01:25.730
time gap: 0:00:00.015451
2021-04-06 01:01:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:26.304
lastevent: 2021-04-06 01:01:26.295, last ten sensor data: [('2021-04-06 01:01:25.840', 'D+000003.0'), ('2021-04-06 01:01:26.000', 'D+000003.4'), ('2021-04-06 01:01:26.020', 'D+000003.2'), ('2021-04-06 01:01:26.040', 'D+000003.4'), ('2021-04-06 01:01:26.060', 'D+000003.4'), ('2021-04-06 01:01:26.080', 'D+000003.4'), ('2021-04-06 01:01:26.240', 'D+000003.8'), ('2021-04-06 01:01:26.260', 'D+000003.8'), ('2021-04-06 01:01:26.280', 'D+000003.6'), ('2021-04-06 01:01:26.300', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.4, 3.8, 3.8, 3.6, 3.2]
np.array X: [[3.4]
 [3.4]
 [3.8]
 [3.8]
 [3.6]
 [3.2]]
revised_weight: 3.2
2021-04-06 01:01:26.300: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:01:26.300
plc_result: True
sendmessage: 20210406010126300,1,000032,000032
send message to PLC: 2021-04-06 01:01:26.310
time gap: 0:00:00.006371
2021-04-06 01:01:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:27.521
lastevent: 2021-04-06 01:01:27.503, last ten sensor data: [('2021-04-06 01:01:27.150', 'D+000003.0'), ('2021-04-06 01:01:27.170', 'D+000003.0'), ('2021-04-06 01:01:27.190', 'D+000003.0'), ('2021-04-06 01:01:27.210', 'D+000003.2'), ('2021-04-06 01:01:27.230', 'D+000003.4'), ('2021-04-06 01:01:27.390', 'D+000004.2'), ('2021-04-06 01:01:27.410', 'D+000004.0'), ('2021-04-06 01:01:27.430', 'D+000003.8'), ('2021-04-06 01:01:27.450', 'D+000003.6'), ('2021-04-06 01:01:27.470', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.2, 4.0, 3.8, 3.6, 3.6]
np.array X: [[3.4]
 [4.2]
 [4. ]
 [3.8]
 [3.6]
 [3.6]]
revised_weight: 3.7
2021-04-06 01:01:27.470: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:01:27.470
plc_result: True
sendmessage: 20210406010127470,1,000036,000037
send message to PLC: 2021-04-06 01:01:27.532
time gap: 0:00:00.011131
2021-04-06 01:01:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:01:27: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:01:27: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:01:28: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_00_50.db
2021-04-06 01:01:28: select done
2021-04-06 01:01:28: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:01:28: No Data remains in httpScaleDataSender thread
2021-04-06 01:01:28: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpScaleDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_00_50.db
2021-04-06 01:01:28: HTTPSThreadState.STATE_DONE in httpScaleDataSender thread
['/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db']
2021-04-06 01:01:28: current db filename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
2021-04-06 01:01:28: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:01:28.730
lastevent: 2021-04-06 01:01:28.715, last ten sensor data: [('2021-04-06 01:01:28.170', 'D+000003.4'), ('2021-04-06 01:01:28.190', 'D+000003.4'), ('2021-04-06 01:01:28.370', 'D+000003.8'), ('2021-04-06 01:01:28.390', 'D+000003.6'), ('2021-04-06 01:01:28.410', 'D+000003.6'), ('2021-04-06 01:01:28.520', 'D+000003.6'), ('2021-04-06 01:01:28.540', 'D+000003.8'), ('2021-04-06 01:01:28.560', 'D+000004.0'), ('2021-04-06 01:01:28.580', 'D+000004.0'), ('2021-04-06 01:01:28.600', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.8, 4.0, 4.0, 4.0]
np.array X: [[3.6]
 [3.6]
 [3.8]
 [4. ]
 [4. ]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:01:28.600: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:01:28.600
plc_result: True
sendmessage: 20210406010128600,1,000040,000040
send message to PLC: 2021-04-06 01:01:28.736
time gap: 0:00:00.006210
2021-04-06 01:01:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:29.650
lastevent: 2021-04-06 01:01:29.641, last ten sensor data: [('2021-04-06 01:01:29.270', 'D+000003.8'), ('2021-04-06 01:01:29.290', 'D+000004.0'), ('2021-04-06 01:01:29.310', 'D+000004.0'), ('2021-04-06 01:01:29.330', 'D+000003.4'), ('2021-04-06 01:01:29.490', 'D+000003.4'), ('2021-04-06 01:01:29.510', 'D+000003.6'), ('2021-04-06 01:01:29.530', 'D+000003.6'), ('2021-04-06 01:01:29.550', 'D+000003.4'), ('2021-04-06 01:01:29.570', 'D+000003.2'), ('2021-04-06 01:01:29.590', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 3.6, 3.4, 3.2, 3.2]
np.array X: [[3.4]
 [3.6]
 [3.6]
 [3.4]
 [3.2]
 [3.2]]
revised_weight: 3.2
2021-04-06 01:01:29.590: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:01:29.590
plc_result: True
sendmessage: 20210406010129590,1,000032,000032
send message to PLC: 2021-04-06 01:01:29.657
time gap: 0:00:00.006246
2021-04-06 01:01:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:31.303
lastevent: 2021-04-06 01:01:31.290, last ten sensor data: [('2021-04-06 01:01:30.780', 'D+000002.0'), ('2021-04-06 01:01:30.800', 'D+000002.2'), ('2021-04-06 01:01:30.980', 'D+000002.4'), ('2021-04-06 01:01:31.000', 'D+000002.4'), ('2021-04-06 01:01:31.020', 'D+000002.4'), ('2021-04-06 01:01:31.040', 'D+000002.4'), ('2021-04-06 01:01:31.220', 'D+000002.4'), ('2021-04-06 01:01:31.240', 'D+000002.4'), ('2021-04-06 01:01:31.260', 'D+000002.2'), ('2021-04-06 01:01:31.280', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.4, 2.4, 2.2, 2.4]
np.array X: [[2.4]
 [2.4]
 [2.4]
 [2.4]
 [2.2]
 [2.4]]
revised_weight: 2.2
2021-04-06 01:01:31.280: revising weight finished
revised_weight: 2.2 at 2021-04-06 01:01:31.280
plc_result: True
sendmessage: 20210406010131280,1,000024,000022
send message to PLC: 2021-04-06 01:01:31.310
time gap: 0:00:00.006269
2021-04-06 01:01:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:32.254
lastevent: 2021-04-06 01:01:32.240, last ten sensor data: [('2021-04-06 01:01:31.830', 'D+000002.4'), ('2021-04-06 01:01:31.870', 'D+000002.6'), ('2021-04-06 01:01:31.890', 'D+000002.6'), ('2021-04-06 01:01:31.910', 'D+000002.6'), ('2021-04-06 01:01:31.930', 'D+000002.6'), ('2021-04-06 01:01:31.950', 'D+000002.6'), ('2021-04-06 01:01:32.120', 'D+000004.0'), ('2021-04-06 01:01:32.140', 'D+000004.0'), ('2021-04-06 01:01:32.160', 'D+000004.0'), ('2021-04-06 01:01:32.180', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 4.0, 4.0, 4.0, 4.2]
np.array X: [[2.6]
 [2.6]
 [4. ]
 [4. ]
 [4. ]
 [4.2]]
revised_weight: 4.0
2021-04-06 01:01:32.180: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:01:32.180
plc_result: True
sendmessage: 20210406010132180,1,000042,000040
send message to PLC: 2021-04-06 01:01:32.266
time gap: 0:00:00.011224
2021-04-06 01:01:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:33.109
lastevent: 2021-04-06 01:01:33.094, last ten sensor data: [('2021-04-06 01:01:32.640', 'D+000004.8'), ('2021-04-06 01:01:32.660', 'D+000004.8'), ('2021-04-06 01:01:32.680', 'D+000005.0'), ('2021-04-06 01:01:32.700', 'D+000004.8'), ('2021-04-06 01:01:32.840', 'D+000005.2'), ('2021-04-06 01:01:32.860', 'D+000004.6'), ('2021-04-06 01:01:32.880', 'D+000004.4'), ('2021-04-06 01:01:32.900', 'D+000004.4'), ('2021-04-06 01:01:32.920', 'D+000004.4'), ('2021-04-06 01:01:33.080', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 4.6, 4.4, 4.4, 4.4, 4.8]
np.array X: [[5.2]
 [4.6]
 [4.4]
 [4.4]
 [4.4]
 [4.8]]
revised_weight: 4.8
2021-04-06 01:01:33.080: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:01:33.080
plc_result: True
sendmessage: 20210406010133080,1,000048,000048
send message to PLC: 2021-04-06 01:01:33.115
time gap: 0:00:00.006354
2021-04-06 01:01:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:35.923
lastevent: 2021-04-06 01:01:35.908, last ten sensor data: [('2021-04-06 01:01:35.540', 'D+000002.6'), ('2021-04-06 01:01:35.560', 'D+000003.0'), ('2021-04-06 01:01:35.580', 'D+000003.0'), ('2021-04-06 01:01:35.600', 'D+000003.4'), ('2021-04-06 01:01:35.620', 'D+000003.6'), ('2021-04-06 01:01:35.780', 'D+000005.6'), ('2021-04-06 01:01:35.800', 'D+000005.4'), ('2021-04-06 01:01:35.820', 'D+000005.6'), ('2021-04-06 01:01:35.840', 'D+000006.4'), ('2021-04-06 01:01:35.860', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 5.6, 5.4, 5.6, 6.4, 6.8]
np.array X: [[3.6]
 [5.6]
 [5.4]
 [5.6]
 [6.4]
 [6.8]]
revised_weight: 6.1
2021-04-06 01:01:35.860: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:01:35.860
plc_result: True
sendmessage: 20210406010135860,1,000068,000061
send message to PLC: 2021-04-06 01:01:35.930
time gap: 0:00:00.006374
2021-04-06 01:01:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:36.912
lastevent: 2021-04-06 01:01:36.897, last ten sensor data: [('2021-04-06 01:01:36.510', 'D+000010.2'), ('2021-04-06 01:01:36.530', 'D+000011.0'), ('2021-04-06 01:01:36.550', 'D+000011.2'), ('2021-04-06 01:01:36.570', 'D+000010.6'), ('2021-04-06 01:01:36.590', 'D+000011.2'), ('2021-04-06 01:01:36.740', 'D+000003.6'), ('2021-04-06 01:01:36.770', 'D+000004.0'), ('2021-04-06 01:01:36.790', 'D+000004.6'), ('2021-04-06 01:01:36.810', 'D+000004.4'), ('2021-04-06 01:01:36.830', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [11.2, 3.6, 4.0, 4.6, 4.4, 4.2]
np.array X: [[11.2]
 [ 3.6]
 [ 4. ]
 [ 4.6]
 [ 4.4]
 [ 4.2]]
revised_weight: 4.8
2021-04-06 01:01:36.830: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:01:36.830
plc_result: True
sendmessage: 20210406010136830,1,000042,000048
send message to PLC: 2021-04-06 01:01:36.918
time gap: 0:00:00.006303
2021-04-06 01:01:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:39.201
lastevent: 2021-04-06 01:01:39.191, last ten sensor data: [('2021-04-06 01:01:38.590', 'D+000002.0'), ('2021-04-06 01:01:38.780', 'D+000002.0'), ('2021-04-06 01:01:38.800', 'D+000001.8'), ('2021-04-06 01:01:38.820', 'D+000001.8'), ('2021-04-06 01:01:38.840', 'D+000002.2'), ('2021-04-06 01:01:39.010', 'D+000002.0'), ('2021-04-06 01:01:39.030', 'D+000002.0'), ('2021-04-06 01:01:39.050', 'D+000001.8'), ('2021-04-06 01:01:39.070', 'D+000001.8'), ('2021-04-06 01:01:39.090', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.0, 2.0, 1.8, 1.8, 1.8]
np.array X: [[2.2]
 [2. ]
 [2. ]
 [1.8]
 [1.8]
 [1.8]]
revised_weight: 1.5
2021-04-06 01:01:39.090: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:01:39.090
plc_result: True
sendmessage: 20210406010139090,1,000018,000015
send message to PLC: 2021-04-06 01:01:39.207
time gap: 0:00:00.006227
2021-04-06 01:01:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:01:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:42.075
lastevent: 2021-04-06 01:01:42.075, last ten sensor data: [('2021-04-06 01:01:41.690', 'D+000001.4'), ('2021-04-06 01:01:41.710', 'D+000001.2'), ('2021-04-06 01:01:41.730', 'D+000001.2'), ('2021-04-06 01:01:41.750', 'D+000001.0'), ('2021-04-06 01:01:41.770', 'D+000001.0'), ('2021-04-06 01:01:41.940', 'D+000002.0'), ('2021-04-06 01:01:41.960', 'D+000002.2'), ('2021-04-06 01:01:41.980', 'D+000002.0'), ('2021-04-06 01:01:42.000', 'D+000002.2'), ('2021-04-06 01:01:42.020', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.0, 2.0, 2.2, 2.0, 2.2, 2.4]
np.array X: [[1. ]
 [2. ]
 [2.2]
 [2. ]
 [2.2]
 [2.4]]
revised_weight: 2.5
2021-04-06 01:01:42.020: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:01:42.020
plc_result: True
sendmessage: 20210406010142020,1,000024,000025
send message to PLC: 2021-04-06 01:01:42.087
time gap: 0:00:00.011358
2021-04-06 01:01:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:46.364
lastevent: 2021-04-06 01:01:46.363, last ten sensor data: [('2021-04-06 01:01:45.880', 'D+000001.6'), ('2021-04-06 01:01:45.900', 'D+000002.0'), ('2021-04-06 01:01:45.920', 'D+000002.0'), ('2021-04-06 01:01:46.080', 'D+000001.8'), ('2021-04-06 01:01:46.100', 'D+000001.6'), ('2021-04-06 01:01:46.120', 'D+000001.8'), ('2021-04-06 01:01:46.140', 'D+000001.6'), ('2021-04-06 01:01:46.160', 'D+000001.4'), ('2021-04-06 01:01:46.340', 'D+000002.2'), ('2021-04-06 01:01:46.360', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 1.8, 1.6, 1.4, 2.2, 1.8]
np.array X: [[1.6]
 [1.8]
 [1.6]
 [1.4]
 [2.2]
 [1.8]]
revised_weight: 1.2
2021-04-06 01:01:46.360: revising weight finished
revised_weight: 1.2 at 2021-04-06 01:01:46.360
plc_result: True
sendmessage: 20210406010146360,1,000018,000012
send message to PLC: 2021-04-06 01:01:46.372
time gap: 0:00:00.007629
2021-04-06 01:01:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:47.362
lastevent: 2021-04-06 01:01:47.357, last ten sensor data: [('2021-04-06 01:01:46.880', 'D+000002.2'), ('2021-04-06 01:01:46.900', 'D+000002.2'), ('2021-04-06 01:01:47.060', 'D+000006.0'), ('2021-04-06 01:01:47.080', 'D+000006.4'), ('2021-04-06 01:01:47.100', 'D+000006.4'), ('2021-04-06 01:01:47.120', 'D+000007.0'), ('2021-04-06 01:01:47.300', 'D+000014.0'), ('2021-04-06 01:01:47.320', 'D+000012.0'), ('2021-04-06 01:01:47.340', 'D+000011.2'), ('2021-04-06 01:01:47.360', 'D+000015.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 7.0, 14.0, 12.0, 11.2, 15.4]
np.array X: [[ 6.4]
 [ 7. ]
 [14. ]
 [12. ]
 [11.2]
 [15.4]]
revised_weight: 15.6
2021-04-06 01:01:47.360: revising weight finished
revised_weight: 15.6 at 2021-04-06 01:01:47.360
plc_result: False
sendmessage: 20210406010147360,0,000154,000156
send message to PLC: 2021-04-06 01:01:47.411
time gap: 0:00:00.049721
2021-04-06 01:01:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:49.280
lastevent: 2021-04-06 01:01:49.269, last ten sensor data: [('2021-04-06 01:01:48.740', 'D+000002.6'), ('2021-04-06 01:01:48.910', 'D+000002.6'), ('2021-04-06 01:01:48.930', 'D+000002.6'), ('2021-04-06 01:01:48.950', 'D+000002.8'), ('2021-04-06 01:01:48.970', 'D+000002.8'), ('2021-04-06 01:01:48.990', 'D+000002.6'), ('2021-04-06 01:01:49.160', 'D+000002.6'), ('2021-04-06 01:01:49.180', 'D+000002.4'), ('2021-04-06 01:01:49.200', 'D+000002.4'), ('2021-04-06 01:01:49.220', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.6, 2.6, 2.4, 2.4, 2.4]
np.array X: [[2.8]
 [2.6]
 [2.6]
 [2.4]
 [2.4]
 [2.4]]
revised_weight: 2.2
2021-04-06 01:01:49.220: revising weight finished
revised_weight: 2.2 at 2021-04-06 01:01:49.220
plc_result: True
sendmessage: 20210406010149220,1,000024,000022
send message to PLC: 2021-04-06 01:01:49.291
time gap: 0:00:00.010980
2021-04-06 01:01:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:01:50.377
lastevent: 2021-04-06 01:01:50.369, last ten sensor data: [('2021-04-06 01:01:49.900', 'D+000001.4'), ('2021-04-06 01:01:49.920', 'D+000001.4'), ('2021-04-06 01:01:49.940', 'D+000001.6'), ('2021-04-06 01:01:49.960', 'D+000001.4'), ('2021-04-06 01:01:50.120', 'D+000002.0'), ('2021-04-06 01:01:50.140', 'D+000001.8'), ('2021-04-06 01:01:50.160', 'D+000001.6'), ('2021-04-06 01:01:50.180', 'D+000001.2'), ('2021-04-06 01:01:50.200', 'D+000001.2'), ('2021-04-06 01:01:50.370', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 1.8, 1.6, 1.2, 1.2, 1.8]
np.array X: [[2. ]
 [1.8]
 [1.6]
 [1.2]
 [1.2]
 [1.8]]
revised_weight: 1.2
2021-04-06 01:01:50.370: revising weight finished
revised_weight: 1.2 at 2021-04-06 01:01:50.370
plc_result: True
sendmessage: 20210406010150370,1,000018,000012
send message to PLC: 2021-04-06 01:01:50.388
time gap: 0:00:00.011462
2021-04-06 01:01:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:01:54: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db']
2021-04-06 01:01:55: [13070] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_00.db
select_plcdb_filename: b
2021-04-06 01:01:55: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:01:55: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:01:55: select done
2021-04-06 01:01:55: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:01:55: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:01:55: sendjson called, 37 records in httpPlcDataSender thread
2021-04-06 01:01:55: count: 37 in httpPlcDataSender thread
2021-04-06 01:01:55: D+: 37 in httpPlcDataSender thread
2021-04-06 01:01:55: D-: 0 in httpPlcDataSender thread
2021-04-06 01:01:55: S+: 0 in httpPlcDataSender thread
2021-04-06 01:01:55: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.8', 'sensorAt': '2021-04-06 01:00:56.270'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:00:56.840'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:00:57.780'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:00:59.990'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:01:01.480'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:01:02.450'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:01:03.190'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:01:03.430'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:01:04.630'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:01:06.110'}, {'value': '9.1', 'sensorAt': '2021-04-06 01:01:08.030'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:01:09.510'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:01:10.480'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:01:11.690'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:01:12.770'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:01:14.240'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:01:16.310'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:01:17.290'}, {'value': '11.3', 'sensorAt': '2021-04-06 01:01:20.230'}, {'value': '19.5', 'sensorAt': '2021-04-06 01:01:22.880'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:01:23.870'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:01:25.590'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:01:26.300'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:01:27.470'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:01:28.600'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:01:29.590'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:01:31.280'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:01:32.180'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:01:33.080'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:01:35.860'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:01:36.830'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:01:39.090'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:01:42.020'}, {'value': '1.2', 'sensorAt': '2021-04-06 01:01:46.360'}, {'value': '15.6', 'sensorAt': '2021-04-06 01:01:47.360'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:01:49.220'}, {'value': '1.2', 'sensorAt': '2021-04-06 01:01:50.370'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:00:56.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:56.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:57.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:59.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:01.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:02.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:03.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:03.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:04.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:06.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:08.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:09.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:10.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:11.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:12.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:14.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:16.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:17.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:20.230'}, {'value': 0, 'sensorAt': '2021-04-06 01:01:22.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:23.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:25.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:26.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:27.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:28.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:29.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:31.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:32.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:33.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:35.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:36.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:39.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:42.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:46.360'}, {'value': 0, 'sensorAt': '2021-04-06 01:01:47.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:49.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:50.370'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:01:55', 'collectDate': '2021-04-06 01:01:50', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.8', 'sensorAt': '2021-04-06 01:00:56.270'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:00:56.840'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:00:57.780'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:00:59.990'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:01:01.480'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:01:02.450'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:01:03.190'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:01:03.430'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:01:04.630'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:01:06.110'}, {'value': '9.1', 'sensorAt': '2021-04-06 01:01:08.030'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:01:09.510'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:01:10.480'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:01:11.690'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:01:12.770'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:01:14.240'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:01:16.310'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:01:17.290'}, {'value': '11.3', 'sensorAt': '2021-04-06 01:01:20.230'}, {'value': '19.5', 'sensorAt': '2021-04-06 01:01:22.880'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:01:23.870'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:01:25.590'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:01:26.300'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:01:27.470'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:01:28.600'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:01:29.590'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:01:31.280'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:01:32.180'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:01:33.080'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:01:35.860'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:01:36.830'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:01:39.090'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:01:42.020'}, {'value': '1.2', 'sensorAt': '2021-04-06 01:01:46.360'}, {'value': '15.6', 'sensorAt': '2021-04-06 01:01:47.360'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:01:49.220'}, {'value': '1.2', 'sensorAt': '2021-04-06 01:01:50.370'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:00:56.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:56.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:57.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:00:59.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:01.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:02.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:03.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:03.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:04.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:06.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:08.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:09.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:10.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:11.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:12.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:14.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:16.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:17.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:20.230'}, {'value': 0, 'sensorAt': '2021-04-06 01:01:22.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:23.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:25.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:26.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:27.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:28.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:29.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:31.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:32.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:33.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:35.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:36.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:39.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:42.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:46.360'}, {'value': 0, 'sensorAt': '2021-04-06 01:01:47.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:49.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:01:50.370'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:01:55: send http
2021-04-06 01:01:55: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:01:55: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:01:55.706
lastevent: 2021-04-06 01:01:55.694, last ten sensor data: [('2021-04-06 01:01:55.260', 'D+000001.0'), ('2021-04-06 01:01:55.280', 'D+000000.8'), ('2021-04-06 01:01:55.300', 'D+000000.8'), ('2021-04-06 01:01:55.370', 'D+000002.2'), ('2021-04-06 01:01:55.390', 'D+000002.2'), ('2021-04-06 01:01:55.470', 'D+000001.0'), ('2021-04-06 01:01:55.490', 'D+000001.0'), ('2021-04-06 01:01:55.510', 'D+000001.4'), ('2021-04-06 01:01:55.530', 'D+000001.2'), ('2021-04-06 01:01:55.550', 'D+000001.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 1.0, 1.0, 1.4, 1.2, 1.4]
np.array X: [[2.2]
 [1. ]
 [1. ]
 [1.4]
 [1.2]
 [1.4]]
revised_weight: 0.7
2021-04-06 01:01:55.550: revising weight finished
revised_weight: 0.7 at 2021-04-06 01:01:55.550
plc_result: True
sendmessage: 20210406010155550,1,000014,000007
send message to PLC: 2021-04-06 01:01:55.712
time gap: 0:00:00.006347
2021-04-06 01:01:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:01:55: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:02:00: HTTP Send finished in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:02:00.848
2021-04-06 01:02:00: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
lastevent: 2021-04-06 01:02:00.840, last ten sensor data: [('2021-04-06 01:02:00.410', 'D+000001.8'), ('2021-04-06 01:02:00.430', 'D+000001.8'), ('2021-04-06 01:02:00.450', 'D+000001.6'), ('2021-04-06 01:02:00.470', 'D+000001.6'), ('2021-04-06 01:02:00.490', 'D+000001.8'), ('2021-04-06 01:02:00.650', 'D+000002.0'), ('2021-04-06 01:02:00.670', 'D+000002.2'), ('2021-04-06 01:02:00.690', 'D+000002.2'), ('2021-04-06 01:02:00.710', 'D+000002.4'), ('2021-04-06 01:02:00.730', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.0, 2.2, 2.2, 2.4, 2.2]
np.array X: [[1.8]
 [2. ]
 [2.2]
 [2.2]
 [2.4]
 [2.2]]
revised_weight: 2.0
2021-04-06 01:02:00.730: revising weight finished
revised_weight: 2.0 at 2021-04-06 01:02:00.730
plc_result: True
sendmessage: 20210406010200730,1,000022,000020
send message to PLC: 2021-04-06 01:02:00.863
time gap: 0:00:00.014640
2021-04-06 01:02:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:02:00: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:02:00: select done
2021-04-06 01:02:00: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:02:00: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:02:01: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:02:01: count: 2 in httpPlcDataSender thread
2021-04-06 01:02:01: D+: 2 in httpPlcDataSender thread
2021-04-06 01:02:01: D-: 0 in httpPlcDataSender thread
2021-04-06 01:02:01: S+: 0 in httpPlcDataSender thread
2021-04-06 01:02:01: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '0.7', 'sensorAt': '2021-04-06 01:01:55.550'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:02:00.730'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:01:55.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:00.730'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:02:01', 'collectDate': '2021-04-06 01:02:00', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '0.7', 'sensorAt': '2021-04-06 01:01:55.550'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:02:00.730'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:01:55.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:00.730'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:02:01: send http
2021-04-06 01:02:01: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:02:01: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:02:01: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:02:01.906
lastevent: 2021-04-06 01:02:01.892, last ten sensor data: [('2021-04-06 01:02:01.450', 'D+000002.2'), ('2021-04-06 01:02:01.470', 'D+000002.4'), ('2021-04-06 01:02:01.630', 'D+000003.2'), ('2021-04-06 01:02:01.650', 'D+000003.4'), ('2021-04-06 01:02:01.670', 'D+000003.4'), ('2021-04-06 01:02:01.700', 'D+000003.4'), ('2021-04-06 01:02:01.720', 'D+000003.6'), ('2021-04-06 01:02:01.740', 'D+000003.6'), ('2021-04-06 01:02:01.760', 'D+000003.6'), ('2021-04-06 01:02:01.780', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.4, 3.6, 3.6, 3.6, 3.4]
np.array X: [[3.4]
 [3.4]
 [3.6]
 [3.6]
 [3.6]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:02:01.780: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:02:01.780
plc_result: True
sendmessage: 20210406010201780,1,000034,000034
send message to PLC: 2021-04-06 01:02:01.918
time gap: 0:00:00.011977
2021-04-06 01:02:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:03.621
lastevent: 2021-04-06 01:02:03.606, last ten sensor data: [('2021-04-06 01:02:03.190', 'D+000003.0'), ('2021-04-06 01:02:03.210', 'D+000003.0'), ('2021-04-06 01:02:03.230', 'D+000002.8'), ('2021-04-06 01:02:03.250', 'D+000002.6'), ('2021-04-06 01:02:03.410', 'D+000002.8'), ('2021-04-06 01:02:03.430', 'D+000003.2'), ('2021-04-06 01:02:03.450', 'D+000003.0'), ('2021-04-06 01:02:03.470', 'D+000002.6'), ('2021-04-06 01:02:03.490', 'D+000002.6'), ('2021-04-06 01:02:03.510', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.2, 3.0, 2.6, 2.6, 2.4]
np.array X: [[2.8]
 [3.2]
 [3. ]
 [2.6]
 [2.6]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:02:03.510: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:02:03.510
plc_result: True
sendmessage: 20210406010203510,1,000024,000023
send message to PLC: 2021-04-06 01:02:03.632
time gap: 0:00:00.011140
2021-04-06 01:02:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:05.763
lastevent: 2021-04-06 01:02:05.752, last ten sensor data: [('2021-04-06 01:02:05.360', 'D+000002.0'), ('2021-04-06 01:02:05.380', 'D+000002.0'), ('2021-04-06 01:02:05.400', 'D+000002.0'), ('2021-04-06 01:02:05.420', 'D+000002.0'), ('2021-04-06 01:02:05.440', 'D+000002.0'), ('2021-04-06 01:02:05.620', 'D+000002.2'), ('2021-04-06 01:02:05.640', 'D+000002.0'), ('2021-04-06 01:02:05.660', 'D+000002.0'), ('2021-04-06 01:02:05.680', 'D+000002.0'), ('2021-04-06 01:02:05.700', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.2, 2.0, 2.0, 2.0, 2.0]
np.array X: [[2. ]
 [2.2]
 [2. ]
 [2. ]
 [2. ]
 [2. ]]
revised_weight: 1.8
2021-04-06 01:02:05.700: revising weight finished
revised_weight: 1.8 at 2021-04-06 01:02:05.700
plc_result: True
sendmessage: 20210406010205700,1,000020,000018
send message to PLC: 2021-04-06 01:02:05.774
time gap: 0:00:00.011012
2021-04-06 01:02:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:02:06: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:02:06: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:02:06: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:02:06: select done
2021-04-06 01:02:06: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:02:06: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:02:06: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:02:06: count: 3 in httpPlcDataSender thread
2021-04-06 01:02:06: D+: 3 in httpPlcDataSender thread
2021-04-06 01:02:06: D-: 0 in httpPlcDataSender thread
2021-04-06 01:02:06: S+: 0 in httpPlcDataSender thread
2021-04-06 01:02:06: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.4', 'sensorAt': '2021-04-06 01:02:01.780'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:02:03.510'}, {'value': '1.8', 'sensorAt': '2021-04-06 01:02:05.700'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:02:01.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:03.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:05.700'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:02:06', 'collectDate': '2021-04-06 01:02:05', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.4', 'sensorAt': '2021-04-06 01:02:01.780'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:02:03.510'}, {'value': '1.8', 'sensorAt': '2021-04-06 01:02:05.700'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:02:01.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:03.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:05.700'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:02:06: send http
2021-04-06 01:02:06: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:02:07: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:02:07: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:02:07.669
lastevent: 2021-04-06 01:02:07.653, last ten sensor data: [('2021-04-06 01:02:07.310', 'D+000002.4'), ('2021-04-06 01:02:07.330', 'D+000002.2'), ('2021-04-06 01:02:07.350', 'D+000002.2'), ('2021-04-06 01:02:07.370', 'D+000002.6'), ('2021-04-06 01:02:07.390', 'D+000002.8'), ('2021-04-06 01:02:07.550', 'D+000003.4'), ('2021-04-06 01:02:07.570', 'D+000003.4'), ('2021-04-06 01:02:07.590', 'D+000003.4'), ('2021-04-06 01:02:07.610', 'D+000003.2'), ('2021-04-06 01:02:07.630', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.4, 3.4, 3.4, 3.2, 3.6]
np.array X: [[2.8]
 [3.4]
 [3.4]
 [3.4]
 [3.2]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:02:07.630: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:02:07.630
plc_result: True
sendmessage: 20210406010207630,1,000036,000036
send message to PLC: 2021-04-06 01:02:07.682
time gap: 0:00:00.013040
2021-04-06 01:02:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:08.514
lastevent: 2021-04-06 01:02:08.498, last ten sensor data: [('2021-04-06 01:02:08.050', 'D+000003.4'), ('2021-04-06 01:02:08.070', 'D+000003.6'), ('2021-04-06 01:02:08.090', 'D+000003.6'), ('2021-04-06 01:02:08.110', 'D+000003.6'), ('2021-04-06 01:02:08.130', 'D+000003.2'), ('2021-04-06 01:02:08.270', 'D+000003.8'), ('2021-04-06 01:02:08.290', 'D+000004.0'), ('2021-04-06 01:02:08.310', 'D+000004.2'), ('2021-04-06 01:02:08.330', 'D+000004.2'), ('2021-04-06 01:02:08.350', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.8, 4.0, 4.2, 4.2, 4.8]
np.array X: [[3.2]
 [3.8]
 [4. ]
 [4.2]
 [4.2]
 [4.8]]
revised_weight: 4.3
2021-04-06 01:02:08.350: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:02:08.350
plc_result: True
sendmessage: 20210406010208350,1,000048,000043
send message to PLC: 2021-04-06 01:02:08.525
time gap: 0:00:00.011160
2021-04-06 01:02:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:09.093
lastevent: 2021-04-06 01:02:09.076, last ten sensor data: [('2021-04-06 01:02:08.600', 'D+000005.8'), ('2021-04-06 01:02:08.760', 'D+000011.6'), ('2021-04-06 01:02:08.780', 'D+000011.0'), ('2021-04-06 01:02:08.800', 'D+000011.0'), ('2021-04-06 01:02:08.820', 'D+000011.4'), ('2021-04-06 01:02:08.840', 'D+000013.6'), ('2021-04-06 01:02:08.860', 'D+000016.2'), ('2021-04-06 01:02:09.030', 'D+000014.2'), ('2021-04-06 01:02:09.050', 'D+000014.2'), ('2021-04-06 01:02:09.070', 'D+000017.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [11.4, 13.6, 16.2, 14.2, 14.2, 17.8]
np.array X: [[11.4]
 [13.6]
 [16.2]
 [14.2]
 [14.2]
 [17.8]]
revised_weight: 15.2
2021-04-06 01:02:09.070: revising weight finished
revised_weight: 15.2 at 2021-04-06 01:02:09.070
plc_result: False
sendmessage: 20210406010209070,0,000178,000152
send message to PLC: 2021-04-06 01:02:09.105
time gap: 0:00:00.012022
2021-04-06 01:02:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:11.309
lastevent: 2021-04-06 01:02:11.293, last ten sensor data: [('2021-04-06 01:02:10.670', 'D+000002.2'), ('2021-04-06 01:02:10.820', 'D+000002.0'), ('2021-04-06 01:02:10.840', 'D+000002.0'), ('2021-04-06 01:02:10.860', 'D+000002.0'), ('2021-04-06 01:02:10.880', 'D+000001.8'), ('2021-04-06 01:02:10.900', 'D+000002.0'), ('2021-04-06 01:02:11.080', 'D+000002.2'), ('2021-04-06 01:02:11.100', 'D+000002.0'), ('2021-04-06 01:02:11.120', 'D+000002.2'), ('2021-04-06 01:02:11.140', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.0, 2.2, 2.0, 2.2, 2.2]
np.array X: [[1.8]
 [2. ]
 [2.2]
 [2. ]
 [2.2]
 [2.2]]
revised_weight: 2.0
2021-04-06 01:02:11.140: revising weight finished
revised_weight: 2.0 at 2021-04-06 01:02:11.140
plc_result: True
sendmessage: 20210406010211140,1,000022,000020
send message to PLC: 2021-04-06 01:02:11.320
time gap: 0:00:00.011099
2021-04-06 01:02:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:02:12: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:02:12: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:02:12.206
lastevent: 2021-04-06 01:02:12.197, last ten sensor data: [('2021-04-06 01:02:11.630', 'D+000002.2'), ('2021-04-06 01:02:11.790', 'D+000002.0'), ('2021-04-06 01:02:11.810', 'D+000002.0'), ('2021-04-06 01:02:11.830', 'D+000002.2'), ('2021-04-06 01:02:11.850', 'D+000002.4'), ('2021-04-06 01:02:11.870', 'D+000002.6'), ('2021-04-06 01:02:12.050', 'D+000003.0'), ('2021-04-06 01:02:12.070', 'D+000003.0'), ('2021-04-06 01:02:12.090', 'D+000002.8'), ('2021-04-06 01:02:12.110', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.6, 3.0, 3.0, 2.8, 3.2]
np.array X: [[2.4]
 [2.6]
 [3. ]
 [3. ]
 [2.8]
 [3.2]]
revised_weight: 3.2
2021-04-06 01:02:12.110: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:02:12.110
plc_result: True
sendmessage: 20210406010212110,1,000032,000032
send message to PLC: 2021-04-06 01:02:12.218
time gap: 0:00:00.011340
2021-04-06 01:02:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:02:12: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:02:12: select done
2021-04-06 01:02:12: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:02:12: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:02:12: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:02:12: count: 5 in httpPlcDataSender thread
2021-04-06 01:02:12: D+: 5 in httpPlcDataSender thread
2021-04-06 01:02:12: D-: 0 in httpPlcDataSender thread
2021-04-06 01:02:12: S+: 0 in httpPlcDataSender thread
2021-04-06 01:02:12: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.6', 'sensorAt': '2021-04-06 01:02:07.630'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:02:08.350'}, {'value': '15.2', 'sensorAt': '2021-04-06 01:02:09.070'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:02:11.140'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:02:12.110'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:02:07.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:08.350'}, {'value': 0, 'sensorAt': '2021-04-06 01:02:09.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:11.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:12.110'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:02:12', 'collectDate': '2021-04-06 01:02:12', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.6', 'sensorAt': '2021-04-06 01:02:07.630'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:02:08.350'}, {'value': '15.2', 'sensorAt': '2021-04-06 01:02:09.070'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:02:11.140'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:02:12.110'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:02:07.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:08.350'}, {'value': 0, 'sensorAt': '2021-04-06 01:02:09.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:11.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:12.110'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:02:12: send http
2021-04-06 01:02:12: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:02:12: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:02:12: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:02:17: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:02:17: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:02:17: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:02:17: select done
2021-04-06 01:02:17: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:02:17: No Data remains in httpPlcDataSender thread
2021-04-06 01:02:17: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:02:17: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:02:18: current db filename:  in httpPlcDataSender thread
2021-04-06 01:02:18: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:02:18.518
lastevent: 2021-04-06 01:02:18.504, last ten sensor data: [('2021-04-06 01:02:18.080', 'D+000002.2'), ('2021-04-06 01:02:18.100', 'D+000002.6'), ('2021-04-06 01:02:18.120', 'D+000002.6'), ('2021-04-06 01:02:18.140', 'D+000002.6'), ('2021-04-06 01:02:18.160', 'D+000002.8'), ('2021-04-06 01:02:18.330', 'D+000003.8'), ('2021-04-06 01:02:18.350', 'D+000003.8'), ('2021-04-06 01:02:18.370', 'D+000004.2'), ('2021-04-06 01:02:18.390', 'D+000004.2'), ('2021-04-06 01:02:18.410', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.8, 3.8, 4.2, 4.2, 4.2]
np.array X: [[2.8]
 [3.8]
 [3.8]
 [4.2]
 [4.2]
 [4.2]]
revised_weight: 3.5
2021-04-06 01:02:18.410: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:02:18.410
plc_result: True
sendmessage: 20210406010218410,1,000042,000035
send message to PLC: 2021-04-06 01:02:18.524
time gap: 0:00:00.006327
2021-04-06 01:02:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:22.900
lastevent: 2021-04-06 01:02:22.884, last ten sensor data: [('2021-04-06 01:02:22.490', 'D+000000.8'), ('2021-04-06 01:02:22.510', 'D+000000.8'), ('2021-04-06 01:02:22.530', 'D+000000.8'), ('2021-04-06 01:02:22.550', 'D+000000.8'), ('2021-04-06 01:02:22.570', 'D+000001.2'), ('2021-04-06 01:02:22.730', 'D+000000.8'), ('2021-04-06 01:02:22.750', 'D+000000.8'), ('2021-04-06 01:02:22.770', 'D+000000.8'), ('2021-04-06 01:02:22.790', 'D+000000.4'), ('2021-04-06 01:02:22.810', 'D+000000.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.2, 0.8, 0.8, 0.8, 0.4, 0.6]
np.array X: [[1.2]
 [0.8]
 [0.8]
 [0.8]
 [0.4]
 [0.6]]
revised_weight: 1.1
2021-04-06 01:02:22.810: revising weight finished
revised_weight: 1.1 at 2021-04-06 01:02:22.810
plc_result: True
sendmessage: 20210406010222810,1,000006,000011
send message to PLC: 2021-04-06 01:02:22.906
time gap: 0:00:00.006178
2021-04-06 01:02:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:27.149
lastevent: 2021-04-06 01:02:27.133, last ten sensor data: [('2021-04-06 01:02:26.650', 'D+000001.2'), ('2021-04-06 01:02:26.840', 'D+000002.0'), ('2021-04-06 01:02:26.860', 'D+000002.2'), ('2021-04-06 01:02:26.880', 'D+000002.4'), ('2021-04-06 01:02:26.900', 'D+000002.8'), ('2021-04-06 01:02:27.070', 'D+000003.2'), ('2021-04-06 01:02:27.090', 'D+000003.4'), ('2021-04-06 01:02:27.110', 'D+000003.4'), ('2021-04-06 01:02:27.130', 'D+000004.0'), ('2021-04-06 01:02:27.150', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.2, 3.4, 3.4, 4.0, 4.2]
np.array X: [[2.8]
 [3.2]
 [3.4]
 [3.4]
 [4. ]
 [4.2]]
revised_weight: 3.9
2021-04-06 01:02:27.150: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:02:27.150
plc_result: True
sendmessage: 20210406010227150,1,000042,000039
send message to PLC: 2021-04-06 01:02:27.155
time gap: 0:00:00.006147
2021-04-06 01:02:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:02:28: httpScaleDataSender thread Timeout occurred
2021-04-06 01:02:28: [13691] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
2021-04-06 01:02:28: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:02:31.343
lastevent: 2021-04-06 01:02:31.327, last ten sensor data: [('2021-04-06 01:02:30.870', 'D+000001.6'), ('2021-04-06 01:02:30.890', 'D+000001.8'), ('2021-04-06 01:02:31.050', 'D+000001.8'), ('2021-04-06 01:02:31.070', 'D+000002.0'), ('2021-04-06 01:02:31.090', 'D+000002.0'), ('2021-04-06 01:02:31.110', 'D+000002.0'), ('2021-04-06 01:02:31.130', 'D+000002.2'), ('2021-04-06 01:02:31.150', 'D+000002.2'), ('2021-04-06 01:02:31.310', 'D+000008.4'), ('2021-04-06 01:02:31.330', 'D+000009.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.0, 2.2, 2.2, 8.4, 9.6]
np.array X: [[2. ]
 [2. ]
 [2.2]
 [2.2]
 [8.4]
 [9.6]]
revised_weight: 6.8
2021-04-06 01:02:31.330: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:02:31.330
plc_result: True
sendmessage: 20210406010231330,1,000096,000068
send message to PLC: 2021-04-06 01:02:31.350
time gap: 0:00:00.006443
2021-04-06 01:02:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:02:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:35.767
lastevent: 2021-04-06 01:02:35.765, last ten sensor data: [('2021-04-06 01:02:35.450', 'D+000002.8'), ('2021-04-06 01:02:35.470', 'D+000002.6'), ('2021-04-06 01:02:35.490', 'D+000002.4'), ('2021-04-06 01:02:35.510', 'D+000002.4'), ('2021-04-06 01:02:35.530', 'D+000002.4'), ('2021-04-06 01:02:35.690', 'D+000004.6'), ('2021-04-06 01:02:35.710', 'D+000004.8'), ('2021-04-06 01:02:35.730', 'D+000005.0'), ('2021-04-06 01:02:35.750', 'D+000005.2'), ('2021-04-06 01:02:35.770', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 4.6, 4.8, 5.0, 5.2, 5.0]
np.array X: [[2.4]
 [4.6]
 [4.8]
 [5. ]
 [5.2]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:02:35.770: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:02:35.770
plc_result: True
sendmessage: 20210406010235770,1,000050,000051
send message to PLC: 2021-04-06 01:02:35.779
time gap: 0:00:00.012024
2021-04-06 01:02:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:36.888
lastevent: 2021-04-06 01:02:36.881, last ten sensor data: [('2021-04-06 01:02:36.280', 'D+000004.4'), ('2021-04-06 01:02:36.440', 'D+000004.0'), ('2021-04-06 01:02:36.460', 'D+000003.8'), ('2021-04-06 01:02:36.480', 'D+000003.6'), ('2021-04-06 01:02:36.500', 'D+000003.4'), ('2021-04-06 01:02:36.680', 'D+000003.2'), ('2021-04-06 01:02:36.700', 'D+000003.4'), ('2021-04-06 01:02:36.720', 'D+000003.6'), ('2021-04-06 01:02:36.740', 'D+000003.2'), ('2021-04-06 01:02:36.760', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.2, 3.4, 3.6, 3.2, 3.2]
np.array X: [[3.4]
 [3.2]
 [3.4]
 [3.6]
 [3.2]
 [3.2]]
revised_weight: 3.0
2021-04-06 01:02:36.760: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:02:36.760
plc_result: True
sendmessage: 20210406010236760,1,000032,000030
send message to PLC: 2021-04-06 01:02:36.899
time gap: 0:00:00.011209
2021-04-06 01:02:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:40.927
lastevent: 2021-04-06 01:02:40.916, last ten sensor data: [('2021-04-06 01:02:40.360', 'D+000000.8'), ('2021-04-06 01:02:40.540', 'D+000001.4'), ('2021-04-06 01:02:40.560', 'D+000001.4'), ('2021-04-06 01:02:40.580', 'D+000001.6'), ('2021-04-06 01:02:40.600', 'D+000001.8'), ('2021-04-06 01:02:40.760', 'D+000004.0'), ('2021-04-06 01:02:40.790', 'D+000004.0'), ('2021-04-06 01:02:40.810', 'D+000004.4'), ('2021-04-06 01:02:40.830', 'D+000004.4'), ('2021-04-06 01:02:40.850', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 4.0, 4.0, 4.4, 4.4, 3.4]
np.array X: [[1.8]
 [4. ]
 [4. ]
 [4.4]
 [4.4]
 [3.4]]
revised_weight: 4.1
2021-04-06 01:02:40.850: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:02:40.850
plc_result: True
sendmessage: 20210406010240850,1,000034,000041
send message to PLC: 2021-04-06 01:02:40.939
time gap: 0:00:00.011628
2021-04-06 01:02:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:41.733
lastevent: 2021-04-06 01:02:41.722, last ten sensor data: [('2021-04-06 01:02:41.060', 'D+000004.0'), ('2021-04-06 01:02:41.080', 'D+000004.0'), ('2021-04-06 01:02:41.270', 'D+000004.0'), ('2021-04-06 01:02:41.290', 'D+000003.8'), ('2021-04-06 01:02:41.310', 'D+000003.8'), ('2021-04-06 01:02:41.330', 'D+000003.6'), ('2021-04-06 01:02:41.510', 'D+000002.6'), ('2021-04-06 01:02:41.530', 'D+000002.8'), ('2021-04-06 01:02:41.550', 'D+000003.0'), ('2021-04-06 01:02:41.570', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.6, 2.6, 2.8, 3.0, 3.0]
np.array X: [[3.8]
 [3.6]
 [2.6]
 [2.8]
 [3. ]
 [3. ]]
revised_weight: 3.0
2021-04-06 01:02:41.570: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:02:41.570
plc_result: True
sendmessage: 20210406010241570,1,000030,000030
send message to PLC: 2021-04-06 01:02:41.745
time gap: 0:00:00.011439
2021-04-06 01:02:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:45.326
lastevent: 2021-04-06 01:02:45.315, last ten sensor data: [('2021-04-06 01:02:44.890', 'D+000001.0'), ('2021-04-06 01:02:44.910', 'D+000001.0'), ('2021-04-06 01:02:44.930', 'D+000000.8'), ('2021-04-06 01:02:44.950', 'D+000001.0'), ('2021-04-06 01:02:45.110', 'D+000001.4'), ('2021-04-06 01:02:45.130', 'D+000001.4'), ('2021-04-06 01:02:45.150', 'D+000001.4'), ('2021-04-06 01:02:45.170', 'D+000001.4'), ('2021-04-06 01:02:45.190', 'D+000001.4'), ('2021-04-06 01:02:45.210', 'D+000001.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 1.4, 1.4, 1.4, 1.4, 1.4]
np.array X: [[1.4]
 [1.4]
 [1.4]
 [1.4]
 [1.4]
 [1.4]]
revised_weight: 1.5
2021-04-06 01:02:45.210: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:02:45.210
plc_result: True
sendmessage: 20210406010245210,1,000014,000015
send message to PLC: 2021-04-06 01:02:45.339
time gap: 0:00:00.012709
2021-04-06 01:02:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:46.210
lastevent: 2021-04-06 01:02:46.198, last ten sensor data: [('2021-04-06 01:02:45.830', 'D+000001.6'), ('2021-04-06 01:02:45.860', 'D+000001.6'), ('2021-04-06 01:02:45.880', 'D+000001.8'), ('2021-04-06 01:02:45.900', 'D+000001.8'), ('2021-04-06 01:02:45.920', 'D+000001.8'), ('2021-04-06 01:02:46.080', 'D+000001.6'), ('2021-04-06 01:02:46.100', 'D+000001.6'), ('2021-04-06 01:02:46.120', 'D+000002.0'), ('2021-04-06 01:02:46.140', 'D+000001.8'), ('2021-04-06 01:02:46.160', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 1.6, 1.6, 2.0, 1.8, 1.8]
np.array X: [[1.8]
 [1.6]
 [1.6]
 [2. ]
 [1.8]
 [1.8]]
revised_weight: 1.4
2021-04-06 01:02:46.160: revising weight finished
revised_weight: 1.4 at 2021-04-06 01:02:46.160
plc_result: True
sendmessage: 20210406010246160,1,000018,000014
send message to PLC: 2021-04-06 01:02:46.223
time gap: 0:00:00.012681
2021-04-06 01:02:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:47.910
lastevent: 2021-04-06 01:02:47.896, last ten sensor data: [('2021-04-06 01:02:47.390', 'D+000001.8'), ('2021-04-06 01:02:47.570', 'D+000001.6'), ('2021-04-06 01:02:47.590', 'D+000001.8'), ('2021-04-06 01:02:47.610', 'D+000001.8'), ('2021-04-06 01:02:47.630', 'D+000002.0'), ('2021-04-06 01:02:47.800', 'D+000002.0'), ('2021-04-06 01:02:47.820', 'D+000002.2'), ('2021-04-06 01:02:47.840', 'D+000002.0'), ('2021-04-06 01:02:47.860', 'D+000002.0'), ('2021-04-06 01:02:47.880', 'D+000001.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.0, 2.2, 2.0, 2.0, 1.6]
np.array X: [[2. ]
 [2. ]
 [2.2]
 [2. ]
 [2. ]
 [1.6]]
revised_weight: 1.4
2021-04-06 01:02:47.880: revising weight finished
revised_weight: 1.4 at 2021-04-06 01:02:47.880
plc_result: True
sendmessage: 20210406010247880,1,000016,000014
send message to PLC: 2021-04-06 01:02:47.922
time gap: 0:00:00.012726
2021-04-06 01:02:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:49.152
lastevent: 2021-04-06 01:02:49.138, last ten sensor data: [('2021-04-06 01:02:48.650', 'D+000002.0'), ('2021-04-06 01:02:48.830', 'D+000002.0'), ('2021-04-06 01:02:48.850', 'D+000002.0'), ('2021-04-06 01:02:48.870', 'D+000002.0'), ('2021-04-06 01:02:48.890', 'D+000002.2'), ('2021-04-06 01:02:49.070', 'D+000002.8'), ('2021-04-06 01:02:49.090', 'D+000002.8'), ('2021-04-06 01:02:49.110', 'D+000002.8'), ('2021-04-06 01:02:49.130', 'D+000002.6'), ('2021-04-06 01:02:49.150', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.8, 2.8, 2.8, 2.6, 2.6]
np.array X: [[2.2]
 [2.8]
 [2.8]
 [2.8]
 [2.6]
 [2.6]]
revised_weight: 2.4
2021-04-06 01:02:49.150: revising weight finished
revised_weight: 2.4 at 2021-04-06 01:02:49.150
plc_result: True
sendmessage: 20210406010249150,1,000026,000024
send message to PLC: 2021-04-06 01:02:49.164
time gap: 0:00:00.012621
2021-04-06 01:02:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:50.089
lastevent: 2021-04-06 01:02:50.080, last ten sensor data: [('2021-04-06 01:02:49.610', 'D+000002.6'), ('2021-04-06 01:02:49.630', 'D+000002.4'), ('2021-04-06 01:02:49.790', 'D+000003.0'), ('2021-04-06 01:02:49.810', 'D+000002.8'), ('2021-04-06 01:02:49.830', 'D+000002.8'), ('2021-04-06 01:02:49.850', 'D+000002.6'), ('2021-04-06 01:02:49.870', 'D+000002.8'), ('2021-04-06 01:02:50.050', 'D+000003.2'), ('2021-04-06 01:02:50.070', 'D+000003.2'), ('2021-04-06 01:02:50.090', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.6, 2.8, 3.2, 3.2, 3.2]
np.array X: [[2.8]
 [2.6]
 [2.8]
 [3.2]
 [3.2]
 [3.2]]
revised_weight: 2.9
2021-04-06 01:02:50.090: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:02:50.090
plc_result: True
sendmessage: 20210406010250090,1,000032,000029
send message to PLC: 2021-04-06 01:02:50.101
time gap: 0:00:00.012407
2021-04-06 01:02:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:51.837
lastevent: 2021-04-06 01:02:51.822, last ten sensor data: [('2021-04-06 01:02:51.500', 'D+000001.8'), ('2021-04-06 01:02:51.520', 'D+000002.0'), ('2021-04-06 01:02:51.540', 'D+000001.8'), ('2021-04-06 01:02:51.560', 'D+000002.0'), ('2021-04-06 01:02:51.580', 'D+000002.2'), ('2021-04-06 01:02:51.740', 'D+000002.0'), ('2021-04-06 01:02:51.760', 'D+000002.0'), ('2021-04-06 01:02:51.780', 'D+000002.0'), ('2021-04-06 01:02:51.800', 'D+000002.0'), ('2021-04-06 01:02:51.820', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.0, 2.0, 2.0, 2.0, 2.0]
np.array X: [[2.2]
 [2. ]
 [2. ]
 [2. ]
 [2. ]
 [2. ]]
revised_weight: 1.7
2021-04-06 01:02:51.820: revising weight finished
revised_weight: 1.7 at 2021-04-06 01:02:51.820
plc_result: True
sendmessage: 20210406010251820,1,000020,000017
send message to PLC: 2021-04-06 01:02:51.871
time gap: 0:00:00.034523
2021-04-06 01:02:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:54.882
lastevent: 2021-04-06 01:02:54.871, last ten sensor data: [('2021-04-06 01:02:54.410', 'D+000001.2'), ('2021-04-06 01:02:54.440', 'D+000001.6'), ('2021-04-06 01:02:54.460', 'D+000001.6'), ('2021-04-06 01:02:54.480', 'D+000001.4'), ('2021-04-06 01:02:54.500', 'D+000001.2'), ('2021-04-06 01:02:54.670', 'D+000001.6'), ('2021-04-06 01:02:54.690', 'D+000001.8'), ('2021-04-06 01:02:54.710', 'D+000002.0'), ('2021-04-06 01:02:54.730', 'D+000001.8'), ('2021-04-06 01:02:54.750', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.2, 1.6, 1.8, 2.0, 1.8, 1.8]
np.array X: [[1.2]
 [1.6]
 [1.8]
 [2. ]
 [1.8]
 [1.8]]
revised_weight: 1.7
2021-04-06 01:02:54.750: revising weight finished
revised_weight: 1.7 at 2021-04-06 01:02:54.750
plc_result: True
sendmessage: 20210406010254750,1,000018,000017
send message to PLC: 2021-04-06 01:02:54.894
time gap: 0:00:00.012452
2021-04-06 01:02:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:55.542
lastevent: 2021-04-06 01:02:55.529, last ten sensor data: [('2021-04-06 01:02:54.960', 'D+000001.8'), ('2021-04-06 01:02:54.980', 'D+000002.2'), ('2021-04-06 01:02:55.170', 'D+000001.8'), ('2021-04-06 01:02:55.190', 'D+000001.8'), ('2021-04-06 01:02:55.210', 'D+000001.8'), ('2021-04-06 01:02:55.400', 'D+000002.6'), ('2021-04-06 01:02:55.420', 'D+000003.0'), ('2021-04-06 01:02:55.440', 'D+000002.8'), ('2021-04-06 01:02:55.460', 'D+000003.0'), ('2021-04-06 01:02:55.480', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.6, 3.0, 2.8, 3.0, 3.2]
np.array X: [[1.8]
 [2.6]
 [3. ]
 [2.8]
 [3. ]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:02:55.480: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:02:55.480
plc_result: True
sendmessage: 20210406010255480,1,000032,000031
send message to PLC: 2021-04-06 01:02:55.549
time gap: 0:00:00.007108
2021-04-06 01:02:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:57.185
lastevent: 2021-04-06 01:02:57.172, last ten sensor data: [('2021-04-06 01:02:56.880', 'D+000002.8'), ('2021-04-06 01:02:56.900', 'D+000002.6'), ('2021-04-06 01:02:56.920', 'D+000003.0'), ('2021-04-06 01:02:56.940', 'D+000003.2'), ('2021-04-06 01:02:56.960', 'D+000003.4'), ('2021-04-06 01:02:57.030', 'D+000003.2'), ('2021-04-06 01:02:57.050', 'D+000003.0'), ('2021-04-06 01:02:57.070', 'D+000003.2'), ('2021-04-06 01:02:57.090', 'D+000003.2'), ('2021-04-06 01:02:57.110', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.2, 3.0, 3.2, 3.2, 3.2]
np.array X: [[3.4]
 [3.2]
 [3. ]
 [3.2]
 [3.2]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:02:57.110: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:02:57.110
plc_result: True
sendmessage: 20210406010257110,1,000032,000031
send message to PLC: 2021-04-06 01:02:57.194
time gap: 0:00:00.008690
2021-04-06 01:02:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:02:58.821
lastevent: 2021-04-06 01:02:58.808, last ten sensor data: [('2021-04-06 01:02:58.330', 'D+000002.6'), ('2021-04-06 01:02:58.490', 'D+000002.8'), ('2021-04-06 01:02:58.510', 'D+000002.6'), ('2021-04-06 01:02:58.530', 'D+000002.6'), ('2021-04-06 01:02:58.550', 'D+000002.8'), ('2021-04-06 01:02:58.730', 'D+000002.8'), ('2021-04-06 01:02:58.750', 'D+000002.6'), ('2021-04-06 01:02:58.770', 'D+000002.8'), ('2021-04-06 01:02:58.790', 'D+000002.4'), ('2021-04-06 01:02:58.810', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 2.6, 2.8, 2.4, 2.6]
np.array X: [[2.8]
 [2.8]
 [2.6]
 [2.8]
 [2.4]
 [2.6]]
revised_weight: 2.4
2021-04-06 01:02:58.810: revising weight finished
revised_weight: 2.4 at 2021-04-06 01:02:58.810
plc_result: True
sendmessage: 20210406010258810,1,000026,000024
send message to PLC: 2021-04-06 01:02:58.830
time gap: 0:00:00.008683
2021-04-06 01:02:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:00.135
lastevent: 2021-04-06 01:03:00.127, last ten sensor data: [('2021-04-06 01:02:59.510', 'D+000001.8'), ('2021-04-06 01:02:59.670', 'D+000001.8'), ('2021-04-06 01:02:59.690', 'D+000002.0'), ('2021-04-06 01:02:59.710', 'D+000002.0'), ('2021-04-06 01:02:59.730', 'D+000002.0'), ('2021-04-06 01:02:59.750', 'D+000002.0'), ('2021-04-06 01:02:59.930', 'D+000002.4'), ('2021-04-06 01:02:59.950', 'D+000002.0'), ('2021-04-06 01:02:59.970', 'D+000002.2'), ('2021-04-06 01:02:59.990', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.0, 2.4, 2.0, 2.2, 2.4]
np.array X: [[2. ]
 [2. ]
 [2.4]
 [2. ]
 [2.2]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:02:59.990: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:02:59.990
plc_result: True
sendmessage: 20210406010259990,1,000024,000023
send message to PLC: 2021-04-06 01:03:00.144
time gap: 0:00:00.008970
2021-04-06 01:03:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:02.796
lastevent: 2021-04-06 01:03:02.782, last ten sensor data: [('2021-04-06 01:03:02.400', 'D+000002.0'), ('2021-04-06 01:03:02.420', 'D+000002.0'), ('2021-04-06 01:03:02.520', 'D+000001.8'), ('2021-04-06 01:03:02.540', 'D+000001.8'), ('2021-04-06 01:03:02.560', 'D+000002.0'), ('2021-04-06 01:03:02.580', 'D+000002.0'), ('2021-04-06 01:03:02.600', 'D+000001.8'), ('2021-04-06 01:03:02.750', 'D+000002.6'), ('2021-04-06 01:03:02.770', 'D+000002.4'), ('2021-04-06 01:03:02.790', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.0, 1.8, 2.6, 2.4, 2.4]
np.array X: [[2. ]
 [2. ]
 [1.8]
 [2.6]
 [2.4]
 [2.4]]
revised_weight: 2.2
2021-04-06 01:03:02.790: revising weight finished
revised_weight: 2.2 at 2021-04-06 01:03:02.790
plc_result: True
sendmessage: 20210406010302790,1,000024,000022
send message to PLC: 2021-04-06 01:03:02.803
time gap: 0:00:00.007610
2021-04-06 01:03:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:03.423
lastevent: 2021-04-06 01:03:03.416, last ten sensor data: [('2021-04-06 01:03:02.830', 'D+000002.4'), ('2021-04-06 01:03:03.000', 'D+000003.0'), ('2021-04-06 01:03:03.020', 'D+000003.0'), ('2021-04-06 01:03:03.040', 'D+000002.6'), ('2021-04-06 01:03:03.060', 'D+000002.6'), ('2021-04-06 01:03:03.080', 'D+000002.6'), ('2021-04-06 01:03:03.260', 'D+000003.0'), ('2021-04-06 01:03:03.280', 'D+000003.4'), ('2021-04-06 01:03:03.300', 'D+000003.6'), ('2021-04-06 01:03:03.320', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 3.0, 3.4, 3.6, 3.2]
np.array X: [[2.6]
 [2.6]
 [3. ]
 [3.4]
 [3.6]
 [3.2]]
revised_weight: 2.9
2021-04-06 01:03:03.320: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:03:03.320
plc_result: True
sendmessage: 20210406010303320,1,000032,000029
send message to PLC: 2021-04-06 01:03:03.439
time gap: 0:00:00.016301
2021-04-06 01:03:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:05.973
lastevent: 2021-04-06 01:03:05.964, last ten sensor data: [('2021-04-06 01:03:05.400', 'D+000001.4'), ('2021-04-06 01:03:05.420', 'D+000001.2'), ('2021-04-06 01:03:05.600', 'D+000001.6'), ('2021-04-06 01:03:05.620', 'D+000001.4'), ('2021-04-06 01:03:05.640', 'D+000001.4'), ('2021-04-06 01:03:05.660', 'D+000001.6'), ('2021-04-06 01:03:05.840', 'D+000002.2'), ('2021-04-06 01:03:05.860', 'D+000002.0'), ('2021-04-06 01:03:05.880', 'D+000002.2'), ('2021-04-06 01:03:05.900', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 1.6, 2.2, 2.0, 2.2, 2.2]
np.array X: [[1.4]
 [1.6]
 [2.2]
 [2. ]
 [2.2]
 [2.2]]
revised_weight: 2.1
2021-04-06 01:03:05.900: revising weight finished
revised_weight: 2.1 at 2021-04-06 01:03:05.900
plc_result: True
sendmessage: 20210406010305900,1,000022,000021
send message to PLC: 2021-04-06 01:03:05.980
time gap: 0:00:00.007329
2021-04-06 01:03:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:06.710
lastevent: 2021-04-06 01:03:06.694, last ten sensor data: [('2021-04-06 01:03:06.340', 'D+000002.8'), ('2021-04-06 01:03:06.360', 'D+000002.8'), ('2021-04-06 01:03:06.380', 'D+000003.0'), ('2021-04-06 01:03:06.400', 'D+000003.0'), ('2021-04-06 01:03:06.560', 'D+000003.6'), ('2021-04-06 01:03:06.580', 'D+000003.6'), ('2021-04-06 01:03:06.600', 'D+000003.8'), ('2021-04-06 01:03:06.620', 'D+000004.0'), ('2021-04-06 01:03:06.640', 'D+000004.0'), ('2021-04-06 01:03:06.660', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.8, 4.0, 4.0, 3.4]
np.array X: [[3.6]
 [3.6]
 [3.8]
 [4. ]
 [4. ]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:03:06.660: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:03:06.660
plc_result: True
sendmessage: 20210406010306660,1,000034,000034
send message to PLC: 2021-04-06 01:03:06.717
time gap: 0:00:00.007353
2021-04-06 01:03:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:09.099
lastevent: 2021-04-06 01:03:09.091, last ten sensor data: [('2021-04-06 01:03:08.760', 'D+000002.0'), ('2021-04-06 01:03:08.780', 'D+000002.0'), ('2021-04-06 01:03:08.800', 'D+000001.8'), ('2021-04-06 01:03:08.820', 'D+000001.8'), ('2021-04-06 01:03:08.840', 'D+000002.0'), ('2021-04-06 01:03:08.990', 'D+000002.2'), ('2021-04-06 01:03:09.020', 'D+000002.0'), ('2021-04-06 01:03:09.040', 'D+000002.2'), ('2021-04-06 01:03:09.060', 'D+000002.2'), ('2021-04-06 01:03:09.080', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.2, 2.0, 2.2, 2.2, 2.0]
np.array X: [[2. ]
 [2.2]
 [2. ]
 [2.2]
 [2.2]
 [2. ]]
revised_weight: 1.8
2021-04-06 01:03:09.080: revising weight finished
revised_weight: 1.8 at 2021-04-06 01:03:09.080
plc_result: True
sendmessage: 20210406010309080,1,000020,000018
send message to PLC: 2021-04-06 01:03:09.107
time gap: 0:00:00.008631
2021-04-06 01:03:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:10.166
lastevent: 2021-04-06 01:03:10.151, last ten sensor data: [('2021-04-06 01:03:09.560', 'D+000002.6'), ('2021-04-06 01:03:09.740', 'D+000002.6'), ('2021-04-06 01:03:09.760', 'D+000002.4'), ('2021-04-06 01:03:09.780', 'D+000002.4'), ('2021-04-06 01:03:09.800', 'D+000002.4'), ('2021-04-06 01:03:09.980', 'D+000002.6'), ('2021-04-06 01:03:10.000', 'D+000002.8'), ('2021-04-06 01:03:10.020', 'D+000002.8'), ('2021-04-06 01:03:10.040', 'D+000002.8'), ('2021-04-06 01:03:10.060', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.6, 2.8, 2.8, 2.8, 3.0]
np.array X: [[2.4]
 [2.6]
 [2.8]
 [2.8]
 [2.8]
 [3. ]]
revised_weight: 3.0
2021-04-06 01:03:10.060: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:03:10.060
plc_result: True
sendmessage: 20210406010310060,1,000030,000030
send message to PLC: 2021-04-06 01:03:10.173
time gap: 0:00:00.006749
2021-04-06 01:03:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:11.150
lastevent: 2021-04-06 01:03:11.133, last ten sensor data: [('2021-04-06 01:03:10.690', 'D+000002.2'), ('2021-04-06 01:03:10.850', 'D+000002.4'), ('2021-04-06 01:03:10.870', 'D+000002.4'), ('2021-04-06 01:03:10.890', 'D+000002.4'), ('2021-04-06 01:03:10.910', 'D+000002.4'), ('2021-04-06 01:03:10.970', 'D+000002.4'), ('2021-04-06 01:03:10.990', 'D+000002.4'), ('2021-04-06 01:03:11.010', 'D+000002.2'), ('2021-04-06 01:03:11.030', 'D+000002.2'), ('2021-04-06 01:03:11.050', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.4, 2.2, 2.2, 2.2]
np.array X: [[2.4]
 [2.4]
 [2.4]
 [2.2]
 [2.2]
 [2.2]]
revised_weight: 2.0
2021-04-06 01:03:11.050: revising weight finished
revised_weight: 2.0 at 2021-04-06 01:03:11.050
plc_result: True
sendmessage: 20210406010311050,1,000022,000020
send message to PLC: 2021-04-06 01:03:11.161
time gap: 0:00:00.011816
2021-04-06 01:03:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:12.884
lastevent: 2021-04-06 01:03:12.864, last ten sensor data: [('2021-04-06 01:03:12.440', 'D+000001.6'), ('2021-04-06 01:03:12.460', 'D+000001.6'), ('2021-04-06 01:03:12.480', 'D+000001.4'), ('2021-04-06 01:03:12.500', 'D+000001.8'), ('2021-04-06 01:03:12.630', 'D+000002.0'), ('2021-04-06 01:03:12.650', 'D+000001.8'), ('2021-04-06 01:03:12.670', 'D+000002.2'), ('2021-04-06 01:03:12.690', 'D+000002.4'), ('2021-04-06 01:03:12.710', 'D+000002.0'), ('2021-04-06 01:03:12.730', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 1.8, 2.2, 2.4, 2.0, 2.2]
np.array X: [[2. ]
 [1.8]
 [2.2]
 [2.4]
 [2. ]
 [2.2]]
revised_weight: 1.8
2021-04-06 01:03:12.730: revising weight finished
revised_weight: 1.8 at 2021-04-06 01:03:12.730
plc_result: True
sendmessage: 20210406010312730,1,000022,000018
send message to PLC: 2021-04-06 01:03:12.896
time gap: 0:00:00.011604
2021-04-06 01:03:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:14.552
lastevent: 2021-04-06 01:03:14.532, last ten sensor data: [('2021-04-06 01:03:14.120', 'D+000002.0'), ('2021-04-06 01:03:14.140', 'D+000001.8'), ('2021-04-06 01:03:14.160', 'D+000002.0'), ('2021-04-06 01:03:14.180', 'D+000001.8'), ('2021-04-06 01:03:14.360', 'D+000002.4'), ('2021-04-06 01:03:14.380', 'D+000002.6'), ('2021-04-06 01:03:14.400', 'D+000002.4'), ('2021-04-06 01:03:14.420', 'D+000002.0'), ('2021-04-06 01:03:14.440', 'D+000001.8'), ('2021-04-06 01:03:14.460', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.6, 2.4, 2.0, 1.8, 1.8]
np.array X: [[2.4]
 [2.6]
 [2.4]
 [2. ]
 [1.8]
 [1.8]]
revised_weight: 1.5
2021-04-06 01:03:14.460: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:03:14.460
plc_result: True
sendmessage: 20210406010314460,1,000018,000015
send message to PLC: 2021-04-06 01:03:14.566
time gap: 0:00:00.013746
2021-04-06 01:03:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:15.526
lastevent: 2021-04-06 01:03:15.512, last ten sensor data: [('2021-04-06 01:03:14.950', 'D+000002.0'), ('2021-04-06 01:03:15.110', 'D+000001.8'), ('2021-04-06 01:03:15.130', 'D+000002.0'), ('2021-04-06 01:03:15.150', 'D+000002.0'), ('2021-04-06 01:03:15.170', 'D+000002.0'), ('2021-04-06 01:03:15.350', 'D+000002.4'), ('2021-04-06 01:03:15.370', 'D+000003.0'), ('2021-04-06 01:03:15.390', 'D+000002.8'), ('2021-04-06 01:03:15.410', 'D+000002.6'), ('2021-04-06 01:03:15.430', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.4, 3.0, 2.8, 2.6, 2.8]
np.array X: [[2. ]
 [2.4]
 [3. ]
 [2.8]
 [2.6]
 [2.8]]
revised_weight: 2.8
2021-04-06 01:03:15.430: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:03:15.430
plc_result: True
sendmessage: 20210406010315430,1,000028,000028
send message to PLC: 2021-04-06 01:03:15.533
time gap: 0:00:00.006745
2021-04-06 01:03:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:17.786
lastevent: 2021-04-06 01:03:17.774, last ten sensor data: [('2021-04-06 01:03:17.140', 'D+000002.0'), ('2021-04-06 01:03:17.320', 'D+000002.0'), ('2021-04-06 01:03:17.340', 'D+000002.2'), ('2021-04-06 01:03:17.360', 'D+000002.0'), ('2021-04-06 01:03:17.380', 'D+000002.2'), ('2021-04-06 01:03:17.630', 'D+000002.6'), ('2021-04-06 01:03:17.650', 'D+000002.8'), ('2021-04-06 01:03:17.670', 'D+000002.8'), ('2021-04-06 01:03:17.690', 'D+000003.0'), ('2021-04-06 01:03:17.710', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.6, 2.8, 2.8, 3.0, 3.0]
np.array X: [[2.2]
 [2.6]
 [2.8]
 [2.8]
 [3. ]
 [3. ]]
revised_weight: 3.0
2021-04-06 01:03:17.710: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:03:17.710
plc_result: True
sendmessage: 20210406010317710,1,000030,000030
send message to PLC: 2021-04-06 01:03:17.793
time gap: 0:00:00.006611
2021-04-06 01:03:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:03:18: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db']
2021-04-06 01:03:18: [13071] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_00.db
select_plcdb_filename: b
2021-04-06 01:03:18: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:03:18: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:03:18: select done
2021-04-06 01:03:18: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:03:18: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:03:18: sendjson called, 30 records in httpPlcDataSender thread
2021-04-06 01:03:18: count: 30 in httpPlcDataSender thread
2021-04-06 01:03:18: D+: 30 in httpPlcDataSender thread
2021-04-06 01:03:18: D-: 0 in httpPlcDataSender thread
2021-04-06 01:03:18: S+: 0 in httpPlcDataSender thread
2021-04-06 01:03:18: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.5', 'sensorAt': '2021-04-06 01:02:18.410'}, {'value': '1.1', 'sensorAt': '2021-04-06 01:02:22.810'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:02:27.150'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:02:31.330'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:02:35.770'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:02:36.760'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:02:40.850'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:02:41.570'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:02:45.210'}, {'value': '1.4', 'sensorAt': '2021-04-06 01:02:46.160'}, {'value': '1.4', 'sensorAt': '2021-04-06 01:02:47.880'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:02:49.150'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:02:50.090'}, {'value': '1.7', 'sensorAt': '2021-04-06 01:02:51.820'}, {'value': '1.7', 'sensorAt': '2021-04-06 01:02:54.750'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:02:55.480'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:02:57.110'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:02:58.810'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:02:59.990'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:03:02.790'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:03:03.320'}, {'value': '2.1', 'sensorAt': '2021-04-06 01:03:05.900'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:03:06.660'}, {'value': '1.8', 'sensorAt': '2021-04-06 01:03:09.080'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:03:10.060'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:03:11.050'}, {'value': '1.8', 'sensorAt': '2021-04-06 01:03:12.730'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:03:14.460'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:03:15.430'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:03:17.710'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:02:18.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:22.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:27.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:31.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:35.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:36.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:40.850'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:41.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:45.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:46.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:47.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:49.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:50.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:51.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:54.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:55.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:57.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:58.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:59.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:02.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:03.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:05.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:06.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:09.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:10.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:11.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:12.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:14.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:15.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:17.710'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:03:18', 'collectDate': '2021-04-06 01:03:17', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.5', 'sensorAt': '2021-04-06 01:02:18.410'}, {'value': '1.1', 'sensorAt': '2021-04-06 01:02:22.810'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:02:27.150'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:02:31.330'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:02:35.770'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:02:36.760'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:02:40.850'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:02:41.570'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:02:45.210'}, {'value': '1.4', 'sensorAt': '2021-04-06 01:02:46.160'}, {'value': '1.4', 'sensorAt': '2021-04-06 01:02:47.880'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:02:49.150'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:02:50.090'}, {'value': '1.7', 'sensorAt': '2021-04-06 01:02:51.820'}, {'value': '1.7', 'sensorAt': '2021-04-06 01:02:54.750'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:02:55.480'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:02:57.110'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:02:58.810'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:02:59.990'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:03:02.790'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:03:03.320'}, {'value': '2.1', 'sensorAt': '2021-04-06 01:03:05.900'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:03:06.660'}, {'value': '1.8', 'sensorAt': '2021-04-06 01:03:09.080'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:03:10.060'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:03:11.050'}, {'value': '1.8', 'sensorAt': '2021-04-06 01:03:12.730'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:03:14.460'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:03:15.430'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:03:17.710'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:02:18.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:22.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:27.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:31.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:35.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:36.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:40.850'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:41.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:45.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:46.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:47.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:49.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:50.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:51.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:54.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:55.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:57.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:58.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:02:59.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:02.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:03.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:05.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:06.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:09.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:10.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:11.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:12.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:14.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:15.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:17.710'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:03:18: send http
2021-04-06 01:03:18: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:03:18: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:03:18: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:03:19.052
lastevent: 2021-04-06 01:03:19.045, last ten sensor data: [('2021-04-06 01:03:18.580', 'D+000003.2'), ('2021-04-06 01:03:18.620', 'D+000002.8'), ('2021-04-06 01:03:18.640', 'D+000002.8'), ('2021-04-06 01:03:18.660', 'D+000002.8'), ('2021-04-06 01:03:18.680', 'D+000003.0'), ('2021-04-06 01:03:18.840', 'D+000002.6'), ('2021-04-06 01:03:18.870', 'D+000003.0'), ('2021-04-06 01:03:18.890', 'D+000003.0'), ('2021-04-06 01:03:18.910', 'D+000003.2'), ('2021-04-06 01:03:18.930', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.6, 3.0, 3.0, 3.2, 3.0]
np.array X: [[3. ]
 [2.6]
 [3. ]
 [3. ]
 [3.2]
 [3. ]]
revised_weight: 2.7
2021-04-06 01:03:18.930: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:03:18.930
plc_result: True
sendmessage: 20210406010318930,1,000030,000027
send message to PLC: 2021-04-06 01:03:19.058
time gap: 0:00:00.006490
2021-04-06 01:03:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:21.328
lastevent: 2021-04-06 01:03:21.312, last ten sensor data: [('2021-04-06 01:03:20.870', 'D+000001.8'), ('2021-04-06 01:03:20.890', 'D+000001.4'), ('2021-04-06 01:03:21.050', 'D+000003.4'), ('2021-04-06 01:03:21.070', 'D+000003.8'), ('2021-04-06 01:03:21.090', 'D+000003.8'), ('2021-04-06 01:03:21.110', 'D+000003.8'), ('2021-04-06 01:03:21.130', 'D+000004.2'), ('2021-04-06 01:03:21.270', 'D+000003.6'), ('2021-04-06 01:03:21.290', 'D+000004.4'), ('2021-04-06 01:03:21.320', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 4.2, 3.6, 4.4, 4.0]
np.array X: [[3.8]
 [3.8]
 [4.2]
 [3.6]
 [4.4]
 [4. ]]
revised_weight: 4.2
2021-04-06 01:03:21.320: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:03:21.320
plc_result: True
sendmessage: 20210406010321320,1,000040,000042
send message to PLC: 2021-04-06 01:03:21.335
time gap: 0:00:00.006429
2021-04-06 01:03:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:03:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:03:23: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:03:23: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:03:23: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:03:23: select done
2021-04-06 01:03:23: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:03:23: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:03:24: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:03:24: count: 2 in httpPlcDataSender thread
2021-04-06 01:03:24: D+: 2 in httpPlcDataSender thread
2021-04-06 01:03:24: D-: 0 in httpPlcDataSender thread
2021-04-06 01:03:24: S+: 0 in httpPlcDataSender thread
2021-04-06 01:03:24: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.7', 'sensorAt': '2021-04-06 01:03:18.930'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:03:21.320'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:03:18.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:21.320'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:03:24', 'collectDate': '2021-04-06 01:03:21', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.7', 'sensorAt': '2021-04-06 01:03:18.930'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:03:21.320'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:03:18.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:21.320'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:03:24: send http
2021-04-06 01:03:24: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:03:24: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:03:24: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:03:28: httpScaleDataSender thread Timeout occurred
2021-04-06 01:03:28: [13692] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
2021-04-06 01:03:28: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2021-04-06 01:03:29: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:03:29: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:03:29: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:03:29: select done
2021-04-06 01:03:29: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:03:29: No Data remains in httpPlcDataSender thread
2021-04-06 01:03:29: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:03:29: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:03:29: current db filename:  in httpPlcDataSender thread
2021-04-06 01:03:29: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:03:42.628
lastevent: 2021-04-06 01:03:42.613, last ten sensor data: [('2021-04-06 01:03:42.230', 'D+000001.4'), ('2021-04-06 01:03:42.250', 'D+000001.6'), ('2021-04-06 01:03:42.270', 'D+000001.6'), ('2021-04-06 01:03:42.290', 'D+000001.6'), ('2021-04-06 01:03:42.310', 'D+000001.6'), ('2021-04-06 01:03:42.470', 'D+000002.0'), ('2021-04-06 01:03:42.490', 'D+000002.0'), ('2021-04-06 01:03:42.510', 'D+000002.0'), ('2021-04-06 01:03:42.530', 'D+000002.0'), ('2021-04-06 01:03:42.550', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 2.0, 2.0, 2.0, 2.0, 2.0]
np.array X: [[1.6]
 [2. ]
 [2. ]
 [2. ]
 [2. ]
 [2. ]]
revised_weight: 1.7
2021-04-06 01:03:42.550: revising weight finished
revised_weight: 1.7 at 2021-04-06 01:03:42.550
plc_result: True
sendmessage: 20210406010342550,1,000020,000017
send message to PLC: 2021-04-06 01:03:42.641
time gap: 0:00:00.012397
2021-04-06 01:03:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:43.494
lastevent: 2021-04-06 01:03:43.480, last ten sensor data: [('2021-04-06 01:03:42.990', 'D+000002.0'), ('2021-04-06 01:03:43.010', 'D+000001.8'), ('2021-04-06 01:03:43.030', 'D+000001.8'), ('2021-04-06 01:03:43.200', 'D+000002.4'), ('2021-04-06 01:03:43.220', 'D+000002.4'), ('2021-04-06 01:03:43.240', 'D+000002.6'), ('2021-04-06 01:03:43.260', 'D+000002.6'), ('2021-04-06 01:03:43.280', 'D+000002.6'), ('2021-04-06 01:03:43.460', 'D+000002.8'), ('2021-04-06 01:03:43.480', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, ('2021-04-06 01:03:43.500', 'D+000003.0')]
list X: [2.4, 2.6, 2.6, 2.6, 2.8, 2.8]
np.array X: [[2.4]
 [2.6]
 [2.6]
 [2.6]
 [2.8]
 [2.8]]
revised_weight: 2.8
2021-04-06 01:03:43.480: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:03:43.480
plc_result: True
sendmessage: 20210406010343480,1,000028,000028
send message to PLC: 2021-04-06 01:03:43.513
time gap: 0:00:00.019380
2021-04-06 01:03:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:45.228
lastevent: 2021-04-06 01:03:45.217, last ten sensor data: [('2021-04-06 01:03:44.740', 'D+000002.6'), ('2021-04-06 01:03:44.760', 'D+000002.4'), ('2021-04-06 01:03:44.930', 'D+000002.6'), ('2021-04-06 01:03:44.950', 'D+000002.4'), ('2021-04-06 01:03:44.970', 'D+000002.4'), ('2021-04-06 01:03:44.990', 'D+000002.4'), ('2021-04-06 01:03:45.170', 'D+000002.6'), ('2021-04-06 01:03:45.190', 'D+000003.0'), ('2021-04-06 01:03:45.210', 'D+000003.0'), ('2021-04-06 01:03:45.230', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.6, 3.0, 3.0, 3.2]
np.array X: [[2.4]
 [2.4]
 [2.6]
 [3. ]
 [3. ]
 [3.2]]
revised_weight: 3.0
2021-04-06 01:03:45.230: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:03:45.230
plc_result: True
sendmessage: 20210406010345230,1,000032,000030
send message to PLC: 2021-04-06 01:03:45.240
time gap: 0:00:00.012658
2021-04-06 01:03:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:46.201
lastevent: 2021-04-06 01:03:46.199, last ten sensor data: [('2021-04-06 01:03:45.750', 'D+000002.4'), ('2021-04-06 01:03:45.890', 'D+000003.4'), ('2021-04-06 01:03:45.910', 'D+000003.4'), ('2021-04-06 01:03:45.930', 'D+000003.4'), ('2021-04-06 01:03:45.950', 'D+000003.6'), ('2021-04-06 01:03:45.970', 'D+000003.6'), ('2021-04-06 01:03:46.140', 'D+000004.0'), ('2021-04-06 01:03:46.160', 'D+000004.0'), ('2021-04-06 01:03:46.180', 'D+000004.0'), ('2021-04-06 01:03:46.200', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 4.0, 4.0, 4.0, 4.0]
np.array X: [[3.6]
 [3.6]
 [4. ]
 [4. ]
 [4. ]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:03:46.200: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:03:46.200
plc_result: True
sendmessage: 20210406010346200,1,000040,000040
send message to PLC: 2021-04-06 01:03:46.213
time gap: 0:00:00.012604
2021-04-06 01:03:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:50.135
lastevent: 2021-04-06 01:03:50.122, last ten sensor data: [('2021-04-06 01:03:49.700', 'D+000001.6'), ('2021-04-06 01:03:49.720', 'D+000001.6'), ('2021-04-06 01:03:49.740', 'D+000001.8'), ('2021-04-06 01:03:49.760', 'D+000001.6'), ('2021-04-06 01:03:49.930', 'D+000002.0'), ('2021-04-06 01:03:49.950', 'D+000002.2'), ('2021-04-06 01:03:49.970', 'D+000002.4'), ('2021-04-06 01:03:49.990', 'D+000002.6'), ('2021-04-06 01:03:50.090', 'D+000002.6'), ('2021-04-06 01:03:50.120', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.2, 2.4, 2.6, 2.6, 2.0]
np.array X: [[2. ]
 [2.2]
 [2.4]
 [2.6]
 [2.6]
 [2. ]]
revised_weight: 1.8
2021-04-06 01:03:50.120: revising weight finished
revised_weight: 1.8 at 2021-04-06 01:03:50.120
plc_result: True
sendmessage: 20210406010350120,1,000020,000018
send message to PLC: 2021-04-06 01:03:50.142
time gap: 0:00:00.007381
2021-04-06 01:03:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:52.201
lastevent: 2021-04-06 01:03:52.194, last ten sensor data: [('2021-04-06 01:03:51.650', 'D+000002.6'), ('2021-04-06 01:03:51.830', 'D+000002.6'), ('2021-04-06 01:03:51.850', 'D+000002.6'), ('2021-04-06 01:03:51.870', 'D+000002.6'), ('2021-04-06 01:03:51.890', 'D+000002.6'), ('2021-04-06 01:03:52.070', 'D+000002.6'), ('2021-04-06 01:03:52.090', 'D+000002.8'), ('2021-04-06 01:03:52.110', 'D+000002.8'), ('2021-04-06 01:03:52.130', 'D+000002.8'), ('2021-04-06 01:03:52.150', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 2.8, 2.8, 2.8, 2.6]
np.array X: [[2.6]
 [2.6]
 [2.8]
 [2.8]
 [2.8]
 [2.6]]
revised_weight: 2.4
2021-04-06 01:03:52.150: revising weight finished
revised_weight: 2.4 at 2021-04-06 01:03:52.150
plc_result: True
sendmessage: 20210406010352150,1,000026,000024
send message to PLC: 2021-04-06 01:03:52.210
time gap: 0:00:00.008843
2021-04-06 01:03:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:52.655
lastevent: 2021-04-06 01:03:52.640, last ten sensor data: [('2021-04-06 01:03:52.310', 'D+000003.0'), ('2021-04-06 01:03:52.330', 'D+000003.2'), ('2021-04-06 01:03:52.350', 'D+000003.0'), ('2021-04-06 01:03:52.370', 'D+000003.2'), ('2021-04-06 01:03:52.390', 'D+000003.2'), ('2021-04-06 01:03:52.550', 'D+000005.6'), ('2021-04-06 01:03:52.570', 'D+000005.4'), ('2021-04-06 01:03:52.590', 'D+000005.4'), ('2021-04-06 01:03:52.610', 'D+000005.0'), ('2021-04-06 01:03:52.630', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 5.6, 5.4, 5.4, 5.0, 5.2]
np.array X: [[3.2]
 [5.6]
 [5.4]
 [5.4]
 [5. ]
 [5.2]]
revised_weight: 5.5
2021-04-06 01:03:52.630: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:03:52.630
plc_result: True
sendmessage: 20210406010352630,1,000052,000055
send message to PLC: 2021-04-06 01:03:52.664
time gap: 0:00:00.008805
2021-04-06 01:03:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:53.560
lastevent: 2021-04-06 01:03:53.541, last ten sensor data: [('2021-04-06 01:03:53.060', 'D+000005.2'), ('2021-04-06 01:03:53.080', 'D+000005.4'), ('2021-04-06 01:03:53.100', 'D+000005.2'), ('2021-04-06 01:03:53.120', 'D+000004.6'), ('2021-04-06 01:03:53.300', 'D+000003.6'), ('2021-04-06 01:03:53.320', 'D+000003.6'), ('2021-04-06 01:03:53.340', 'D+000003.8'), ('2021-04-06 01:03:53.360', 'D+000004.4'), ('2021-04-06 01:03:53.520', 'D+000004.6'), ('2021-04-06 01:03:53.540', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.8, 4.4, 4.6, 4.2]
np.array X: [[3.6]
 [3.6]
 [3.8]
 [4.4]
 [4.6]
 [4.2]]
revised_weight: 4.1
2021-04-06 01:03:53.540: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:03:53.540
plc_result: True
sendmessage: 20210406010353540,1,000042,000041
send message to PLC: 2021-04-06 01:03:53.573
time gap: 0:00:00.012563
2021-04-06 01:03:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:54.645
lastevent: 2021-04-06 01:03:54.631, last ten sensor data: [('2021-04-06 01:03:54.230', 'D+000003.6'), ('2021-04-06 01:03:54.250', 'D+000004.2'), ('2021-04-06 01:03:54.270', 'D+000004.2'), ('2021-04-06 01:03:54.290', 'D+000004.2'), ('2021-04-06 01:03:54.310', 'D+000003.8'), ('2021-04-06 01:03:54.470', 'D+000003.8'), ('2021-04-06 01:03:54.490', 'D+000003.8'), ('2021-04-06 01:03:54.510', 'D+000003.8'), ('2021-04-06 01:03:54.530', 'D+000004.0'), ('2021-04-06 01:03:54.550', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 3.8, 3.8, 4.0, 3.8]
np.array X: [[3.8]
 [3.8]
 [3.8]
 [3.8]
 [4. ]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:03:54.550: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:03:54.550
plc_result: True
sendmessage: 20210406010354550,1,000038,000038
send message to PLC: 2021-04-06 01:03:54.660
time gap: 0:00:00.015173
2021-04-06 01:03:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:55.136
lastevent: 2021-04-06 01:03:55.117, last ten sensor data: [('2021-04-06 01:03:54.710', 'D+000003.6'), ('2021-04-06 01:03:54.730', 'D+000003.6'), ('2021-04-06 01:03:54.750', 'D+000003.6'), ('2021-04-06 01:03:54.770', 'D+000003.6'), ('2021-04-06 01:03:54.790', 'D+000004.0'), ('2021-04-06 01:03:54.960', 'D+000003.8'), ('2021-04-06 01:03:54.980', 'D+000004.0'), ('2021-04-06 01:03:55.000', 'D+000004.2'), ('2021-04-06 01:03:55.020', 'D+000004.2'), ('2021-04-06 01:03:55.040', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.8, 4.0, 4.2, 4.2, 4.4]
np.array X: [[4. ]
 [3.8]
 [4. ]
 [4.2]
 [4.2]
 [4.4]]
revised_weight: 4.4
2021-04-06 01:03:55.040: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:03:55.040
plc_result: True
sendmessage: 20210406010355040,1,000044,000044
send message to PLC: 2021-04-06 01:03:55.148
time gap: 0:00:00.011450
2021-04-06 01:03:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:56.449
lastevent: 2021-04-06 01:03:56.431, last ten sensor data: [('2021-04-06 01:03:55.970', 'D+000004.6'), ('2021-04-06 01:03:55.990', 'D+000004.6'), ('2021-04-06 01:03:56.010', 'D+000004.4'), ('2021-04-06 01:03:56.030', 'D+000004.6'), ('2021-04-06 01:03:56.180', 'D+000004.8'), ('2021-04-06 01:03:56.210', 'D+000005.2'), ('2021-04-06 01:03:56.230', 'D+000005.4'), ('2021-04-06 01:03:56.250', 'D+000005.2'), ('2021-04-06 01:03:56.270', 'D+000005.2'), ('2021-04-06 01:03:56.440', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.2, 5.4, 5.2, 5.2, 5.2]
np.array X: [[4.8]
 [5.2]
 [5.4]
 [5.2]
 [5.2]
 [5.2]]
revised_weight: 5.1
2021-04-06 01:03:56.440: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:03:56.440
plc_result: True
sendmessage: 20210406010356440,1,000052,000051
send message to PLC: 2021-04-06 01:03:56.462
time gap: 0:00:00.012643
2021-04-06 01:03:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:57.213
lastevent: 2021-04-06 01:03:57.206, last ten sensor data: [('2021-04-06 01:03:56.700', 'D+000004.4'), ('2021-04-06 01:03:56.720', 'D+000004.4'), ('2021-04-06 01:03:56.740', 'D+000004.6'), ('2021-04-06 01:03:56.930', 'D+000005.6'), ('2021-04-06 01:03:56.950', 'D+000005.8'), ('2021-04-06 01:03:56.970', 'D+000005.8'), ('2021-04-06 01:03:56.990', 'D+000005.8'), ('2021-04-06 01:03:57.170', 'D+000009.0'), ('2021-04-06 01:03:57.190', 'D+000009.2'), ('2021-04-06 01:03:57.210', 'D+000009.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.8, 5.8, 9.0, 9.2, 9.0]
np.array X: [[5.8]
 [5.8]
 [5.8]
 [9. ]
 [9.2]
 [9. ]]
revised_weight: 8.5
2021-04-06 01:03:57.210: revising weight finished
revised_weight: 8.5 at 2021-04-06 01:03:57.210
plc_result: True
sendmessage: 20210406010357210,1,000090,000085
send message to PLC: 2021-04-06 01:03:57.220
time gap: 0:00:00.006438
2021-04-06 01:03:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:58.659
lastevent: 2021-04-06 01:03:58.644, last ten sensor data: [('2021-04-06 01:03:57.960', 'D+000002.6'), ('2021-04-06 01:03:57.980', 'D+000002.6'), ('2021-04-06 01:03:58.160', 'D+000003.2'), ('2021-04-06 01:03:58.180', 'D+000003.0'), ('2021-04-06 01:03:58.200', 'D+000003.0'), ('2021-04-06 01:03:58.220', 'D+000002.6'), ('2021-04-06 01:03:58.410', 'D+000003.2'), ('2021-04-06 01:03:58.430', 'D+000002.8'), ('2021-04-06 01:03:58.450', 'D+000003.2'), ('2021-04-06 01:03:58.650', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.6, 3.2, 2.8, 3.2, 2.6]
np.array X: [[3. ]
 [2.6]
 [3.2]
 [2.8]
 [3.2]
 [2.6]]
revised_weight: 2.6
2021-04-06 01:03:58.650: revising weight finished
revised_weight: 2.6 at 2021-04-06 01:03:58.650
plc_result: True
sendmessage: 20210406010358650,1,000026,000026
send message to PLC: 2021-04-06 01:03:58.670
time gap: 0:00:00.011480
2021-04-06 01:03:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:03:59.733
lastevent: 2021-04-06 01:03:59.715, last ten sensor data: [('2021-04-06 01:03:59.360', 'D+000002.2'), ('2021-04-06 01:03:59.380', 'D+000002.0'), ('2021-04-06 01:03:59.400', 'D+000002.0'), ('2021-04-06 01:03:59.420', 'D+000001.8'), ('2021-04-06 01:03:59.440', 'D+000001.8'), ('2021-04-06 01:03:59.460', 'D+000002.0'), ('2021-04-06 01:03:59.620', 'D+000002.2'), ('2021-04-06 01:03:59.640', 'D+000002.2'), ('2021-04-06 01:03:59.660', 'D+000002.2'), ('2021-04-06 01:03:59.680', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.0, 2.2, 2.2, 2.2, 2.2]
np.array X: [[1.8]
 [2. ]
 [2.2]
 [2.2]
 [2.2]
 [2.2]]
revised_weight: 2.0
2021-04-06 01:03:59.680: revising weight finished
revised_weight: 2.0 at 2021-04-06 01:03:59.680
plc_result: True
sendmessage: 20210406010359680,1,000022,000020
send message to PLC: 2021-04-06 01:03:59.745
time gap: 0:00:00.011189
2021-04-06 01:03:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:01.240
lastevent: 2021-04-06 01:04:01.226, last ten sensor data: [('2021-04-06 01:04:00.770', 'D+000002.6'), ('2021-04-06 01:04:00.800', 'D+000002.8'), ('2021-04-06 01:04:00.820', 'D+000003.0'), ('2021-04-06 01:04:00.840', 'D+000002.8'), ('2021-04-06 01:04:00.860', 'D+000003.0'), ('2021-04-06 01:04:01.040', 'D+000003.0'), ('2021-04-06 01:04:01.060', 'D+000003.2'), ('2021-04-06 01:04:01.080', 'D+000003.0'), ('2021-04-06 01:04:01.100', 'D+000002.8'), ('2021-04-06 01:04:01.120', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 3.2, 3.0, 2.8, 2.8]
np.array X: [[3. ]
 [3. ]
 [3.2]
 [3. ]
 [2.8]
 [2.8]]
revised_weight: 2.7
2021-04-06 01:04:01.120: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:04:01.120
plc_result: True
sendmessage: 20210406010401120,1,000028,000027
send message to PLC: 2021-04-06 01:04:01.247
time gap: 0:00:00.006333
2021-04-06 01:04:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:01.959
lastevent: 2021-04-06 01:04:01.950, last ten sensor data: [('2021-04-06 01:04:01.520', 'D+000003.0'), ('2021-04-06 01:04:01.540', 'D+000003.0'), ('2021-04-06 01:04:01.560', 'D+000003.0'), ('2021-04-06 01:04:01.580', 'D+000003.0'), ('2021-04-06 01:04:01.600', 'D+000003.2'), ('2021-04-06 01:04:01.760', 'D+000003.4'), ('2021-04-06 01:04:01.780', 'D+000003.6'), ('2021-04-06 01:04:01.800', 'D+000003.8'), ('2021-04-06 01:04:01.820', 'D+000003.4'), ('2021-04-06 01:04:01.840', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 3.6, 3.8, 3.4, 3.2]
np.array X: [[3.2]
 [3.4]
 [3.6]
 [3.8]
 [3.4]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:04:01.840: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:04:01.840
plc_result: True
sendmessage: 20210406010401840,1,000032,000031
send message to PLC: 2021-04-06 01:04:01.969
time gap: 0:00:00.009881
2021-04-06 01:04:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:03.733
lastevent: 2021-04-06 01:04:03.727, last ten sensor data: [('2021-04-06 01:04:03.250', 'D+000002.4'), ('2021-04-06 01:04:03.270', 'D+000002.4'), ('2021-04-06 01:04:03.290', 'D+000002.8'), ('2021-04-06 01:04:03.310', 'D+000002.8'), ('2021-04-06 01:04:03.470', 'D+000002.8'), ('2021-04-06 01:04:03.490', 'D+000002.8'), ('2021-04-06 01:04:03.510', 'D+000002.8'), ('2021-04-06 01:04:03.530', 'D+000002.6'), ('2021-04-06 01:04:03.550', 'D+000002.6'), ('2021-04-06 01:04:03.720', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 2.8, 2.6, 2.6, 3.0]
np.array X: [[2.8]
 [2.8]
 [2.8]
 [2.6]
 [2.6]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:04:03.720: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:04:03.720
plc_result: True
sendmessage: 20210406010403720,1,000030,000029
send message to PLC: 2021-04-06 01:04:03.740
time gap: 0:00:00.006530
2021-04-06 01:04:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:05.018
lastevent: 2021-04-06 01:04:05.003, last ten sensor data: [('2021-04-06 01:04:04.520', 'D+000002.6'), ('2021-04-06 01:04:04.540', 'D+000003.2'), ('2021-04-06 01:04:04.700', 'D+000003.4'), ('2021-04-06 01:04:04.720', 'D+000003.8'), ('2021-04-06 01:04:04.740', 'D+000004.0'), ('2021-04-06 01:04:04.760', 'D+000004.0'), ('2021-04-06 01:04:04.970', 'D+000004.8'), ('2021-04-06 01:04:04.990', 'D+000004.8'), ('2021-04-06 01:04:05.010', 'D+000004.4'), ('2021-04-06 01:04:05.030', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 4.8, 4.8, 4.4, 4.6]
np.array X: [[4. ]
 [4. ]
 [4.8]
 [4.8]
 [4.4]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:04:05.030: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:04:05.030
plc_result: True
sendmessage: 20210406010405030,1,000046,000046
send message to PLC: 2021-04-06 01:04:05.025
time gap: 0:00:00.006616
2021-04-06 01:04:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:05.902
lastevent: 2021-04-06 01:04:05.894, last ten sensor data: [('2021-04-06 01:04:05.450', 'D+000004.8'), ('2021-04-06 01:04:05.470', 'D+000004.6'), ('2021-04-06 01:04:05.490', 'D+000004.4'), ('2021-04-06 01:04:05.510', 'D+000004.2'), ('2021-04-06 01:04:05.530', 'D+000004.4'), ('2021-04-06 01:04:05.690', 'D+000004.8'), ('2021-04-06 01:04:05.720', 'D+000004.6'), ('2021-04-06 01:04:05.740', 'D+000004.4'), ('2021-04-06 01:04:05.760', 'D+000004.4'), ('2021-04-06 01:04:05.780', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.8, 4.6, 4.4, 4.4, 4.2]
np.array X: [[4.4]
 [4.8]
 [4.6]
 [4.4]
 [4.4]
 [4.2]]
revised_weight: 4.5
2021-04-06 01:04:05.780: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:04:05.780
plc_result: True
sendmessage: 20210406010405780,1,000042,000045
send message to PLC: 2021-04-06 01:04:05.909
time gap: 0:00:00.006387
2021-04-06 01:04:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:07.936
lastevent: 2021-04-06 01:04:07.921, last ten sensor data: [('2021-04-06 01:04:07.560', 'D+000003.0'), ('2021-04-06 01:04:07.580', 'D+000003.4'), ('2021-04-06 01:04:07.600', 'D+000003.2'), ('2021-04-06 01:04:07.620', 'D+000003.4'), ('2021-04-06 01:04:07.640', 'D+000003.2'), ('2021-04-06 01:04:07.790', 'D+000003.4'), ('2021-04-06 01:04:07.820', 'D+000003.4'), ('2021-04-06 01:04:07.840', 'D+000003.8'), ('2021-04-06 01:04:07.860', 'D+000003.8'), ('2021-04-06 01:04:07.880', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 3.4, 3.8, 3.8, 3.6]
np.array X: [[3.2]
 [3.4]
 [3.4]
 [3.8]
 [3.8]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:04:07.880: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:04:07.880
plc_result: True
sendmessage: 20210406010407880,1,000036,000036
send message to PLC: 2021-04-06 01:04:07.942
time gap: 0:00:00.006149
2021-04-06 01:04:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:08.745
lastevent: 2021-04-06 01:04:08.732, last ten sensor data: [('2021-04-06 01:04:08.320', 'D+000003.6'), ('2021-04-06 01:04:08.340', 'D+000003.6'), ('2021-04-06 01:04:08.360', 'D+000003.4'), ('2021-04-06 01:04:08.380', 'D+000003.4'), ('2021-04-06 01:04:08.450', 'D+000003.6'), ('2021-04-06 01:04:08.540', 'D+000004.0'), ('2021-04-06 01:04:08.560', 'D+000004.0'), ('2021-04-06 01:04:08.580', 'D+000004.0'), ('2021-04-06 01:04:08.600', 'D+000004.0'), ('2021-04-06 01:04:08.620', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 4.0, 4.0, 4.0, 3.6]
np.array X: [[3.6]
 [4. ]
 [4. ]
 [4. ]
 [4. ]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:04:08.620: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:04:08.620
plc_result: True
sendmessage: 20210406010408620,1,000036,000036
send message to PLC: 2021-04-06 01:04:08.752
time gap: 0:00:00.006447
2021-04-06 01:04:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:10.012
lastevent: 2021-04-06 01:04:09.991, last ten sensor data: [('2021-04-06 01:04:09.340', 'D+000003.8'), ('2021-04-06 01:04:09.530', 'D+000003.4'), ('2021-04-06 01:04:09.550', 'D+000003.6'), ('2021-04-06 01:04:09.570', 'D+000003.6'), ('2021-04-06 01:04:09.590', 'D+000003.8'), ('2021-04-06 01:04:09.750', 'D+000003.0'), ('2021-04-06 01:04:09.770', 'D+000003.0'), ('2021-04-06 01:04:09.790', 'D+000003.0'), ('2021-04-06 01:04:09.810', 'D+000003.0'), ('2021-04-06 01:04:09.830', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.0, 3.0, 3.0, 3.0, 3.2]
np.array X: [[3.8]
 [3. ]
 [3. ]
 [3. ]
 [3. ]
 [3.2]]
revised_weight: 2.9
2021-04-06 01:04:09.830: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:04:09.830
plc_result: True
sendmessage: 20210406010409830,1,000032,000029
send message to PLC: 2021-04-06 01:04:10.024
time gap: 0:00:00.011842
2021-04-06 01:04:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:11.118
lastevent: 2021-04-06 01:04:11.102, last ten sensor data: [('2021-04-06 01:04:10.780', 'D+000003.8'), ('2021-04-06 01:04:10.800', 'D+000004.0'), ('2021-04-06 01:04:10.820', 'D+000004.0'), ('2021-04-06 01:04:10.840', 'D+000004.0'), ('2021-04-06 01:04:10.870', 'D+000004.6'), ('2021-04-06 01:04:10.970', 'D+000007.2'), ('2021-04-06 01:04:11.000', 'D+000007.6'), ('2021-04-06 01:04:11.020', 'D+000007.8'), ('2021-04-06 01:04:11.040', 'D+000007.8'), ('2021-04-06 01:04:11.060', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 7.2, 7.6, 7.8, 7.8, 7.2]
np.array X: [[4.6]
 [7.2]
 [7.6]
 [7.8]
 [7.8]
 [7.2]]
revised_weight: 7.8
2021-04-06 01:04:11.060: revising weight finished
revised_weight: 7.8 at 2021-04-06 01:04:11.060
plc_result: True
sendmessage: 20210406010411060,1,000072,000078
send message to PLC: 2021-04-06 01:04:11.125
time gap: 0:00:00.006918
2021-04-06 01:04:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:12.486
lastevent: 2021-04-06 01:04:12.464, last ten sensor data: [('2021-04-06 01:04:12.020', 'D+000005.0'), ('2021-04-06 01:04:12.200', 'D+000007.6'), ('2021-04-06 01:04:12.220', 'D+000008.2'), ('2021-04-06 01:04:12.240', 'D+000008.4'), ('2021-04-06 01:04:12.260', 'D+000008.4'), ('2021-04-06 01:04:12.280', 'D+000007.8'), ('2021-04-06 01:04:12.420', 'D+000009.2'), ('2021-04-06 01:04:12.440', 'D+000011.2'), ('2021-04-06 01:04:12.470', 'D+000013.8'), ('2021-04-06 01:04:12.490', 'D+000015.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.4, 7.8, 9.2, 11.2, 13.8, 15.0]
np.array X: [[ 8.4]
 [ 7.8]
 [ 9.2]
 [11.2]
 [13.8]
 [15. ]]
revised_weight: 12.0
2021-04-06 01:04:12.490: revising weight finished
revised_weight: 12.0 at 2021-04-06 01:04:12.490
plc_result: True
sendmessage: 20210406010412490,1,000150,000120
send message to PLC: 2021-04-06 01:04:12.499
time gap: 0:00:00.012655
2021-04-06 01:04:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:13.250
lastevent: 2021-04-06 01:04:13.232, last ten sensor data: [('2021-04-06 01:04:12.770', 'D+000015.6'), ('2021-04-06 01:04:12.930', 'D+000014.8'), ('2021-04-06 01:04:12.950', 'D+000014.6'), ('2021-04-06 01:04:12.970', 'D+000013.8'), ('2021-04-06 01:04:12.990', 'D+000013.4'), ('2021-04-06 01:04:13.010', 'D+000012.4'), ('2021-04-06 01:04:13.190', 'D+000005.6'), ('2021-04-06 01:04:13.210', 'D+000005.4'), ('2021-04-06 01:04:13.230', 'D+000005.0'), ('2021-04-06 01:04:13.250', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [13.4, 12.4, 5.6, 5.4, 5.0, 4.8]
np.array X: [[13.4]
 [12.4]
 [ 5.6]
 [ 5.4]
 [ 5. ]
 [ 4.8]]
revised_weight: 9.0
2021-04-06 01:04:13.250: revising weight finished
revised_weight: 9.0 at 2021-04-06 01:04:13.250
plc_result: True
sendmessage: 20210406010413250,1,000048,000090
send message to PLC: 2021-04-06 01:04:13.263
time gap: 0:00:00.012579
2021-04-06 01:04:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:04:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:15.338
lastevent: 2021-04-06 01:04:15.335, last ten sensor data: [('2021-04-06 01:04:14.710', 'D+000002.6'), ('2021-04-06 01:04:14.880', 'D+000002.8'), ('2021-04-06 01:04:14.900', 'D+000002.8'), ('2021-04-06 01:04:14.920', 'D+000002.8'), ('2021-04-06 01:04:14.940', 'D+000003.0'), ('2021-04-06 01:04:14.960', 'D+000003.0'), ('2021-04-06 01:04:15.140', 'D+000003.8'), ('2021-04-06 01:04:15.160', 'D+000003.4'), ('2021-04-06 01:04:15.180', 'D+000003.6'), ('2021-04-06 01:04:15.200', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 3.8, 3.4, 3.6, 4.0]
np.array X: [[3. ]
 [3. ]
 [3.8]
 [3.4]
 [3.6]
 [4. ]]
revised_weight: 3.8
2021-04-06 01:04:15.200: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:04:15.200
plc_result: True
sendmessage: 20210406010415200,1,000040,000038
send message to PLC: 2021-04-06 01:04:15.349
time gap: 0:00:00.011177
2021-04-06 01:04:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:16.582
lastevent: 2021-04-06 01:04:16.575, last ten sensor data: [('2021-04-06 01:04:15.950', 'D+000006.0'), ('2021-04-06 01:04:16.100', 'D+000004.4'), ('2021-04-06 01:04:16.130', 'D+000003.4'), ('2021-04-06 01:04:16.150', 'D+000003.2'), ('2021-04-06 01:04:16.170', 'D+000003.4'), ('2021-04-06 01:04:16.350', 'D+000004.2'), ('2021-04-06 01:04:16.370', 'D+000004.2'), ('2021-04-06 01:04:16.390', 'D+000004.2'), ('2021-04-06 01:04:16.410', 'D+000004.0'), ('2021-04-06 01:04:16.430', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.2, 4.2, 4.2, 4.0, 4.0]
np.array X: [[3.4]
 [4.2]
 [4.2]
 [4.2]
 [4. ]
 [4. ]]
revised_weight: 4.1
2021-04-06 01:04:16.430: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:04:16.430
plc_result: True
sendmessage: 20210406010416430,1,000040,000041
send message to PLC: 2021-04-06 01:04:16.593
time gap: 0:00:00.011736
2021-04-06 01:04:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:17.299
lastevent: 2021-04-06 01:04:17.289, last ten sensor data: [('2021-04-06 01:04:16.670', 'D+000004.4'), ('2021-04-06 01:04:16.850', 'D+000004.6'), ('2021-04-06 01:04:16.870', 'D+000004.4'), ('2021-04-06 01:04:16.890', 'D+000004.4'), ('2021-04-06 01:04:16.910', 'D+000004.4'), ('2021-04-06 01:04:17.090', 'D+000005.0'), ('2021-04-06 01:04:17.110', 'D+000005.6'), ('2021-04-06 01:04:17.130', 'D+000005.4'), ('2021-04-06 01:04:17.150', 'D+000005.8'), ('2021-04-06 01:04:17.170', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.0, 5.6, 5.4, 5.8, 6.0]
np.array X: [[4.4]
 [5. ]
 [5.6]
 [5.4]
 [5.8]
 [6. ]]
revised_weight: 5.4
2021-04-06 01:04:17.170: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:04:17.170
plc_result: True
sendmessage: 20210406010417170,1,000060,000054
send message to PLC: 2021-04-06 01:04:17.310
time gap: 0:00:00.010963
2021-04-06 01:04:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:18.116
lastevent: 2021-04-06 01:04:18.107, last ten sensor data: [('2021-04-06 01:04:17.810', 'D+000006.8'), ('2021-04-06 01:04:17.830', 'D+000006.4'), ('2021-04-06 01:04:17.850', 'D+000006.4'), ('2021-04-06 01:04:17.870', 'D+000006.8'), ('2021-04-06 01:04:17.890', 'D+000007.2'), ('2021-04-06 01:04:18.050', 'D+000007.4'), ('2021-04-06 01:04:18.070', 'D+000007.2'), ('2021-04-06 01:04:18.090', 'D+000007.0'), ('2021-04-06 01:04:18.110', 'D+000006.8'), ('2021-04-06 01:04:18.130', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 7.4, 7.2, 7.0, 6.8, 7.4]
np.array X: [[7.2]
 [7.4]
 [7.2]
 [7. ]
 [6.8]
 [7.4]]
revised_weight: 7.1
2021-04-06 01:04:18.130: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:04:18.130
plc_result: True
sendmessage: 20210406010418130,1,000074,000071
send message to PLC: 2021-04-06 01:04:18.127
time gap: 0:00:00.011363
2021-04-06 01:04:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:19.325
lastevent: 2021-04-06 01:04:19.319, last ten sensor data: [('2021-04-06 01:04:18.860', 'D+000004.6'), ('2021-04-06 01:04:19.040', 'D+000006.0'), ('2021-04-06 01:04:19.060', 'D+000006.4'), ('2021-04-06 01:04:19.080', 'D+000006.8'), ('2021-04-06 01:04:19.100', 'D+000007.2'), ('2021-04-06 01:04:19.120', 'D+000007.0'), ('2021-04-06 01:04:19.280', 'D+000007.4'), ('2021-04-06 01:04:19.300', 'D+000007.4'), ('2021-04-06 01:04:19.320', 'D+000007.6'), ('2021-04-06 01:04:19.340', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 7.0, 7.4, 7.4, 7.6, 7.6]
np.array X: [[7.2]
 [7. ]
 [7.4]
 [7.4]
 [7.6]
 [7.6]]
revised_weight: 7.3
2021-04-06 01:04:19.340: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:04:19.340
plc_result: True
sendmessage: 20210406010419340,1,000076,000073
send message to PLC: 2021-04-06 01:04:19.338
time gap: 0:00:00.013159
2021-04-06 01:04:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:20.203
lastevent: 2021-04-06 01:04:20.193, last ten sensor data: [('2021-04-06 01:04:19.760', 'D+000007.4'), ('2021-04-06 01:04:19.790', 'D+000006.8'), ('2021-04-06 01:04:19.810', 'D+000006.4'), ('2021-04-06 01:04:19.830', 'D+000006.2'), ('2021-04-06 01:04:19.850', 'D+000005.8'), ('2021-04-06 01:04:20.010', 'D+000005.6'), ('2021-04-06 01:04:20.030', 'D+000005.4'), ('2021-04-06 01:04:20.050', 'D+000005.2'), ('2021-04-06 01:04:20.070', 'D+000005.0'), ('2021-04-06 01:04:20.090', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.6, 5.4, 5.2, 5.0, 5.2]
np.array X: [[5.8]
 [5.6]
 [5.4]
 [5.2]
 [5. ]
 [5.2]]
revised_weight: 5.4
2021-04-06 01:04:20.090: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:04:20.090
plc_result: True
sendmessage: 20210406010420090,1,000052,000054
send message to PLC: 2021-04-06 01:04:20.214
time gap: 0:00:00.011199
2021-04-06 01:04:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:21.597
lastevent: 2021-04-06 01:04:21.592, last ten sensor data: [('2021-04-06 01:04:21.080', 'D+000003.4'), ('2021-04-06 01:04:21.230', 'D+000002.8'), ('2021-04-06 01:04:21.250', 'D+000003.0'), ('2021-04-06 01:04:21.270', 'D+000003.2'), ('2021-04-06 01:04:21.290', 'D+000003.2'), ('2021-04-06 01:04:21.480', 'D+000002.8'), ('2021-04-06 01:04:21.500', 'D+000002.6'), ('2021-04-06 01:04:21.520', 'D+000002.6'), ('2021-04-06 01:04:21.540', 'D+000002.6'), ('2021-04-06 01:04:21.560', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 2.8, 2.6, 2.6, 2.6, 2.4]
np.array X: [[3.2]
 [2.8]
 [2.6]
 [2.6]
 [2.6]
 [2.4]]
revised_weight: 2.2
2021-04-06 01:04:21.560: revising weight finished
revised_weight: 2.2 at 2021-04-06 01:04:21.560
plc_result: True
sendmessage: 20210406010421560,1,000024,000022
send message to PLC: 2021-04-06 01:04:21.608
time gap: 0:00:00.010965
2021-04-06 01:04:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:23.295
lastevent: 2021-04-06 01:04:23.289, last ten sensor data: [('2021-04-06 01:04:22.940', 'D+000002.2'), ('2021-04-06 01:04:22.960', 'D+000002.4'), ('2021-04-06 01:04:22.980', 'D+000002.4'), ('2021-04-06 01:04:23.000', 'D+000002.6'), ('2021-04-06 01:04:23.020', 'D+000002.8'), ('2021-04-06 01:04:23.180', 'D+000002.6'), ('2021-04-06 01:04:23.200', 'D+000002.4'), ('2021-04-06 01:04:23.220', 'D+000002.2'), ('2021-04-06 01:04:23.240', 'D+000002.4'), ('2021-04-06 01:04:23.260', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.6, 2.4, 2.2, 2.4, 3.4]
np.array X: [[2.8]
 [2.6]
 [2.4]
 [2.2]
 [2.4]
 [3.4]]
revised_weight: 3.0
2021-04-06 01:04:23.260: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:04:23.260
plc_result: True
sendmessage: 20210406010423260,1,000034,000030
send message to PLC: 2021-04-06 01:04:23.306
time gap: 0:00:00.010954
2021-04-06 01:04:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:25.136
lastevent: 2021-04-06 01:04:25.131, last ten sensor data: [('2021-04-06 01:04:24.470', 'D+000003.4'), ('2021-04-06 01:04:24.660', 'D+000003.2'), ('2021-04-06 01:04:24.680', 'D+000003.4'), ('2021-04-06 01:04:24.700', 'D+000003.4'), ('2021-04-06 01:04:24.730', 'D+000003.6'), ('2021-04-06 01:04:24.890', 'D+000003.6'), ('2021-04-06 01:04:24.910', 'D+000003.6'), ('2021-04-06 01:04:24.930', 'D+000003.8'), ('2021-04-06 01:04:24.950', 'D+000003.6'), ('2021-04-06 01:04:24.970', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.6, 3.8, 3.6, 3.6]
np.array X: [[3.6]
 [3.6]
 [3.6]
 [3.8]
 [3.6]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:04:24.970: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:04:24.970
plc_result: True
sendmessage: 20210406010424970,1,000036,000036
send message to PLC: 2021-04-06 01:04:25.147
time gap: 0:00:00.011437
2021-04-06 01:04:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:26.092
lastevent: 2021-04-06 01:04:26.085, last ten sensor data: [('2021-04-06 01:04:25.460', 'D+000004.0'), ('2021-04-06 01:04:25.640', 'D+000004.6'), ('2021-04-06 01:04:25.660', 'D+000004.4'), ('2021-04-06 01:04:25.680', 'D+000004.4'), ('2021-04-06 01:04:25.700', 'D+000004.4'), ('2021-04-06 01:04:25.720', 'D+000004.2'), ('2021-04-06 01:04:25.880', 'D+000010.2'), ('2021-04-06 01:04:25.900', 'D+000011.0'), ('2021-04-06 01:04:25.920', 'D+000011.2'), ('2021-04-06 01:04:25.940', 'D+000011.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.2, 10.2, 11.0, 11.2, 11.4]
np.array X: [[ 4.4]
 [ 4.2]
 [10.2]
 [11. ]
 [11.2]
 [11.4]]
revised_weight: 11.0
2021-04-06 01:04:25.940: revising weight finished
revised_weight: 11.0 at 2021-04-06 01:04:25.940
plc_result: True
sendmessage: 20210406010425940,1,000114,000110
send message to PLC: 2021-04-06 01:04:26.104
time gap: 0:00:00.011057
2021-04-06 01:04:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:26.876
lastevent: 2021-04-06 01:04:26.864, last ten sensor data: [('2021-04-06 01:04:26.400', 'D+000015.8'), ('2021-04-06 01:04:26.420', 'D+000016.0'), ('2021-04-06 01:04:26.440', 'D+000016.0'), ('2021-04-06 01:04:26.600', 'D+000007.0'), ('2021-04-06 01:04:26.620', 'D+000010.4'), ('2021-04-06 01:04:26.640', 'D+000011.2'), ('2021-04-06 01:04:26.660', 'D+000008.6'), ('2021-04-06 01:04:26.680', 'D+000007.0'), ('2021-04-06 01:04:26.850', 'D+000004.8'), ('2021-04-06 01:04:26.870', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [10.4, 11.2, 8.6, 7.0, 4.8, 4.4]
np.array X: [[10.4]
 [11.2]
 [ 8.6]
 [ 7. ]
 [ 4.8]
 [ 4.4]]
revised_weight: 8.1
2021-04-06 01:04:26.870: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:04:26.870
plc_result: True
sendmessage: 20210406010426870,1,000044,000081
send message to PLC: 2021-04-06 01:04:26.887
time gap: 0:00:00.011117
2021-04-06 01:04:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:27.550
lastevent: 2021-04-06 01:04:27.541, last ten sensor data: [('2021-04-06 01:04:27.080', 'D+000004.6'), ('2021-04-06 01:04:27.110', 'D+000004.8'), ('2021-04-06 01:04:27.130', 'D+000004.8'), ('2021-04-06 01:04:27.150', 'D+000004.6'), ('2021-04-06 01:04:27.170', 'D+000004.8'), ('2021-04-06 01:04:27.350', 'D+000005.8'), ('2021-04-06 01:04:27.370', 'D+000006.4'), ('2021-04-06 01:04:27.390', 'D+000006.6'), ('2021-04-06 01:04:27.410', 'D+000006.8'), ('2021-04-06 01:04:27.430', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.8, 6.4, 6.6, 6.8, 6.8]
np.array X: [[4.8]
 [5.8]
 [6.4]
 [6.6]
 [6.8]
 [6.8]]
revised_weight: 6.3
2021-04-06 01:04:27.430: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:04:27.430
plc_result: True
sendmessage: 20210406010427430,1,000068,000063
send message to PLC: 2021-04-06 01:04:27.562
time gap: 0:00:00.012178
2021-04-06 01:04:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:28.237
lastevent: 2021-04-06 01:04:28.235, last ten sensor data: [('2021-04-06 01:04:27.830', 'D+000007.2'), ('2021-04-06 01:04:27.850', 'D+000007.4'), ('2021-04-06 01:04:27.870', 'D+000007.0'), ('2021-04-06 01:04:27.890', 'D+000006.8'), ('2021-04-06 01:04:27.910', 'D+000007.0'), ('2021-04-06 01:04:28.070', 'D+000006.6'), ('2021-04-06 01:04:28.090', 'D+000006.6'), ('2021-04-06 01:04:28.110', 'D+000006.6'), ('2021-04-06 01:04:28.130', 'D+000006.6'), ('2021-04-06 01:04:28.150', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 6.6, 6.6, 6.6, 6.6, 6.6]
np.array X: [[7. ]
 [6.6]
 [6.6]
 [6.6]
 [6.6]
 [6.6]]
revised_weight: 6.6
2021-04-06 01:04:28.150: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:04:28.150
plc_result: True
sendmessage: 20210406010428150,1,000066,000066
send message to PLC: 2021-04-06 01:04:28.243
time gap: 0:00:00.006157
2021-04-06 01:04:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:28: httpScaleDataSender thread Timeout occurred
2021-04-06 01:04:28: [13693] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
2021-04-06 01:04:28: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2021-04-06 01:04:29: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db']
2021-04-06 01:04:29: [13072] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_00.db
select_plcdb_filename: b
2021-04-06 01:04:29: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:04:29: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:29: select done
2021-04-06 01:04:29: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:04:30: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:04:30: sendjson called, 38 records in httpPlcDataSender thread
2021-04-06 01:04:30: count: 38 in httpPlcDataSender thread
2021-04-06 01:04:30: D+: 38 in httpPlcDataSender thread
2021-04-06 01:04:30: D-: 0 in httpPlcDataSender thread
2021-04-06 01:04:30: S+: 0 in httpPlcDataSender thread
2021-04-06 01:04:30: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.7', 'sensorAt': '2021-04-06 01:03:42.550'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:03:43.480'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:03:45.230'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:03:46.200'}, {'value': '1.8', 'sensorAt': '2021-04-06 01:03:50.120'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:03:52.150'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:03:52.630'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:03:53.540'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:03:54.550'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:03:55.040'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:03:56.440'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:03:57.210'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:03:58.650'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:03:59.680'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:04:01.120'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:04:01.840'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:04:03.720'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:04:05.030'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:04:05.780'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:04:07.880'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:04:08.620'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:04:09.830'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:04:11.060'}, {'value': '12.0', 'sensorAt': '2021-04-06 01:04:12.490'}, {'value': '9.0', 'sensorAt': '2021-04-06 01:04:13.250'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:04:15.200'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:04:16.430'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:04:17.170'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:04:18.130'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:04:19.340'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:04:20.090'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:04:21.560'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:04:23.260'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:04:24.970'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:04:25.940'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:04:26.870'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:04:27.430'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:04:28.150'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:03:42.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:43.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:45.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:46.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:50.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:52.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:52.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:53.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:54.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:55.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:56.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:57.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:58.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:59.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:01.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:01.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:03.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:05.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:05.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:07.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:08.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:09.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:11.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:12.490'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:13.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:15.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:16.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:17.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:18.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:19.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:20.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:21.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:23.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:24.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:25.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:26.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:27.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:28.150'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:04:30', 'collectDate': '2021-04-06 01:04:28', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.7', 'sensorAt': '2021-04-06 01:03:42.550'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:03:43.480'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:03:45.230'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:03:46.200'}, {'value': '1.8', 'sensorAt': '2021-04-06 01:03:50.120'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:03:52.150'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:03:52.630'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:03:53.540'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:03:54.550'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:03:55.040'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:03:56.440'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:03:57.210'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:03:58.650'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:03:59.680'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:04:01.120'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:04:01.840'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:04:03.720'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:04:05.030'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:04:05.780'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:04:07.880'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:04:08.620'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:04:09.830'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:04:11.060'}, {'value': '12.0', 'sensorAt': '2021-04-06 01:04:12.490'}, {'value': '9.0', 'sensorAt': '2021-04-06 01:04:13.250'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:04:15.200'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:04:16.430'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:04:17.170'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:04:18.130'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:04:19.340'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:04:20.090'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:04:21.560'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:04:23.260'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:04:24.970'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:04:25.940'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:04:26.870'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:04:27.430'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:04:28.150'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:03:42.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:43.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:45.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:46.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:50.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:52.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:52.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:53.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:54.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:55.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:56.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:57.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:58.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:03:59.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:01.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:01.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:03.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:05.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:05.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:07.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:08.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:09.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:11.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:12.490'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:13.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:15.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:16.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:17.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:18.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:19.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:20.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:21.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:23.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:24.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:25.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:26.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:27.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:28.150'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:04:30: send http
2021-04-06 01:04:30: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:04:30: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:04:31: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:04:31.845
lastevent: 2021-04-06 01:04:31.832, last ten sensor data: [('2021-04-06 01:04:31.220', 'D+000002.2'), ('2021-04-06 01:04:31.400', 'D+000003.0'), ('2021-04-06 01:04:31.420', 'D+000002.8'), ('2021-04-06 01:04:31.440', 'D+000002.8'), ('2021-04-06 01:04:31.460', 'D+000003.0'), ('2021-04-06 01:04:31.640', 'D+000002.8'), ('2021-04-06 01:04:31.660', 'D+000002.8'), ('2021-04-06 01:04:31.680', 'D+000002.8'), ('2021-04-06 01:04:31.700', 'D+000002.8'), ('2021-04-06 01:04:31.720', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 2.8, 2.8, 2.8, 3.2]
np.array X: [[3. ]
 [2.8]
 [2.8]
 [2.8]
 [2.8]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:04:31.720: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:04:31.720
plc_result: True
sendmessage: 20210406010431720,1,000032,000031
send message to PLC: 2021-04-06 01:04:31.859
time gap: 0:00:00.013296
2021-04-06 01:04:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:32.736
lastevent: 2021-04-06 01:04:32.727, last ten sensor data: [('2021-04-06 01:04:32.360', 'D+000004.4'), ('2021-04-06 01:04:32.380', 'D+000004.6'), ('2021-04-06 01:04:32.400', 'D+000004.6'), ('2021-04-06 01:04:32.420', 'D+000005.2'), ('2021-04-06 01:04:32.440', 'D+000005.4'), ('2021-04-06 01:04:32.600', 'D+000020.2'), ('2021-04-06 01:04:32.620', 'D+000022.8'), ('2021-04-06 01:04:32.640', 'D+000023.4'), ('2021-04-06 01:04:32.660', 'D+000021.8'), ('2021-04-06 01:04:32.680', 'D+000019.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 20.2, 22.8, 23.4, 21.8, 19.8]
np.array X: [[ 5.4]
 [20.2]
 [22.8]
 [23.4]
 [21.8]
 [19.8]]
revised_weight: 22.6
2021-04-06 01:04:32.680: revising weight finished
revised_weight: 22.6 at 2021-04-06 01:04:32.680
plc_result: False
sendmessage: 20210406010432680,0,000198,000226
send message to PLC: 2021-04-06 01:04:32.747
time gap: 0:00:00.011245
2021-04-06 01:04:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:33.980
lastevent: 2021-04-06 01:04:33.974, last ten sensor data: [('2021-04-06 01:04:33.590', 'D+000004.8'), ('2021-04-06 01:04:33.610', 'D+000005.2'), ('2021-04-06 01:04:33.630', 'D+000005.0'), ('2021-04-06 01:04:33.650', 'D+000005.0'), ('2021-04-06 01:04:33.670', 'D+000005.0'), ('2021-04-06 01:04:33.830', 'D+000005.0'), ('2021-04-06 01:04:33.850', 'D+000005.2'), ('2021-04-06 01:04:33.870', 'D+000005.6'), ('2021-04-06 01:04:33.890', 'D+000005.6'), ('2021-04-06 01:04:33.910', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 5.2, 5.6, 5.6, 5.4]
np.array X: [[5. ]
 [5. ]
 [5.2]
 [5.6]
 [5.6]
 [5.4]]
revised_weight: 5.4
2021-04-06 01:04:33.910: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:04:33.910
plc_result: True
sendmessage: 20210406010433910,1,000054,000054
send message to PLC: 2021-04-06 01:04:33.991
time gap: 0:00:00.011377
2021-04-06 01:04:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:34.942
lastevent: 2021-04-06 01:04:34.929, last ten sensor data: [('2021-04-06 01:04:34.610', 'D+000005.4'), ('2021-04-06 01:04:34.630', 'D+000005.4'), ('2021-04-06 01:04:34.650', 'D+000005.0'), ('2021-04-06 01:04:34.670', 'D+000005.4'), ('2021-04-06 01:04:34.830', 'D+000005.6'), ('2021-04-06 01:04:34.850', 'D+000006.2'), ('2021-04-06 01:04:34.870', 'D+000006.0'), ('2021-04-06 01:04:34.890', 'D+000005.8'), ('2021-04-06 01:04:34.910', 'D+000005.6'), ('2021-04-06 01:04:34.930', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.2, 6.0, 5.8, 5.6, 5.8]
np.array X: [[5.6]
 [6.2]
 [6. ]
 [5.8]
 [5.6]
 [5.8]]
revised_weight: 5.7
2021-04-06 01:04:34.930: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:04:34.930
plc_result: True
sendmessage: 20210406010434930,1,000058,000057
send message to PLC: 2021-04-06 01:04:34.953
time gap: 0:00:00.011076
2021-04-06 01:04:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:36: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:04:36: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:04:36.469
lastevent: 2021-04-06 01:04:36.462, last ten sensor data: [('2021-04-06 01:04:36.050', 'D+000004.2'), ('2021-04-06 01:04:36.080', 'D+000004.2'), ('2021-04-06 01:04:36.100', 'D+000004.6'), ('2021-04-06 01:04:36.120', 'D+000004.6'), ('2021-04-06 01:04:36.140', 'D+000004.8'), ('2021-04-06 01:04:36.310', 'D+000005.8'), ('2021-04-06 01:04:36.330', 'D+000005.8'), ('2021-04-06 01:04:36.350', 'D+000005.8'), ('2021-04-06 01:04:36.370', 'D+000006.0'), ('2021-04-06 01:04:36.390', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.8, 5.8, 5.8, 6.0, 6.8]
np.array X: [[4.8]
 [5.8]
 [5.8]
 [5.8]
 [6. ]
 [6.8]]
revised_weight: 5.9
2021-04-06 01:04:36.390: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:04:36.390
plc_result: True
sendmessage: 20210406010436390,1,000068,000059
send message to PLC: 2021-04-06 01:04:36.480
time gap: 0:00:00.010910
2021-04-06 01:04:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:36: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:36: select done
2021-04-06 01:04:36: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:04:36: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:04:36: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:04:36: count: 5 in httpPlcDataSender thread
2021-04-06 01:04:36: D+: 5 in httpPlcDataSender thread
2021-04-06 01:04:36: D-: 0 in httpPlcDataSender thread
2021-04-06 01:04:36: S+: 0 in httpPlcDataSender thread
2021-04-06 01:04:36: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.1', 'sensorAt': '2021-04-06 01:04:31.720'}, {'value': '22.6', 'sensorAt': '2021-04-06 01:04:32.680'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:04:33.910'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:04:34.930'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:04:36.390'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:31.720'}, {'value': 0, 'sensorAt': '2021-04-06 01:04:32.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:33.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:34.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:36.390'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:04:36', 'collectDate': '2021-04-06 01:04:36', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.1', 'sensorAt': '2021-04-06 01:04:31.720'}, {'value': '22.6', 'sensorAt': '2021-04-06 01:04:32.680'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:04:33.910'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:04:34.930'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:04:36.390'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:31.720'}, {'value': 0, 'sensorAt': '2021-04-06 01:04:32.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:33.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:34.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:36.390'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:04:36: send http
2021-04-06 01:04:36: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:04:36: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:04:37: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:04:37.852
lastevent: 2021-04-06 01:04:37.840, last ten sensor data: [('2021-04-06 01:04:37.440', 'D+000004.6'), ('2021-04-06 01:04:37.460', 'D+000004.6'), ('2021-04-06 01:04:37.480', 'D+000005.0'), ('2021-04-06 01:04:37.500', 'D+000005.2'), ('2021-04-06 01:04:37.520', 'D+000006.0'), ('2021-04-06 01:04:37.670', 'D+000012.4'), ('2021-04-06 01:04:37.700', 'D+000014.8'), ('2021-04-06 01:04:37.720', 'D+000015.4'), ('2021-04-06 01:04:37.740', 'D+000015.6'), ('2021-04-06 01:04:37.760', 'D+000015.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 12.4, 14.8, 15.4, 15.6, 15.6]
np.array X: [[ 6. ]
 [12.4]
 [14.8]
 [15.4]
 [15.6]
 [15.6]]
revised_weight: 14.7
2021-04-06 01:04:37.760: revising weight finished
revised_weight: 14.7 at 2021-04-06 01:04:37.760
plc_result: True
sendmessage: 20210406010437760,1,000156,000147
send message to PLC: 2021-04-06 01:04:37.864
time gap: 0:00:00.011806
2021-04-06 01:04:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:38.575
lastevent: 2021-04-06 01:04:38.567, last ten sensor data: [('2021-04-06 01:04:37.990', 'D+000015.4'), ('2021-04-06 01:04:38.010', 'D+000016.0'), ('2021-04-06 01:04:38.180', 'D+000016.0'), ('2021-04-06 01:04:38.200', 'D+000015.4'), ('2021-04-06 01:04:38.220', 'D+000015.4'), ('2021-04-06 01:04:38.240', 'D+000015.0'), ('2021-04-06 01:04:38.420', 'D+000009.8'), ('2021-04-06 01:04:38.440', 'D+000008.8'), ('2021-04-06 01:04:38.460', 'D+000008.0'), ('2021-04-06 01:04:38.480', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [15.4, 15.0, 9.8, 8.8, 8.0, 6.6]
np.array X: [[15.4]
 [15. ]
 [ 9.8]
 [ 8.8]
 [ 8. ]
 [ 6.6]]
revised_weight: 12.6
2021-04-06 01:04:38.480: revising weight finished
revised_weight: 12.6 at 2021-04-06 01:04:38.480
plc_result: True
sendmessage: 20210406010438480,1,000066,000126
send message to PLC: 2021-04-06 01:04:38.587
time gap: 0:00:00.011779
2021-04-06 01:04:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:39.479
lastevent: 2021-04-06 01:04:39.466, last ten sensor data: [('2021-04-06 01:04:39.140', 'D+000004.2'), ('2021-04-06 01:04:39.160', 'D+000004.2'), ('2021-04-06 01:04:39.180', 'D+000004.2'), ('2021-04-06 01:04:39.200', 'D+000004.2'), ('2021-04-06 01:04:39.220', 'D+000004.2'), ('2021-04-06 01:04:39.380', 'D+000004.4'), ('2021-04-06 01:04:39.410', 'D+000004.0'), ('2021-04-06 01:04:39.430', 'D+000004.4'), ('2021-04-06 01:04:39.450', 'D+000004.6'), ('2021-04-06 01:04:39.470', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.4, 4.0, 4.4, 4.6, 4.6]
np.array X: [[4.2]
 [4.4]
 [4. ]
 [4.4]
 [4.6]
 [4.6]]
revised_weight: 4.7
2021-04-06 01:04:39.470: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:04:39.470
plc_result: True
sendmessage: 20210406010439470,1,000046,000047
send message to PLC: 2021-04-06 01:04:39.490
time gap: 0:00:00.011416
2021-04-06 01:04:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:40.040
lastevent: 2021-04-06 01:04:40.023, last ten sensor data: [0, ('2021-04-06 01:04:39.640', 'D+000004.4'), ('2021-04-06 01:04:39.660', 'D+000004.4'), ('2021-04-06 01:04:39.680', 'D+000004.4'), ('2021-04-06 01:04:39.700', 'D+000004.8'), ('2021-04-06 01:04:39.720', 'D+000004.8'), ('2021-04-06 01:04:39.890', 'D+000004.4'), ('2021-04-06 01:04:39.910', 'D+000004.0'), ('2021-04-06 01:04:39.930', 'D+000004.0'), ('2021-04-06 01:04:39.950', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.4, 4.0, 4.0, 4.2]
np.array X: [[4.8]
 [4.8]
 [4.4]
 [4. ]
 [4. ]
 [4.2]]
revised_weight: 4.6
2021-04-06 01:04:39.950: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:04:39.950
plc_result: True
sendmessage: 20210406010439950,1,000042,000046
send message to PLC: 2021-04-06 01:04:40.052
time gap: 0:00:00.012468
2021-04-06 01:04:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:41.164
lastevent: 2021-04-06 01:04:41.152, last ten sensor data: [('2021-04-06 01:04:40.670', 'D+000003.4'), ('2021-04-06 01:04:40.690', 'D+000003.4'), ('2021-04-06 01:04:40.850', 'D+000003.4'), ('2021-04-06 01:04:40.870', 'D+000003.4'), ('2021-04-06 01:04:40.890', 'D+000003.4'), ('2021-04-06 01:04:40.910', 'D+000003.4'), ('2021-04-06 01:04:41.110', 'D+000003.2'), ('2021-04-06 01:04:41.130', 'D+000003.6'), ('2021-04-06 01:04:41.150', 'D+000003.6'), ('2021-04-06 01:04:41.170', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.4, 3.2, 3.6, 3.6, 3.8]
np.array X: [[3.4]
 [3.4]
 [3.2]
 [3.6]
 [3.6]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:04:41.170: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:04:41.170
plc_result: True
sendmessage: 20210406010441170,1,000038,000038
send message to PLC: 2021-04-06 01:04:41.172
time gap: 0:00:00.008390
2021-04-06 01:04:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:42: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:04:42: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:04:42: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:42: select done
2021-04-06 01:04:42: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:04:42: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:04:42: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:04:42: count: 5 in httpPlcDataSender thread
2021-04-06 01:04:42: D+: 5 in httpPlcDataSender thread
2021-04-06 01:04:42: D-: 0 in httpPlcDataSender thread
2021-04-06 01:04:42: S+: 0 in httpPlcDataSender thread
2021-04-06 01:04:42: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '14.7', 'sensorAt': '2021-04-06 01:04:37.760'}, {'value': '12.6', 'sensorAt': '2021-04-06 01:04:38.480'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:04:39.470'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:04:39.950'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:04:41.170'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:37.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:38.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:39.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:39.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:41.170'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:04:42', 'collectDate': '2021-04-06 01:04:41', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '14.7', 'sensorAt': '2021-04-06 01:04:37.760'}, {'value': '12.6', 'sensorAt': '2021-04-06 01:04:38.480'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:04:39.470'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:04:39.950'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:04:41.170'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:37.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:38.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:39.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:39.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:41.170'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:04:42.342
lastevent: 2021-04-06 01:04:42.329, last ten sensor data: [('2021-04-06 01:04:41.880', 'D+000003.2'), ('2021-04-06 01:04:41.900', 'D+000002.8'), ('2021-04-06 01:04:41.920', 'D+000002.8'), ('2021-04-06 01:04:42.080', 'D+000004.4'), ('2021-04-06 01:04:42.100', 'D+000004.2'), ('2021-04-06 01:04:42.120', 'D+000004.2'), ('2021-04-06 01:04:42.140', 'D+000005.4'), ('2021-04-06 01:04:42.290', 'D+000005.2'), ('2021-04-06 01:04:42.320', 'D+000005.0'), ('2021-04-06 01:04:42.340', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 5.4, 5.2, 5.0, 5.0]
np.array X: [[4.2]
 [4.2]
 [5.4]
 [5.2]
 [5. ]
 [5. ]]
revised_weight: 5.0
2021-04-06 01:04:42.340: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:04:42.340
plc_result: True
sendmessage: 20210406010442340,1,000050,000050
send message to PLC: 2021-04-06 01:04:42.351
time gap: 0:00:00.009763
2021-04-06 01:04:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:42: send http
2021-04-06 01:04:42: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:04:42: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:04:42: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:04:42.948
lastevent: 2021-04-06 01:04:42.935, last ten sensor data: [('2021-04-06 01:04:42.580', 'D+000004.8'), ('2021-04-06 01:04:42.600', 'D+000004.6'), ('2021-04-06 01:04:42.620', 'D+000004.6'), ('2021-04-06 01:04:42.640', 'D+000005.0'), ('2021-04-06 01:04:42.800', 'D+000003.2'), ('2021-04-06 01:04:42.820', 'D+000003.4'), ('2021-04-06 01:04:42.840', 'D+000003.2'), ('2021-04-06 01:04:42.860', 'D+000003.2'), ('2021-04-06 01:04:42.880', 'D+000003.2'), ('2021-04-06 01:04:42.900', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 3.2, 3.2, 3.2, 3.4]
np.array X: [[3.2]
 [3.4]
 [3.2]
 [3.2]
 [3.2]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:04:42.900: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:04:42.900
plc_result: True
sendmessage: 20210406010442900,1,000034,000034
send message to PLC: 2021-04-06 01:04:42.955
time gap: 0:00:00.007003
2021-04-06 01:04:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:44.410
lastevent: 2021-04-06 01:04:44.401, last ten sensor data: [('2021-04-06 01:04:44.030', 'D+000002.8'), ('2021-04-06 01:04:44.050', 'D+000002.8'), ('2021-04-06 01:04:44.070', 'D+000002.8'), ('2021-04-06 01:04:44.090', 'D+000002.8'), ('2021-04-06 01:04:44.110', 'D+000002.6'), ('2021-04-06 01:04:44.270', 'D+000003.2'), ('2021-04-06 01:04:44.290', 'D+000003.0'), ('2021-04-06 01:04:44.310', 'D+000003.2'), ('2021-04-06 01:04:44.330', 'D+000003.0'), ('2021-04-06 01:04:44.350', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.2, 3.0, 3.2, 3.0, 3.4]
np.array X: [[2.6]
 [3.2]
 [3. ]
 [3.2]
 [3. ]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:04:44.350: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:04:44.350
plc_result: True
sendmessage: 20210406010444350,1,000034,000034
send message to PLC: 2021-04-06 01:04:44.417
time gap: 0:00:00.007198
2021-04-06 01:04:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:44.872
lastevent: 2021-04-06 01:04:44.857, last ten sensor data: [('2021-04-06 01:04:44.510', 'D+000003.6'), ('2021-04-06 01:04:44.530', 'D+000003.6'), ('2021-04-06 01:04:44.550', 'D+000003.6'), ('2021-04-06 01:04:44.570', 'D+000003.4'), ('2021-04-06 01:04:44.590', 'D+000003.4'), ('2021-04-06 01:04:44.760', 'D+000003.2'), ('2021-04-06 01:04:44.780', 'D+000003.2'), ('2021-04-06 01:04:44.800', 'D+000003.6'), ('2021-04-06 01:04:44.820', 'D+000003.4'), ('2021-04-06 01:04:44.840', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.2, 3.2, 3.6, 3.4, 3.4]
np.array X: [[3.4]
 [3.2]
 [3.2]
 [3.6]
 [3.4]
 [3.4]]
revised_weight: 3.3
2021-04-06 01:04:44.840: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:04:44.840
plc_result: True
sendmessage: 20210406010444840,1,000034,000033
send message to PLC: 2021-04-06 01:04:44.879
time gap: 0:00:00.007029
2021-04-06 01:04:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:46.056
lastevent: 2021-04-06 01:04:46.042, last ten sensor data: [('2021-04-06 01:04:45.660', 'D+000003.6'), ('2021-04-06 01:04:45.680', 'D+000003.6'), ('2021-04-06 01:04:45.700', 'D+000003.6'), ('2021-04-06 01:04:45.720', 'D+000003.4'), ('2021-04-06 01:04:45.740', 'D+000003.4'), ('2021-04-06 01:04:45.890', 'D+000003.6'), ('2021-04-06 01:04:45.910', 'D+000003.6'), ('2021-04-06 01:04:45.930', 'D+000003.6'), ('2021-04-06 01:04:45.950', 'D+000003.6'), ('2021-04-06 01:04:45.970', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 3.6, 3.6, 3.6, 3.8]
np.array X: [[3.4]
 [3.6]
 [3.6]
 [3.6]
 [3.6]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:04:45.970: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:04:45.970
plc_result: True
sendmessage: 20210406010445970,1,000038,000038
send message to PLC: 2021-04-06 01:04:46.063
time gap: 0:00:00.007276
2021-04-06 01:04:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:47: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:04:47: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:04:47: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:47: select done
2021-04-06 01:04:47: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:04:47: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:04:47: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:04:47: count: 5 in httpPlcDataSender thread
2021-04-06 01:04:47: D+: 5 in httpPlcDataSender thread
2021-04-06 01:04:47: D-: 0 in httpPlcDataSender thread
2021-04-06 01:04:47: S+: 0 in httpPlcDataSender thread
2021-04-06 01:04:47: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.0', 'sensorAt': '2021-04-06 01:04:42.340'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:04:42.900'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:04:44.350'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:04:44.840'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:04:45.970'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:42.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:42.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:44.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:44.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:45.970'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:04:47', 'collectDate': '2021-04-06 01:04:46', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.0', 'sensorAt': '2021-04-06 01:04:42.340'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:04:42.900'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:04:44.350'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:04:44.840'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:04:45.970'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:42.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:42.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:44.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:44.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:45.970'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:04:47: send http
2021-04-06 01:04:47: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:04:48: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:04:48: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:04:48.493
lastevent: 2021-04-06 01:04:48.479, last ten sensor data: [('2021-04-06 01:04:48.130', 'D+000002.0'), ('2021-04-06 01:04:48.150', 'D+000002.2'), ('2021-04-06 01:04:48.170', 'D+000002.0'), ('2021-04-06 01:04:48.330', 'D+000002.8'), ('2021-04-06 01:04:48.350', 'D+000003.0'), ('2021-04-06 01:04:48.380', 'D+000003.0'), ('2021-04-06 01:04:48.400', 'D+000003.0'), ('2021-04-06 01:04:48.420', 'D+000002.8'), ('2021-04-06 01:04:48.440', 'D+000003.0'), ('2021-04-06 01:04:48.460', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 3.0, 2.8, 3.0, 3.4]
np.array X: [[3. ]
 [3. ]
 [3. ]
 [2.8]
 [3. ]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:04:48.460: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:04:48.460
plc_result: True
sendmessage: 20210406010448460,1,000034,000034
send message to PLC: 2021-04-06 01:04:48.499
time gap: 0:00:00.006156
2021-04-06 01:04:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:49.082
lastevent: 2021-04-06 01:04:49.064, last ten sensor data: [0, ('2021-04-06 01:04:48.620', 'D+000003.2'), ('2021-04-06 01:04:48.640', 'D+000003.2'), ('2021-04-06 01:04:48.660', 'D+000003.0'), ('2021-04-06 01:04:48.680', 'D+000003.2'), ('2021-04-06 01:04:48.870', 'D+000003.0'), ('2021-04-06 01:04:48.890', 'D+000003.0'), ('2021-04-06 01:04:48.910', 'D+000003.0'), ('2021-04-06 01:04:48.930', 'D+000003.0'), ('2021-04-06 01:04:48.950', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.0, 3.0, 3.0, 3.0, 3.0]
np.array X: [[3.2]
 [3. ]
 [3. ]
 [3. ]
 [3. ]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:04:48.950: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:04:48.950
plc_result: True
sendmessage: 20210406010448950,1,000030,000029
send message to PLC: 2021-04-06 01:04:49.093
time gap: 0:00:00.011469
2021-04-06 01:04:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:50.009
lastevent: 2021-04-06 01:04:49.995, last ten sensor data: [('2021-04-06 01:04:49.650', 'D+000003.2'), ('2021-04-06 01:04:49.670', 'D+000003.2'), ('2021-04-06 01:04:49.690', 'D+000003.2'), ('2021-04-06 01:04:49.710', 'D+000003.4'), ('2021-04-06 01:04:49.730', 'D+000003.2'), ('2021-04-06 01:04:49.890', 'D+000003.2'), ('2021-04-06 01:04:49.910', 'D+000003.2'), ('2021-04-06 01:04:49.930', 'D+000003.4'), ('2021-04-06 01:04:49.950', 'D+000003.4'), ('2021-04-06 01:04:49.970', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.2, 3.4, 3.4, 3.4]
np.array X: [[3.2]
 [3.2]
 [3.2]
 [3.4]
 [3.4]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:04:49.970: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:04:49.970
plc_result: True
sendmessage: 20210406010449970,1,000034,000034
send message to PLC: 2021-04-06 01:04:50.022
time gap: 0:00:00.013712
2021-04-06 01:04:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:51.695
lastevent: 2021-04-06 01:04:51.683, last ten sensor data: [('2021-04-06 01:04:51.200', 'D+000002.4'), ('2021-04-06 01:04:51.360', 'D+000002.6'), ('2021-04-06 01:04:51.380', 'D+000002.4'), ('2021-04-06 01:04:51.400', 'D+000002.6'), ('2021-04-06 01:04:51.420', 'D+000002.6'), ('2021-04-06 01:04:51.440', 'D+000002.6'), ('2021-04-06 01:04:51.620', 'D+000003.0'), ('2021-04-06 01:04:51.640', 'D+000002.8'), ('2021-04-06 01:04:51.660', 'D+000002.8'), ('2021-04-06 01:04:51.680', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 3.0, 2.8, 2.8, 3.6]
np.array X: [[2.6]
 [2.6]
 [3. ]
 [2.8]
 [2.8]
 [3.6]]
revised_weight: 3.3
2021-04-06 01:04:51.680: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:04:51.680
plc_result: True
sendmessage: 20210406010451680,1,000036,000033
send message to PLC: 2021-04-06 01:04:51.705
time gap: 0:00:00.010438
2021-04-06 01:04:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:53: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:04:53: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:04:53: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:53: select done
2021-04-06 01:04:53: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:04:53: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:04:53: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:04:53: count: 4 in httpPlcDataSender thread
2021-04-06 01:04:53: D+: 4 in httpPlcDataSender thread
2021-04-06 01:04:53: D-: 0 in httpPlcDataSender thread
2021-04-06 01:04:53: S+: 0 in httpPlcDataSender thread
2021-04-06 01:04:53: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.4', 'sensorAt': '2021-04-06 01:04:48.460'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:04:48.950'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:04:49.970'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:04:51.680'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:48.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:48.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:49.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:51.680'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:04:53', 'collectDate': '2021-04-06 01:04:51', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.4', 'sensorAt': '2021-04-06 01:04:48.460'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:04:48.950'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:04:49.970'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:04:51.680'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:48.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:48.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:49.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:51.680'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:04:53: send http
2021-04-06 01:04:53: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:04:53: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:04:53: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:04:55.124
lastevent: 2021-04-06 01:04:55.113, last ten sensor data: [('2021-04-06 01:04:54.620', 'D+000002.0'), ('2021-04-06 01:04:54.770', 'D+000002.2'), ('2021-04-06 01:04:54.800', 'D+000002.4'), ('2021-04-06 01:04:54.820', 'D+000002.4'), ('2021-04-06 01:04:54.840', 'D+000002.4'), ('2021-04-06 01:04:54.860', 'D+000002.4'), ('2021-04-06 01:04:55.030', 'D+000002.8'), ('2021-04-06 01:04:55.050', 'D+000002.8'), ('2021-04-06 01:04:55.070', 'D+000002.6'), ('2021-04-06 01:04:55.090', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.8, 2.8, 2.6, 3.0]
np.array X: [[2.4]
 [2.4]
 [2.8]
 [2.8]
 [2.6]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:04:55.090: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:04:55.090
plc_result: True
sendmessage: 20210406010455090,1,000030,000029
send message to PLC: 2021-04-06 01:04:55.133
time gap: 0:00:00.009062
2021-04-06 01:04:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:04:56.760
lastevent: 2021-04-06 01:04:56.747, last ten sensor data: [('2021-04-06 01:04:56.200', 'D+000003.8'), ('2021-04-06 01:04:56.360', 'D+000003.6'), ('2021-04-06 01:04:56.390', 'D+000003.6'), ('2021-04-06 01:04:56.410', 'D+000003.8'), ('2021-04-06 01:04:56.430', 'D+000004.0'), ('2021-04-06 01:04:56.610', 'D+000003.6'), ('2021-04-06 01:04:56.630', 'D+000003.6'), ('2021-04-06 01:04:56.650', 'D+000003.6'), ('2021-04-06 01:04:56.670', 'D+000003.6'), ('2021-04-06 01:04:56.690', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.6, 3.6, 3.6, 3.6, 3.6]
np.array X: [[4. ]
 [3.6]
 [3.6]
 [3.6]
 [3.6]
 [3.6]]
revised_weight: 3.5
2021-04-06 01:04:56.690: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:04:56.690
plc_result: True
sendmessage: 20210406010456690,1,000036,000035
send message to PLC: 2021-04-06 01:04:56.766
time gap: 0:00:00.006305
2021-04-06 01:04:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:58: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:04:58: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:04:59: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:04:59: select done
2021-04-06 01:04:59: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:04:59: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:04:59: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:04:59: count: 2 in httpPlcDataSender thread
2021-04-06 01:04:59: D+: 2 in httpPlcDataSender thread
2021-04-06 01:04:59: D-: 0 in httpPlcDataSender thread
2021-04-06 01:04:59: S+: 0 in httpPlcDataSender thread
2021-04-06 01:04:59: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.9', 'sensorAt': '2021-04-06 01:04:55.090'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:04:56.690'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:55.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:56.690'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:04:59', 'collectDate': '2021-04-06 01:04:56', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.9', 'sensorAt': '2021-04-06 01:04:55.090'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:04:56.690'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:55.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:04:56.690'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:04:59: send http
2021-04-06 01:04:59: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:04:59: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:04:59: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:04:59.787
lastevent: 2021-04-06 01:04:59.772, last ten sensor data: [('2021-04-06 01:04:59.290', 'D+000001.4'), ('2021-04-06 01:04:59.310', 'D+000001.4'), ('2021-04-06 01:04:59.330', 'D+000001.4'), ('2021-04-06 01:04:59.510', 'D+000001.6'), ('2021-04-06 01:04:59.530', 'D+000001.8'), ('2021-04-06 01:04:59.550', 'D+000001.8'), ('2021-04-06 01:04:59.570', 'D+000002.0'), ('2021-04-06 01:04:59.750', 'D+000002.6'), ('2021-04-06 01:04:59.770', 'D+000002.0'), ('2021-04-06 01:04:59.790', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 1.8, 2.0, 2.6, 2.0, 1.8]
np.array X: [[1.8]
 [1.8]
 [2. ]
 [2.6]
 [2. ]
 [1.8]]
revised_weight: 1.4
2021-04-06 01:04:59.790: revising weight finished
revised_weight: 1.4 at 2021-04-06 01:04:59.790
plc_result: True
sendmessage: 20210406010459790,1,000018,000014
send message to PLC: 2021-04-06 01:04:59.796
time gap: 0:00:00.008651
2021-04-06 01:04:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:00.418
lastevent: 2021-04-06 01:05:00.402, last ten sensor data: [('2021-04-06 01:04:59.810', 'D+000002.4'), ('2021-04-06 01:04:59.990', 'D+000002.2'), ('2021-04-06 01:05:00.010', 'D+000002.2'), ('2021-04-06 01:05:00.030', 'D+000002.2'), ('2021-04-06 01:05:00.050', 'D+000002.2'), ('2021-04-06 01:05:00.070', 'D+000002.4'), ('2021-04-06 01:05:00.230', 'D+000002.2'), ('2021-04-06 01:05:00.250', 'D+000002.0'), ('2021-04-06 01:05:00.270', 'D+000002.2'), ('2021-04-06 01:05:00.290', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.4, 2.2, 2.0, 2.2, 2.4]
np.array X: [[2.2]
 [2.4]
 [2.2]
 [2. ]
 [2.2]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:05:00.290: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:05:00.290
plc_result: True
sendmessage: 20210406010500290,1,000024,000023
send message to PLC: 2021-04-06 01:05:00.424
time gap: 0:00:00.006621
2021-04-06 01:05:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:01.905
lastevent: 2021-04-06 01:05:01.892, last ten sensor data: [('2021-04-06 01:05:01.440', 'D+000002.0'), ('2021-04-06 01:05:01.460', 'D+000002.0'), ('2021-04-06 01:05:01.480', 'D+000002.0'), ('2021-04-06 01:05:01.500', 'D+000001.8'), ('2021-04-06 01:05:01.520', 'D+000002.0'), ('2021-04-06 01:05:01.680', 'D+000001.8'), ('2021-04-06 01:05:01.700', 'D+000001.8'), ('2021-04-06 01:05:01.720', 'D+000001.8'), ('2021-04-06 01:05:01.740', 'D+000001.8'), ('2021-04-06 01:05:01.760', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 1.8, 1.8, 1.8, 1.8, 1.8]
np.array X: [[2. ]
 [1.8]
 [1.8]
 [1.8]
 [1.8]
 [1.8]]
revised_weight: 1.4
2021-04-06 01:05:01.760: revising weight finished
revised_weight: 1.4 at 2021-04-06 01:05:01.760
plc_result: True
sendmessage: 20210406010501760,1,000018,000014
send message to PLC: 2021-04-06 01:05:01.912
time gap: 0:00:00.006848
2021-04-06 01:05:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:03.868
lastevent: 2021-04-06 01:05:03.845, last ten sensor data: [('2021-04-06 01:05:03.370', 'D+000001.6'), ('2021-04-06 01:05:03.390', 'D+000001.4'), ('2021-04-06 01:05:03.410', 'D+000001.8'), ('2021-04-06 01:05:03.590', 'D+000002.8'), ('2021-04-06 01:05:03.610', 'D+000003.2'), ('2021-04-06 01:05:03.630', 'D+000003.2'), ('2021-04-06 01:05:03.650', 'D+000003.4'), ('2021-04-06 01:05:03.820', 'D+000003.0'), ('2021-04-06 01:05:03.840', 'D+000003.2'), ('2021-04-06 01:05:03.860', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.4, 3.0, 3.2, 3.6]
np.array X: [[3.2]
 [3.2]
 [3.4]
 [3. ]
 [3.2]
 [3.6]]
revised_weight: 3.5
2021-04-06 01:05:03.860: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:05:03.860
plc_result: True
sendmessage: 20210406010503860,1,000036,000035
send message to PLC: 2021-04-06 01:05:03.886
time gap: 0:00:00.018408
2021-04-06 01:05:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:05:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:05:04: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:05:04: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:04.550
lastevent: 2021-04-06 01:05:04.547, last ten sensor data: [('2021-04-06 01:05:04.070', 'D+000003.4'), ('2021-04-06 01:05:04.090', 'D+000003.2'), ('2021-04-06 01:05:04.110', 'D+000003.6'), ('2021-04-06 01:05:04.130', 'D+000003.6'), ('2021-04-06 01:05:04.150', 'D+000003.6'), ('2021-04-06 01:05:04.310', 'D+000004.4'), ('2021-04-06 01:05:04.330', 'D+000005.0'), ('2021-04-06 01:05:04.350', 'D+000005.0'), ('2021-04-06 01:05:04.370', 'D+000005.6'), ('2021-04-06 01:05:04.540', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.4, 5.0, 5.0, 5.6, 5.6]
np.array X: [[3.6]
 [4.4]
 [5. ]
 [5. ]
 [5.6]
 [5.6]]
revised_weight: 5.1
2021-04-06 01:05:04.540: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:05:04.540
plc_result: True
sendmessage: 20210406010504540,1,000056,000051
send message to PLC: 2021-04-06 01:05:04.556
time gap: 0:00:00.006286
2021-04-06 01:05:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:04: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:04: select done
2021-04-06 01:05:04: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:05:04: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:05:04: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:05:04: count: 5 in httpPlcDataSender thread
2021-04-06 01:05:04: D+: 5 in httpPlcDataSender thread
2021-04-06 01:05:04: D-: 0 in httpPlcDataSender thread
2021-04-06 01:05:04: S+: 0 in httpPlcDataSender thread
2021-04-06 01:05:04: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.4', 'sensorAt': '2021-04-06 01:04:59.790'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:05:00.290'}, {'value': '1.4', 'sensorAt': '2021-04-06 01:05:01.760'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:05:03.860'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:05:04.540'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:59.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:00.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:01.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:03.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:04.540'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:05:04', 'collectDate': '2021-04-06 01:05:04', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.4', 'sensorAt': '2021-04-06 01:04:59.790'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:05:00.290'}, {'value': '1.4', 'sensorAt': '2021-04-06 01:05:01.760'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:05:03.860'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:05:04.540'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:04:59.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:00.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:01.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:03.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:04.540'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:05:04: send http
2021-04-06 01:05:04: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:05:05: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:05: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:05.459
lastevent: 2021-04-06 01:05:05.454, last ten sensor data: [('2021-04-06 01:05:05.030', 'D+000004.6'), ('2021-04-06 01:05:05.060', 'D+000004.0'), ('2021-04-06 01:05:05.080', 'D+000004.0'), ('2021-04-06 01:05:05.100', 'D+000004.0'), ('2021-04-06 01:05:05.120', 'D+000004.0'), ('2021-04-06 01:05:05.280', 'D+000004.8'), ('2021-04-06 01:05:05.300', 'D+000005.0'), ('2021-04-06 01:05:05.320', 'D+000005.0'), ('2021-04-06 01:05:05.340', 'D+000005.0'), ('2021-04-06 01:05:05.360', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.8, 5.0, 5.0, 5.0, 5.0]
np.array X: [[4. ]
 [4.8]
 [5. ]
 [5. ]
 [5. ]
 [5. ]]
revised_weight: 4.8
2021-04-06 01:05:05.360: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:05:05.360
plc_result: True
sendmessage: 20210406010505360,1,000050,000048
send message to PLC: 2021-04-06 01:05:05.471
time gap: 0:00:00.011686
2021-04-06 01:05:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:07.916
lastevent: 2021-04-06 01:05:07.906, last ten sensor data: [('2021-04-06 01:05:07.580', 'D+000002.4'), ('2021-04-06 01:05:07.610', 'D+000003.0'), ('2021-04-06 01:05:07.630', 'D+000003.4'), ('2021-04-06 01:05:07.650', 'D+000003.8'), ('2021-04-06 01:05:07.670', 'D+000004.0'), ('2021-04-06 01:05:07.830', 'D+000007.0'), ('2021-04-06 01:05:07.850', 'D+000008.0'), ('2021-04-06 01:05:07.870', 'D+000009.6'), ('2021-04-06 01:05:07.890', 'D+000009.0'), ('2021-04-06 01:05:07.910', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 7.0, 8.0, 9.6, 9.0, 7.2]
np.array X: [[4. ]
 [7. ]
 [8. ]
 [9.6]
 [9. ]
 [7.2]]
revised_weight: 8.1
2021-04-06 01:05:07.910: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:05:07.910
plc_result: True
sendmessage: 20210406010507910,1,000072,000081
send message to PLC: 2021-04-06 01:05:07.927
time gap: 0:00:00.011714
2021-04-06 01:05:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:08.551
lastevent: 2021-04-06 01:05:08.540, last ten sensor data: [0, 0, ('2021-04-06 01:05:08.090', 'D+000007.6'), ('2021-04-06 01:05:08.110', 'D+000007.4'), ('2021-04-06 01:05:08.130', 'D+000007.4'), ('2021-04-06 01:05:08.150', 'D+000007.6'), ('2021-04-06 01:05:08.330', 'D+000005.0'), ('2021-04-06 01:05:08.350', 'D+000003.8'), ('2021-04-06 01:05:08.370', 'D+000003.2'), ('2021-04-06 01:05:08.390', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 7.6, 5.0, 3.8, 3.2, 2.8]
np.array X: [[7.4]
 [7.6]
 [5. ]
 [3.8]
 [3.2]
 [2.8]]
revised_weight: 5.2
2021-04-06 01:05:08.390: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:05:08.390
plc_result: True
sendmessage: 20210406010508390,1,000028,000052
send message to PLC: 2021-04-06 01:05:08.562
time gap: 0:00:00.011467
2021-04-06 01:05:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:10: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:05:10: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:10.170
lastevent: 2021-04-06 01:05:10.160, last ten sensor data: [('2021-04-06 01:05:09.620', 'D+000002.8'), ('2021-04-06 01:05:09.800', 'D+000003.0'), ('2021-04-06 01:05:09.820', 'D+000003.0'), ('2021-04-06 01:05:09.840', 'D+000003.2'), ('2021-04-06 01:05:09.860', 'D+000003.2'), ('2021-04-06 01:05:10.040', 'D+000003.8'), ('2021-04-06 01:05:10.060', 'D+000003.8'), ('2021-04-06 01:05:10.080', 'D+000003.8'), ('2021-04-06 01:05:10.100', 'D+000003.6'), ('2021-04-06 01:05:10.120', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.8, 3.8, 3.8, 3.6, 3.8]
np.array X: [[3.2]
 [3.8]
 [3.8]
 [3.8]
 [3.6]
 [3.8]]
revised_weight: 3.9
2021-04-06 01:05:10.120: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:05:10.120
plc_result: True
sendmessage: 20210406010510120,1,000038,000039
send message to PLC: 2021-04-06 01:05:10.181
time gap: 0:00:00.011629
2021-04-06 01:05:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:10: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:10: select done
2021-04-06 01:05:10: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:05:10: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:05:10: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:05:10: count: 4 in httpPlcDataSender thread
2021-04-06 01:05:10: D+: 4 in httpPlcDataSender thread
2021-04-06 01:05:10: D-: 0 in httpPlcDataSender thread
2021-04-06 01:05:10: S+: 0 in httpPlcDataSender thread
2021-04-06 01:05:10: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:05:05.360'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:05:07.910'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:05:08.390'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:05:10.120'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:05.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:07.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:08.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:10.120'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:05:10', 'collectDate': '2021-04-06 01:05:10', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:05:05.360'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:05:07.910'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:05:08.390'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:05:10.120'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:05.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:07.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:08.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:10.120'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:05:10: send http
2021-04-06 01:05:10: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:05:10: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:11: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:11.201
lastevent: 2021-04-06 01:05:11.191, last ten sensor data: [('2021-04-06 01:05:10.770', 'D+000003.0'), ('2021-04-06 01:05:10.790', 'D+000003.0'), ('2021-04-06 01:05:10.810', 'D+000002.8'), ('2021-04-06 01:05:10.830', 'D+000003.0'), ('2021-04-06 01:05:10.850', 'D+000002.8'), ('2021-04-06 01:05:11.010', 'D+000003.2'), ('2021-04-06 01:05:11.030', 'D+000003.2'), ('2021-04-06 01:05:11.050', 'D+000003.0'), ('2021-04-06 01:05:11.070', 'D+000002.8'), ('2021-04-06 01:05:11.090', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.2, 3.2, 3.0, 2.8, 2.8]
np.array X: [[2.8]
 [3.2]
 [3.2]
 [3. ]
 [2.8]
 [2.8]]
revised_weight: 2.7
2021-04-06 01:05:11.090: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:05:11.090
plc_result: True
sendmessage: 20210406010511090,1,000028,000027
send message to PLC: 2021-04-06 01:05:11.213
time gap: 0:00:00.011859
2021-04-06 01:05:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:13.204
lastevent: 2021-04-06 01:05:13.200, last ten sensor data: [('2021-04-06 01:05:12.800', 'D+000001.8'), ('2021-04-06 01:05:12.820', 'D+000001.8'), ('2021-04-06 01:05:12.840', 'D+000001.6'), ('2021-04-06 01:05:12.860', 'D+000001.8'), ('2021-04-06 01:05:12.880', 'D+000001.8'), ('2021-04-06 01:05:13.040', 'D+000002.0'), ('2021-04-06 01:05:13.060', 'D+000001.8'), ('2021-04-06 01:05:13.080', 'D+000001.8'), ('2021-04-06 01:05:13.100', 'D+000001.8'), ('2021-04-06 01:05:13.120', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.0, 1.8, 1.8, 1.8, 1.8]
np.array X: [[1.8]
 [2. ]
 [1.8]
 [1.8]
 [1.8]
 [1.8]]
revised_weight: 1.5
2021-04-06 01:05:13.120: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:05:13.120
plc_result: True
sendmessage: 20210406010513120,1,000018,000015
send message to PLC: 2021-04-06 01:05:13.216
time gap: 0:00:00.012039
2021-04-06 01:05:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:15.528
lastevent: 2021-04-06 01:05:15.523, last ten sensor data: [('2021-04-06 01:05:15.040', 'D+000001.6'), ('2021-04-06 01:05:15.060', 'D+000001.8'), ('2021-04-06 01:05:15.080', 'D+000001.8'), ('2021-04-06 01:05:15.260', 'D+000002.0'), ('2021-04-06 01:05:15.280', 'D+000001.8'), ('2021-04-06 01:05:15.300', 'D+000002.2'), ('2021-04-06 01:05:15.320', 'D+000001.8'), ('2021-04-06 01:05:15.480', 'D+000002.4'), ('2021-04-06 01:05:15.500', 'D+000002.4'), ('2021-04-06 01:05:15.520', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.2, 1.8, 2.4, 2.4, 2.0]
np.array X: [[1.8]
 [2.2]
 [1.8]
 [2.4]
 [2.4]
 [2. ]]
revised_weight: 2.0
2021-04-06 01:05:15.520: revising weight finished
revised_weight: 2.0 at 2021-04-06 01:05:15.520
plc_result: True
sendmessage: 20210406010515520,1,000020,000020
send message to PLC: 2021-04-06 01:05:15.541
time gap: 0:00:00.013336
2021-04-06 01:05:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:16: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:05:16: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:16: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:16: select done
2021-04-06 01:05:16: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:05:16: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:05:16: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:05:16: count: 3 in httpPlcDataSender thread
2021-04-06 01:05:16: D+: 3 in httpPlcDataSender thread
2021-04-06 01:05:16: D-: 0 in httpPlcDataSender thread
2021-04-06 01:05:16: S+: 0 in httpPlcDataSender thread
2021-04-06 01:05:16: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.7', 'sensorAt': '2021-04-06 01:05:11.090'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:05:13.120'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:05:15.520'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:11.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:13.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:15.520'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:05:16', 'collectDate': '2021-04-06 01:05:15', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.7', 'sensorAt': '2021-04-06 01:05:11.090'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:05:13.120'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:05:15.520'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:11.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:13.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:15.520'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:05:16: send http
2021-04-06 01:05:16: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:05:16: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:16: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:17.905
lastevent: 2021-04-06 01:05:17.896, last ten sensor data: [('2021-04-06 01:05:17.270', 'D+000002.8'), ('2021-04-06 01:05:17.450', 'D+000002.8'), ('2021-04-06 01:05:17.470', 'D+000002.8'), ('2021-04-06 01:05:17.490', 'D+000002.6'), ('2021-04-06 01:05:17.510', 'D+000002.6'), ('2021-04-06 01:05:17.690', 'D+000004.4'), ('2021-04-06 01:05:17.710', 'D+000005.2'), ('2021-04-06 01:05:17.730', 'D+000005.4'), ('2021-04-06 01:05:17.750', 'D+000006.2'), ('2021-04-06 01:05:17.770', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 4.4, 5.2, 5.4, 6.2, 6.8]
np.array X: [[2.6]
 [4.4]
 [5.2]
 [5.4]
 [6.2]
 [6.8]]
revised_weight: 6.3
2021-04-06 01:05:17.770: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:05:17.770
plc_result: True
sendmessage: 20210406010517770,1,000068,000063
send message to PLC: 2021-04-06 01:05:17.920
time gap: 0:00:00.015020
2021-04-06 01:05:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:19.958
lastevent: 2021-04-06 01:05:19.950, last ten sensor data: [('2021-04-06 01:05:19.460', 'D+000003.6'), ('2021-04-06 01:05:19.640', 'D+000003.2'), ('2021-04-06 01:05:19.660', 'D+000003.0'), ('2021-04-06 01:05:19.680', 'D+000003.2'), ('2021-04-06 01:05:19.700', 'D+000002.8'), ('2021-04-06 01:05:19.720', 'D+000003.0'), ('2021-04-06 01:05:19.880', 'D+000002.8'), ('2021-04-06 01:05:19.900', 'D+000002.4'), ('2021-04-06 01:05:19.920', 'D+000002.4'), ('2021-04-06 01:05:19.940', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.0, 2.8, 2.4, 2.4, 2.4]
np.array X: [[2.8]
 [3. ]
 [2.8]
 [2.4]
 [2.4]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:05:19.940: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:05:19.940
plc_result: True
sendmessage: 20210406010519940,1,000024,000023
send message to PLC: 2021-04-06 01:05:19.973
time gap: 0:00:00.014807
2021-04-06 01:05:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:21: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:05:21: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:21: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:21: select done
2021-04-06 01:05:21: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:05:21: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:05:21: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:05:21: count: 2 in httpPlcDataSender thread
2021-04-06 01:05:21: D+: 2 in httpPlcDataSender thread
2021-04-06 01:05:21: D-: 0 in httpPlcDataSender thread
2021-04-06 01:05:21: S+: 0 in httpPlcDataSender thread
2021-04-06 01:05:21: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.3', 'sensorAt': '2021-04-06 01:05:17.770'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:05:19.940'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:17.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:19.940'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:05:21', 'collectDate': '2021-04-06 01:05:19', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.3', 'sensorAt': '2021-04-06 01:05:17.770'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:05:19.940'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:17.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:19.940'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:05:21: send http
2021-04-06 01:05:22: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:05:22: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:22.216
lastevent: 2021-04-06 01:05:22.209, last ten sensor data: [('2021-04-06 01:05:21.650', 'D+000002.0'), ('2021-04-06 01:05:21.670', 'D+000002.0'), ('2021-04-06 01:05:21.830', 'D+000002.4'), ('2021-04-06 01:05:21.880', 'D+000002.0'), ('2021-04-06 01:05:21.900', 'D+000002.0'), ('2021-04-06 01:05:22.020', 'D+000002.4'), ('2021-04-06 01:05:22.080', 'D+000002.4'), ('2021-04-06 01:05:22.100', 'D+000002.2'), ('2021-04-06 01:05:22.130', 'D+000002.2'), ('2021-04-06 01:05:22.150', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.4, 2.4, 2.2, 2.2, 2.0]
np.array X: [[2. ]
 [2.4]
 [2.4]
 [2.2]
 [2.2]
 [2. ]]
revised_weight: 1.8
2021-04-06 01:05:22.150: revising weight finished
revised_weight: 1.8 at 2021-04-06 01:05:22.150
plc_result: True
sendmessage: 20210406010522150,1,000020,000018
send message to PLC: 2021-04-06 01:05:22.230
time gap: 0:00:00.014593
2021-04-06 01:05:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:22: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:23.808
lastevent: 2021-04-06 01:05:23.793, last ten sensor data: [('2021-04-06 01:05:23.320', 'D+000002.4'), ('2021-04-06 01:05:23.340', 'D+000002.2'), ('2021-04-06 01:05:23.360', 'D+000002.2'), ('2021-04-06 01:05:23.380', 'D+000002.2'), ('2021-04-06 01:05:23.540', 'D+000004.0'), ('2021-04-06 01:05:23.560', 'D+000003.8'), ('2021-04-06 01:05:23.580', 'D+000003.8'), ('2021-04-06 01:05:23.600', 'D+000004.0'), ('2021-04-06 01:05:23.620', 'D+000004.0'), ('2021-04-06 01:05:23.800', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.8, 3.8, 4.0, 4.0, 4.2]
np.array X: [[4. ]
 [3.8]
 [3.8]
 [4. ]
 [4. ]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:05:23.800: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:05:23.800
plc_result: True
sendmessage: 20210406010523800,1,000042,000042
send message to PLC: 2021-04-06 01:05:23.828
time gap: 0:00:00.019497
2021-04-06 01:05:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:25.252
lastevent: 2021-04-06 01:05:25.240, last ten sensor data: [('2021-04-06 01:05:24.780', 'D+000004.4'), ('2021-04-06 01:05:24.800', 'D+000004.2'), ('2021-04-06 01:05:24.960', 'D+000005.8'), ('2021-04-06 01:05:24.980', 'D+000006.2'), ('2021-04-06 01:05:25.000', 'D+000007.4'), ('2021-04-06 01:05:25.020', 'D+000007.8'), ('2021-04-06 01:05:25.040', 'D+000008.0'), ('2021-04-06 01:05:25.210', 'D+000013.2'), ('2021-04-06 01:05:25.230', 'D+000013.8'), ('2021-04-06 01:05:25.250', 'D+000013.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 7.8, 8.0, 13.2, 13.8, 13.8]
np.array X: [[ 7.4]
 [ 7.8]
 [ 8. ]
 [13.2]
 [13.8]
 [13.8]]
revised_weight: 12.4
2021-04-06 01:05:25.250: revising weight finished
revised_weight: 12.4 at 2021-04-06 01:05:25.250
plc_result: True
sendmessage: 20210406010525250,1,000138,000124
send message to PLC: 2021-04-06 01:05:25.265
time gap: 0:00:00.013746
2021-04-06 01:05:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:26.209
lastevent: 2021-04-06 01:05:26.193, last ten sensor data: [('2021-04-06 01:05:25.730', 'D+000013.6'), ('2021-04-06 01:05:25.750', 'D+000013.8'), ('2021-04-06 01:05:25.770', 'D+000013.8'), ('2021-04-06 01:05:25.940', 'D+000008.6'), ('2021-04-06 01:05:25.960', 'D+000007.6'), ('2021-04-06 01:05:25.980', 'D+000007.4'), ('2021-04-06 01:05:26.000', 'D+000006.4'), ('2021-04-06 01:05:26.020', 'D+000006.4'), ('2021-04-06 01:05:26.180', 'D+000004.6'), ('2021-04-06 01:05:26.200', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.6, 7.4, 6.4, 6.4, 4.6, 4.6]
np.array X: [[7.6]
 [7.4]
 [6.4]
 [6.4]
 [4.6]
 [4.6]]
revised_weight: 5.6
2021-04-06 01:05:26.200: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:05:26.200
plc_result: True
sendmessage: 20210406010526200,1,000046,000056
send message to PLC: 2021-04-06 01:05:26.222
time gap: 0:00:00.012859
2021-04-06 01:05:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:27: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:05:27: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:27: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:27: select done
2021-04-06 01:05:27: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:05:27: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:05:27: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:05:27: count: 4 in httpPlcDataSender thread
2021-04-06 01:05:27: D+: 4 in httpPlcDataSender thread
2021-04-06 01:05:27: D-: 0 in httpPlcDataSender thread
2021-04-06 01:05:27: S+: 0 in httpPlcDataSender thread
2021-04-06 01:05:27: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.8', 'sensorAt': '2021-04-06 01:05:22.150'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:05:23.800'}, {'value': '12.4', 'sensorAt': '2021-04-06 01:05:25.250'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:05:26.200'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:22.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:23.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:25.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:26.200'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:05:27', 'collectDate': '2021-04-06 01:05:26', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.8', 'sensorAt': '2021-04-06 01:05:22.150'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:05:23.800'}, {'value': '12.4', 'sensorAt': '2021-04-06 01:05:25.250'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:05:26.200'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:22.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:23.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:25.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:26.200'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:05:27: send http
2021-04-06 01:05:27: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:05:27: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:27: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:28.281
lastevent: 2021-04-06 01:05:28.272, last ten sensor data: [('2021-04-06 01:05:27.890', 'D+000002.4'), ('2021-04-06 01:05:27.910', 'D+000002.8'), ('2021-04-06 01:05:27.930', 'D+000003.0'), ('2021-04-06 01:05:27.950', 'D+000003.8'), ('2021-04-06 01:05:27.970', 'D+000004.2'), ('2021-04-06 01:05:28.130', 'D+000005.0'), ('2021-04-06 01:05:28.150', 'D+000005.2'), ('2021-04-06 01:05:28.170', 'D+000005.4'), ('2021-04-06 01:05:28.190', 'D+000006.0'), ('2021-04-06 01:05:28.210', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.0, 5.2, 5.4, 6.0, 6.6]
np.array X: [[4.2]
 [5. ]
 [5.2]
 [5.4]
 [6. ]
 [6.6]]
revised_weight: 6.1
2021-04-06 01:05:28.210: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:05:28.210
plc_result: True
sendmessage: 20210406010528210,1,000066,000061
send message to PLC: 2021-04-06 01:05:28.293
time gap: 0:00:00.011652
2021-04-06 01:05:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:28: httpScaleDataSender thread Timeout occurred
2021-04-06 01:05:28: [13694] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
2021-04-06 01:05:28: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:05:29.153
lastevent: 2021-04-06 01:05:29.142, last ten sensor data: [('2021-04-06 01:05:28.660', 'D+000006.6'), ('2021-04-06 01:05:28.680', 'D+000006.6'), ('2021-04-06 01:05:28.700', 'D+000006.2'), ('2021-04-06 01:05:28.850', 'D+000005.2'), ('2021-04-06 01:05:28.880', 'D+000005.2'), ('2021-04-06 01:05:28.900', 'D+000004.8'), ('2021-04-06 01:05:28.920', 'D+000004.8'), ('2021-04-06 01:05:28.940', 'D+000004.8'), ('2021-04-06 01:05:28.960', 'D+000004.6'), ('2021-04-06 01:05:29.150', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 4.8, 4.8, 4.8, 4.6, 4.4]
np.array X: [[5.2]
 [4.8]
 [4.8]
 [4.8]
 [4.6]
 [4.4]]
revised_weight: 4.6
2021-04-06 01:05:29.150: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:05:29.150
plc_result: True
sendmessage: 20210406010529150,1,000044,000046
send message to PLC: 2021-04-06 01:05:29.169
time gap: 0:00:00.015692
2021-04-06 01:05:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:29.506
lastevent: 2021-04-06 01:05:29.500, last ten sensor data: [0, 0, ('2021-04-06 01:05:29.170', 'D+000004.2'), ('2021-04-06 01:05:29.190', 'D+000004.2'), ('2021-04-06 01:05:29.210', 'D+000004.2'), ('2021-04-06 01:05:29.390', 'D+000003.8'), ('2021-04-06 01:05:29.410', 'D+000003.8'), ('2021-04-06 01:05:29.430', 'D+000004.0'), ('2021-04-06 01:05:29.450', 'D+000004.2'), ('2021-04-06 01:05:29.470', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 3.8, 3.8, 4.0, 4.2, 4.2]
np.array X: [[4.2]
 [3.8]
 [3.8]
 [4. ]
 [4.2]
 [4.2]]
revised_weight: 4.1
2021-04-06 01:05:29.470: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:05:29.470
plc_result: True
sendmessage: 20210406010529470,1,000042,000041
send message to PLC: 2021-04-06 01:05:29.514
time gap: 0:00:00.007253
2021-04-06 01:05:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:30.536
lastevent: 2021-04-06 01:05:30.526, last ten sensor data: [('2021-04-06 01:05:30.110', 'D+000003.4'), ('2021-04-06 01:05:30.130', 'D+000003.6'), ('2021-04-06 01:05:30.150', 'D+000003.6'), ('2021-04-06 01:05:30.170', 'D+000003.6'), ('2021-04-06 01:05:30.190', 'D+000003.6'), ('2021-04-06 01:05:30.360', 'D+000003.8'), ('2021-04-06 01:05:30.380', 'D+000003.6'), ('2021-04-06 01:05:30.400', 'D+000004.0'), ('2021-04-06 01:05:30.420', 'D+000004.4'), ('2021-04-06 01:05:30.440', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.8, 3.6, 4.0, 4.4, 5.6]
np.array X: [[3.6]
 [3.8]
 [3.6]
 [4. ]
 [4.4]
 [5.6]]
revised_weight: 5.0
2021-04-06 01:05:30.440: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:05:30.440
plc_result: True
sendmessage: 20210406010530440,1,000056,000050
send message to PLC: 2021-04-06 01:05:30.544
time gap: 0:00:00.007198
2021-04-06 01:05:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:31.828
lastevent: 2021-04-06 01:05:31.815, last ten sensor data: [('2021-04-06 01:05:31.170', 'D+000004.4'), ('2021-04-06 01:05:31.340', 'D+000003.4'), ('2021-04-06 01:05:31.360', 'D+000003.2'), ('2021-04-06 01:05:31.380', 'D+000003.4'), ('2021-04-06 01:05:31.400', 'D+000003.6'), ('2021-04-06 01:05:31.420', 'D+000003.4'), ('2021-04-06 01:05:31.580', 'D+000003.8'), ('2021-04-06 01:05:31.600', 'D+000003.6'), ('2021-04-06 01:05:31.620', 'D+000003.8'), ('2021-04-06 01:05:31.640', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.4, 3.8, 3.6, 3.8, 3.8]
np.array X: [[3.6]
 [3.4]
 [3.8]
 [3.6]
 [3.8]
 [3.8]]
revised_weight: 3.7
2021-04-06 01:05:31.640: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:05:31.640
plc_result: True
sendmessage: 20210406010531640,1,000038,000037
send message to PLC: 2021-04-06 01:05:31.835
time gap: 0:00:00.007060
2021-04-06 01:05:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:32.840
lastevent: 2021-04-06 01:05:32.827, last ten sensor data: [('2021-04-06 01:05:32.350', 'D+000003.2'), ('2021-04-06 01:05:32.370', 'D+000003.4'), ('2021-04-06 01:05:32.390', 'D+000003.6'), ('2021-04-06 01:05:32.560', 'D+000003.4'), ('2021-04-06 01:05:32.580', 'D+000003.2'), ('2021-04-06 01:05:32.600', 'D+000003.2'), ('2021-04-06 01:05:32.620', 'D+000003.2'), ('2021-04-06 01:05:32.640', 'D+000003.2'), ('2021-04-06 01:05:32.810', 'D+000003.4'), ('2021-04-06 01:05:32.830', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.2, 3.2, 3.4, 3.6]
np.array X: [[3.2]
 [3.2]
 [3.2]
 [3.2]
 [3.4]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:05:32.830: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:05:32.830
plc_result: True
sendmessage: 20210406010532830,1,000036,000036
send message to PLC: 2021-04-06 01:05:32.847
time gap: 0:00:00.007236
2021-04-06 01:05:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:32: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:05:32: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:32: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:33: select done
2021-04-06 01:05:33: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:05:33: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:05:33: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:05:33: count: 6 in httpPlcDataSender thread
2021-04-06 01:05:33: D+: 6 in httpPlcDataSender thread
2021-04-06 01:05:33: D-: 0 in httpPlcDataSender thread
2021-04-06 01:05:33: S+: 0 in httpPlcDataSender thread
2021-04-06 01:05:33: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.1', 'sensorAt': '2021-04-06 01:05:28.210'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:05:29.150'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:05:29.470'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:05:30.440'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:05:31.640'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:05:32.830'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:28.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:29.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:29.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:30.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:31.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:32.830'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:05:33', 'collectDate': '2021-04-06 01:05:32', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.1', 'sensorAt': '2021-04-06 01:05:28.210'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:05:29.150'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:05:29.470'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:05:30.440'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:05:31.640'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:05:32.830'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:28.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:29.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:29.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:30.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:31.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:32.830'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:05:33: send http
2021-04-06 01:05:33: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:05:33: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:33: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:33.586
lastevent: 2021-04-06 01:05:33.576, last ten sensor data: [('2021-04-06 01:05:33.240', 'D+000003.8'), ('2021-04-06 01:05:33.280', 'D+000003.6'), ('2021-04-06 01:05:33.300', 'D+000003.6'), ('2021-04-06 01:05:33.320', 'D+000003.4'), ('2021-04-06 01:05:33.340', 'D+000003.4'), ('2021-04-06 01:05:33.360', 'D+000003.4'), ('2021-04-06 01:05:33.380', 'D+000003.4'), ('2021-04-06 01:05:33.540', 'D+000003.6'), ('2021-04-06 01:05:33.560', 'D+000003.4'), ('2021-04-06 01:05:33.580', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.4, 3.4, 3.6, 3.4, 3.4]
np.array X: [[3.4]
 [3.4]
 [3.4]
 [3.6]
 [3.4]
 [3.4]]
revised_weight: 3.3
2021-04-06 01:05:33.580: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:05:33.580
plc_result: True
sendmessage: 20210406010533580,1,000034,000033
send message to PLC: 2021-04-06 01:05:33.599
time gap: 0:00:00.013567
2021-04-06 01:05:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:34.724
lastevent: 2021-04-06 01:05:34.711, last ten sensor data: [('2021-04-06 01:05:34.100', 'D+000003.2'), ('2021-04-06 01:05:34.280', 'D+000003.0'), ('2021-04-06 01:05:34.300', 'D+000003.2'), ('2021-04-06 01:05:34.320', 'D+000003.2'), ('2021-04-06 01:05:34.340', 'D+000003.2'), ('2021-04-06 01:05:34.480', 'D+000003.4'), ('2021-04-06 01:05:34.500', 'D+000003.6'), ('2021-04-06 01:05:34.520', 'D+000003.6'), ('2021-04-06 01:05:34.540', 'D+000003.6'), ('2021-04-06 01:05:34.560', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 3.6, 3.6, 3.6, 3.6]
np.array X: [[3.2]
 [3.4]
 [3.6]
 [3.6]
 [3.6]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:05:34.560: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:05:34.560
plc_result: True
sendmessage: 20210406010534560,1,000036,000036
send message to PLC: 2021-04-06 01:05:34.732
time gap: 0:00:00.007424
2021-04-06 01:05:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:35.597
lastevent: 2021-04-06 01:05:35.583, last ten sensor data: [('2021-04-06 01:05:35.210', 'D+000003.6'), ('2021-04-06 01:05:35.240', 'D+000004.0'), ('2021-04-06 01:05:35.260', 'D+000003.8'), ('2021-04-06 01:05:35.280', 'D+000003.8'), ('2021-04-06 01:05:35.300', 'D+000003.4'), ('2021-04-06 01:05:35.460', 'D+000003.4'), ('2021-04-06 01:05:35.480', 'D+000003.6'), ('2021-04-06 01:05:35.500', 'D+000003.6'), ('2021-04-06 01:05:35.520', 'D+000003.6'), ('2021-04-06 01:05:35.540', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.4, 3.6, 3.6, 3.6, 3.4]
np.array X: [[3.4]
 [3.4]
 [3.6]
 [3.6]
 [3.6]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:05:35.540: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:05:35.540
plc_result: True
sendmessage: 20210406010535540,1,000034,000034
send message to PLC: 2021-04-06 01:05:35.604
time gap: 0:00:00.007282
2021-04-06 01:05:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:38: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:05:38: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:38.554
lastevent: 2021-04-06 01:05:38.540, last ten sensor data: [('2021-04-06 01:05:38.210', 'D+000003.6'), ('2021-04-06 01:05:38.230', 'D+000004.4'), ('2021-04-06 01:05:38.250', 'D+000004.4'), ('2021-04-06 01:05:38.270', 'D+000004.0'), ('2021-04-06 01:05:38.290', 'D+000003.6'), ('2021-04-06 01:05:38.450', 'D+000005.6'), ('2021-04-06 01:05:38.470', 'D+000005.6'), ('2021-04-06 01:05:38.490', 'D+000005.6'), ('2021-04-06 01:05:38.510', 'D+000005.8'), ('2021-04-06 01:05:38.530', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 5.6, 5.6, 5.6, 5.8, 5.8]
np.array X: [[3.6]
 [5.6]
 [5.6]
 [5.6]
 [5.8]
 [5.8]]
revised_weight: 5.4
2021-04-06 01:05:38.530: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:05:38.530
plc_result: True
sendmessage: 20210406010538530,1,000058,000054
send message to PLC: 2021-04-06 01:05:38.561
time gap: 0:00:00.007338
2021-04-06 01:05:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:38: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:38: select done
2021-04-06 01:05:38: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:05:38: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:05:38: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:05:38: count: 4 in httpPlcDataSender thread
2021-04-06 01:05:38: D+: 4 in httpPlcDataSender thread
2021-04-06 01:05:38: D-: 0 in httpPlcDataSender thread
2021-04-06 01:05:38: S+: 0 in httpPlcDataSender thread
2021-04-06 01:05:38: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:05:33.580'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:05:34.560'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:05:35.540'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:05:38.530'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:33.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:34.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:35.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:38.530'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:05:38', 'collectDate': '2021-04-06 01:05:38', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:05:33.580'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:05:34.560'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:05:35.540'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:05:38.530'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:33.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:34.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:35.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:38.530'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:05:38: send http
2021-04-06 01:05:38: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:05:38: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:39: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:40.120
lastevent: 2021-04-06 01:05:40.115, last ten sensor data: [('2021-04-06 01:05:39.500', 'D+000003.0'), ('2021-04-06 01:05:39.680', 'D+000003.0'), ('2021-04-06 01:05:39.700', 'D+000003.0'), ('2021-04-06 01:05:39.720', 'D+000003.2'), ('2021-04-06 01:05:39.740', 'D+000003.2'), ('2021-04-06 01:05:39.760', 'D+000003.2'), ('2021-04-06 01:05:39.910', 'D+000004.0'), ('2021-04-06 01:05:39.930', 'D+000004.0'), ('2021-04-06 01:05:39.950', 'D+000004.0'), ('2021-04-06 01:05:39.970', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 4.0, 4.0, 4.0, 4.8]
np.array X: [[3.2]
 [3.2]
 [4. ]
 [4. ]
 [4. ]
 [4.8]]
revised_weight: 4.2
2021-04-06 01:05:39.970: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:05:39.970
plc_result: True
sendmessage: 20210406010539970,1,000048,000042
send message to PLC: 2021-04-06 01:05:40.131
time gap: 0:00:00.011864
2021-04-06 01:05:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:41.297
lastevent: 2021-04-06 01:05:41.278, last ten sensor data: [('2021-04-06 01:05:40.890', 'D+000003.0'), ('2021-04-06 01:05:40.910', 'D+000003.0'), ('2021-04-06 01:05:40.930', 'D+000003.0'), ('2021-04-06 01:05:40.950', 'D+000003.0'), ('2021-04-06 01:05:40.970', 'D+000003.4'), ('2021-04-06 01:05:41.120', 'D+000002.8'), ('2021-04-06 01:05:41.150', 'D+000003.2'), ('2021-04-06 01:05:41.170', 'D+000003.0'), ('2021-04-06 01:05:41.190', 'D+000003.2'), ('2021-04-06 01:05:41.210', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 2.8, 3.2, 3.0, 3.2, 3.0]
np.array X: [[3.4]
 [2.8]
 [3.2]
 [3. ]
 [3.2]
 [3. ]]
revised_weight: 2.8
2021-04-06 01:05:41.210: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:05:41.210
plc_result: True
sendmessage: 20210406010541210,1,000030,000028
send message to PLC: 2021-04-06 01:05:41.316
time gap: 0:00:00.019730
2021-04-06 01:05:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:42.527
lastevent: 2021-04-06 01:05:42.513, last ten sensor data: [('2021-04-06 01:05:41.930', 'D+000002.2'), ('2021-04-06 01:05:42.110', 'D+000002.4'), ('2021-04-06 01:05:42.130', 'D+000002.6'), ('2021-04-06 01:05:42.150', 'D+000002.6'), ('2021-04-06 01:05:42.170', 'D+000002.6'), ('2021-04-06 01:05:42.350', 'D+000005.0'), ('2021-04-06 01:05:42.370', 'D+000005.0'), ('2021-04-06 01:05:42.390', 'D+000005.2'), ('2021-04-06 01:05:42.410', 'D+000006.0'), ('2021-04-06 01:05:42.430', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 5.0, 5.0, 5.2, 6.0, 7.0]
np.array X: [[2.6]
 [5. ]
 [5. ]
 [5.2]
 [6. ]
 [7. ]]
revised_weight: 6.6
2021-04-06 01:05:42.430: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:05:42.430
plc_result: True
sendmessage: 20210406010542430,1,000070,000066
send message to PLC: 2021-04-06 01:05:42.533
time gap: 0:00:00.006377
2021-04-06 01:05:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:43.327
lastevent: 2021-04-06 01:05:43.313, last ten sensor data: [('2021-04-06 01:05:42.830', 'D+000006.8'), ('2021-04-06 01:05:42.860', 'D+000006.6'), ('2021-04-06 01:05:42.880', 'D+000006.6'), ('2021-04-06 01:05:42.900', 'D+000006.4'), ('2021-04-06 01:05:42.920', 'D+000006.6'), ('2021-04-06 01:05:43.080', 'D+000004.6'), ('2021-04-06 01:05:43.100', 'D+000004.6'), ('2021-04-06 01:05:43.120', 'D+000004.4'), ('2021-04-06 01:05:43.140', 'D+000004.2'), ('2021-04-06 01:05:43.160', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 4.6, 4.6, 4.4, 4.2, 3.6]
np.array X: [[6.6]
 [4.6]
 [4.6]
 [4.4]
 [4.2]
 [3.6]]
revised_weight: 4.1
2021-04-06 01:05:43.160: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:05:43.160
plc_result: True
sendmessage: 20210406010543160,1,000036,000041
send message to PLC: 2021-04-06 01:05:43.333
time gap: 0:00:00.006361
2021-04-06 01:05:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:44: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:05:44: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:44: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:44: select done
2021-04-06 01:05:44: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:05:44: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:44.303
lastevent: 2021-04-06 01:05:44.295, last ten sensor data: [('2021-04-06 01:05:43.820', 'D+000003.2'), ('2021-04-06 01:05:43.840', 'D+000003.2'), ('2021-04-06 01:05:43.860', 'D+000003.2'), ('2021-04-06 01:05:43.880', 'D+000003.2'), ('2021-04-06 01:05:44.060', 'D+000003.2'), ('2021-04-06 01:05:44.080', 'D+000003.2'), ('2021-04-06 01:05:44.100', 'D+000003.4'), ('2021-04-06 01:05:44.120', 'D+000003.4'), ('2021-04-06 01:05:44.140', 'D+000003.4'), ('2021-04-06 01:05:44.300', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.4, 3.4, 3.4, 3.0]
np.array X: [[3.2]
 [3.2]
 [3.4]
 [3.4]
 [3.4]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:05:44.300: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:05:44.300
plc_result: True
sendmessage: 20210406010544300,1,000030,000029
send message to PLC: 2021-04-06 01:05:44.310
time gap: 0:00:00.006420
2021-04-06 01:05:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:44: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:05:44: count: 4 in httpPlcDataSender thread
2021-04-06 01:05:44: D+: 4 in httpPlcDataSender thread
2021-04-06 01:05:44: D-: 0 in httpPlcDataSender thread
2021-04-06 01:05:44: S+: 0 in httpPlcDataSender thread
2021-04-06 01:05:44: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.2', 'sensorAt': '2021-04-06 01:05:39.970'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:05:41.210'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:05:42.430'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:05:43.160'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:39.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:41.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:42.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:43.160'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:05:44', 'collectDate': '2021-04-06 01:05:43', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.2', 'sensorAt': '2021-04-06 01:05:39.970'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:05:41.210'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:05:42.430'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:05:43.160'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:39.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:41.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:42.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:43.160'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:05:44: send http
2021-04-06 01:05:44: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:05:44: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:44: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:44.963
lastevent: 2021-04-06 01:05:44.950, last ten sensor data: [('2021-04-06 01:05:44.460', 'D+000003.0'), ('2021-04-06 01:05:44.550', 'D+000002.8'), ('2021-04-06 01:05:44.570', 'D+000002.8'), ('2021-04-06 01:05:44.590', 'D+000002.8'), ('2021-04-06 01:05:44.610', 'D+000002.8'), ('2021-04-06 01:05:44.630', 'D+000002.8'), ('2021-04-06 01:05:44.810', 'D+000003.2'), ('2021-04-06 01:05:44.830', 'D+000003.2'), ('2021-04-06 01:05:44.850', 'D+000003.0'), ('2021-04-06 01:05:44.870', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 3.2, 3.2, 3.0, 3.2]
np.array X: [[2.8]
 [2.8]
 [3.2]
 [3.2]
 [3. ]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:05:44.870: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:05:44.870
plc_result: True
sendmessage: 20210406010544870,1,000032,000031
send message to PLC: 2021-04-06 01:05:44.974
time gap: 0:00:00.011077
2021-04-06 01:05:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:45.701
lastevent: 2021-04-06 01:05:45.690, last ten sensor data: [('2021-04-06 01:05:45.110', 'D+000003.0'), ('2021-04-06 01:05:45.290', 'D+000003.4'), ('2021-04-06 01:05:45.310', 'D+000003.0'), ('2021-04-06 01:05:45.330', 'D+000003.0'), ('2021-04-06 01:05:45.350', 'D+000002.8'), ('2021-04-06 01:05:45.530', 'D+000004.2'), ('2021-04-06 01:05:45.550', 'D+000004.2'), ('2021-04-06 01:05:45.570', 'D+000004.4'), ('2021-04-06 01:05:45.590', 'D+000004.6'), ('2021-04-06 01:05:45.610', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 4.2, 4.2, 4.4, 4.6, 3.8]
np.array X: [[2.8]
 [4.2]
 [4.2]
 [4.4]
 [4.6]
 [3.8]]
revised_weight: 3.9
2021-04-06 01:05:45.610: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:05:45.610
plc_result: True
sendmessage: 20210406010545610,1,000038,000039
send message to PLC: 2021-04-06 01:05:45.712
time gap: 0:00:00.010597
2021-04-06 01:05:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:46.613
lastevent: 2021-04-06 01:05:46.597, last ten sensor data: [('2021-04-06 01:05:46.150', 'D+000003.4'), ('2021-04-06 01:05:46.170', 'D+000003.6'), ('2021-04-06 01:05:46.190', 'D+000003.4'), ('2021-04-06 01:05:46.210', 'D+000003.4'), ('2021-04-06 01:05:46.370', 'D+000003.0'), ('2021-04-06 01:05:46.390', 'D+000003.2'), ('2021-04-06 01:05:46.410', 'D+000003.2'), ('2021-04-06 01:05:46.430', 'D+000003.4'), ('2021-04-06 01:05:46.450', 'D+000003.4'), ('2021-04-06 01:05:46.600', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.2, 3.2, 3.4, 3.4, 3.8]
np.array X: [[3. ]
 [3.2]
 [3.2]
 [3.4]
 [3.4]
 [3.8]]
revised_weight: 3.7
2021-04-06 01:05:46.600: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:05:46.600
plc_result: True
sendmessage: 20210406010546600,1,000038,000037
send message to PLC: 2021-04-06 01:05:46.620
time gap: 0:00:00.007275
2021-04-06 01:05:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:47.221
lastevent: 2021-04-06 01:05:47.206, last ten sensor data: [('2021-04-06 01:05:46.850', 'D+000003.8'), ('2021-04-06 01:05:46.870', 'D+000004.0'), ('2021-04-06 01:05:46.890', 'D+000003.8'), ('2021-04-06 01:05:46.910', 'D+000003.6'), ('2021-04-06 01:05:46.930', 'D+000003.6'), ('2021-04-06 01:05:47.100', 'D+000003.6'), ('2021-04-06 01:05:47.120', 'D+000003.6'), ('2021-04-06 01:05:47.140', 'D+000003.6'), ('2021-04-06 01:05:47.160', 'D+000003.4'), ('2021-04-06 01:05:47.180', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.6, 3.6, 3.4, 3.4]
np.array X: [[3.6]
 [3.6]
 [3.6]
 [3.6]
 [3.4]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:05:47.180: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:05:47.180
plc_result: True
sendmessage: 20210406010547180,1,000034,000034
send message to PLC: 2021-04-06 01:05:47.228
time gap: 0:00:00.006717
2021-04-06 01:05:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:48.749
lastevent: 2021-04-06 01:05:48.734, last ten sensor data: [('2021-04-06 01:05:48.140', 'D+000002.6'), ('2021-04-06 01:05:48.330', 'D+000002.8'), ('2021-04-06 01:05:48.350', 'D+000002.8'), ('2021-04-06 01:05:48.370', 'D+000002.6'), ('2021-04-06 01:05:48.390', 'D+000002.6'), ('2021-04-06 01:05:48.560', 'D+000003.4'), ('2021-04-06 01:05:48.580', 'D+000003.4'), ('2021-04-06 01:05:48.600', 'D+000003.2'), ('2021-04-06 01:05:48.620', 'D+000003.0'), ('2021-04-06 01:05:48.640', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.4, 3.4, 3.2, 3.0, 3.0]
np.array X: [[2.6]
 [3.4]
 [3.4]
 [3.2]
 [3. ]
 [3. ]]
revised_weight: 3.0
2021-04-06 01:05:48.640: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:05:48.640
plc_result: True
sendmessage: 20210406010548640,1,000030,000030
send message to PLC: 2021-04-06 01:05:48.756
time gap: 0:00:00.006486
2021-04-06 01:05:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:49.214
lastevent: 2021-04-06 01:05:49.198, last ten sensor data: [('2021-04-06 01:05:48.850', 'D+000003.0'), ('2021-04-06 01:05:48.870', 'D+000003.0'), ('2021-04-06 01:05:48.890', 'D+000003.2'), ('2021-04-06 01:05:48.910', 'D+000003.2'), ('2021-04-06 01:05:49.060', 'D+000003.0'), ('2021-04-06 01:05:49.080', 'D+000002.8'), ('2021-04-06 01:05:49.100', 'D+000003.0'), ('2021-04-06 01:05:49.120', 'D+000003.2'), ('2021-04-06 01:05:49.140', 'D+000003.4'), ('2021-04-06 01:05:49.160', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 3.0, 3.2, 3.4, 3.6]
np.array X: [[3. ]
 [2.8]
 [3. ]
 [3.2]
 [3.4]
 [3.6]]
revised_weight: 3.4
2021-04-06 01:05:49.160: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:05:49.160
plc_result: True
sendmessage: 20210406010549160,1,000036,000034
send message to PLC: 2021-04-06 01:05:49.221
time gap: 0:00:00.006787
2021-04-06 01:05:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:49: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:05:49: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:49: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:49: select done
2021-04-06 01:05:49: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:05:49: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:05:49: sendjson called, 7 records in httpPlcDataSender thread
2021-04-06 01:05:49: count: 7 in httpPlcDataSender thread
2021-04-06 01:05:49: D+: 7 in httpPlcDataSender thread
2021-04-06 01:05:49: D-: 0 in httpPlcDataSender thread
2021-04-06 01:05:49: S+: 0 in httpPlcDataSender thread
2021-04-06 01:05:49: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.9', 'sensorAt': '2021-04-06 01:05:44.300'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:05:44.870'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:05:45.610'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:05:46.600'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:05:47.180'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:05:48.640'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:05:49.160'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:44.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:44.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:45.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:46.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:47.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:48.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:49.160'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:05:49', 'collectDate': '2021-04-06 01:05:49', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.9', 'sensorAt': '2021-04-06 01:05:44.300'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:05:44.870'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:05:45.610'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:05:46.600'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:05:47.180'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:05:48.640'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:05:49.160'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:44.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:44.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:45.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:46.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:47.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:48.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:49.160'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:05:50: send http
2021-04-06 01:05:50: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:05:50: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:50: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:50.683
lastevent: 2021-04-06 01:05:50.665, last ten sensor data: [('2021-04-06 01:05:50.050', 'D+000002.6'), ('2021-04-06 01:05:50.220', 'D+000002.6'), ('2021-04-06 01:05:50.240', 'D+000002.6'), ('2021-04-06 01:05:50.260', 'D+000002.6'), ('2021-04-06 01:05:50.280', 'D+000002.8'), ('2021-04-06 01:05:50.300', 'D+000002.6'), ('2021-04-06 01:05:50.480', 'D+000002.4'), ('2021-04-06 01:05:50.500', 'D+000002.4'), ('2021-04-06 01:05:50.520', 'D+000002.4'), ('2021-04-06 01:05:50.540', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.6, 2.4, 2.4, 2.4, 2.4]
np.array X: [[2.8]
 [2.6]
 [2.4]
 [2.4]
 [2.4]
 [2.4]]
revised_weight: 2.2
2021-04-06 01:05:50.540: revising weight finished
revised_weight: 2.2 at 2021-04-06 01:05:50.540
plc_result: True
sendmessage: 20210406010550540,1,000024,000022
send message to PLC: 2021-04-06 01:05:50.695
time gap: 0:00:00.011760
2021-04-06 01:05:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:52.241
lastevent: 2021-04-06 01:05:52.226, last ten sensor data: [('2021-04-06 01:05:51.840', 'D+000002.0'), ('2021-04-06 01:05:51.860', 'D+000002.4'), ('2021-04-06 01:05:51.880', 'D+000003.0'), ('2021-04-06 01:05:51.900', 'D+000003.0'), ('2021-04-06 01:05:52.060', 'D+000004.2'), ('2021-04-06 01:05:52.080', 'D+000003.8'), ('2021-04-06 01:05:52.100', 'D+000003.4'), ('2021-04-06 01:05:52.120', 'D+000004.6'), ('2021-04-06 01:05:52.140', 'D+000004.6'), ('2021-04-06 01:05:52.160', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 3.8, 3.4, 4.6, 4.6, 4.2]
np.array X: [[4.2]
 [3.8]
 [3.4]
 [4.6]
 [4.6]
 [4.2]]
revised_weight: 4.1
2021-04-06 01:05:52.160: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:05:52.160
plc_result: True
sendmessage: 20210406010552160,1,000042,000041
send message to PLC: 2021-04-06 01:05:52.248
time gap: 0:00:00.006288
2021-04-06 01:05:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:52.670
lastevent: 2021-04-06 01:05:52.654, last ten sensor data: [('2021-04-06 01:05:52.340', 'D+000004.4'), ('2021-04-06 01:05:52.360', 'D+000004.4'), ('2021-04-06 01:05:52.380', 'D+000004.2'), ('2021-04-06 01:05:52.400', 'D+000004.2'), ('2021-04-06 01:05:52.430', 'D+000004.6'), ('2021-04-06 01:05:52.540', 'D+000004.8'), ('2021-04-06 01:05:52.580', 'D+000004.2'), ('2021-04-06 01:05:52.600', 'D+000003.8'), ('2021-04-06 01:05:52.620', 'D+000003.6'), ('2021-04-06 01:05:52.640', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.8, 4.2, 3.8, 3.6, 4.6]
np.array X: [[4.6]
 [4.8]
 [4.2]
 [3.8]
 [3.6]
 [4.6]]
revised_weight: 4.2
2021-04-06 01:05:52.640: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:05:52.640
plc_result: True
sendmessage: 20210406010552640,1,000046,000042
send message to PLC: 2021-04-06 01:05:52.676
time gap: 0:00:00.006244
2021-04-06 01:05:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:05:54.222
lastevent: 2021-04-06 01:05:54.213, last ten sensor data: [('2021-04-06 01:05:53.610', 'D+000002.2'), ('2021-04-06 01:05:53.800', 'D+000002.0'), ('2021-04-06 01:05:53.820', 'D+000002.0'), ('2021-04-06 01:05:53.840', 'D+000001.8'), ('2021-04-06 01:05:53.860', 'D+000002.0'), ('2021-04-06 01:05:54.030', 'D+000002.0'), ('2021-04-06 01:05:54.050', 'D+000001.8'), ('2021-04-06 01:05:54.070', 'D+000001.8'), ('2021-04-06 01:05:54.090', 'D+000001.8'), ('2021-04-06 01:05:54.110', 'D+000001.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.0, 1.8, 1.8, 1.8, 1.6]
np.array X: [[2. ]
 [2. ]
 [1.8]
 [1.8]
 [1.8]
 [1.6]]
revised_weight: 1.3
2021-04-06 01:05:54.110: revising weight finished
revised_weight: 1.3 at 2021-04-06 01:05:54.110
plc_result: True
sendmessage: 20210406010554110,1,000016,000013
send message to PLC: 2021-04-06 01:05:54.228
time gap: 0:00:00.006313
2021-04-06 01:05:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:05:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:05:55: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:05:55: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:55: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:05:55: select done
2021-04-06 01:05:55: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:05:55: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:05:55: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:05:55: count: 4 in httpPlcDataSender thread
2021-04-06 01:05:55: D+: 4 in httpPlcDataSender thread
2021-04-06 01:05:55: D-: 0 in httpPlcDataSender thread
2021-04-06 01:05:55: S+: 0 in httpPlcDataSender thread
2021-04-06 01:05:55: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.2', 'sensorAt': '2021-04-06 01:05:50.540'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:05:52.160'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:05:52.640'}, {'value': '1.3', 'sensorAt': '2021-04-06 01:05:54.110'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:50.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:52.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:52.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:54.110'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:05:55', 'collectDate': '2021-04-06 01:05:54', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.2', 'sensorAt': '2021-04-06 01:05:50.540'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:05:52.160'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:05:52.640'}, {'value': '1.3', 'sensorAt': '2021-04-06 01:05:54.110'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:50.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:52.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:52.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:05:54.110'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:05:55: send http
2021-04-06 01:05:55: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:05:55: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:05:55: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:05:57.784
lastevent: 2021-04-06 01:05:57.775, last ten sensor data: [('2021-04-06 01:05:57.110', 'D+000000.8'), ('2021-04-06 01:05:57.290', 'D+000000.8'), ('2021-04-06 01:05:57.310', 'D+000000.6'), ('2021-04-06 01:05:57.330', 'D+000000.8'), ('2021-04-06 01:05:57.350', 'D+000001.0'), ('2021-04-06 01:05:57.540', 'D+000001.0'), ('2021-04-06 01:05:57.560', 'D+000001.2'), ('2021-04-06 01:05:57.580', 'D+000001.0'), ('2021-04-06 01:05:57.600', 'D+000001.0'), ('2021-04-06 01:05:57.620', 'D+000001.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.0, 1.0, 1.2, 1.0, 1.0, 1.2]
np.array X: [[1. ]
 [1. ]
 [1.2]
 [1. ]
 [1. ]
 [1.2]]
revised_weight: 1.6
2021-04-06 01:05:57.620: revising weight finished
revised_weight: 1.6 at 2021-04-06 01:05:57.620
plc_result: True
sendmessage: 20210406010557620,1,000012,000016
send message to PLC: 2021-04-06 01:05:57.800
time gap: 0:00:00.015146
2021-04-06 01:05:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
trigger sensor detected: 2021-04-06 01:06:00.653
lastevent: 2021-04-06 01:06:00.643, last ten sensor data: [('2021-04-06 01:06:00.170', 'D+000000.6'), ('2021-04-06 01:06:00.350', 'D+000001.0'), ('2021-04-06 01:06:00.370', 'D+000001.2'), ('2021-04-06 01:06:00.390', 'D+000001.4'), ('2021-04-06 01:06:00.410', 'D+000001.2'), ('2021-04-06 01:06:00.430', 'D+000001.2'), ('2021-04-06 01:06:00.600', 'D+000002.0'), ('2021-04-06 01:06:00.620', 'D+000001.8'), ('2021-04-06 01:06:00.640', 'D+000002.0'), ('2021-04-06 01:06:00.660', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.2, 1.2, 2.0, 1.8, 2.0, 2.0]
np.array X: [[1.2]
 [1.2]
 [2. ]
 [1.8]
 [2. ]
 [2. ]]
revised_weight: 1.9
2021-04-06 01:06:00.660: revising weight finished
revised_weight: 1.9 at 2021-04-06 01:06:00.660
plc_result: True
sendmessage: 20210406010600660,1,000020,000019
send message to PLC: 2021-04-06 01:06:00.664
time gap: 0:00:00.011513
2021-04-06 01:06:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:06:00: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:06:00: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:06:01: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:06:01: select done
2021-04-06 01:06:01: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:06:01: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:06:01: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:06:01: count: 2 in httpPlcDataSender thread
2021-04-06 01:06:01: D+: 2 in httpPlcDataSender thread
2021-04-06 01:06:01: D-: 0 in httpPlcDataSender thread
2021-04-06 01:06:01: S+: 0 in httpPlcDataSender thread
2021-04-06 01:06:01: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.6', 'sensorAt': '2021-04-06 01:05:57.620'}, {'value': '1.9', 'sensorAt': '2021-04-06 01:06:00.660'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:57.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:06:00.660'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:06:01', 'collectDate': '2021-04-06 01:06:00', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.6', 'sensorAt': '2021-04-06 01:05:57.620'}, {'value': '1.9', 'sensorAt': '2021-04-06 01:06:00.660'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:05:57.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:06:00.660'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:06:01: send http
2021-04-06 01:06:01: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:06:01: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:06:01: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:06:05.817
lastevent: 2021-04-06 01:06:05.806, last ten sensor data: [('2021-04-06 01:06:05.280', 'D+000000.4'), ('2021-04-06 01:06:05.300', 'D+000000.8'), ('2021-04-06 01:06:05.480', 'D+000000.8'), ('2021-04-06 01:06:05.500', 'D+000000.8'), ('2021-04-06 01:06:05.520', 'D+000001.0'), ('2021-04-06 01:06:05.540', 'D+000001.2'), ('2021-04-06 01:06:05.720', 'D+000000.8'), ('2021-04-06 01:06:05.740', 'D+000001.2'), ('2021-04-06 01:06:05.760', 'D+000001.2'), ('2021-04-06 01:06:05.780', 'D+000001.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.0, 1.2, 0.8, 1.2, 1.2, 1.4]
np.array X: [[1. ]
 [1.2]
 [0.8]
 [1.2]
 [1.2]
 [1.4]]
revised_weight: 1.5
2021-04-06 01:06:05.780: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:06:05.780
plc_result: True
sendmessage: 20210406010605780,1,000014,000015
send message to PLC: 2021-04-06 01:06:05.830
time gap: 0:00:00.013065
2021-04-06 01:06:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:06:06: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:06:06: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:06:06: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:06:06: select done
2021-04-06 01:06:06: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:06:06: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:06:06: sendjson called, 1 records in httpPlcDataSender thread
2021-04-06 01:06:06: count: 1 in httpPlcDataSender thread
2021-04-06 01:06:06: D+: 1 in httpPlcDataSender thread
2021-04-06 01:06:06: D-: 0 in httpPlcDataSender thread
2021-04-06 01:06:06: S+: 0 in httpPlcDataSender thread
2021-04-06 01:06:06: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.5', 'sensorAt': '2021-04-06 01:06:05.780'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:06:05.780'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:06:06', 'collectDate': '2021-04-06 01:06:05', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.5', 'sensorAt': '2021-04-06 01:06:05.780'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:06:05.780'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:06:06: send http
2021-04-06 01:06:06: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:06:07: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:06:07: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:06:12: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:06:12: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:06:12: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:06:12: select done
2021-04-06 01:06:12: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:06:12: No Data remains in httpPlcDataSender thread
2021-04-06 01:06:12: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_00.db
2021-04-06 01:06:12: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:06:12: current db filename:  in httpPlcDataSender thread
2021-04-06 01:06:12: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:06:28: httpScaleDataSender thread Timeout occurred
2021-04-06 01:06:28: [13695] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
2021-04-06 01:06:28: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:06:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:07:12: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:07:12: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:07:12: current db filename:  in httpPlcDataSender thread
2021-04-06 01:07:12: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:07:28: httpScaleDataSender thread Timeout occurred
2021-04-06 01:07:28: [13696] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
2021-04-06 01:07:28: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:07:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:08:12: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:08:12: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:08:12: current db filename:  in httpPlcDataSender thread
2021-04-06 01:08:12: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:08:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:08:28: httpScaleDataSender thread Timeout occurred
2021-04-06 01:08:28: [13697] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
2021-04-06 01:08:28: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2021-04-06 01:09:12: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:09:12: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:09:13: current db filename:  in httpPlcDataSender thread
2021-04-06 01:09:13: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:09:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:09:28: httpScaleDataSender thread Timeout occurred
2021-04-06 01:09:28: [13698] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
2021-04-06 01:09:28: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
current_plcdb_name: plcdata2021-04-06_01_10.db
1[833]: datalist_to_store size: 833
2021-04-06 01:10:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:10:13: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:10:13: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:10:13: current db filename:  in httpPlcDataSender thread
2021-04-06 01:10:13: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:10:28: httpScaleDataSender thread Timeout occurred
2021-04-06 01:10:28: [13699] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_00.db in httpScaleDataSender thread
2021-04-06 01:10:28: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:10:29: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:10:29: select done
2021-04-06 01:10:29: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:10:29: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:10:29: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:10:29: count: 3000 in httpScaleDataSender thread
2021-04-06 01:10:29: D+: 2518 in httpScaleDataSender thread
2021-04-06 01:10:29: D-: 0 in httpScaleDataSender thread
2021-04-06 01:10:29: S+: 482 in httpScaleDataSender thread
2021-04-06 01:10:29: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
2021-04-06 01:10:33: send http
2021-04-06 01:10:33: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:10:33: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:10:33: got 'update query' results  in httpScaleDataSender thread
2021-04-06 01:10:43: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:10:43: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:10:43: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:10:43: select done
2021-04-06 01:10:43: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:10:43: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:10:43: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:10:43: count: 3000 in httpScaleDataSender thread
2021-04-06 01:10:43: D+: 2769 in httpScaleDataSender thread
2021-04-06 01:10:43: D-: 5 in httpScaleDataSender thread
2021-04-06 01:10:43: S+: 224 in httpScaleDataSender thread
2021-04-06 01:10:43: S-: 2 in httpScaleDataSender thread
True in httpScaleDataSender thread
2021-04-06 01:10:46: send http
2021-04-06 01:10:46: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:10:46: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:10:46: got 'update query' results  in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:10:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
2021-04-06 01:10:56: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:10:56: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:10:56: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:10:56: select done
2021-04-06 01:10:56: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:10:56: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:10:56: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:10:56: count: 3000 in httpScaleDataSender thread
2021-04-06 01:10:56: D+: 2500 in httpScaleDataSender thread
2021-04-06 01:10:56: D-: 485 in httpScaleDataSender thread
2021-04-06 01:10:56: S+: 0 in httpScaleDataSender thread
2021-04-06 01:10:56: S-: 15 in httpScaleDataSender thread
True in httpScaleDataSender thread
2021-04-06 01:10:59: send http
2021-04-06 01:10:59: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:10:59: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:11:00: got 'update query' results  in httpScaleDataSender thread
2021-04-06 01:11:10: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:11:10: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:11:10: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:11:10: select done
2021-04-06 01:11:10: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:11:10: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:11:10: sendjson called, 2833 records in httpScaleDataSender thread
2021-04-06 01:11:10: count: 2833 in httpScaleDataSender thread
2021-04-06 01:11:10: D+: 2833 in httpScaleDataSender thread
2021-04-06 01:11:10: D-: 0 in httpScaleDataSender thread
2021-04-06 01:11:10: S+: 0 in httpScaleDataSender thread
2021-04-06 01:11:10: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
2021-04-06 01:11:12: send http
2021-04-06 01:11:12: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:11:12: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:11:12: got 'update query' results  in httpScaleDataSender thread
2021-04-06 01:11:13: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:11:13: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:11:13: current db filename:  in httpPlcDataSender thread
2021-04-06 01:11:13: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:11:22: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:11:22: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:11:22: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:11:22: select done
2021-04-06 01:11:22: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:11:22: No Data remains in httpScaleDataSender thread
2021-04-06 01:11:22: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpScaleDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_00.db
2021-04-06 01:11:22: HTTPSThreadState.STATE_DONE in httpScaleDataSender thread
['/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db']
2021-04-06 01:11:23: current db filename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
2021-04-06 01:11:23: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:11:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
2021-04-06 01:12:13: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:12:13: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:12:13: current db filename:  in httpPlcDataSender thread
2021-04-06 01:12:13: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:12:23: httpScaleDataSender thread Timeout occurred
2021-04-06 01:12:23: [13700] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
2021-04-06 01:12:23: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:12:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
2021-04-06 01:13:13: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:13:13: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:13:13: current db filename:  in httpPlcDataSender thread
2021-04-06 01:13:13: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:13:23: httpScaleDataSender thread Timeout occurred
2021-04-06 01:13:23: [13701] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
2021-04-06 01:13:23: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:13:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:13:28.662
lastevent: 2021-04-06 01:13:28.660, last ten sensor data: [('2021-04-06 01:13:28.360', 'D+000001.8'), ('2021-04-06 01:13:28.380', 'D+000001.8'), ('2021-04-06 01:13:28.400', 'D+000002.0'), ('2021-04-06 01:13:28.420', 'D+000001.8'), ('2021-04-06 01:13:28.440', 'D+000001.6'), ('2021-04-06 01:13:28.460', 'D+000001.2'), ('2021-04-06 01:13:28.600', 'D+000001.8'), ('2021-04-06 01:13:28.620', 'D+000001.8'), ('2021-04-06 01:13:28.640', 'D+000001.8'), ('2021-04-06 01:13:28.660', 'D+000001.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 1.2, 1.8, 1.8, 1.8, 1.6]
np.array X: [[1.6]
 [1.2]
 [1.8]
 [1.8]
 [1.8]
 [1.6]]
revised_weight: 1.3
2021-04-06 01:13:28.660: revising weight finished
revised_weight: 1.3 at 2021-04-06 01:13:28.660
plc_result: True
sendmessage: 20210406011328660,1,000016,000013
send message to PLC: 2021-04-06 01:13:28.675
time gap: 0:00:00.012601
2021-04-06 01:13:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:14:13: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db']
2021-04-06 01:14:14: [13080] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_10.db
select_plcdb_filename: b
2021-04-06 01:14:14: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:14:14: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:14:14: select done
2021-04-06 01:14:14: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:14:14: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:14:14: sendjson called, 1 records in httpPlcDataSender thread
2021-04-06 01:14:14: count: 1 in httpPlcDataSender thread
2021-04-06 01:14:14: D+: 1 in httpPlcDataSender thread
2021-04-06 01:14:14: D-: 0 in httpPlcDataSender thread
2021-04-06 01:14:14: S+: 0 in httpPlcDataSender thread
2021-04-06 01:14:14: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.3', 'sensorAt': '2021-04-06 01:13:28.660'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:13:28.660'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:14:14', 'collectDate': '2021-04-06 01:13:28', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.3', 'sensorAt': '2021-04-06 01:13:28.660'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:13:28.660'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:14:14: send http
2021-04-06 01:14:14: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:14:14: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:14:14: got 'update query' results  in httpPlcDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:14:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
2021-04-06 01:14:19: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:14:19: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:14:19: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:14:19: select done
2021-04-06 01:14:19: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:14:19: No Data remains in httpPlcDataSender thread
2021-04-06 01:14:19: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:14:19: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:14:20: current db filename:  in httpPlcDataSender thread
2021-04-06 01:14:20: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:14:23: httpScaleDataSender thread Timeout occurred
2021-04-06 01:14:23: [13702] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
2021-04-06 01:14:23: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:14:52.041
lastevent: 2021-04-06 01:14:52.035, last ten sensor data: [('2021-04-06 01:14:51.580', 'D+000001.6'), ('2021-04-06 01:14:51.600', 'D+000001.6'), ('2021-04-06 01:14:51.620', 'D+000001.6'), ('2021-04-06 01:14:51.640', 'D+000001.6'), ('2021-04-06 01:14:51.790', 'D+000008.6'), ('2021-04-06 01:14:51.810', 'D+000011.6'), ('2021-04-06 01:14:51.830', 'D+000012.2'), ('2021-04-06 01:14:51.850', 'D+000010.8'), ('2021-04-06 01:14:51.870', 'D+000012.2'), ('2021-04-06 01:14:52.030', 'D+000014.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 11.6, 12.2, 10.8, 12.2, 14.6]
np.array X: [[ 8.6]
 [11.6]
 [12.2]
 [10.8]
 [12.2]
 [14.6]]
revised_weight: 12.4
2021-04-06 01:14:52.030: revising weight finished
revised_weight: 12.4 at 2021-04-06 01:14:52.030
plc_result: True
sendmessage: 20210406011452030,1,000146,000124
send message to PLC: 2021-04-06 01:14:52.048
time gap: 0:00:00.007271
2021-04-06 01:14:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:14:55.728
lastevent: 2021-04-06 01:14:55.713, last ten sensor data: [('2021-04-06 01:14:55.210', 'D+000000.8'), ('2021-04-06 01:14:55.240', 'D+000001.2'), ('2021-04-06 01:14:55.260', 'D+000001.2'), ('2021-04-06 01:14:55.280', 'D+000001.2'), ('2021-04-06 01:14:55.300', 'D+000001.4'), ('2021-04-06 01:14:55.470', 'D+000002.6'), ('2021-04-06 01:14:55.490', 'D+000003.2'), ('2021-04-06 01:14:55.510', 'D+000004.6'), ('2021-04-06 01:14:55.530', 'D+000004.0'), ('2021-04-06 01:14:55.720', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 2.6, 3.2, 4.6, 4.0, 6.4]
np.array X: [[1.4]
 [2.6]
 [3.2]
 [4.6]
 [4. ]
 [6.4]]
revised_weight: 4.1
2021-04-06 01:14:55.720: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:14:55.720
plc_result: True
sendmessage: 20210406011455720,1,000064,000041
send message to PLC: 2021-04-06 01:14:55.735
time gap: 0:00:00.006719
2021-04-06 01:14:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:14:59.232
lastevent: 2021-04-06 01:14:59.219, last ten sensor data: [('2021-04-06 01:14:58.770', 'D+000001.6'), ('2021-04-06 01:14:58.930', 'D+000002.6'), ('2021-04-06 01:14:58.950', 'D+000003.6'), ('2021-04-06 01:14:58.970', 'D+000004.0'), ('2021-04-06 01:14:58.990', 'D+000004.2'), ('2021-04-06 01:14:59.010', 'D+000004.4'), ('2021-04-06 01:14:59.170', 'D+000008.0'), ('2021-04-06 01:14:59.190', 'D+000009.4'), ('2021-04-06 01:14:59.210', 'D+000007.8'), ('2021-04-06 01:14:59.230', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.4, 8.0, 9.4, 7.8, 4.8]
np.array X: [[4.2]
 [4.4]
 [8. ]
 [9.4]
 [7.8]
 [4.8]]
revised_weight: 6.9
2021-04-06 01:14:59.230: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:14:59.230
plc_result: True
sendmessage: 20210406011459230,1,000048,000069
send message to PLC: 2021-04-06 01:14:59.239
time gap: 0:00:00.006631
2021-04-06 01:14:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:01.164
lastevent: 2021-04-06 01:15:01.163, last ten sensor data: [('2021-04-06 01:15:00.660', 'D+000002.8'), ('2021-04-06 01:15:00.680', 'D+000002.6'), ('2021-04-06 01:15:00.700', 'D+000003.2'), ('2021-04-06 01:15:00.720', 'D+000002.8'), ('2021-04-06 01:15:00.890', 'D+000007.0'), ('2021-04-06 01:15:00.910', 'D+000008.0'), ('2021-04-06 01:15:00.930', 'D+000008.8'), ('2021-04-06 01:15:00.960', 'D+000008.0'), ('2021-04-06 01:15:01.120', 'D+000013.2'), ('2021-04-06 01:15:01.150', 'D+000014.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 8.0, 8.8, 8.0, 13.2, 14.0]
np.array X: [[ 7. ]
 [ 8. ]
 [ 8.8]
 [ 8. ]
 [13.2]
 [14. ]]
revised_weight: 11.6
2021-04-06 01:15:01.150: revising weight finished
revised_weight: 11.6 at 2021-04-06 01:15:01.150
plc_result: True
sendmessage: 20210406011501150,1,000140,000116
send message to PLC: 2021-04-06 01:15:01.171
time gap: 0:00:00.007088
2021-04-06 01:15:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:03.689
lastevent: 2021-04-06 01:15:03.681, last ten sensor data: [('2021-04-06 01:15:03.170', 'D+000001.4'), ('2021-04-06 01:15:03.340', 'D+000002.2'), ('2021-04-06 01:15:03.360', 'D+000002.4'), ('2021-04-06 01:15:03.380', 'D+000002.6'), ('2021-04-06 01:15:03.400', 'D+000002.4'), ('2021-04-06 01:15:03.580', 'D+000003.8'), ('2021-04-06 01:15:03.600', 'D+000003.8'), ('2021-04-06 01:15:03.620', 'D+000003.8'), ('2021-04-06 01:15:03.640', 'D+000004.0'), ('2021-04-06 01:15:03.660', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 3.8, 3.8, 3.8, 4.0, 4.4]
np.array X: [[2.4]
 [3.8]
 [3.8]
 [3.8]
 [4. ]
 [4.4]]
revised_weight: 4.1
2021-04-06 01:15:03.660: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:15:03.660
plc_result: True
sendmessage: 20210406011503660,1,000044,000041
send message to PLC: 2021-04-06 01:15:03.695
time gap: 0:00:00.006233
2021-04-06 01:15:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:04.446
lastevent: 2021-04-06 01:15:04.430, last ten sensor data: [('2021-04-06 01:15:03.900', 'D+000003.8'), ('2021-04-06 01:15:04.130', 'D+000005.6'), ('2021-04-06 01:15:04.150', 'D+000005.2'), ('2021-04-06 01:15:04.170', 'D+000005.0'), ('2021-04-06 01:15:04.190', 'D+000005.4'), ('2021-04-06 01:15:04.210', 'D+000005.6'), ('2021-04-06 01:15:04.370', 'D+000007.8'), ('2021-04-06 01:15:04.390', 'D+000008.8'), ('2021-04-06 01:15:04.410', 'D+000009.2'), ('2021-04-06 01:15:04.430', 'D+000009.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 7.8, 8.8, 9.2, 9.4]
np.array X: [[5.4]
 [5.6]
 [7.8]
 [8.8]
 [9.2]
 [9.4]]
revised_weight: 8.2
2021-04-06 01:15:04.430: revising weight finished
revised_weight: 8.2 at 2021-04-06 01:15:04.430
plc_result: True
sendmessage: 20210406011504430,1,000094,000082
send message to PLC: 2021-04-06 01:15:04.452
time gap: 0:00:00.006432
2021-04-06 01:15:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:05.683
lastevent: 2021-04-06 01:15:05.670, last ten sensor data: [('2021-04-06 01:15:05.150', 'D+000003.2'), ('2021-04-06 01:15:05.340', 'D+000002.8'), ('2021-04-06 01:15:05.360', 'D+000003.0'), ('2021-04-06 01:15:05.380', 'D+000003.0'), ('2021-04-06 01:15:05.400', 'D+000003.0'), ('2021-04-06 01:15:05.420', 'D+000003.0'), ('2021-04-06 01:15:05.590', 'D+000002.4'), ('2021-04-06 01:15:05.610', 'D+000003.0'), ('2021-04-06 01:15:05.630', 'D+000003.2'), ('2021-04-06 01:15:05.650', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 2.4, 3.0, 3.2, 2.8]
np.array X: [[3. ]
 [3. ]
 [2.4]
 [3. ]
 [3.2]
 [2.8]]
revised_weight: 2.9
2021-04-06 01:15:05.650: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:15:05.650
plc_result: True
sendmessage: 20210406011505650,1,000028,000029
send message to PLC: 2021-04-06 01:15:05.690
time gap: 0:00:00.006453
2021-04-06 01:15:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:06.854
lastevent: 2021-04-06 01:15:06.838, last ten sensor data: [('2021-04-06 01:15:06.310', 'D+000002.2'), ('2021-04-06 01:15:06.500', 'D+000002.0'), ('2021-04-06 01:15:06.520', 'D+000002.4'), ('2021-04-06 01:15:06.540', 'D+000002.4'), ('2021-04-06 01:15:06.560', 'D+000002.2'), ('2021-04-06 01:15:06.710', 'D+000002.6'), ('2021-04-06 01:15:06.730', 'D+000002.2'), ('2021-04-06 01:15:06.760', 'D+000002.4'), ('2021-04-06 01:15:06.780', 'D+000002.4'), ('2021-04-06 01:15:06.800', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.6, 2.2, 2.4, 2.4, 2.4]
np.array X: [[2.2]
 [2.6]
 [2.2]
 [2.4]
 [2.4]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:15:06.800: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:15:06.800
plc_result: True
sendmessage: 20210406011506800,1,000024,000023
send message to PLC: 2021-04-06 01:15:06.860
time gap: 0:00:00.006522
2021-04-06 01:15:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:15:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:07.222
lastevent: 2021-04-06 01:15:07.212, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:15:06.970', 'D+000002.8'), ('2021-04-06 01:15:06.990', 'D+000002.6'), ('2021-04-06 01:15:07.010', 'D+000002.6'), ('2021-04-06 01:15:07.030', 'D+000002.2'), ('2021-04-06 01:15:07.050', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 2.8, 2.6, 2.6, 2.2, 2.4]
np.array X: [[0. ]
 [2.8]
 [2.6]
 [2.6]
 [2.2]
 [2.4]]
revised_weight: 0.5
2021-04-06 01:15:07.050: revising weight finished
revised_weight: 0.5 at 2021-04-06 01:15:07.050
plc_result: True
sendmessage: 20210406011507050,1,000024,000005
send message to PLC: 2021-04-06 01:15:07.229
time gap: 0:00:00.006763
2021-04-06 01:15:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:08.306
lastevent: 2021-04-06 01:15:08.301, last ten sensor data: [('2021-04-06 01:15:07.770', 'D+000002.0'), ('2021-04-06 01:15:07.960', 'D+000003.0'), ('2021-04-06 01:15:07.980', 'D+000003.6'), ('2021-04-06 01:15:08.000', 'D+000003.8'), ('2021-04-06 01:15:08.020', 'D+000003.6'), ('2021-04-06 01:15:08.200', 'D+000005.8'), ('2021-04-06 01:15:08.220', 'D+000005.8'), ('2021-04-06 01:15:08.240', 'D+000006.2'), ('2021-04-06 01:15:08.260', 'D+000006.6'), ('2021-04-06 01:15:08.280', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 5.8, 5.8, 6.2, 6.6, 5.6]
np.array X: [[3.6]
 [5.8]
 [5.8]
 [6.2]
 [6.6]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:15:08.280: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:15:08.280
plc_result: True
sendmessage: 20210406011508280,1,000056,000055
send message to PLC: 2021-04-06 01:15:08.318
time gap: 0:00:00.011479
2021-04-06 01:15:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:09.013
lastevent: 2021-04-06 01:15:09.005, last ten sensor data: [('2021-04-06 01:15:08.620', 'D+000005.4'), ('2021-04-06 01:15:08.640', 'D+000005.6'), ('2021-04-06 01:15:08.660', 'D+000006.0'), ('2021-04-06 01:15:08.680', 'D+000005.4'), ('2021-04-06 01:15:08.700', 'D+000004.6'), ('2021-04-06 01:15:08.860', 'D+000003.6'), ('2021-04-06 01:15:08.880', 'D+000003.0'), ('2021-04-06 01:15:08.900', 'D+000003.0'), ('2021-04-06 01:15:08.920', 'D+000002.6'), ('2021-04-06 01:15:08.940', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 3.6, 3.0, 3.0, 2.6, 3.0]
np.array X: [[4.6]
 [3.6]
 [3. ]
 [3. ]
 [2.6]
 [3. ]]
revised_weight: 3.0
2021-04-06 01:15:08.940: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:15:08.940
plc_result: True
sendmessage: 20210406011508940,1,000030,000030
send message to PLC: 2021-04-06 01:15:09.025
time gap: 0:00:00.011423
2021-04-06 01:15:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:09.523
lastevent: 2021-04-06 01:15:09.522, last ten sensor data: [('2021-04-06 01:15:09.100', 'D+000003.0'), ('2021-04-06 01:15:09.120', 'D+000003.0'), ('2021-04-06 01:15:09.140', 'D+000003.0'), ('2021-04-06 01:15:09.160', 'D+000003.0'), ('2021-04-06 01:15:09.180', 'D+000002.8'), ('2021-04-06 01:15:09.340', 'D+000003.0'), ('2021-04-06 01:15:09.360', 'D+000002.8'), ('2021-04-06 01:15:09.380', 'D+000003.2'), ('2021-04-06 01:15:09.400', 'D+000003.0'), ('2021-04-06 01:15:09.420', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.0, 2.8, 3.2, 3.0, 2.8]
np.array X: [[2.8]
 [3. ]
 [2.8]
 [3.2]
 [3. ]
 [2.8]]
revised_weight: 2.6
2021-04-06 01:15:09.420: revising weight finished
revised_weight: 2.6 at 2021-04-06 01:15:09.420
plc_result: True
sendmessage: 20210406011509420,1,000028,000026
send message to PLC: 2021-04-06 01:15:09.535
time gap: 0:00:00.011423
2021-04-06 01:15:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:10.623
lastevent: 2021-04-06 01:15:10.616, last ten sensor data: [('2021-04-06 01:15:09.960', 'D+000002.4'), ('2021-04-06 01:15:10.120', 'D+000002.4'), ('2021-04-06 01:15:10.150', 'D+000002.0'), ('2021-04-06 01:15:10.170', 'D+000002.2'), ('2021-04-06 01:15:10.190', 'D+000002.2'), ('2021-04-06 01:15:10.210', 'D+000001.8'), ('2021-04-06 01:15:10.380', 'D+000002.4'), ('2021-04-06 01:15:10.400', 'D+000002.2'), ('2021-04-06 01:15:10.420', 'D+000002.0'), ('2021-04-06 01:15:10.440', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 1.8, 2.4, 2.2, 2.0, 2.0]
np.array X: [[2.2]
 [1.8]
 [2.4]
 [2.2]
 [2. ]
 [2. ]]
revised_weight: 1.7
2021-04-06 01:15:10.440: revising weight finished
revised_weight: 1.7 at 2021-04-06 01:15:10.440
plc_result: True
sendmessage: 20210406011510440,1,000020,000017
send message to PLC: 2021-04-06 01:15:10.634
time gap: 0:00:00.011417
2021-04-06 01:15:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:11.197
lastevent: 2021-04-06 01:15:11.194, last ten sensor data: [('2021-04-06 01:15:10.680', 'D+000002.2'), ('2021-04-06 01:15:10.870', 'D+000002.0'), ('2021-04-06 01:15:10.890', 'D+000002.2'), ('2021-04-06 01:15:10.910', 'D+000002.2'), ('2021-04-06 01:15:10.930', 'D+000002.0'), ('2021-04-06 01:15:11.110', 'D+000002.0'), ('2021-04-06 01:15:11.130', 'D+000001.8'), ('2021-04-06 01:15:11.150', 'D+000002.0'), ('2021-04-06 01:15:11.170', 'D+000002.4'), ('2021-04-06 01:15:11.190', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.0, 1.8, 2.0, 2.4, 2.4]
np.array X: [[2. ]
 [2. ]
 [1.8]
 [2. ]
 [2.4]
 [2.4]]
revised_weight: 2.2
2021-04-06 01:15:11.190: revising weight finished
revised_weight: 2.2 at 2021-04-06 01:15:11.190
plc_result: True
sendmessage: 20210406011511190,1,000024,000022
send message to PLC: 2021-04-06 01:15:11.204
time gap: 0:00:00.006371
2021-04-06 01:15:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:13.154
lastevent: 2021-04-06 01:15:13.144, last ten sensor data: [('2021-04-06 01:15:12.820', 'D+000001.6'), ('2021-04-06 01:15:12.840', 'D+000001.6'), ('2021-04-06 01:15:12.860', 'D+000001.8'), ('2021-04-06 01:15:12.880', 'D+000002.2'), ('2021-04-06 01:15:12.900', 'D+000001.8'), ('2021-04-06 01:15:13.060', 'D+000002.2'), ('2021-04-06 01:15:13.080', 'D+000002.6'), ('2021-04-06 01:15:13.100', 'D+000002.6'), ('2021-04-06 01:15:13.120', 'D+000002.2'), ('2021-04-06 01:15:13.140', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.2, 2.6, 2.6, 2.2, 2.6]
np.array X: [[1.8]
 [2.2]
 [2.6]
 [2.6]
 [2.2]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:15:13.140: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:15:13.140
plc_result: True
sendmessage: 20210406011513140,1,000026,000025
send message to PLC: 2021-04-06 01:15:13.166
time gap: 0:00:00.011500
2021-04-06 01:15:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:14.054
lastevent: 2021-04-06 01:15:14.047, last ten sensor data: [('2021-04-06 01:15:13.580', 'D+000002.4'), ('2021-04-06 01:15:13.600', 'D+000002.6'), ('2021-04-06 01:15:13.620', 'D+000002.4'), ('2021-04-06 01:15:13.780', 'D+000004.8'), ('2021-04-06 01:15:13.810', 'D+000006.8'), ('2021-04-06 01:15:13.830', 'D+000005.4'), ('2021-04-06 01:15:13.850', 'D+000005.0'), ('2021-04-06 01:15:13.870', 'D+000005.4'), ('2021-04-06 01:15:14.040', 'D+000009.6'), ('2021-04-06 01:15:14.060', 'D+000009.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 5.4, 5.0, 5.4, 9.6, 9.0]
np.array X: [[6.8]
 [5.4]
 [5. ]
 [5.4]
 [9.6]
 [9. ]]
revised_weight: 7.9
2021-04-06 01:15:14.060: revising weight finished
revised_weight: 7.9 at 2021-04-06 01:15:14.060
plc_result: True
sendmessage: 20210406011514060,1,000090,000079
send message to PLC: 2021-04-06 01:15:14.066
time gap: 0:00:00.011553
2021-04-06 01:15:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:15.756
lastevent: 2021-04-06 01:15:15.745, last ten sensor data: [('2021-04-06 01:15:15.370', 'D+000002.6'), ('2021-04-06 01:15:15.390', 'D+000002.6'), ('2021-04-06 01:15:15.410', 'D+000002.6'), ('2021-04-06 01:15:15.430', 'D+000002.4'), ('2021-04-06 01:15:15.450', 'D+000002.2'), ('2021-04-06 01:15:15.470', 'D+000002.4'), ('2021-04-06 01:15:15.630', 'D+000002.4'), ('2021-04-06 01:15:15.650', 'D+000002.4'), ('2021-04-06 01:15:15.670', 'D+000002.2'), ('2021-04-06 01:15:15.690', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.4, 2.4, 2.4, 2.2, 2.2]
np.array X: [[2.2]
 [2.4]
 [2.4]
 [2.4]
 [2.2]
 [2.2]]
revised_weight: 2.0
2021-04-06 01:15:15.690: revising weight finished
revised_weight: 2.0 at 2021-04-06 01:15:15.690
plc_result: True
sendmessage: 20210406011515690,1,000022,000020
send message to PLC: 2021-04-06 01:15:15.767
time gap: 0:00:00.011660
2021-04-06 01:15:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:17.135
lastevent: 2021-04-06 01:15:17.131, last ten sensor data: [('2021-04-06 01:15:16.660', 'D+000001.4'), ('2021-04-06 01:15:16.680', 'D+000001.2'), ('2021-04-06 01:15:16.840', 'D+000001.6'), ('2021-04-06 01:15:16.860', 'D+000001.4'), ('2021-04-06 01:15:16.880', 'D+000001.4'), ('2021-04-06 01:15:16.900', 'D+000001.8'), ('2021-04-06 01:15:16.920', 'D+000001.8'), ('2021-04-06 01:15:17.100', 'D+000002.0'), ('2021-04-06 01:15:17.120', 'D+000002.0'), ('2021-04-06 01:15:17.140', 'D+000001.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 1.8, 1.8, 2.0, 2.0, 1.6]
np.array X: [[1.4]
 [1.8]
 [1.8]
 [2. ]
 [2. ]
 [1.6]]
revised_weight: 1.5
2021-04-06 01:15:17.140: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:15:17.140
plc_result: True
sendmessage: 20210406011517140,1,000016,000015
send message to PLC: 2021-04-06 01:15:17.147
time gap: 0:00:00.011734
2021-04-06 01:15:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:17.957
lastevent: 2021-04-06 01:15:17.948, last ten sensor data: [('2021-04-06 01:15:17.500', 'D+000001.8'), ('2021-04-06 01:15:17.660', 'D+000002.8'), ('2021-04-06 01:15:17.680', 'D+000002.8'), ('2021-04-06 01:15:17.700', 'D+000003.4'), ('2021-04-06 01:15:17.720', 'D+000003.2'), ('2021-04-06 01:15:17.740', 'D+000003.0'), ('2021-04-06 01:15:17.760', 'D+000003.2'), ('2021-04-06 01:15:17.920', 'D+000003.6'), ('2021-04-06 01:15:17.940', 'D+000003.4'), ('2021-04-06 01:15:17.960', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.0, 3.2, 3.6, 3.4, 3.4]
np.array X: [[3.2]
 [3. ]
 [3.2]
 [3.6]
 [3.4]
 [3.4]]
revised_weight: 3.2
2021-04-06 01:15:17.960: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:15:17.960
plc_result: True
sendmessage: 20210406011517960,1,000034,000032
send message to PLC: 2021-04-06 01:15:17.969
time gap: 0:00:00.011955
2021-04-06 01:15:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:20: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db']
2021-04-06 01:15:20: [13081] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_10.db
select_plcdb_filename: b
2021-04-06 01:15:20: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:20: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:20: select done
2021-04-06 01:15:20: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:15:20: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:15:20: sendjson called, 19 records in httpPlcDataSender thread
2021-04-06 01:15:20: count: 19 in httpPlcDataSender thread
2021-04-06 01:15:20: D+: 19 in httpPlcDataSender thread
2021-04-06 01:15:20: D-: 0 in httpPlcDataSender thread
2021-04-06 01:15:20: S+: 0 in httpPlcDataSender thread
2021-04-06 01:15:20: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '12.4', 'sensorAt': '2021-04-06 01:14:52.030'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:14:55.720'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:14:59.230'}, {'value': '11.6', 'sensorAt': '2021-04-06 01:15:01.150'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:15:03.660'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:15:04.430'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:15:05.650'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:15:06.800'}, {'value': '0.5', 'sensorAt': '2021-04-06 01:15:07.050'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:15:08.280'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:15:08.940'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:15:09.420'}, {'value': '1.7', 'sensorAt': '2021-04-06 01:15:10.440'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:15:11.190'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:15:13.140'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:15:14.060'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:15:15.690'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:15:17.140'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:15:17.960'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:14:52.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:14:55.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:14:59.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:01.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:03.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:04.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:05.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:06.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:07.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:08.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:08.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:09.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:10.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:11.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:13.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:14.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:15.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:17.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:17.960'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:15:20', 'collectDate': '2021-04-06 01:15:17', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '12.4', 'sensorAt': '2021-04-06 01:14:52.030'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:14:55.720'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:14:59.230'}, {'value': '11.6', 'sensorAt': '2021-04-06 01:15:01.150'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:15:03.660'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:15:04.430'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:15:05.650'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:15:06.800'}, {'value': '0.5', 'sensorAt': '2021-04-06 01:15:07.050'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:15:08.280'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:15:08.940'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:15:09.420'}, {'value': '1.7', 'sensorAt': '2021-04-06 01:15:10.440'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:15:11.190'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:15:13.140'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:15:14.060'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:15:15.690'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:15:17.140'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:15:17.960'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:14:52.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:14:55.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:14:59.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:01.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:03.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:04.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:05.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:06.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:07.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:08.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:08.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:09.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:10.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:11.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:13.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:14.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:15.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:17.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:17.960'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:15:20: send http
2021-04-06 01:15:20: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:15:20.606
lastevent: 2021-04-06 01:15:20.600, last ten sensor data: [('2021-04-06 01:15:19.910', 'D+000001.4'), ('2021-04-06 01:15:19.930', 'D+000001.4'), ('2021-04-06 01:15:19.950', 'D+000001.4'), ('2021-04-06 01:15:20.130', 'D+000001.4'), ('2021-04-06 01:15:20.150', 'D+000001.4'), ('2021-04-06 01:15:20.170', 'D+000001.4'), ('2021-04-06 01:15:20.190', 'D+000001.4'), ('2021-04-06 01:15:20.390', 'D+000001.6'), ('2021-04-06 01:15:20.410', 'D+000001.8'), ('2021-04-06 01:15:20.430', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 1.4, 1.4, 1.6, 1.8, 2.0]
np.array X: [[1.4]
 [1.4]
 [1.4]
 [1.6]
 [1.8]
 [2. ]]
revised_weight: 1.5
2021-04-06 01:15:20.430: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:15:20.430
plc_result: True
sendmessage: 20210406011520430,1,000020,000015
send message to PLC: 2021-04-06 01:15:20.612
time gap: 0:00:00.006625
2021-04-06 01:15:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
Backupserver True
2021-04-06 01:15:20: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:20: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:15:21.129
lastevent: 2021-04-06 01:15:21.124, last ten sensor data: [('2021-04-06 01:15:20.660', 'D+000002.6'), ('2021-04-06 01:15:20.680', 'D+000002.6'), ('2021-04-06 01:15:20.840', 'D+000004.0'), ('2021-04-06 01:15:20.860', 'D+000004.2'), ('2021-04-06 01:15:20.880', 'D+000003.8'), ('2021-04-06 01:15:20.900', 'D+000003.6'), ('2021-04-06 01:15:20.920', 'D+000004.0'), ('2021-04-06 01:15:20.940', 'D+000004.4'), ('2021-04-06 01:15:21.100', 'D+000004.6'), ('2021-04-06 01:15:21.120', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.6, 4.0, 4.4, 4.6, 5.4]
np.array X: [[3.8]
 [3.6]
 [4. ]
 [4.4]
 [4.6]
 [5.4]]
revised_weight: 4.7
2021-04-06 01:15:21.120: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:15:21.120
plc_result: True
sendmessage: 20210406011521120,1,000054,000047
send message to PLC: 2021-04-06 01:15:21.142
time gap: 0:00:00.012861
2021-04-06 01:15:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:23: httpScaleDataSender thread Timeout occurred
2021-04-06 01:15:23: [13703] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
2021-04-06 01:15:23: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:15:25.096
lastevent: 2021-04-06 01:15:25.087, last ten sensor data: [('2021-04-06 01:15:24.440', 'D+000001.2'), ('2021-04-06 01:15:24.460', 'D+000001.4'), ('2021-04-06 01:15:24.640', 'D+000001.4'), ('2021-04-06 01:15:24.660', 'D+000001.2'), ('2021-04-06 01:15:24.680', 'D+000001.4'), ('2021-04-06 01:15:24.700', 'D+000001.6'), ('2021-04-06 01:15:24.880', 'D+000004.0'), ('2021-04-06 01:15:24.900', 'D+000005.0'), ('2021-04-06 01:15:24.920', 'D+000005.2'), ('2021-04-06 01:15:24.940', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 1.6, 4.0, 5.0, 5.2, 6.0]
np.array X: [[1.4]
 [1.6]
 [4. ]
 [5. ]
 [5.2]
 [6. ]]
revised_weight: 4.7
2021-04-06 01:15:24.940: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:15:24.940
plc_result: True
sendmessage: 20210406011524940,1,000060,000047
send message to PLC: 2021-04-06 01:15:25.114
time gap: 0:00:00.017689
2021-04-06 01:15:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:25: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:15:25: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:25: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:25: select done
2021-04-06 01:15:25: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:15:25: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:15:26: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:15:26: count: 3 in httpPlcDataSender thread
2021-04-06 01:15:26: D+: 3 in httpPlcDataSender thread
2021-04-06 01:15:26: D-: 0 in httpPlcDataSender thread
2021-04-06 01:15:26: S+: 0 in httpPlcDataSender thread
2021-04-06 01:15:26: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.5', 'sensorAt': '2021-04-06 01:15:20.430'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:15:21.120'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:15:24.940'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:20.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:21.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:24.940'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:15:26', 'collectDate': '2021-04-06 01:15:25', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.5', 'sensorAt': '2021-04-06 01:15:20.430'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:15:21.120'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:15:24.940'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:20.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:21.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:24.940'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:15:26: send http
2021-04-06 01:15:26: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:15:26: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:26: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:15:26.891
lastevent: 2021-04-06 01:15:26.880, last ten sensor data: [('2021-04-06 01:15:26.420', 'D+000003.0'), ('2021-04-06 01:15:26.570', 'D+000002.6'), ('2021-04-06 01:15:26.590', 'D+000002.8'), ('2021-04-06 01:15:26.610', 'D+000003.4'), ('2021-04-06 01:15:26.630', 'D+000003.4'), ('2021-04-06 01:15:26.650', 'D+000002.8'), ('2021-04-06 01:15:26.830', 'D+000003.6'), ('2021-04-06 01:15:26.850', 'D+000003.4'), ('2021-04-06 01:15:26.870', 'D+000003.4'), ('2021-04-06 01:15:26.890', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 2.8, 3.6, 3.4, 3.4, 3.2]
np.array X: [[3.4]
 [2.8]
 [3.6]
 [3.4]
 [3.4]
 [3.2]]
revised_weight: 3.0
2021-04-06 01:15:26.890: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:15:26.890
plc_result: True
sendmessage: 20210406011526890,1,000032,000030
send message to PLC: 2021-04-06 01:15:26.905
time gap: 0:00:00.013776
2021-04-06 01:15:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:27.748
lastevent: 2021-04-06 01:15:27.732, last ten sensor data: [('2021-04-06 01:15:27.310', 'D+000003.0'), ('2021-04-06 01:15:27.330', 'D+000002.8'), ('2021-04-06 01:15:27.350', 'D+000003.0'), ('2021-04-06 01:15:27.370', 'D+000003.0'), ('2021-04-06 01:15:27.390', 'D+000003.0'), ('2021-04-06 01:15:27.550', 'D+000005.2'), ('2021-04-06 01:15:27.570', 'D+000005.2'), ('2021-04-06 01:15:27.590', 'D+000005.2'), ('2021-04-06 01:15:27.610', 'D+000005.0'), ('2021-04-06 01:15:27.630', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 5.2, 5.2, 5.2, 5.0, 5.0]
np.array X: [[3. ]
 [5.2]
 [5.2]
 [5.2]
 [5. ]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:15:27.630: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:15:27.630
plc_result: True
sendmessage: 20210406011527630,1,000050,000051
send message to PLC: 2021-04-06 01:15:27.760
time gap: 0:00:00.012473
2021-04-06 01:15:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:29.794
lastevent: 2021-04-06 01:15:29.779, last ten sensor data: [('2021-04-06 01:15:29.320', 'D+000002.6'), ('2021-04-06 01:15:29.340', 'D+000002.8'), ('2021-04-06 01:15:29.520', 'D+000005.0'), ('2021-04-06 01:15:29.540', 'D+000004.6'), ('2021-04-06 01:15:29.560', 'D+000004.4'), ('2021-04-06 01:15:29.580', 'D+000004.8'), ('2021-04-06 01:15:29.600', 'D+000005.0'), ('2021-04-06 01:15:29.750', 'D+000007.6'), ('2021-04-06 01:15:29.770', 'D+000007.6'), ('2021-04-06 01:15:29.790', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.8, 5.0, 7.6, 7.6, 8.2]
np.array X: [[4.4]
 [4.8]
 [5. ]
 [7.6]
 [7.6]
 [8.2]]
revised_weight: 7.1
2021-04-06 01:15:29.790: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:15:29.790
plc_result: True
sendmessage: 20210406011529790,1,000082,000071
send message to PLC: 2021-04-06 01:15:29.807
time gap: 0:00:00.012560
2021-04-06 01:15:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:30.635
lastevent: 2021-04-06 01:15:30.628, last ten sensor data: [('2021-04-06 01:15:30.060', 'D+000007.2'), ('2021-04-06 01:15:30.080', 'D+000007.2'), ('2021-04-06 01:15:30.250', 'D+000007.2'), ('2021-04-06 01:15:30.270', 'D+000007.0'), ('2021-04-06 01:15:30.290', 'D+000006.8'), ('2021-04-06 01:15:30.310', 'D+000007.0'), ('2021-04-06 01:15:30.490', 'D+000006.6'), ('2021-04-06 01:15:30.510', 'D+000006.8'), ('2021-04-06 01:15:30.530', 'D+000006.6'), ('2021-04-06 01:15:30.550', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 7.0, 6.6, 6.8, 6.6, 6.0]
np.array X: [[6.8]
 [7. ]
 [6.6]
 [6.8]
 [6.6]
 [6. ]]
revised_weight: 6.7
2021-04-06 01:15:30.550: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:15:30.550
plc_result: True
sendmessage: 20210406011530550,1,000060,000067
send message to PLC: 2021-04-06 01:15:30.647
time gap: 0:00:00.011284
2021-04-06 01:15:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:31: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:15:31: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:31: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:31: select done
2021-04-06 01:15:31: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:15:31: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:15:31: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:15:31: count: 4 in httpPlcDataSender thread
2021-04-06 01:15:31: D+: 4 in httpPlcDataSender thread
2021-04-06 01:15:31: D-: 0 in httpPlcDataSender thread
2021-04-06 01:15:31: S+: 0 in httpPlcDataSender thread
2021-04-06 01:15:31: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.0', 'sensorAt': '2021-04-06 01:15:26.890'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:15:27.630'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:15:29.790'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:15:30.550'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:26.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:27.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:29.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:30.550'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:15:31', 'collectDate': '2021-04-06 01:15:30', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.0', 'sensorAt': '2021-04-06 01:15:26.890'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:15:27.630'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:15:29.790'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:15:30.550'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:26.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:27.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:29.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:30.550'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:15:31: send http
2021-04-06 01:15:31: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:15:31.824
lastevent: 2021-04-06 01:15:31.811, last ten sensor data: [('2021-04-06 01:15:31.540', 'D+000003.0'), ('2021-04-06 01:15:31.570', 'D+000003.0'), ('2021-04-06 01:15:31.640', 'D+000003.2'), ('2021-04-06 01:15:31.660', 'D+000003.0'), ('2021-04-06 01:15:31.680', 'D+000003.0'), ('2021-04-06 01:15:31.720', 'D+000002.6'), ('2021-04-06 01:15:31.740', 'D+000002.8'), ('2021-04-06 01:15:31.760', 'D+000003.0'), ('2021-04-06 01:15:31.780', 'D+000003.0'), ('2021-04-06 01:15:31.800', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.6, 2.8, 3.0, 3.0, 3.0]
np.array X: [[3. ]
 [2.6]
 [2.8]
 [3. ]
 [3. ]
 [3. ]]
revised_weight: 2.7
2021-04-06 01:15:31.800: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:15:31.800
plc_result: True
sendmessage: 20210406011531800,1,000030,000027
send message to PLC: 2021-04-06 01:15:31.832
time gap: 0:00:00.008263
2021-04-06 01:15:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
Backupserver True
2021-04-06 01:15:31: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:31: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:15:33.384
lastevent: 2021-04-06 01:15:33.375, last ten sensor data: [('2021-04-06 01:15:32.980', 'D+000002.0'), ('2021-04-06 01:15:33.000', 'D+000001.8'), ('2021-04-06 01:15:33.100', 'D+000003.4'), ('2021-04-06 01:15:33.120', 'D+000003.4'), ('2021-04-06 01:15:33.140', 'D+000003.6'), ('2021-04-06 01:15:33.160', 'D+000003.8'), ('2021-04-06 01:15:33.180', 'D+000003.4'), ('2021-04-06 01:15:33.340', 'D+000003.8'), ('2021-04-06 01:15:33.360', 'D+000003.8'), ('2021-04-06 01:15:33.380', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.8, 3.4, 3.8, 3.8, 4.0]
np.array X: [[3.6]
 [3.8]
 [3.4]
 [3.8]
 [3.8]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:15:33.380: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:15:33.380
plc_result: True
sendmessage: 20210406011533380,1,000040,000040
send message to PLC: 2021-04-06 01:15:33.392
time gap: 0:00:00.007440
2021-04-06 01:15:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:34.544
lastevent: 2021-04-06 01:15:34.532, last ten sensor data: [('2021-04-06 01:15:34.060', 'D+000002.8'), ('2021-04-06 01:15:34.080', 'D+000002.8'), ('2021-04-06 01:15:34.100', 'D+000002.8'), ('2021-04-06 01:15:34.120', 'D+000002.6'), ('2021-04-06 01:15:34.140', 'D+000002.4'), ('2021-04-06 01:15:34.310', 'D+000004.0'), ('2021-04-06 01:15:34.330', 'D+000004.6'), ('2021-04-06 01:15:34.350', 'D+000005.4'), ('2021-04-06 01:15:34.370', 'D+000005.8'), ('2021-04-06 01:15:34.390', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 4.0, 4.6, 5.4, 5.8, 5.4]
np.array X: [[2.4]
 [4. ]
 [4.6]
 [5.4]
 [5.8]
 [5.4]]
revised_weight: 5.3
2021-04-06 01:15:34.390: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:15:34.390
plc_result: True
sendmessage: 20210406011534390,1,000054,000053
send message to PLC: 2021-04-06 01:15:34.553
time gap: 0:00:00.008754
2021-04-06 01:15:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:36.329
lastevent: 2021-04-06 01:15:36.314, last ten sensor data: [('2021-04-06 01:15:35.850', 'D+000002.6'), ('2021-04-06 01:15:35.870', 'D+000002.6'), ('2021-04-06 01:15:36.030', 'D+000003.0'), ('2021-04-06 01:15:36.050', 'D+000003.4'), ('2021-04-06 01:15:36.070', 'D+000004.0'), ('2021-04-06 01:15:36.090', 'D+000004.2'), ('2021-04-06 01:15:36.250', 'D+000006.0'), ('2021-04-06 01:15:36.280', 'D+000005.8'), ('2021-04-06 01:15:36.300', 'D+000006.8'), ('2021-04-06 01:15:36.320', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 6.0, 5.8, 6.8, 7.0]
np.array X: [[4. ]
 [4.2]
 [6. ]
 [5.8]
 [6.8]
 [7. ]]
revised_weight: 6.1
2021-04-06 01:15:36.320: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:15:36.320
plc_result: True
sendmessage: 20210406011536320,1,000070,000061
send message to PLC: 2021-04-06 01:15:36.342
time gap: 0:00:00.012835
2021-04-06 01:15:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:36: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:15:36: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:37: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:37: select done
2021-04-06 01:15:37: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:15:37: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:15:37: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:15:37: count: 4 in httpPlcDataSender thread
2021-04-06 01:15:37: D+: 4 in httpPlcDataSender thread
2021-04-06 01:15:37: D-: 0 in httpPlcDataSender thread
2021-04-06 01:15:37: S+: 0 in httpPlcDataSender thread
2021-04-06 01:15:37: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.7', 'sensorAt': '2021-04-06 01:15:31.800'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:15:33.380'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:15:34.390'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:15:36.320'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:31.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:33.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:34.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:36.320'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:15:37', 'collectDate': '2021-04-06 01:15:36', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.7', 'sensorAt': '2021-04-06 01:15:31.800'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:15:33.380'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:15:34.390'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:15:36.320'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:31.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:33.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:34.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:36.320'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:15:37: send http
2021-04-06 01:15:37: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:15:37: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:37: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:15:38.753
lastevent: 2021-04-06 01:15:38.744, last ten sensor data: [('2021-04-06 01:15:38.250', 'D+000001.8'), ('2021-04-06 01:15:38.270', 'D+000001.8'), ('2021-04-06 01:15:38.290', 'D+000002.0'), ('2021-04-06 01:15:38.470', 'D+000004.2'), ('2021-04-06 01:15:38.490', 'D+000004.4'), ('2021-04-06 01:15:38.510', 'D+000005.0'), ('2021-04-06 01:15:38.530', 'D+000004.8'), ('2021-04-06 01:15:38.710', 'D+000007.2'), ('2021-04-06 01:15:38.730', 'D+000007.0'), ('2021-04-06 01:15:38.750', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.0, 4.8, 7.2, 7.0, 7.2]
np.array X: [[4.4]
 [5. ]
 [4.8]
 [7.2]
 [7. ]
 [7.2]]
revised_weight: 6.2
2021-04-06 01:15:38.750: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:15:38.750
plc_result: True
sendmessage: 20210406011538750,1,000072,000062
send message to PLC: 2021-04-06 01:15:38.763
time gap: 0:00:00.009400
2021-04-06 01:15:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:40.040
lastevent: 2021-04-06 01:15:40.032, last ten sensor data: [('2021-04-06 01:15:39.680', 'D+000003.0'), ('2021-04-06 01:15:39.700', 'D+000003.2'), ('2021-04-06 01:15:39.720', 'D+000003.6'), ('2021-04-06 01:15:39.740', 'D+000003.6'), ('2021-04-06 01:15:39.760', 'D+000003.6'), ('2021-04-06 01:15:39.780', 'D+000003.6'), ('2021-04-06 01:15:39.940', 'D+000004.0'), ('2021-04-06 01:15:39.960', 'D+000004.2'), ('2021-04-06 01:15:39.980', 'D+000004.4'), ('2021-04-06 01:15:40.000', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 4.0, 4.2, 4.4, 4.2]
np.array X: [[3.6]
 [3.6]
 [4. ]
 [4.2]
 [4.4]
 [4.2]]
revised_weight: 4.1
2021-04-06 01:15:40.000: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:15:40.000
plc_result: True
sendmessage: 20210406011540000,1,000042,000041
send message to PLC: 2021-04-06 01:15:40.046
time gap: 0:00:00.006383
2021-04-06 01:15:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:40.550
lastevent: 2021-04-06 01:15:40.533, last ten sensor data: [('2021-04-06 01:15:40.180', 'D+000004.6'), ('2021-04-06 01:15:40.200', 'D+000004.6'), ('2021-04-06 01:15:40.220', 'D+000004.6'), ('2021-04-06 01:15:40.240', 'D+000004.6'), ('2021-04-06 01:15:40.260', 'D+000004.8'), ('2021-04-06 01:15:40.420', 'D+000006.0'), ('2021-04-06 01:15:40.440', 'D+000006.8'), ('2021-04-06 01:15:40.460', 'D+000007.2'), ('2021-04-06 01:15:40.480', 'D+000006.6'), ('2021-04-06 01:15:40.500', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 6.0, 6.8, 7.2, 6.6, 5.6]
np.array X: [[4.8]
 [6. ]
 [6.8]
 [7.2]
 [6.6]
 [5.6]]
revised_weight: 6.1
2021-04-06 01:15:40.500: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:15:40.500
plc_result: True
sendmessage: 20210406011540500,1,000056,000061
send message to PLC: 2021-04-06 01:15:40.562
time gap: 0:00:00.011979
2021-04-06 01:15:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:41.728
lastevent: 2021-04-06 01:15:41.711, last ten sensor data: [('2021-04-06 01:15:41.190', 'D+000002.8'), ('2021-04-06 01:15:41.210', 'D+000002.6'), ('2021-04-06 01:15:41.230', 'D+000002.6'), ('2021-04-06 01:15:41.420', 'D+000003.6'), ('2021-04-06 01:15:41.440', 'D+000004.4'), ('2021-04-06 01:15:41.460', 'D+000004.6'), ('2021-04-06 01:15:41.480', 'D+000003.8'), ('2021-04-06 01:15:41.660', 'D+000005.4'), ('2021-04-06 01:15:41.680', 'D+000005.6'), ('2021-04-06 01:15:41.700', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 3.8, 5.4, 5.6, 6.2]
np.array X: [[4.4]
 [4.6]
 [3.8]
 [5.4]
 [5.6]
 [6.2]]
revised_weight: 5.1
2021-04-06 01:15:41.700: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:15:41.700
plc_result: True
sendmessage: 20210406011541700,1,000062,000051
send message to PLC: 2021-04-06 01:15:41.735
time gap: 0:00:00.006481
2021-04-06 01:15:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:42.269
lastevent: 2021-04-06 01:15:42.261, last ten sensor data: [('2021-04-06 01:15:41.890', 'D+000005.2'), ('2021-04-06 01:15:41.910', 'D+000005.4'), ('2021-04-06 01:15:41.930', 'D+000005.4'), ('2021-04-06 01:15:41.950', 'D+000005.2'), ('2021-04-06 01:15:41.970', 'D+000005.0'), ('2021-04-06 01:15:42.140', 'D+000004.6'), ('2021-04-06 01:15:42.160', 'D+000004.4'), ('2021-04-06 01:15:42.180', 'D+000003.8'), ('2021-04-06 01:15:42.200', 'D+000003.8'), ('2021-04-06 01:15:42.220', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.6, 4.4, 3.8, 3.8, 4.0]
np.array X: [[5. ]
 [4.6]
 [4.4]
 [3.8]
 [3.8]
 [4. ]]
revised_weight: 4.4
2021-04-06 01:15:42.220: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:15:42.220
plc_result: True
sendmessage: 20210406011542220,1,000040,000044
send message to PLC: 2021-04-06 01:15:42.276
time gap: 0:00:00.006262
2021-04-06 01:15:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:42: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:15:42: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:42: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:42: select done
2021-04-06 01:15:42: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:15:42: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:15:42: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:15:42: count: 5 in httpPlcDataSender thread
2021-04-06 01:15:42: D+: 5 in httpPlcDataSender thread
2021-04-06 01:15:42: D-: 0 in httpPlcDataSender thread
2021-04-06 01:15:42: S+: 0 in httpPlcDataSender thread
2021-04-06 01:15:42: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.2', 'sensorAt': '2021-04-06 01:15:38.750'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:15:40.000'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:15:40.500'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:15:41.700'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:15:42.220'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:38.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:40.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:40.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:41.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:42.220'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:15:42', 'collectDate': '2021-04-06 01:15:42', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.2', 'sensorAt': '2021-04-06 01:15:38.750'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:15:40.000'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:15:40.500'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:15:41.700'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:15:42.220'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:38.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:40.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:40.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:41.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:42.220'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:15:42: send http
2021-04-06 01:15:42: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:15:43: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:43: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:15:43.589
lastevent: 2021-04-06 01:15:43.584, last ten sensor data: [('2021-04-06 01:15:43.210', 'D+000002.8'), ('2021-04-06 01:15:43.230', 'D+000002.8'), ('2021-04-06 01:15:43.250', 'D+000002.8'), ('2021-04-06 01:15:43.270', 'D+000002.6'), ('2021-04-06 01:15:43.290', 'D+000002.6'), ('2021-04-06 01:15:43.450', 'D+000002.2'), ('2021-04-06 01:15:43.470', 'D+000002.6'), ('2021-04-06 01:15:43.490', 'D+000002.6'), ('2021-04-06 01:15:43.510', 'D+000002.4'), ('2021-04-06 01:15:43.530', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.2, 2.6, 2.6, 2.4, 2.4]
np.array X: [[2.6]
 [2.2]
 [2.6]
 [2.6]
 [2.4]
 [2.4]]
revised_weight: 2.1
2021-04-06 01:15:43.530: revising weight finished
revised_weight: 2.1 at 2021-04-06 01:15:43.530
plc_result: True
sendmessage: 20210406011543530,1,000024,000021
send message to PLC: 2021-04-06 01:15:43.601
time gap: 0:00:00.011772
2021-04-06 01:15:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:44.006
lastevent: 2021-04-06 01:15:43.990, last ten sensor data: [('2021-04-06 01:15:43.710', 'D+000002.0'), ('2021-04-06 01:15:43.730', 'D+000002.0'), ('2021-04-06 01:15:43.750', 'D+000002.4'), ('2021-04-06 01:15:43.770', 'D+000002.2'), ('2021-04-06 01:15:43.790', 'D+000002.0'), ('2021-04-06 01:15:43.930', 'D+000002.4'), ('2021-04-06 01:15:43.950', 'D+000001.8'), ('2021-04-06 01:15:43.970', 'D+000002.0'), ('2021-04-06 01:15:43.990', 'D+000002.2'), ('2021-04-06 01:15:44.010', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.4, 1.8, 2.0, 2.2, 2.2]
np.array X: [[2. ]
 [2.4]
 [1.8]
 [2. ]
 [2.2]
 [2.2]]
revised_weight: 2.1
2021-04-06 01:15:44.010: revising weight finished
revised_weight: 2.1 at 2021-04-06 01:15:44.010
plc_result: True
sendmessage: 20210406011544010,1,000022,000021
send message to PLC: 2021-04-06 01:15:44.018
time gap: 0:00:00.011836
2021-04-06 01:15:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:44.806
lastevent: 2021-04-06 01:15:44.794, last ten sensor data: [('2021-04-06 01:15:44.240', 'D+000002.4'), ('2021-04-06 01:15:44.260', 'D+000002.0'), ('2021-04-06 01:15:44.440', 'D+000002.4'), ('2021-04-06 01:15:44.460', 'D+000002.4'), ('2021-04-06 01:15:44.480', 'D+000002.4'), ('2021-04-06 01:15:44.500', 'D+000002.4'), ('2021-04-06 01:15:44.680', 'D+000002.6'), ('2021-04-06 01:15:44.700', 'D+000002.4'), ('2021-04-06 01:15:44.720', 'D+000002.6'), ('2021-04-06 01:15:44.740', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.6, 2.4, 2.6, 3.0]
np.array X: [[2.4]
 [2.4]
 [2.6]
 [2.4]
 [2.6]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:15:44.740: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:15:44.740
plc_result: True
sendmessage: 20210406011544740,1,000030,000029
send message to PLC: 2021-04-06 01:15:44.817
time gap: 0:00:00.011710
2021-04-06 01:15:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:45.503
lastevent: 2021-04-06 01:15:45.497, last ten sensor data: [('2021-04-06 01:15:45.160', 'D+000005.0'), ('2021-04-06 01:15:45.180', 'D+000006.2'), ('2021-04-06 01:15:45.200', 'D+000007.0'), ('2021-04-06 01:15:45.220', 'D+000006.6'), ('2021-04-06 01:15:45.240', 'D+000005.4'), ('2021-04-06 01:15:45.400', 'D+000009.6'), ('2021-04-06 01:15:45.420', 'D+000010.6'), ('2021-04-06 01:15:45.440', 'D+000010.8'), ('2021-04-06 01:15:45.460', 'D+000010.6'), ('2021-04-06 01:15:45.480', 'D+000010.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 9.6, 10.6, 10.8, 10.6, 10.6]
np.array X: [[ 5.4]
 [ 9.6]
 [10.6]
 [10.8]
 [10.6]
 [10.6]]
revised_weight: 11.8
2021-04-06 01:15:45.480: revising weight finished
revised_weight: 11.8 at 2021-04-06 01:15:45.480
plc_result: True
sendmessage: 20210406011545480,1,000106,000118
send message to PLC: 2021-04-06 01:15:45.510
time gap: 0:00:00.006732
2021-04-06 01:15:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:46.100
lastevent: 2021-04-06 01:15:46.087, last ten sensor data: [('2021-04-06 01:15:45.660', 'D+000010.2'), ('2021-04-06 01:15:45.680', 'D+000009.8'), ('2021-04-06 01:15:45.700', 'D+000010.0'), ('2021-04-06 01:15:45.720', 'D+000010.2'), ('2021-04-06 01:15:45.740', 'D+000010.2'), ('2021-04-06 01:15:45.890', 'D+000007.4'), ('2021-04-06 01:15:45.910', 'D+000007.6'), ('2021-04-06 01:15:45.930', 'D+000008.0'), ('2021-04-06 01:15:45.950', 'D+000007.8'), ('2021-04-06 01:15:45.970', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [10.2, 7.4, 7.6, 8.0, 7.8, 7.8]
np.array X: [[10.2]
 [ 7.4]
 [ 7.6]
 [ 8. ]
 [ 7.8]
 [ 7.8]]
revised_weight: 7.8
2021-04-06 01:15:45.970: revising weight finished
revised_weight: 7.8 at 2021-04-06 01:15:45.970
plc_result: True
sendmessage: 20210406011545970,1,000078,000078
send message to PLC: 2021-04-06 01:15:46.106
time gap: 0:00:00.006426
2021-04-06 01:15:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:46.767
lastevent: 2021-04-06 01:15:46.747, last ten sensor data: [('2021-04-06 01:15:46.390', 'D+000002.6'), ('2021-04-06 01:15:46.410', 'D+000002.6'), ('2021-04-06 01:15:46.430', 'D+000002.8'), ('2021-04-06 01:15:46.450', 'D+000002.8'), ('2021-04-06 01:15:46.470', 'D+000002.6'), ('2021-04-06 01:15:46.630', 'D+000002.4'), ('2021-04-06 01:15:46.650', 'D+000002.2'), ('2021-04-06 01:15:46.670', 'D+000002.2'), ('2021-04-06 01:15:46.690', 'D+000002.2'), ('2021-04-06 01:15:46.710', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.4, 2.2, 2.2, 2.2, 2.4]
np.array X: [[2.6]
 [2.4]
 [2.2]
 [2.2]
 [2.2]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:15:46.710: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:15:46.710
plc_result: True
sendmessage: 20210406011546710,1,000024,000023
send message to PLC: 2021-04-06 01:15:46.779
time gap: 0:00:00.011916
2021-04-06 01:15:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:47.911
lastevent: 2021-04-06 01:15:47.910, last ten sensor data: [('2021-04-06 01:15:47.430', 'D+000002.0'), ('2021-04-06 01:15:47.600', 'D+000002.4'), ('2021-04-06 01:15:47.620', 'D+000002.2'), ('2021-04-06 01:15:47.640', 'D+000002.2'), ('2021-04-06 01:15:47.660', 'D+000002.0'), ('2021-04-06 01:15:47.680', 'D+000002.2'), ('2021-04-06 01:15:47.850', 'D+000002.8'), ('2021-04-06 01:15:47.870', 'D+000003.4'), ('2021-04-06 01:15:47.890', 'D+000004.4'), ('2021-04-06 01:15:47.910', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.2, 2.8, 3.4, 4.4, 4.0]
np.array X: [[2. ]
 [2.2]
 [2.8]
 [3.4]
 [4.4]
 [4. ]]
revised_weight: 3.5
2021-04-06 01:15:47.910: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:15:47.910
plc_result: True
sendmessage: 20210406011547910,1,000040,000035
send message to PLC: 2021-04-06 01:15:47.920
time gap: 0:00:00.008844
2021-04-06 01:15:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:48: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:15:48: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:48: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:48: select done
2021-04-06 01:15:48: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:15:48: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:15:48: sendjson called, 7 records in httpPlcDataSender thread
2021-04-06 01:15:48: count: 7 in httpPlcDataSender thread
2021-04-06 01:15:48: D+: 7 in httpPlcDataSender thread
2021-04-06 01:15:48: D-: 0 in httpPlcDataSender thread
2021-04-06 01:15:48: S+: 0 in httpPlcDataSender thread
2021-04-06 01:15:48: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.1', 'sensorAt': '2021-04-06 01:15:43.530'}, {'value': '2.1', 'sensorAt': '2021-04-06 01:15:44.010'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:15:44.740'}, {'value': '11.8', 'sensorAt': '2021-04-06 01:15:45.480'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:15:45.970'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:15:46.710'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:15:47.910'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:43.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:44.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:44.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:45.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:45.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:46.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:47.910'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:15:48', 'collectDate': '2021-04-06 01:15:47', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.1', 'sensorAt': '2021-04-06 01:15:43.530'}, {'value': '2.1', 'sensorAt': '2021-04-06 01:15:44.010'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:15:44.740'}, {'value': '11.8', 'sensorAt': '2021-04-06 01:15:45.480'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:15:45.970'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:15:46.710'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:15:47.910'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:43.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:44.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:44.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:45.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:45.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:46.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:47.910'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:15:48: send http
2021-04-06 01:15:48: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:15:48: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:48: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:15:50.774
lastevent: 2021-04-06 01:15:50.759, last ten sensor data: [('2021-04-06 01:15:50.290', 'D+000002.0'), ('2021-04-06 01:15:50.320', 'D+000001.8'), ('2021-04-06 01:15:50.340', 'D+000002.0'), ('2021-04-06 01:15:50.380', 'D+000002.2'), ('2021-04-06 01:15:50.530', 'D+000005.0'), ('2021-04-06 01:15:50.550', 'D+000005.4'), ('2021-04-06 01:15:50.570', 'D+000005.4'), ('2021-04-06 01:15:50.590', 'D+000005.8'), ('2021-04-06 01:15:50.610', 'D+000006.0'), ('2021-04-06 01:15:50.770', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.4, 5.4, 5.8, 6.0, 7.4]
np.array X: [[5. ]
 [5.4]
 [5.4]
 [5.8]
 [6. ]
 [7.4]]
revised_weight: 6.5
2021-04-06 01:15:50.770: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:15:50.770
plc_result: True
sendmessage: 20210406011550770,1,000074,000065
send message to PLC: 2021-04-06 01:15:50.781
time gap: 0:00:00.006531
2021-04-06 01:15:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:51.867
lastevent: 2021-04-06 01:15:51.852, last ten sensor data: [('2021-04-06 01:15:51.320', 'D+000006.0'), ('2021-04-06 01:15:51.340', 'D+000006.0'), ('2021-04-06 01:15:51.390', 'D+000005.0'), ('2021-04-06 01:15:51.410', 'D+000004.6'), ('2021-04-06 01:15:51.430', 'D+000004.0'), ('2021-04-06 01:15:51.610', 'D+000008.8'), ('2021-04-06 01:15:51.630', 'D+000008.6'), ('2021-04-06 01:15:51.650', 'D+000009.2'), ('2021-04-06 01:15:51.670', 'D+000010.8'), ('2021-04-06 01:15:51.860', 'D+000015.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 8.8, 8.6, 9.2, 10.8, 15.8]
np.array X: [[ 4. ]
 [ 8.8]
 [ 8.6]
 [ 9.2]
 [10.8]
 [15.8]]
revised_weight: 13.2
2021-04-06 01:15:51.860: revising weight finished
revised_weight: 13.2 at 2021-04-06 01:15:51.860
plc_result: True
sendmessage: 20210406011551860,1,000158,000132
send message to PLC: 2021-04-06 01:15:51.874
time gap: 0:00:00.006735
2021-04-06 01:15:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:53.224
lastevent: 2021-04-06 01:15:53.209, last ten sensor data: [('2021-04-06 01:15:52.820', 'D+000002.6'), ('2021-04-06 01:15:52.840', 'D+000002.4'), ('2021-04-06 01:15:52.860', 'D+000002.8'), ('2021-04-06 01:15:52.880', 'D+000002.8'), ('2021-04-06 01:15:52.900', 'D+000002.6'), ('2021-04-06 01:15:53.050', 'D+000003.0'), ('2021-04-06 01:15:53.070', 'D+000003.2'), ('2021-04-06 01:15:53.090', 'D+000002.8'), ('2021-04-06 01:15:53.110', 'D+000002.0'), ('2021-04-06 01:15:53.130', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.0, 3.2, 2.8, 2.0, 2.0]
np.array X: [[2.6]
 [3. ]
 [3.2]
 [2.8]
 [2. ]
 [2. ]]
revised_weight: 1.9
2021-04-06 01:15:53.130: revising weight finished
revised_weight: 1.9 at 2021-04-06 01:15:53.130
plc_result: True
sendmessage: 20210406011553130,1,000020,000019
send message to PLC: 2021-04-06 01:15:53.231
time gap: 0:00:00.006628
2021-04-06 01:15:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:53: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:15:53: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:53: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:53: select done
2021-04-06 01:15:53: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:15:53: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:15:54: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:15:54: count: 3 in httpPlcDataSender thread
2021-04-06 01:15:54: D+: 3 in httpPlcDataSender thread
2021-04-06 01:15:54: D-: 0 in httpPlcDataSender thread
2021-04-06 01:15:54: S+: 0 in httpPlcDataSender thread
2021-04-06 01:15:54: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:15:50.770'}, {'value': '13.2', 'sensorAt': '2021-04-06 01:15:51.860'}, {'value': '1.9', 'sensorAt': '2021-04-06 01:15:53.130'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:50.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:51.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:53.130'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:15:54', 'collectDate': '2021-04-06 01:15:53', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:15:50.770'}, {'value': '13.2', 'sensorAt': '2021-04-06 01:15:51.860'}, {'value': '1.9', 'sensorAt': '2021-04-06 01:15:53.130'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:50.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:51.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:53.130'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:15:54: send http
2021-04-06 01:15:54: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:15:54: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:54: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:15:55.427
lastevent: 2021-04-06 01:15:55.425, last ten sensor data: [('2021-04-06 01:15:55.040', 'D+000002.4'), ('2021-04-06 01:15:55.060', 'D+000002.4'), ('2021-04-06 01:15:55.080', 'D+000002.4'), ('2021-04-06 01:15:55.100', 'D+000002.4'), ('2021-04-06 01:15:55.190', 'D+000004.8'), ('2021-04-06 01:15:55.240', 'D+000006.0'), ('2021-04-06 01:15:55.270', 'D+000006.8'), ('2021-04-06 01:15:55.290', 'D+000008.2'), ('2021-04-06 01:15:55.310', 'D+000008.8'), ('2021-04-06 01:15:55.330', 'D+000008.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 6.0, 6.8, 8.2, 8.8, 8.4]
np.array X: [[4.8]
 [6. ]
 [6.8]
 [8.2]
 [8.8]
 [8.4]]
revised_weight: 7.5
2021-04-06 01:15:55.330: revising weight finished
revised_weight: 7.5 at 2021-04-06 01:15:55.330
plc_result: True
sendmessage: 20210406011555330,1,000084,000075
send message to PLC: 2021-04-06 01:15:55.433
time gap: 0:00:00.006424
2021-04-06 01:15:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:55.963
lastevent: 2021-04-06 01:15:55.949, last ten sensor data: [('2021-04-06 01:15:55.490', 'D+000009.4'), ('2021-04-06 01:15:55.510', 'D+000009.4'), ('2021-04-06 01:15:55.530', 'D+000009.4'), ('2021-04-06 01:15:55.550', 'D+000009.4'), ('2021-04-06 01:15:55.570', 'D+000010.2'), ('2021-04-06 01:15:55.590', 'D+000010.6'), ('2021-04-06 01:15:55.750', 'D+000014.4'), ('2021-04-06 01:15:55.770', 'D+000015.4'), ('2021-04-06 01:15:55.790', 'D+000014.4'), ('2021-04-06 01:15:55.810', 'D+000011.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [10.2, 10.6, 14.4, 15.4, 14.4, 11.8]
np.array X: [[10.2]
 [10.6]
 [14.4]
 [15.4]
 [14.4]
 [11.8]]
revised_weight: 12.7
2021-04-06 01:15:55.810: revising weight finished
revised_weight: 12.7 at 2021-04-06 01:15:55.810
plc_result: True
sendmessage: 20210406011555810,1,000118,000127
send message to PLC: 2021-04-06 01:15:55.975
time gap: 0:00:00.011672
2021-04-06 01:15:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:57.105
lastevent: 2021-04-06 01:15:57.093, last ten sensor data: [('2021-04-06 01:15:56.560', 'D+000003.4'), ('2021-04-06 01:15:56.710', 'D+000004.0'), ('2021-04-06 01:15:56.750', 'D+000004.4'), ('2021-04-06 01:15:56.770', 'D+000005.4'), ('2021-04-06 01:15:56.790', 'D+000007.8'), ('2021-04-06 01:15:56.960', 'D+000011.2'), ('2021-04-06 01:15:56.980', 'D+000010.4'), ('2021-04-06 01:15:57.000', 'D+000010.8'), ('2021-04-06 01:15:57.020', 'D+000011.2'), ('2021-04-06 01:15:57.040', 'D+000010.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.8, 11.2, 10.4, 10.8, 11.2, 10.4]
np.array X: [[ 7.8]
 [11.2]
 [10.4]
 [10.8]
 [11.2]
 [10.4]]
revised_weight: 10.4
2021-04-06 01:15:57.040: revising weight finished
revised_weight: 10.4 at 2021-04-06 01:15:57.040
plc_result: True
sendmessage: 20210406011557040,1,000104,000104
send message to PLC: 2021-04-06 01:15:57.111
time gap: 0:00:00.006555
2021-04-06 01:15:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:15:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:58.251
lastevent: 2021-04-06 01:15:58.246, last ten sensor data: [('2021-04-06 01:15:57.940', 'D+000002.4'), ('2021-04-06 01:15:57.960', 'D+000002.8'), ('2021-04-06 01:15:57.980', 'D+000002.8'), ('2021-04-06 01:15:58.000', 'D+000002.8'), ('2021-04-06 01:15:58.020', 'D+000002.8'), ('2021-04-06 01:15:58.180', 'D+000002.8'), ('2021-04-06 01:15:58.200', 'D+000002.8'), ('2021-04-06 01:15:58.220', 'D+000002.6'), ('2021-04-06 01:15:58.240', 'D+000002.8'), ('2021-04-06 01:15:58.260', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 2.8, 2.6, 2.8, 2.8]
np.array X: [[2.8]
 [2.8]
 [2.8]
 [2.6]
 [2.8]
 [2.8]]
revised_weight: 2.8
2021-04-06 01:15:58.260: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:15:58.260
plc_result: True
sendmessage: 20210406011558260,1,000028,000028
send message to PLC: 2021-04-06 01:15:58.258
time gap: 0:00:00.006477
2021-04-06 01:15:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:15:58.541
lastevent: 2021-04-06 01:15:58.537, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:15:58.420', 'D+000002.8'), ('2021-04-06 01:15:58.440', 'D+000002.6'), ('2021-04-06 01:15:58.460', 'D+000002.6'), ('2021-04-06 01:15:58.480', 'D+000002.6'), ('2021-04-06 01:15:58.500', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 2.8, 2.6, 2.6, 2.6, 2.6]
np.array X: [[0. ]
 [2.8]
 [2.6]
 [2.6]
 [2.6]
 [2.6]]
revised_weight: 1.9
2021-04-06 01:15:58.500: revising weight finished
revised_weight: 1.9 at 2021-04-06 01:15:58.500
plc_result: True
sendmessage: 20210406011558500,1,000026,000019
send message to PLC: 2021-04-06 01:15:58.547
time gap: 0:00:00.006333
2021-04-06 01:15:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:59: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:15:59: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:59: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:59: select done
2021-04-06 01:15:59: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:15:59: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:15:59: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:15:59: count: 5 in httpPlcDataSender thread
2021-04-06 01:15:59: D+: 5 in httpPlcDataSender thread
2021-04-06 01:15:59: D-: 0 in httpPlcDataSender thread
2021-04-06 01:15:59: S+: 0 in httpPlcDataSender thread
2021-04-06 01:15:59: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.5', 'sensorAt': '2021-04-06 01:15:55.330'}, {'value': '12.7', 'sensorAt': '2021-04-06 01:15:55.810'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:15:57.040'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:15:58.260'}, {'value': '1.9', 'sensorAt': '2021-04-06 01:15:58.500'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:55.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:55.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:57.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:58.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:58.500'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:15:59', 'collectDate': '2021-04-06 01:15:58', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.5', 'sensorAt': '2021-04-06 01:15:55.330'}, {'value': '12.7', 'sensorAt': '2021-04-06 01:15:55.810'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:15:57.040'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:15:58.260'}, {'value': '1.9', 'sensorAt': '2021-04-06 01:15:58.500'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:55.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:55.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:57.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:58.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:15:58.500'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:15:59.613
lastevent: 2021-04-06 01:15:59.608, last ten sensor data: [('2021-04-06 01:15:59.170', 'D+000001.8'), ('2021-04-06 01:15:59.190', 'D+000001.6'), ('2021-04-06 01:15:59.210', 'D+000001.6'), ('2021-04-06 01:15:59.230', 'D+000001.8'), ('2021-04-06 01:15:59.250', 'D+000001.8'), ('2021-04-06 01:15:59.410', 'D+000002.4'), ('2021-04-06 01:15:59.430', 'D+000002.0'), ('2021-04-06 01:15:59.450', 'D+000002.0'), ('2021-04-06 01:15:59.470', 'D+000002.0'), ('2021-04-06 01:15:59.600', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.4, 2.0, 2.0, 2.0, 2.0]
np.array X: [[1.8]
 [2.4]
 [2. ]
 [2. ]
 [2. ]
 [2. ]]
revised_weight: 1.8
2021-04-06 01:15:59.600: revising weight finished
revised_weight: 1.8 at 2021-04-06 01:15:59.600
plc_result: True
sendmessage: 20210406011559600,1,000020,000018
send message to PLC: 2021-04-06 01:15:59.620
time gap: 0:00:00.006646
2021-04-06 01:15:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:15:59: send http
2021-04-06 01:15:59: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:15:59: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:15:59: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:03.473
lastevent: 2021-04-06 01:16:03.469, last ten sensor data: [('2021-04-06 01:16:03.070', 'D+000001.8'), ('2021-04-06 01:16:03.090', 'D+000001.6'), ('2021-04-06 01:16:03.110', 'D+000001.8'), ('2021-04-06 01:16:03.130', 'D+000002.0'), ('2021-04-06 01:16:03.150', 'D+000002.2'), ('2021-04-06 01:16:03.320', 'D+000005.6'), ('2021-04-06 01:16:03.340', 'D+000005.4'), ('2021-04-06 01:16:03.360', 'D+000005.0'), ('2021-04-06 01:16:03.380', 'D+000005.6'), ('2021-04-06 01:16:03.400', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 5.6, 5.4, 5.0, 5.6, 7.0]
np.array X: [[2.2]
 [5.6]
 [5.4]
 [5. ]
 [5.6]
 [7. ]]
revised_weight: 6.7
2021-04-06 01:16:03.400: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:16:03.400
plc_result: True
sendmessage: 20210406011603400,1,000070,000067
send message to PLC: 2021-04-06 01:16:03.488
time gap: 0:00:00.014304
2021-04-06 01:16:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:04.243
lastevent: 2021-04-06 01:16:04.234, last ten sensor data: [('2021-04-06 01:16:03.640', 'D+000006.4'), ('2021-04-06 01:16:03.800', 'D+000006.8'), ('2021-04-06 01:16:03.820', 'D+000006.4'), ('2021-04-06 01:16:03.840', 'D+000006.2'), ('2021-04-06 01:16:03.860', 'D+000006.4'), ('2021-04-06 01:16:03.880', 'D+000007.0'), ('2021-04-06 01:16:04.060', 'D+000007.6'), ('2021-04-06 01:16:04.080', 'D+000007.4'), ('2021-04-06 01:16:04.100', 'D+000007.4'), ('2021-04-06 01:16:04.120', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 7.0, 7.6, 7.4, 7.4, 8.0]
np.array X: [[6.4]
 [7. ]
 [7.6]
 [7.4]
 [7.4]
 [8. ]]
revised_weight: 7.3
2021-04-06 01:16:04.120: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:16:04.120
plc_result: True
sendmessage: 20210406011604120,1,000080,000073
send message to PLC: 2021-04-06 01:16:04.250
time gap: 0:00:00.006885
2021-04-06 01:16:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:04: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:16:04: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:05: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:05: select done
2021-04-06 01:16:05: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:16:05: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:16:05: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:16:05: count: 3 in httpPlcDataSender thread
2021-04-06 01:16:05: D+: 3 in httpPlcDataSender thread
2021-04-06 01:16:05: D-: 0 in httpPlcDataSender thread
2021-04-06 01:16:05: S+: 0 in httpPlcDataSender thread
2021-04-06 01:16:05: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.8', 'sensorAt': '2021-04-06 01:15:59.600'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:16:03.400'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:16:04.120'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:59.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:03.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:04.120'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:16:05', 'collectDate': '2021-04-06 01:16:04', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.8', 'sensorAt': '2021-04-06 01:15:59.600'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:16:03.400'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:16:04.120'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:15:59.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:03.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:04.120'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:16:05: send http
2021-04-06 01:16:05: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:16:05: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:05: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:07.104
lastevent: 2021-04-06 01:16:07.092, last ten sensor data: [('2021-04-06 01:16:06.620', 'D+000001.6'), ('2021-04-06 01:16:06.640', 'D+000001.6'), ('2021-04-06 01:16:06.810', 'D+000002.8'), ('2021-04-06 01:16:06.830', 'D+000002.8'), ('2021-04-06 01:16:06.850', 'D+000003.0'), ('2021-04-06 01:16:06.870', 'D+000003.4'), ('2021-04-06 01:16:06.890', 'D+000004.2'), ('2021-04-06 01:16:07.060', 'D+000006.4'), ('2021-04-06 01:16:07.080', 'D+000007.8'), ('2021-04-06 01:16:07.100', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.4, 4.2, 6.4, 7.8, 7.8]
np.array X: [[3. ]
 [3.4]
 [4.2]
 [6.4]
 [7.8]
 [7.8]]
revised_weight: 6.2
2021-04-06 01:16:07.100: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:16:07.100
plc_result: True
sendmessage: 20210406011607100,1,000078,000062
send message to PLC: 2021-04-06 01:16:07.144
time gap: 0:00:00.040330
2021-04-06 01:16:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:08.317
lastevent: 2021-04-06 01:16:08.313, last ten sensor data: [('2021-04-06 01:16:07.840', 'D+000002.4'), ('2021-04-06 01:16:07.860', 'D+000002.4'), ('2021-04-06 01:16:08.020', 'D+000005.6'), ('2021-04-06 01:16:08.040', 'D+000004.8'), ('2021-04-06 01:16:08.060', 'D+000004.6'), ('2021-04-06 01:16:08.080', 'D+000005.2'), ('2021-04-06 01:16:08.100', 'D+000005.8'), ('2021-04-06 01:16:08.270', 'D+000007.0'), ('2021-04-06 01:16:08.290', 'D+000007.0'), ('2021-04-06 01:16:08.310', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.2, 5.8, 7.0, 7.0, 7.0]
np.array X: [[4.6]
 [5.2]
 [5.8]
 [7. ]
 [7. ]
 [7. ]]
revised_weight: 6.7
2021-04-06 01:16:08.310: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:16:08.310
plc_result: True
sendmessage: 20210406011608310,1,000070,000067
send message to PLC: 2021-04-06 01:16:08.328
time gap: 0:00:00.011147
2021-04-06 01:16:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:10: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:16:10: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:10: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:10: select done
2021-04-06 01:16:10: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:16:10: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:16:10: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:16:10: count: 2 in httpPlcDataSender thread
2021-04-06 01:16:10: D+: 2 in httpPlcDataSender thread
2021-04-06 01:16:10: D-: 0 in httpPlcDataSender thread
2021-04-06 01:16:10: S+: 0 in httpPlcDataSender thread
2021-04-06 01:16:10: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.2', 'sensorAt': '2021-04-06 01:16:07.100'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:16:08.310'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:07.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:08.310'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:16:10', 'collectDate': '2021-04-06 01:16:08', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.2', 'sensorAt': '2021-04-06 01:16:07.100'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:16:08.310'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:07.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:08.310'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:16:10: send http
2021-04-06 01:16:10: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:16:11: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:11: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:12.748
lastevent: 2021-04-06 01:16:12.739, last ten sensor data: [('2021-04-06 01:16:12.240', 'D+000000.8'), ('2021-04-06 01:16:12.260', 'D+000000.6'), ('2021-04-06 01:16:12.280', 'D+000000.6'), ('2021-04-06 01:16:12.300', 'D+000000.8'), ('2021-04-06 01:16:12.480', 'D+000000.4'), ('2021-04-06 01:16:12.500', 'D+000000.4'), ('2021-04-06 01:16:12.520', 'D+000000.6'), ('2021-04-06 01:16:12.540', 'D+000000.6'), ('2021-04-06 01:16:12.710', 'D+000000.8'), ('2021-04-06 01:16:12.730', 'D+000000.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0.4, 0.4, 0.6, 0.6, 0.8, 0.8]
np.array X: [[0.4]
 [0.4]
 [0.6]
 [0.6]
 [0.8]
 [0.8]]
revised_weight: 1.1
2021-04-06 01:16:12.730: revising weight finished
revised_weight: 1.1 at 2021-04-06 01:16:12.730
plc_result: True
sendmessage: 20210406011612730,1,000008,000011
send message to PLC: 2021-04-06 01:16:12.761
time gap: 0:00:00.013129
2021-04-06 01:16:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:13.199
lastevent: 2021-04-06 01:16:13.187, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:16:12.760', 'D+000001.0'), ('2021-04-06 01:16:12.780', 'D+000001.2'), ('2021-04-06 01:16:12.970', 'D+000001.2'), ('2021-04-06 01:16:12.990', 'D+000001.2'), ('2021-04-06 01:16:13.010', 'D+000001.4'), ('2021-04-06 01:16:13.030', 'D+000001.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.0, 1.2, 1.2, 1.2, 1.4, 1.4]
np.array X: [[1. ]
 [1.2]
 [1.2]
 [1.2]
 [1.4]
 [1.4]]
revised_weight: 1.4
2021-04-06 01:16:13.030: revising weight finished
revised_weight: 1.4 at 2021-04-06 01:16:13.030
plc_result: True
sendmessage: 20210406011613030,1,000014,000014
send message to PLC: 2021-04-06 01:16:13.211
time gap: 0:00:00.012362
2021-04-06 01:16:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:15.062
lastevent: 2021-04-06 01:16:15.051, last ten sensor data: [('2021-04-06 01:16:14.500', 'D+000001.0'), ('2021-04-06 01:16:14.670', 'D+000000.8'), ('2021-04-06 01:16:14.690', 'D+000001.0'), ('2021-04-06 01:16:14.710', 'D+000001.4'), ('2021-04-06 01:16:14.730', 'D+000001.4'), ('2021-04-06 01:16:14.750', 'D+000001.4'), ('2021-04-06 01:16:14.920', 'D+000001.4'), ('2021-04-06 01:16:14.940', 'D+000001.4'), ('2021-04-06 01:16:14.960', 'D+000001.4'), ('2021-04-06 01:16:14.980', 'D+000001.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 1.4, 1.4, 1.4, 1.4, 1.4]
np.array X: [[1.4]
 [1.4]
 [1.4]
 [1.4]
 [1.4]
 [1.4]]
revised_weight: 1.5
2021-04-06 01:16:14.980: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:16:14.980
plc_result: True
sendmessage: 20210406011614980,1,000014,000015
send message to PLC: 2021-04-06 01:16:15.075
time gap: 0:00:00.013590
2021-04-06 01:16:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:15.809
lastevent: 2021-04-06 01:16:15.803, last ten sensor data: [('2021-04-06 01:16:15.400', 'D+000001.2'), ('2021-04-06 01:16:15.420', 'D+000001.2'), ('2021-04-06 01:16:15.440', 'D+000001.4'), ('2021-04-06 01:16:15.460', 'D+000001.6'), ('2021-04-06 01:16:15.480', 'D+000001.6'), ('2021-04-06 01:16:15.650', 'D+000001.2'), ('2021-04-06 01:16:15.670', 'D+000001.4'), ('2021-04-06 01:16:15.690', 'D+000001.8'), ('2021-04-06 01:16:15.710', 'D+000001.6'), ('2021-04-06 01:16:15.730', 'D+000001.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 1.2, 1.4, 1.8, 1.6, 1.6]
np.array X: [[1.6]
 [1.2]
 [1.4]
 [1.8]
 [1.6]
 [1.6]]
revised_weight: 1.2
2021-04-06 01:16:15.730: revising weight finished
revised_weight: 1.2 at 2021-04-06 01:16:15.730
plc_result: True
sendmessage: 20210406011615730,1,000016,000012
send message to PLC: 2021-04-06 01:16:15.826
time gap: 0:00:00.017698
2021-04-06 01:16:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:16: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:16:16: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:16: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:16: select done
2021-04-06 01:16:16: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:16:16: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:16:16: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:16:16: count: 4 in httpPlcDataSender thread
2021-04-06 01:16:16: D+: 4 in httpPlcDataSender thread
2021-04-06 01:16:16: D-: 0 in httpPlcDataSender thread
2021-04-06 01:16:16: S+: 0 in httpPlcDataSender thread
2021-04-06 01:16:16: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.1', 'sensorAt': '2021-04-06 01:16:12.730'}, {'value': '1.4', 'sensorAt': '2021-04-06 01:16:13.030'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:16:14.980'}, {'value': '1.2', 'sensorAt': '2021-04-06 01:16:15.730'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:12.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:13.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:14.980'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:15.730'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:16:16', 'collectDate': '2021-04-06 01:16:15', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.1', 'sensorAt': '2021-04-06 01:16:12.730'}, {'value': '1.4', 'sensorAt': '2021-04-06 01:16:13.030'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:16:14.980'}, {'value': '1.2', 'sensorAt': '2021-04-06 01:16:15.730'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:12.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:13.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:14.980'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:15.730'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:16:16: send http
2021-04-06 01:16:16: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:16:16: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:16: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:16.905
lastevent: 2021-04-06 01:16:16.890, last ten sensor data: [('2021-04-06 01:16:16.450', 'D+000001.6'), ('2021-04-06 01:16:16.470', 'D+000001.6'), ('2021-04-06 01:16:16.630', 'D+000002.8'), ('2021-04-06 01:16:16.650', 'D+000003.2'), ('2021-04-06 01:16:16.670', 'D+000003.2'), ('2021-04-06 01:16:16.690', 'D+000003.0'), ('2021-04-06 01:16:16.710', 'D+000003.6'), ('2021-04-06 01:16:16.870', 'D+000004.8'), ('2021-04-06 01:16:16.890', 'D+000004.8'), ('2021-04-06 01:16:16.910', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.0, 3.6, 4.8, 4.8, 4.8]
np.array X: [[3.2]
 [3. ]
 [3.6]
 [4.8]
 [4.8]
 [4.8]]
revised_weight: 4.3
2021-04-06 01:16:16.910: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:16:16.910
plc_result: True
sendmessage: 20210406011616910,1,000048,000043
send message to PLC: 2021-04-06 01:16:16.916
time gap: 0:00:00.011409
2021-04-06 01:16:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:17.645
lastevent: 2021-04-06 01:16:17.631, last ten sensor data: [('2021-04-06 01:16:17.190', 'D+000004.2'), ('2021-04-06 01:16:17.210', 'D+000004.2'), ('2021-04-06 01:16:17.350', 'D+000003.8'), ('2021-04-06 01:16:17.370', 'D+000003.6'), ('2021-04-06 01:16:17.390', 'D+000003.4'), ('2021-04-06 01:16:17.410', 'D+000003.0'), ('2021-04-06 01:16:17.430', 'D+000002.6'), ('2021-04-06 01:16:17.590', 'D+000002.4'), ('2021-04-06 01:16:17.620', 'D+000002.4'), ('2021-04-06 01:16:17.640', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.0, 2.6, 2.4, 2.4, 2.4]
np.array X: [[3.4]
 [3. ]
 [2.6]
 [2.4]
 [2.4]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:16:17.640: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:16:17.640
plc_result: True
sendmessage: 20210406011617640,1,000024,000023
send message to PLC: 2021-04-06 01:16:17.657
time gap: 0:00:00.011539
2021-04-06 01:16:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:18.775
lastevent: 2021-04-06 01:16:18.765, last ten sensor data: [('2021-04-06 01:16:18.340', 'D+000002.6'), ('2021-04-06 01:16:18.360', 'D+000002.6'), ('2021-04-06 01:16:18.380', 'D+000002.6'), ('2021-04-06 01:16:18.400', 'D+000002.6'), ('2021-04-06 01:16:18.420', 'D+000002.6'), ('2021-04-06 01:16:18.580', 'D+000003.8'), ('2021-04-06 01:16:18.600', 'D+000003.6'), ('2021-04-06 01:16:18.620', 'D+000003.4'), ('2021-04-06 01:16:18.640', 'D+000003.2'), ('2021-04-06 01:16:18.660', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.8, 3.6, 3.4, 3.2, 3.4]
np.array X: [[2.6]
 [3.8]
 [3.6]
 [3.4]
 [3.2]
 [3.4]]
revised_weight: 3.7
2021-04-06 01:16:18.660: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:16:18.660
plc_result: True
sendmessage: 20210406011618660,1,000034,000037
send message to PLC: 2021-04-06 01:16:18.786
time gap: 0:00:00.011238
2021-04-06 01:16:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:19.536
lastevent: 2021-04-06 01:16:19.520, last ten sensor data: [('2021-04-06 01:16:19.270', 'D+000003.8'), ('2021-04-06 01:16:19.290', 'D+000006.0'), ('2021-04-06 01:16:19.310', 'D+000004.8'), ('2021-04-06 01:16:19.330', 'D+000003.0'), ('2021-04-06 01:16:19.350', 'D+000003.4'), ('2021-04-06 01:16:19.380', 'D+000004.2'), ('2021-04-06 01:16:19.400', 'D+000004.6'), ('2021-04-06 01:16:19.420', 'D+000004.2'), ('2021-04-06 01:16:19.440', 'D+000004.0'), ('2021-04-06 01:16:19.460', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.2, 4.6, 4.2, 4.0, 3.8]
np.array X: [[3.4]
 [4.2]
 [4.6]
 [4.2]
 [4. ]
 [3.8]]
revised_weight: 4.0
2021-04-06 01:16:19.460: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:16:19.460
plc_result: True
sendmessage: 20210406011619460,1,000038,000040
send message to PLC: 2021-04-06 01:16:19.548
time gap: 0:00:00.012248
2021-04-06 01:16:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:21: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:16:21: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:21: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:21: select done
2021-04-06 01:16:21: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:16:21: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:16:21: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:16:21: count: 4 in httpPlcDataSender thread
2021-04-06 01:16:21: D+: 4 in httpPlcDataSender thread
2021-04-06 01:16:21: D-: 0 in httpPlcDataSender thread
2021-04-06 01:16:21: S+: 0 in httpPlcDataSender thread
2021-04-06 01:16:21: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.3', 'sensorAt': '2021-04-06 01:16:16.910'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:16:17.640'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:16:18.660'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:16:19.460'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:16.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:17.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:18.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:19.460'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:16:21', 'collectDate': '2021-04-06 01:16:19', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.3', 'sensorAt': '2021-04-06 01:16:16.910'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:16:17.640'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:16:18.660'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:16:19.460'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:16.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:17.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:18.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:19.460'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:16:22: send http
2021-04-06 01:16:22: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:16:22: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:22: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:23.446
lastevent: 2021-04-06 01:16:23.429, last ten sensor data: [('2021-04-06 01:16:22.810', 'D+000001.8'), ('2021-04-06 01:16:22.990', 'D+000002.2'), ('2021-04-06 01:16:23.010', 'D+000002.0'), ('2021-04-06 01:16:23.030', 'D+000001.8'), ('2021-04-06 01:16:23.050', 'D+000002.2'), ('2021-04-06 01:16:23.230', 'D+000006.8'), ('2021-04-06 01:16:23.250', 'D+000006.8'), ('2021-04-06 01:16:23.270', 'D+000007.4'), ('2021-04-06 01:16:23.290', 'D+000008.6'), ('2021-04-06 01:16:23.310', 'D+000009.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 6.8, 6.8, 7.4, 8.6, 9.4]
np.array X: [[2.2]
 [6.8]
 [6.8]
 [7.4]
 [8.6]
 [9.4]]
revised_weight: 8.1
2021-04-06 01:16:23.310: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:16:23.310
plc_result: True
sendmessage: 20210406011623310,1,000094,000081
send message to PLC: 2021-04-06 01:16:23.457
time gap: 0:00:00.011214
2021-04-06 01:16:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:23: httpScaleDataSender thread Timeout occurred
2021-04-06 01:16:23: [13704] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
2021-04-06 01:16:23: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:16:23.899
lastevent: 2021-04-06 01:16:23.887, last ten sensor data: [('2021-04-06 01:16:23.470', 'D+000009.6'), ('2021-04-06 01:16:23.490', 'D+000008.4'), ('2021-04-06 01:16:23.510', 'D+000011.0'), ('2021-04-06 01:16:23.530', 'D+000012.6'), ('2021-04-06 01:16:23.550', 'D+000012.8'), ('2021-04-06 01:16:23.710', 'D+000018.6'), ('2021-04-06 01:16:23.730', 'D+000017.2'), ('2021-04-06 01:16:23.750', 'D+000017.4'), ('2021-04-06 01:16:23.770', 'D+000018.4'), ('2021-04-06 01:16:23.790', 'D+000017.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [12.8, 18.6, 17.2, 17.4, 18.4, 17.8]
np.array X: [[12.8]
 [18.6]
 [17.2]
 [17.4]
 [18.4]
 [17.8]]
revised_weight: 17.0
2021-04-06 01:16:23.790: revising weight finished
revised_weight: 17.0 at 2021-04-06 01:16:23.790
plc_result: False
sendmessage: 20210406011623790,0,000178,000170
send message to PLC: 2021-04-06 01:16:23.906
time gap: 0:00:00.007134
2021-04-06 01:16:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:25.896
lastevent: 2021-04-06 01:16:25.887, last ten sensor data: [('2021-04-06 01:16:25.420', 'D+000001.8'), ('2021-04-06 01:16:25.440', 'D+000002.0'), ('2021-04-06 01:16:25.460', 'D+000002.0'), ('2021-04-06 01:16:25.480', 'D+000001.8'), ('2021-04-06 01:16:25.630', 'D+000002.8'), ('2021-04-06 01:16:25.650', 'D+000002.4'), ('2021-04-06 01:16:25.670', 'D+000002.2'), ('2021-04-06 01:16:25.690', 'D+000002.0'), ('2021-04-06 01:16:25.710', 'D+000002.8'), ('2021-04-06 01:16:25.890', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.4, 2.2, 2.0, 2.8, 4.8]
np.array X: [[2.8]
 [2.4]
 [2.2]
 [2. ]
 [2.8]
 [4.8]]
revised_weight: 3.0
2021-04-06 01:16:25.890: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:16:25.890
plc_result: True
sendmessage: 20210406011625890,1,000048,000030
send message to PLC: 2021-04-06 01:16:25.903
time gap: 0:00:00.006979
2021-04-06 01:16:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:27.260
lastevent: 2021-04-06 01:16:27.255, last ten sensor data: [('2021-04-06 01:16:26.680', 'D+000001.8'), ('2021-04-06 01:16:26.870', 'D+000003.0'), ('2021-04-06 01:16:26.890', 'D+000003.2'), ('2021-04-06 01:16:26.910', 'D+000003.2'), ('2021-04-06 01:16:26.930', 'D+000003.6'), ('2021-04-06 01:16:26.950', 'D+000004.0'), ('2021-04-06 01:16:27.130', 'D+000006.0'), ('2021-04-06 01:16:27.150', 'D+000006.4'), ('2021-04-06 01:16:27.170', 'D+000006.8'), ('2021-04-06 01:16:27.190', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 6.0, 6.4, 6.8, 7.2]
np.array X: [[3.6]
 [4. ]
 [6. ]
 [6.4]
 [6.8]
 [7.2]]
revised_weight: 6.2
2021-04-06 01:16:27.190: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:16:27.190
plc_result: True
sendmessage: 20210406011627190,1,000072,000062
send message to PLC: 2021-04-06 01:16:27.267
time gap: 0:00:00.006782
2021-04-06 01:16:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:27: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:16:27: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:27: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:27: select done
2021-04-06 01:16:27: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:16:27: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:16:27: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:16:27: count: 4 in httpPlcDataSender thread
2021-04-06 01:16:27: D+: 4 in httpPlcDataSender thread
2021-04-06 01:16:27: D-: 0 in httpPlcDataSender thread
2021-04-06 01:16:27: S+: 0 in httpPlcDataSender thread
2021-04-06 01:16:27: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.1', 'sensorAt': '2021-04-06 01:16:23.310'}, {'value': '17.0', 'sensorAt': '2021-04-06 01:16:23.790'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:16:25.890'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:16:27.190'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:23.310'}, {'value': 0, 'sensorAt': '2021-04-06 01:16:23.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:25.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:27.190'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:16:27', 'collectDate': '2021-04-06 01:16:27', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.1', 'sensorAt': '2021-04-06 01:16:23.310'}, {'value': '17.0', 'sensorAt': '2021-04-06 01:16:23.790'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:16:25.890'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:16:27.190'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:23.310'}, {'value': 0, 'sensorAt': '2021-04-06 01:16:23.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:25.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:27.190'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:16:27: send http
2021-04-06 01:16:27: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:16:27: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:27: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:30.022
lastevent: 2021-04-06 01:16:30.009, last ten sensor data: [('2021-04-06 01:16:29.560', 'D+000001.4'), ('2021-04-06 01:16:29.580', 'D+000001.4'), ('2021-04-06 01:16:29.600', 'D+000001.4'), ('2021-04-06 01:16:29.620', 'D+000001.4'), ('2021-04-06 01:16:29.640', 'D+000001.4'), ('2021-04-06 01:16:29.800', 'D+000002.0'), ('2021-04-06 01:16:29.830', 'D+000002.4'), ('2021-04-06 01:16:29.850', 'D+000002.6'), ('2021-04-06 01:16:29.870', 'D+000002.6'), ('2021-04-06 01:16:29.890', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 2.0, 2.4, 2.6, 2.6, 2.4]
np.array X: [[1.4]
 [2. ]
 [2.4]
 [2.6]
 [2.6]
 [2.4]]
revised_weight: 2.5
2021-04-06 01:16:29.890: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:16:29.890
plc_result: True
sendmessage: 20210406011629890,1,000024,000025
send message to PLC: 2021-04-06 01:16:30.029
time gap: 0:00:00.006788
2021-04-06 01:16:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:31.368
lastevent: 2021-04-06 01:16:31.350, last ten sensor data: [('2021-04-06 01:16:31.040', 'D+000002.4'), ('2021-04-06 01:16:31.060', 'D+000002.6'), ('2021-04-06 01:16:31.080', 'D+000003.2'), ('2021-04-06 01:16:31.100', 'D+000003.4'), ('2021-04-06 01:16:31.120', 'D+000003.4'), ('2021-04-06 01:16:31.280', 'D+000004.2'), ('2021-04-06 01:16:31.300', 'D+000004.2'), ('2021-04-06 01:16:31.320', 'D+000004.0'), ('2021-04-06 01:16:31.340', 'D+000004.2'), ('2021-04-06 01:16:31.360', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.2, 4.2, 4.0, 4.2, 4.6]
np.array X: [[3.4]
 [4.2]
 [4.2]
 [4. ]
 [4.2]
 [4.6]]
revised_weight: 4.1
2021-04-06 01:16:31.360: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:16:31.360
plc_result: True
sendmessage: 20210406011631360,1,000046,000041
send message to PLC: 2021-04-06 01:16:31.379
time gap: 0:00:00.011449
2021-04-06 01:16:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:32.138
lastevent: 2021-04-06 01:16:32.120, last ten sensor data: [('2021-04-06 01:16:31.780', 'D+000004.8'), ('2021-04-06 01:16:31.800', 'D+000005.2'), ('2021-04-06 01:16:31.820', 'D+000005.0'), ('2021-04-06 01:16:31.840', 'D+000004.6'), ('2021-04-06 01:16:31.860', 'D+000004.6'), ('2021-04-06 01:16:32.030', 'D+000005.4'), ('2021-04-06 01:16:32.050', 'D+000005.4'), ('2021-04-06 01:16:32.070', 'D+000005.8'), ('2021-04-06 01:16:32.090', 'D+000006.0'), ('2021-04-06 01:16:32.110', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.4, 5.4, 5.8, 6.0, 6.0]
np.array X: [[4.6]
 [5.4]
 [5.4]
 [5.8]
 [6. ]
 [6. ]]
revised_weight: 5.4
2021-04-06 01:16:32.110: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:16:32.110
plc_result: True
sendmessage: 20210406011632110,1,000060,000054
send message to PLC: 2021-04-06 01:16:32.149
time gap: 0:00:00.011656
2021-04-06 01:16:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:32.843
lastevent: 2021-04-06 01:16:32.829, last ten sensor data: [('2021-04-06 01:16:32.360', 'D+000006.4'), ('2021-04-06 01:16:32.500', 'D+000006.4'), ('2021-04-06 01:16:32.520', 'D+000007.0'), ('2021-04-06 01:16:32.540', 'D+000007.2'), ('2021-04-06 01:16:32.560', 'D+000007.0'), ('2021-04-06 01:16:32.580', 'D+000006.8'), ('2021-04-06 01:16:32.760', 'D+000005.8'), ('2021-04-06 01:16:32.780', 'D+000005.6'), ('2021-04-06 01:16:32.800', 'D+000005.2'), ('2021-04-06 01:16:32.820', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 6.8, 5.8, 5.6, 5.2, 5.2]
np.array X: [[7. ]
 [6.8]
 [5.8]
 [5.6]
 [5.2]
 [5.2]]
revised_weight: 6.2
2021-04-06 01:16:32.820: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:16:32.820
plc_result: True
sendmessage: 20210406011632820,1,000052,000062
send message to PLC: 2021-04-06 01:16:32.849
time gap: 0:00:00.006366
2021-04-06 01:16:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:32: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:16:32: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:33: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:33: select done
2021-04-06 01:16:33: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:16:33: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:16:33: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:16:33: count: 4 in httpPlcDataSender thread
2021-04-06 01:16:33: D+: 4 in httpPlcDataSender thread
2021-04-06 01:16:33: D-: 0 in httpPlcDataSender thread
2021-04-06 01:16:33: S+: 0 in httpPlcDataSender thread
2021-04-06 01:16:33: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.5', 'sensorAt': '2021-04-06 01:16:29.890'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:16:31.360'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:16:32.110'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:16:32.820'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:29.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:31.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:32.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:32.820'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:16:33', 'collectDate': '2021-04-06 01:16:32', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.5', 'sensorAt': '2021-04-06 01:16:29.890'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:16:31.360'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:16:32.110'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:16:32.820'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:29.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:31.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:32.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:32.820'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:16:33: send http
2021-04-06 01:16:33: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:16:33: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:33: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:35.602
lastevent: 2021-04-06 01:16:35.590, last ten sensor data: [('2021-04-06 01:16:35.200', 'D+000002.4'), ('2021-04-06 01:16:35.220', 'D+000002.4'), ('2021-04-06 01:16:35.240', 'D+000002.4'), ('2021-04-06 01:16:35.260', 'D+000002.8'), ('2021-04-06 01:16:35.280', 'D+000003.6'), ('2021-04-06 01:16:35.440', 'D+000004.8'), ('2021-04-06 01:16:35.460', 'D+000005.4'), ('2021-04-06 01:16:35.480', 'D+000005.6'), ('2021-04-06 01:16:35.500', 'D+000005.8'), ('2021-04-06 01:16:35.520', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.8, 5.4, 5.6, 5.8, 6.2]
np.array X: [[3.6]
 [4.8]
 [5.4]
 [5.6]
 [5.8]
 [6.2]]
revised_weight: 5.8
2021-04-06 01:16:35.520: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:16:35.520
plc_result: True
sendmessage: 20210406011635520,1,000062,000058
send message to PLC: 2021-04-06 01:16:35.608
time gap: 0:00:00.006682
2021-04-06 01:16:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:36.770
lastevent: 2021-04-06 01:16:36.764, last ten sensor data: [('2021-04-06 01:16:36.220', 'D+000004.6'), ('2021-04-06 01:16:36.240', 'D+000004.4'), ('2021-04-06 01:16:36.420', 'D+000003.6'), ('2021-04-06 01:16:36.440', 'D+000003.6'), ('2021-04-06 01:16:36.460', 'D+000004.6'), ('2021-04-06 01:16:36.480', 'D+000004.8'), ('2021-04-06 01:16:36.670', 'D+000006.6'), ('2021-04-06 01:16:36.690', 'D+000006.8'), ('2021-04-06 01:16:36.710', 'D+000006.8'), ('2021-04-06 01:16:36.730', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.8, 6.6, 6.8, 6.8, 7.2]
np.array X: [[4.6]
 [4.8]
 [6.6]
 [6.8]
 [6.8]
 [7.2]]
revised_weight: 6.7
2021-04-06 01:16:36.730: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:16:36.730
plc_result: True
sendmessage: 20210406011636730,1,000072,000067
send message to PLC: 2021-04-06 01:16:36.776
time gap: 0:00:00.006460
2021-04-06 01:16:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:37.562
lastevent: 2021-04-06 01:16:37.547, last ten sensor data: [('2021-04-06 01:16:37.150', 'D+000007.0'), ('2021-04-06 01:16:37.170', 'D+000007.4'), ('2021-04-06 01:16:37.190', 'D+000007.0'), ('2021-04-06 01:16:37.210', 'D+000006.6'), ('2021-04-06 01:16:37.390', 'D+000007.0'), ('2021-04-06 01:16:37.410', 'D+000006.8'), ('2021-04-06 01:16:37.430', 'D+000007.0'), ('2021-04-06 01:16:37.450', 'D+000007.6'), ('2021-04-06 01:16:37.470', 'D+000007.6'), ('2021-04-06 01:16:37.490', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 6.8, 7.0, 7.6, 7.6, 7.4]
np.array X: [[7. ]
 [6.8]
 [7. ]
 [7.6]
 [7.6]
 [7.4]]
revised_weight: 7.3
2021-04-06 01:16:37.490: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:16:37.490
plc_result: True
sendmessage: 20210406011637490,1,000074,000073
send message to PLC: 2021-04-06 01:16:37.569
time gap: 0:00:00.006714
2021-04-06 01:16:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:38: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:16:38: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:38: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:38: select done
2021-04-06 01:16:38: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:16:38: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:16:38: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:16:38: count: 3 in httpPlcDataSender thread
2021-04-06 01:16:38: D+: 3 in httpPlcDataSender thread
2021-04-06 01:16:38: D-: 0 in httpPlcDataSender thread
2021-04-06 01:16:38: S+: 0 in httpPlcDataSender thread
2021-04-06 01:16:38: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:16:35.520'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:16:36.730'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:16:37.490'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:35.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:36.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:37.490'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:16:38', 'collectDate': '2021-04-06 01:16:37', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:16:35.520'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:16:36.730'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:16:37.490'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:35.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:36.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:37.490'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:38.797
lastevent: 2021-04-06 01:16:38.795, last ten sensor data: [('2021-04-06 01:16:38.200', 'D+000005.2'), ('2021-04-06 01:16:38.380', 'D+000003.8'), ('2021-04-06 01:16:38.400', 'D+000003.6'), ('2021-04-06 01:16:38.420', 'D+000003.6'), ('2021-04-06 01:16:38.440', 'D+000004.0'), ('2021-04-06 01:16:38.620', 'D+000005.2'), ('2021-04-06 01:16:38.640', 'D+000005.8'), ('2021-04-06 01:16:38.660', 'D+000005.8'), ('2021-04-06 01:16:38.680', 'D+000005.6'), ('2021-04-06 01:16:38.700', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 5.2, 5.8, 5.8, 5.6, 5.8]
np.array X: [[4. ]
 [5.2]
 [5.8]
 [5.8]
 [5.6]
 [5.8]]
revised_weight: 5.6
2021-04-06 01:16:38.700: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:16:38.700
plc_result: True
sendmessage: 20210406011638700,1,000058,000056
send message to PLC: 2021-04-06 01:16:38.810
time gap: 0:00:00.012988
2021-04-06 01:16:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:38: send http
2021-04-06 01:16:38: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:16:39: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:39: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:39.269
lastevent: 2021-04-06 01:16:39.256, last ten sensor data: [('2021-04-06 01:16:38.870', 'D+000008.0'), ('2021-04-06 01:16:38.890', 'D+000008.0'), ('2021-04-06 01:16:38.910', 'D+000006.8'), ('2021-04-06 01:16:38.930', 'D+000006.6'), ('2021-04-06 01:16:38.950', 'D+000007.0'), ('2021-04-06 01:16:39.100', 'D+000008.8'), ('2021-04-06 01:16:39.120', 'D+000009.0'), ('2021-04-06 01:16:39.140', 'D+000009.2'), ('2021-04-06 01:16:39.160', 'D+000009.2'), ('2021-04-06 01:16:39.180', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 8.8, 9.0, 9.2, 9.2, 8.2]
np.array X: [[7. ]
 [8.8]
 [9. ]
 [9.2]
 [9.2]
 [8.2]]
revised_weight: 8.2
2021-04-06 01:16:39.180: revising weight finished
revised_weight: 8.2 at 2021-04-06 01:16:39.180
plc_result: True
sendmessage: 20210406011639180,1,000082,000082
send message to PLC: 2021-04-06 01:16:39.302
time gap: 0:00:00.032175
2021-04-06 01:16:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:40.861
lastevent: 2021-04-06 01:16:40.854, last ten sensor data: [('2021-04-06 01:16:40.390', 'D+000003.4'), ('2021-04-06 01:16:40.410', 'D+000003.4'), ('2021-04-06 01:16:40.430', 'D+000003.2'), ('2021-04-06 01:16:40.590', 'D+000004.8'), ('2021-04-06 01:16:40.610', 'D+000004.8'), ('2021-04-06 01:16:40.630', 'D+000004.8'), ('2021-04-06 01:16:40.650', 'D+000004.8'), ('2021-04-06 01:16:40.810', 'D+000005.0'), ('2021-04-06 01:16:40.840', 'D+000005.6'), ('2021-04-06 01:16:40.860', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.8, 5.0, 5.6, 5.2]
np.array X: [[4.8]
 [4.8]
 [4.8]
 [5. ]
 [5.6]
 [5.2]]
revised_weight: 5.3
2021-04-06 01:16:40.860: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:16:40.860
plc_result: True
sendmessage: 20210406011640860,1,000052,000053
send message to PLC: 2021-04-06 01:16:40.867
time gap: 0:00:00.006395
2021-04-06 01:16:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:41.457
lastevent: 2021-04-06 01:16:41.448, last ten sensor data: [('2021-04-06 01:16:40.900', 'D+000005.2'), ('2021-04-06 01:16:41.070', 'D+000004.8'), ('2021-04-06 01:16:41.090', 'D+000004.8'), ('2021-04-06 01:16:41.110', 'D+000005.2'), ('2021-04-06 01:16:41.130', 'D+000005.4'), ('2021-04-06 01:16:41.150', 'D+000005.8'), ('2021-04-06 01:16:41.330', 'D+000005.8'), ('2021-04-06 01:16:41.350', 'D+000006.0'), ('2021-04-06 01:16:41.370', 'D+000006.0'), ('2021-04-06 01:16:41.390', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.8, 5.8, 6.0, 6.0, 6.6]
np.array X: [[5.4]
 [5.8]
 [5.8]
 [6. ]
 [6. ]
 [6.6]]
revised_weight: 6.1
2021-04-06 01:16:41.390: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:16:41.390
plc_result: True
sendmessage: 20210406011641390,1,000066,000061
send message to PLC: 2021-04-06 01:16:41.463
time gap: 0:00:00.006144
2021-04-06 01:16:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:42.448
lastevent: 2021-04-06 01:16:42.433, last ten sensor data: [('2021-04-06 01:16:41.880', 'D+000008.2'), ('2021-04-06 01:16:42.050', 'D+000006.4'), ('2021-04-06 01:16:42.070', 'D+000006.2'), ('2021-04-06 01:16:42.090', 'D+000005.8'), ('2021-04-06 01:16:42.120', 'D+000005.0'), ('2021-04-06 01:16:42.280', 'D+000006.8'), ('2021-04-06 01:16:42.300', 'D+000006.2'), ('2021-04-06 01:16:42.320', 'D+000006.0'), ('2021-04-06 01:16:42.340', 'D+000007.0'), ('2021-04-06 01:16:42.360', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 6.8, 6.2, 6.0, 7.0, 7.6]
np.array X: [[5. ]
 [6.8]
 [6.2]
 [6. ]
 [7. ]
 [7.6]]
revised_weight: 6.7
2021-04-06 01:16:42.360: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:16:42.360
plc_result: True
sendmessage: 20210406011642360,1,000076,000067
send message to PLC: 2021-04-06 01:16:42.455
time gap: 0:00:00.006489
2021-04-06 01:16:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:43.860
lastevent: 2021-04-06 01:16:43.844, last ten sensor data: [('2021-04-06 01:16:43.510', 'D+000003.4'), ('2021-04-06 01:16:43.530', 'D+000003.6'), ('2021-04-06 01:16:43.550', 'D+000003.6'), ('2021-04-06 01:16:43.570', 'D+000003.8'), ('2021-04-06 01:16:43.590', 'D+000003.8'), ('2021-04-06 01:16:43.750', 'D+000005.0'), ('2021-04-06 01:16:43.770', 'D+000004.8'), ('2021-04-06 01:16:43.790', 'D+000004.8'), ('2021-04-06 01:16:43.810', 'D+000005.2'), ('2021-04-06 01:16:43.830', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.0, 4.8, 4.8, 5.2, 5.0]
np.array X: [[3.8]
 [5. ]
 [4.8]
 [4.8]
 [5.2]
 [5. ]]
revised_weight: 4.3
2021-04-06 01:16:43.830: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:16:43.830
plc_result: True
sendmessage: 20210406011643830,1,000050,000043
send message to PLC: 2021-04-06 01:16:43.866
time gap: 0:00:00.006440
2021-04-06 01:16:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:44: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:16:44: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:44: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:44: select done
2021-04-06 01:16:44: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:16:44: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:16:44: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:16:44: count: 6 in httpPlcDataSender thread
2021-04-06 01:16:44: D+: 6 in httpPlcDataSender thread
2021-04-06 01:16:44: D-: 0 in httpPlcDataSender thread
2021-04-06 01:16:44: S+: 0 in httpPlcDataSender thread
2021-04-06 01:16:44: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.6', 'sensorAt': '2021-04-06 01:16:38.700'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:16:39.180'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:16:40.860'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:16:41.390'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:16:42.360'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:16:43.830'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:38.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:39.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:40.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:41.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:42.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:43.830'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:16:44', 'collectDate': '2021-04-06 01:16:43', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.6', 'sensorAt': '2021-04-06 01:16:38.700'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:16:39.180'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:16:40.860'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:16:41.390'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:16:42.360'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:16:43.830'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:38.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:39.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:40.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:41.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:42.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:43.830'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:44.402
lastevent: 2021-04-06 01:16:44.387, last ten sensor data: [('2021-04-06 01:16:44.010', 'D+000005.2'), ('2021-04-06 01:16:44.030', 'D+000005.0'), ('2021-04-06 01:16:44.050', 'D+000005.0'), ('2021-04-06 01:16:44.070', 'D+000005.0'), ('2021-04-06 01:16:44.090', 'D+000005.2'), ('2021-04-06 01:16:44.230', 'D+000008.6'), ('2021-04-06 01:16:44.250', 'D+000008.6'), ('2021-04-06 01:16:44.270', 'D+000008.8'), ('2021-04-06 01:16:44.290', 'D+000009.4'), ('2021-04-06 01:16:44.310', 'D+000009.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 8.6, 8.6, 8.8, 9.4, 9.8]
np.array X: [[5.2]
 [8.6]
 [8.6]
 [8.8]
 [9.4]
 [9.8]]
revised_weight: 9.7
2021-04-06 01:16:44.310: revising weight finished
revised_weight: 9.7 at 2021-04-06 01:16:44.310
plc_result: True
sendmessage: 20210406011644310,1,000098,000097
send message to PLC: 2021-04-06 01:16:44.419
time gap: 0:00:00.016336
2021-04-06 01:16:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:44: send http
2021-04-06 01:16:44: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:16:44: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:44: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:45.225
lastevent: 2021-04-06 01:16:45.223, last ten sensor data: [('2021-04-06 01:16:44.730', 'D+000008.0'), ('2021-04-06 01:16:44.750', 'D+000008.0'), ('2021-04-06 01:16:44.770', 'D+000008.4'), ('2021-04-06 01:16:44.790', 'D+000008.8'), ('2021-04-06 01:16:44.810', 'D+000008.4'), ('2021-04-06 01:16:44.980', 'D+000004.4'), ('2021-04-06 01:16:45.000', 'D+000004.0'), ('2021-04-06 01:16:45.020', 'D+000004.0'), ('2021-04-06 01:16:45.040', 'D+000004.4'), ('2021-04-06 01:16:45.220', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.4, 4.4, 4.0, 4.0, 4.4, 5.6]
np.array X: [[8.4]
 [4.4]
 [4. ]
 [4. ]
 [4.4]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:16:45.220: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:16:45.220
plc_result: True
sendmessage: 20210406011645220,1,000056,000054
send message to PLC: 2021-04-06 01:16:45.231
time gap: 0:00:00.006563
2021-04-06 01:16:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:46.830
lastevent: 2021-04-06 01:16:46.814, last ten sensor data: [('2021-04-06 01:16:46.270', 'D+000003.4'), ('2021-04-06 01:16:46.450', 'D+000003.6'), ('2021-04-06 01:16:46.470', 'D+000004.0'), ('2021-04-06 01:16:46.490', 'D+000004.2'), ('2021-04-06 01:16:46.510', 'D+000005.4'), ('2021-04-06 01:16:46.690', 'D+000006.8'), ('2021-04-06 01:16:46.710', 'D+000007.0'), ('2021-04-06 01:16:46.730', 'D+000007.4'), ('2021-04-06 01:16:46.750', 'D+000007.8'), ('2021-04-06 01:16:46.770', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 6.8, 7.0, 7.4, 7.8, 7.6]
np.array X: [[5.4]
 [6.8]
 [7. ]
 [7.4]
 [7.8]
 [7.6]]
revised_weight: 6.9
2021-04-06 01:16:46.770: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:16:46.770
plc_result: True
sendmessage: 20210406011646770,1,000076,000069
send message to PLC: 2021-04-06 01:16:46.836
time gap: 0:00:00.006621
2021-04-06 01:16:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:16:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:47.333
lastevent: 2021-04-06 01:16:47.326, last ten sensor data: [('2021-04-06 01:16:46.930', 'D+000007.2'), ('2021-04-06 01:16:46.950', 'D+000007.6'), ('2021-04-06 01:16:46.970', 'D+000008.0'), ('2021-04-06 01:16:46.990', 'D+000008.2'), ('2021-04-06 01:16:47.010', 'D+000008.2'), ('2021-04-06 01:16:47.030', 'D+000009.0'), ('2021-04-06 01:16:47.180', 'D+000009.4'), ('2021-04-06 01:16:47.200', 'D+000009.6'), ('2021-04-06 01:16:47.220', 'D+000010.6'), ('2021-04-06 01:16:47.250', 'D+000009.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 9.0, 9.4, 9.6, 10.6, 9.0]
np.array X: [[ 8.2]
 [ 9. ]
 [ 9.4]
 [ 9.6]
 [10.6]
 [ 9. ]]
revised_weight: 8.7
2021-04-06 01:16:47.250: revising weight finished
revised_weight: 8.7 at 2021-04-06 01:16:47.250
plc_result: True
sendmessage: 20210406011647250,1,000090,000087
send message to PLC: 2021-04-06 01:16:47.339
time gap: 0:00:00.006203
2021-04-06 01:16:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:49: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:16:49: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:49: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:49: select done
2021-04-06 01:16:49: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:16:49: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:16:49: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:16:49: count: 4 in httpPlcDataSender thread
2021-04-06 01:16:49: D+: 4 in httpPlcDataSender thread
2021-04-06 01:16:49: D-: 0 in httpPlcDataSender thread
2021-04-06 01:16:49: S+: 0 in httpPlcDataSender thread
2021-04-06 01:16:49: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.7', 'sensorAt': '2021-04-06 01:16:44.310'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:16:45.220'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:16:46.770'}, {'value': '8.7', 'sensorAt': '2021-04-06 01:16:47.250'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:44.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:45.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:46.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:47.250'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:16:49', 'collectDate': '2021-04-06 01:16:47', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.7', 'sensorAt': '2021-04-06 01:16:44.310'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:16:45.220'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:16:46.770'}, {'value': '8.7', 'sensorAt': '2021-04-06 01:16:47.250'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:44.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:45.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:46.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:47.250'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:16:50: send http
2021-04-06 01:16:50: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:16:50: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:50: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:50.349
lastevent: 2021-04-06 01:16:50.343, last ten sensor data: [('2021-04-06 01:16:49.850', 'D+000002.0'), ('2021-04-06 01:16:49.870', 'D+000002.2'), ('2021-04-06 01:16:49.890', 'D+000002.2'), ('2021-04-06 01:16:49.910', 'D+000002.2'), ('2021-04-06 01:16:49.930', 'D+000002.4'), ('2021-04-06 01:16:49.980', 'D+000002.4'), ('2021-04-06 01:16:50.120', 'D+000004.8'), ('2021-04-06 01:16:50.140', 'D+000004.8'), ('2021-04-06 01:16:50.160', 'D+000005.2'), ('2021-04-06 01:16:50.350', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 4.8, 4.8, 5.2, 6.8]
np.array X: [[2.4]
 [2.4]
 [4.8]
 [4.8]
 [5.2]
 [6.8]]
revised_weight: 5.8
2021-04-06 01:16:50.350: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:16:50.350
plc_result: True
sendmessage: 20210406011650350,1,000068,000058
send message to PLC: 2021-04-06 01:16:50.366
time gap: 0:00:00.017266
2021-04-06 01:16:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:52.998
lastevent: 2021-04-06 01:16:52.995, last ten sensor data: [('2021-04-06 01:16:52.540', 'D+000002.4'), ('2021-04-06 01:16:52.560', 'D+000002.6'), ('2021-04-06 01:16:52.580', 'D+000002.4'), ('2021-04-06 01:16:52.600', 'D+000002.4'), ('2021-04-06 01:16:52.620', 'D+000002.2'), ('2021-04-06 01:16:52.780', 'D+000003.8'), ('2021-04-06 01:16:52.800', 'D+000003.8'), ('2021-04-06 01:16:52.820', 'D+000004.0'), ('2021-04-06 01:16:52.840', 'D+000004.0'), ('2021-04-06 01:16:52.860', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 3.8, 3.8, 4.0, 4.0, 4.0]
np.array X: [[2.2]
 [3.8]
 [3.8]
 [4. ]
 [4. ]
 [4. ]]
revised_weight: 3.7
2021-04-06 01:16:52.860: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:16:52.860
plc_result: True
sendmessage: 20210406011652860,1,000040,000037
send message to PLC: 2021-04-06 01:16:53.016
time gap: 0:00:00.017588
2021-04-06 01:16:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:54.158
lastevent: 2021-04-06 01:16:54.156, last ten sensor data: [('2021-04-06 01:16:53.770', 'D+000002.8'), ('2021-04-06 01:16:53.790', 'D+000002.6'), ('2021-04-06 01:16:53.810', 'D+000003.0'), ('2021-04-06 01:16:53.830', 'D+000003.4'), ('2021-04-06 01:16:53.850', 'D+000002.8'), ('2021-04-06 01:16:54.010', 'D+000003.2'), ('2021-04-06 01:16:54.030', 'D+000002.8'), ('2021-04-06 01:16:54.050', 'D+000002.8'), ('2021-04-06 01:16:54.070', 'D+000003.0'), ('2021-04-06 01:16:54.090', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.2, 2.8, 2.8, 3.0, 3.2]
np.array X: [[2.8]
 [3.2]
 [2.8]
 [2.8]
 [3. ]
 [3.2]]
revised_weight: 3.2
2021-04-06 01:16:54.090: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:16:54.090
plc_result: True
sendmessage: 20210406011654090,1,000032,000032
send message to PLC: 2021-04-06 01:16:54.165
time gap: 0:00:00.006777
2021-04-06 01:16:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:55: HTTP Send finished in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:55.341
2021-04-06 01:16:55: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
lastevent: 2021-04-06 01:16:55.332, last ten sensor data: [('2021-04-06 01:16:54.820', 'D+000002.8'), ('2021-04-06 01:16:55.000', 'D+000002.6'), ('2021-04-06 01:16:55.020', 'D+000002.8'), ('2021-04-06 01:16:55.040', 'D+000002.8'), ('2021-04-06 01:16:55.060', 'D+000003.6'), ('2021-04-06 01:16:55.240', 'D+000009.0'), ('2021-04-06 01:16:55.260', 'D+000009.8'), ('2021-04-06 01:16:55.280', 'D+000010.6'), ('2021-04-06 01:16:55.300', 'D+000012.0'), ('2021-04-06 01:16:55.320', 'D+000012.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 9.0, 9.8, 10.6, 12.0, 12.0]
np.array X: [[ 3.6]
 [ 9. ]
 [ 9.8]
 [10.6]
 [12. ]
 [12. ]]
revised_weight: 11.2
2021-04-06 01:16:55.320: revising weight finished
revised_weight: 11.2 at 2021-04-06 01:16:55.320
plc_result: True
sendmessage: 20210406011655320,1,000120,000112
send message to PLC: 2021-04-06 01:16:55.355
time gap: 0:00:00.013632
2021-04-06 01:16:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:55: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:16:55: select done
2021-04-06 01:16:55: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:16:55: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:16:55: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:16:55: count: 4 in httpPlcDataSender thread
2021-04-06 01:16:55: D+: 4 in httpPlcDataSender thread
2021-04-06 01:16:55: D-: 0 in httpPlcDataSender thread
2021-04-06 01:16:55: S+: 0 in httpPlcDataSender thread
2021-04-06 01:16:55: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:16:50.350'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:16:52.860'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:16:54.090'}, {'value': '11.2', 'sensorAt': '2021-04-06 01:16:55.320'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:50.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:52.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:54.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:55.320'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:16:55', 'collectDate': '2021-04-06 01:16:55', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:16:50.350'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:16:52.860'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:16:54.090'}, {'value': '11.2', 'sensorAt': '2021-04-06 01:16:55.320'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:50.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:52.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:54.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:55.320'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:16:55: send http
2021-04-06 01:16:55: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:16:55: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:16:55: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:16:56.155
lastevent: 2021-04-06 01:16:56.145, last ten sensor data: [('2021-04-06 01:16:55.720', 'D+000011.6'), ('2021-04-06 01:16:55.740', 'D+000011.6'), ('2021-04-06 01:16:55.760', 'D+000011.2'), ('2021-04-06 01:16:55.780', 'D+000011.0'), ('2021-04-06 01:16:55.800', 'D+000009.2'), ('2021-04-06 01:16:55.960', 'D+000003.6'), ('2021-04-06 01:16:55.980', 'D+000003.2'), ('2021-04-06 01:16:56.000', 'D+000003.4'), ('2021-04-06 01:16:56.020', 'D+000003.4'), ('2021-04-06 01:16:56.040', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.2, 3.6, 3.2, 3.4, 3.4, 3.4]
np.array X: [[9.2]
 [3.6]
 [3.2]
 [3.4]
 [3.4]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:16:56.040: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:16:56.040
plc_result: True
sendmessage: 20210406011656040,1,000034,000034
send message to PLC: 2021-04-06 01:16:56.168
time gap: 0:00:00.013932
2021-04-06 01:16:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:57.321
lastevent: 2021-04-06 01:16:57.309, last ten sensor data: [('2021-04-06 01:16:56.790', 'D+000003.6'), ('2021-04-06 01:16:56.950', 'D+000003.8'), ('2021-04-06 01:16:56.970', 'D+000004.0'), ('2021-04-06 01:16:56.990', 'D+000004.0'), ('2021-04-06 01:16:57.010', 'D+000004.2'), ('2021-04-06 01:16:57.190', 'D+000006.0'), ('2021-04-06 01:16:57.210', 'D+000006.6'), ('2021-04-06 01:16:57.230', 'D+000006.8'), ('2021-04-06 01:16:57.250', 'D+000006.8'), ('2021-04-06 01:16:57.270', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 6.0, 6.6, 6.8, 6.8, 6.8]
np.array X: [[4.2]
 [6. ]
 [6.6]
 [6.8]
 [6.8]
 [6.8]]
revised_weight: 6.7
2021-04-06 01:16:57.270: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:16:57.270
plc_result: True
sendmessage: 20210406011657270,1,000068,000067
send message to PLC: 2021-04-06 01:16:57.348
time gap: 0:00:00.026664
2021-04-06 01:16:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:16:58.506
lastevent: 2021-04-06 01:16:58.502, last ten sensor data: [('2021-04-06 01:16:58.000', 'D+000003.4'), ('2021-04-06 01:16:58.180', 'D+000004.2'), ('2021-04-06 01:16:58.200', 'D+000005.4'), ('2021-04-06 01:16:58.220', 'D+000006.0'), ('2021-04-06 01:16:58.240', 'D+000006.2'), ('2021-04-06 01:16:58.420', 'D+000007.6'), ('2021-04-06 01:16:58.440', 'D+000008.0'), ('2021-04-06 01:16:58.460', 'D+000008.4'), ('2021-04-06 01:16:58.480', 'D+000008.0'), ('2021-04-06 01:16:58.500', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 7.6, 8.0, 8.4, 8.0, 7.6]
np.array X: [[6.2]
 [7.6]
 [8. ]
 [8.4]
 [8. ]
 [7.6]]
revised_weight: 7.6
2021-04-06 01:16:58.500: revising weight finished
revised_weight: 7.6 at 2021-04-06 01:16:58.500
plc_result: True
sendmessage: 20210406011658500,1,000076,000076
send message to PLC: 2021-04-06 01:16:58.518
time gap: 0:00:00.011872
2021-04-06 01:16:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:00.017
lastevent: 2021-04-06 01:17:00.004, last ten sensor data: [('2021-04-06 01:16:59.620', 'D+000004.2'), ('2021-04-06 01:16:59.650', 'D+000004.0'), ('2021-04-06 01:16:59.670', 'D+000004.0'), ('2021-04-06 01:16:59.690', 'D+000004.2'), ('2021-04-06 01:16:59.710', 'D+000004.8'), ('2021-04-06 01:16:59.890', 'D+000009.2'), ('2021-04-06 01:16:59.910', 'D+000009.6'), ('2021-04-06 01:16:59.930', 'D+000010.0'), ('2021-04-06 01:16:59.950', 'D+000011.0'), ('2021-04-06 01:16:59.970', 'D+000011.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 9.2, 9.6, 10.0, 11.0, 11.2]
np.array X: [[ 4.8]
 [ 9.2]
 [ 9.6]
 [10. ]
 [11. ]
 [11.2]]
revised_weight: 11.0
2021-04-06 01:16:59.970: revising weight finished
revised_weight: 11.0 at 2021-04-06 01:16:59.970
plc_result: True
sendmessage: 20210406011659970,1,000112,000110
send message to PLC: 2021-04-06 01:17:00.032
time gap: 0:00:00.014085
2021-04-06 01:17:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:00.915
lastevent: 2021-04-06 01:17:00.910, last ten sensor data: [('2021-04-06 01:17:00.430', 'D+000010.2'), ('2021-04-06 01:17:00.450', 'D+000009.2'), ('2021-04-06 01:17:00.610', 'D+000005.4'), ('2021-04-06 01:17:00.630', 'D+000006.4'), ('2021-04-06 01:17:00.650', 'D+000007.2'), ('2021-04-06 01:17:00.670', 'D+000008.2'), ('2021-04-06 01:17:00.690', 'D+000008.0'), ('2021-04-06 01:17:00.860', 'D+000014.6'), ('2021-04-06 01:17:00.880', 'D+000014.8'), ('2021-04-06 01:17:00.900', 'D+000014.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, ('2021-04-06 01:17:00.920', 'D+000014.2')]
list X: [7.2, 8.2, 8.0, 14.6, 14.8, 14.2]
np.array X: [[ 7.2]
 [ 8.2]
 [ 8. ]
 [14.6]
 [14.8]
 [14.2]]
revised_weight: 13.5
2021-04-06 01:17:00.900: revising weight finished
revised_weight: 13.5 at 2021-04-06 01:17:00.900
plc_result: True
sendmessage: 20210406011700900,1,000142,000135
send message to PLC: 2021-04-06 01:17:00.929
time gap: 0:00:00.013544
2021-04-06 01:17:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:00: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:17:00: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:01: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:01: select done
2021-04-06 01:17:01: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:17:01: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:17:01: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:17:01: count: 5 in httpPlcDataSender thread
2021-04-06 01:17:01: D+: 5 in httpPlcDataSender thread
2021-04-06 01:17:01: D-: 0 in httpPlcDataSender thread
2021-04-06 01:17:01: S+: 0 in httpPlcDataSender thread
2021-04-06 01:17:01: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.4', 'sensorAt': '2021-04-06 01:16:56.040'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:16:57.270'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:16:58.500'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:16:59.970'}, {'value': '13.5', 'sensorAt': '2021-04-06 01:17:00.900'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:56.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:57.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:58.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:59.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:00.900'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:17:01', 'collectDate': '2021-04-06 01:17:00', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.4', 'sensorAt': '2021-04-06 01:16:56.040'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:16:57.270'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:16:58.500'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:16:59.970'}, {'value': '13.5', 'sensorAt': '2021-04-06 01:17:00.900'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:16:56.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:57.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:58.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:16:59.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:00.900'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:17:01: send http
2021-04-06 01:17:01: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:17:01: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:01: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:02.624
lastevent: 2021-04-06 01:17:02.611, last ten sensor data: [('2021-04-06 01:17:02.160', 'D+000003.4'), ('2021-04-06 01:17:02.330', 'D+000005.0'), ('2021-04-06 01:17:02.350', 'D+000004.6'), ('2021-04-06 01:17:02.370', 'D+000004.4'), ('2021-04-06 01:17:02.390', 'D+000004.6'), ('2021-04-06 01:17:02.410', 'D+000005.2'), ('2021-04-06 01:17:02.560', 'D+000007.6'), ('2021-04-06 01:17:02.580', 'D+000007.6'), ('2021-04-06 01:17:02.600', 'D+000007.6'), ('2021-04-06 01:17:02.620', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.2, 7.6, 7.6, 7.6, 7.6]
np.array X: [[4.6]
 [5.2]
 [7.6]
 [7.6]
 [7.6]
 [7.6]]
revised_weight: 7.3
2021-04-06 01:17:02.620: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:17:02.620
plc_result: True
sendmessage: 20210406011702620,1,000076,000073
send message to PLC: 2021-04-06 01:17:02.636
time gap: 0:00:00.012002
2021-04-06 01:17:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:03.984
lastevent: 2021-04-06 01:17:03.970, last ten sensor data: [('2021-04-06 01:17:03.550', 'D+000003.0'), ('2021-04-06 01:17:03.570', 'D+000003.2'), ('2021-04-06 01:17:03.590', 'D+000003.0'), ('2021-04-06 01:17:03.610', 'D+000003.2'), ('2021-04-06 01:17:03.630', 'D+000003.4'), ('2021-04-06 01:17:03.790', 'D+000007.4'), ('2021-04-06 01:17:03.810', 'D+000006.8'), ('2021-04-06 01:17:03.830', 'D+000007.4'), ('2021-04-06 01:17:03.850', 'D+000010.8'), ('2021-04-06 01:17:03.870', 'D+000011.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 7.4, 6.8, 7.4, 10.8, 11.8]
np.array X: [[ 3.4]
 [ 7.4]
 [ 6.8]
 [ 7.4]
 [10.8]
 [11.8]]
revised_weight: 9.4
2021-04-06 01:17:03.870: revising weight finished
revised_weight: 9.4 at 2021-04-06 01:17:03.870
plc_result: True
sendmessage: 20210406011703870,1,000118,000094
send message to PLC: 2021-04-06 01:17:03.998
time gap: 0:00:00.013465
2021-04-06 01:17:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:04.619
lastevent: 2021-04-06 01:17:04.614, last ten sensor data: [('2021-04-06 01:17:04.270', 'D+000011.4'), ('2021-04-06 01:17:04.290', 'D+000011.2'), ('2021-04-06 01:17:04.310', 'D+000011.2'), ('2021-04-06 01:17:04.330', 'D+000012.2'), ('2021-04-06 01:17:04.350', 'D+000012.8'), ('2021-04-06 01:17:04.520', 'D+000008.2'), ('2021-04-06 01:17:04.540', 'D+000007.8'), ('2021-04-06 01:17:04.560', 'D+000008.0'), ('2021-04-06 01:17:04.580', 'D+000008.2'), ('2021-04-06 01:17:04.600', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [12.8, 8.2, 7.8, 8.0, 8.2, 8.0]
np.array X: [[12.8]
 [ 8.2]
 [ 7.8]
 [ 8. ]
 [ 8.2]
 [ 8. ]]
revised_weight: 8.6
2021-04-06 01:17:04.600: revising weight finished
revised_weight: 8.6 at 2021-04-06 01:17:04.600
plc_result: True
sendmessage: 20210406011704600,1,000080,000086
send message to PLC: 2021-04-06 01:17:04.631
time gap: 0:00:00.012104
2021-04-06 01:17:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:06.080
lastevent: 2021-04-06 01:17:06.069, last ten sensor data: [('2021-04-06 01:17:05.740', 'D+000003.0'), ('2021-04-06 01:17:05.770', 'D+000002.8'), ('2021-04-06 01:17:05.790', 'D+000002.8'), ('2021-04-06 01:17:05.810', 'D+000003.0'), ('2021-04-06 01:17:05.830', 'D+000003.2'), ('2021-04-06 01:17:05.990', 'D+000003.8'), ('2021-04-06 01:17:06.010', 'D+000003.8'), ('2021-04-06 01:17:06.030', 'D+000003.2'), ('2021-04-06 01:17:06.050', 'D+000003.2'), ('2021-04-06 01:17:06.070', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.8, 3.8, 3.2, 3.2, 3.6]
np.array X: [[3.2]
 [3.8]
 [3.8]
 [3.2]
 [3.2]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:17:06.070: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:17:06.070
plc_result: True
sendmessage: 20210406011706070,1,000036,000036
send message to PLC: 2021-04-06 01:17:06.091
time gap: 0:00:00.011265
2021-04-06 01:17:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:06: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:17:06: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:06: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:06: select done
2021-04-06 01:17:06: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:17:06: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:17:06: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:17:06: count: 4 in httpPlcDataSender thread
2021-04-06 01:17:06: D+: 4 in httpPlcDataSender thread
2021-04-06 01:17:06: D-: 0 in httpPlcDataSender thread
2021-04-06 01:17:06: S+: 0 in httpPlcDataSender thread
2021-04-06 01:17:06: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.3', 'sensorAt': '2021-04-06 01:17:02.620'}, {'value': '9.4', 'sensorAt': '2021-04-06 01:17:03.870'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:17:04.600'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:17:06.070'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:02.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:03.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:04.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:06.070'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:17:06', 'collectDate': '2021-04-06 01:17:06', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.3', 'sensorAt': '2021-04-06 01:17:02.620'}, {'value': '9.4', 'sensorAt': '2021-04-06 01:17:03.870'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:17:04.600'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:17:06.070'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:02.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:03.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:04.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:06.070'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:17:06: send http
2021-04-06 01:17:06: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:17:07: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:07: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:07.676
lastevent: 2021-04-06 01:17:07.668, last ten sensor data: [('2021-04-06 01:17:07.140', 'D+000001.6'), ('2021-04-06 01:17:07.160', 'D+000001.6'), ('2021-04-06 01:17:07.330', 'D+000003.6'), ('2021-04-06 01:17:07.350', 'D+000003.4'), ('2021-04-06 01:17:07.370', 'D+000003.2'), ('2021-04-06 01:17:07.390', 'D+000002.6'), ('2021-04-06 01:17:07.600', 'D+000003.4'), ('2021-04-06 01:17:07.620', 'D+000003.4'), ('2021-04-06 01:17:07.640', 'D+000003.2'), ('2021-04-06 01:17:07.660', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 2.6, 3.4, 3.4, 3.2, 3.2]
np.array X: [[3.2]
 [2.6]
 [3.4]
 [3.4]
 [3.2]
 [3.2]]
revised_weight: 2.9
2021-04-06 01:17:07.660: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:17:07.660
plc_result: True
sendmessage: 20210406011707660,1,000032,000029
send message to PLC: 2021-04-06 01:17:07.684
time gap: 0:00:00.008383
2021-04-06 01:17:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:09.136
lastevent: 2021-04-06 01:17:09.127, last ten sensor data: [('2021-04-06 01:17:08.650', 'D+000002.4'), ('2021-04-06 01:17:08.830', 'D+000004.8'), ('2021-04-06 01:17:08.850', 'D+000005.0'), ('2021-04-06 01:17:08.870', 'D+000005.6'), ('2021-04-06 01:17:08.890', 'D+000005.8'), ('2021-04-06 01:17:08.910', 'D+000005.2'), ('2021-04-06 01:17:09.070', 'D+000007.6'), ('2021-04-06 01:17:09.090', 'D+000007.4'), ('2021-04-06 01:17:09.110', 'D+000007.0'), ('2021-04-06 01:17:09.130', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.2, 7.6, 7.4, 7.0, 7.2]
np.array X: [[5.8]
 [5.2]
 [7.6]
 [7.4]
 [7. ]
 [7.2]]
revised_weight: 7.2
2021-04-06 01:17:09.130: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:17:09.130
plc_result: True
sendmessage: 20210406011709130,1,000072,000072
send message to PLC: 2021-04-06 01:17:09.157
time gap: 0:00:00.021081
2021-04-06 01:17:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:10.413
lastevent: 2021-04-06 01:17:10.400, last ten sensor data: [('2021-04-06 01:17:09.880', 'D+000003.0'), ('2021-04-06 01:17:10.060', 'D+000003.0'), ('2021-04-06 01:17:10.080', 'D+000003.4'), ('2021-04-06 01:17:10.100', 'D+000003.6'), ('2021-04-06 01:17:10.120', 'D+000003.8'), ('2021-04-06 01:17:10.300', 'D+000004.4'), ('2021-04-06 01:17:10.320', 'D+000004.4'), ('2021-04-06 01:17:10.340', 'D+000004.4'), ('2021-04-06 01:17:10.360', 'D+000004.4'), ('2021-04-06 01:17:10.380', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.4, 4.4, 4.4, 4.4, 4.6]
np.array X: [[3.8]
 [4.4]
 [4.4]
 [4.4]
 [4.4]
 [4.6]]
revised_weight: 4.4
2021-04-06 01:17:10.380: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:17:10.380
plc_result: True
sendmessage: 20210406011710380,1,000046,000044
send message to PLC: 2021-04-06 01:17:10.420
time gap: 0:00:00.007365
2021-04-06 01:17:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:11.387
lastevent: 2021-04-06 01:17:11.376, last ten sensor data: [('2021-04-06 01:17:10.860', 'D+000004.2'), ('2021-04-06 01:17:11.030', 'D+000003.8'), ('2021-04-06 01:17:11.050', 'D+000003.8'), ('2021-04-06 01:17:11.070', 'D+000004.2'), ('2021-04-06 01:17:11.090', 'D+000004.6'), ('2021-04-06 01:17:11.110', 'D+000005.0'), ('2021-04-06 01:17:11.290', 'D+000007.2'), ('2021-04-06 01:17:11.310', 'D+000007.4'), ('2021-04-06 01:17:11.330', 'D+000007.4'), ('2021-04-06 01:17:11.350', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.0, 7.2, 7.4, 7.4, 8.2]
np.array X: [[4.6]
 [5. ]
 [7.2]
 [7.4]
 [7.4]
 [8.2]]
revised_weight: 7.4
2021-04-06 01:17:11.350: revising weight finished
revised_weight: 7.4 at 2021-04-06 01:17:11.350
plc_result: True
sendmessage: 20210406011711350,1,000082,000074
send message to PLC: 2021-04-06 01:17:11.394
time gap: 0:00:00.007004
2021-04-06 01:17:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:12: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:17:12: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:12: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:12: select done
2021-04-06 01:17:12: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:17:12: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:17:12: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:17:12: count: 4 in httpPlcDataSender thread
2021-04-06 01:17:12: D+: 4 in httpPlcDataSender thread
2021-04-06 01:17:12: D-: 0 in httpPlcDataSender thread
2021-04-06 01:17:12: S+: 0 in httpPlcDataSender thread
2021-04-06 01:17:12: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.9', 'sensorAt': '2021-04-06 01:17:07.660'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:17:09.130'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:17:10.380'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:17:11.350'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:07.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:09.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:10.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:11.350'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:17:12', 'collectDate': '2021-04-06 01:17:11', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.9', 'sensorAt': '2021-04-06 01:17:07.660'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:17:09.130'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:17:10.380'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:17:11.350'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:07.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:09.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:10.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:11.350'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:17:12: send http
2021-04-06 01:17:12: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:17:12.576
lastevent: 2021-04-06 01:17:12.561, last ten sensor data: [('2021-04-06 01:17:12.070', 'D+000003.4'), ('2021-04-06 01:17:12.250', 'D+000004.6'), ('2021-04-06 01:17:12.270', 'D+000004.4'), ('2021-04-06 01:17:12.290', 'D+000004.2'), ('2021-04-06 01:17:12.310', 'D+000003.6'), ('2021-04-06 01:17:12.330', 'D+000003.8'), ('2021-04-06 01:17:12.500', 'D+000006.0'), ('2021-04-06 01:17:12.520', 'D+000006.0'), ('2021-04-06 01:17:12.560', 'D+000005.8'), ('2021-04-06 01:17:12.580', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.8, 6.0, 6.0, 5.8, 5.4]
np.array X: [[3.6]
 [3.8]
 [6. ]
 [6. ]
 [5.8]
 [5.4]]
revised_weight: 5.6
2021-04-06 01:17:12.580: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:17:12.580
plc_result: True
sendmessage: 20210406011712580,1,000054,000056
send message to PLC: 2021-04-06 01:17:12.586
time gap: 0:00:00.009809
2021-04-06 01:17:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
Backupserver True
2021-04-06 01:17:12: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:12: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:14.715
lastevent: 2021-04-06 01:17:14.699, last ten sensor data: [('2021-04-06 01:17:14.240', 'D+000003.6'), ('2021-04-06 01:17:14.260', 'D+000001.6'), ('2021-04-06 01:17:14.280', 'D+000002.4'), ('2021-04-06 01:17:14.300', 'D+000003.6'), ('2021-04-06 01:17:14.470', 'D+000004.4'), ('2021-04-06 01:17:14.490', 'D+000005.2'), ('2021-04-06 01:17:14.650', 'D+000005.4'), ('2021-04-06 01:17:14.670', 'D+000005.8'), ('2021-04-06 01:17:14.690', 'D+000005.8'), ('2021-04-06 01:17:14.710', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.2, 5.4, 5.8, 5.8, 6.2]
np.array X: [[4.4]
 [5.2]
 [5.4]
 [5.8]
 [5.8]
 [6.2]]
revised_weight: 5.7
2021-04-06 01:17:14.710: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:17:14.710
plc_result: True
sendmessage: 20210406011714710,1,000062,000057
send message to PLC: 2021-04-06 01:17:14.727
time gap: 0:00:00.011752
2021-04-06 01:17:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:17: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:17:17: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:17: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:17: select done
2021-04-06 01:17:17: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:17:17: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:17.978
lastevent: 2021-04-06 01:17:17.968, last ten sensor data: [('2021-04-06 01:17:17.420', 'D+000002.0'), ('2021-04-06 01:17:17.570', 'D+000002.2'), ('2021-04-06 01:17:17.590', 'D+000002.2'), ('2021-04-06 01:17:17.610', 'D+000002.6'), ('2021-04-06 01:17:17.630', 'D+000002.4'), ('2021-04-06 01:17:17.650', 'D+000002.2'), ('2021-04-06 01:17:17.830', 'D+000006.4'), ('2021-04-06 01:17:17.850', 'D+000006.0'), ('2021-04-06 01:17:17.870', 'D+000006.2'), ('2021-04-06 01:17:17.890', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.2, 6.4, 6.0, 6.2, 7.0]
np.array X: [[2.4]
 [2.2]
 [6.4]
 [6. ]
 [6.2]
 [7. ]]
revised_weight: 7.6
2021-04-06 01:17:17.890: revising weight finished
revised_weight: 7.6 at 2021-04-06 01:17:17.890
plc_result: True
sendmessage: 20210406011717890,1,000070,000076
2021-04-06 01:17:17: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:17:17: count: 2 in httpPlcDataSender thread
2021-04-06 01:17:17: D+: 2 in httpPlcDataSender thread
2021-04-06 01:17:17: D-: 0 in httpPlcDataSender thread
2021-04-06 01:17:17: S+: 0 in httpPlcDataSender thread
2021-04-06 01:17:17: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.6', 'sensorAt': '2021-04-06 01:17:12.580'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:17:14.710'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:12.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:14.710'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:17:17', 'collectDate': '2021-04-06 01:17:14', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.6', 'sensorAt': '2021-04-06 01:17:12.580'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:17:14.710'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:12.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:14.710'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
send message to PLC: 2021-04-06 01:17:17.995
time gap: 0:00:00.016371
2021-04-06 01:17:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:18: send http
2021-04-06 01:17:18: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:17:18: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:18: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:18.726
lastevent: 2021-04-06 01:17:18.715, last ten sensor data: [('2021-04-06 01:17:18.110', 'D+000006.6'), ('2021-04-06 01:17:18.130', 'D+000006.8'), ('2021-04-06 01:17:18.320', 'D+000006.8'), ('2021-04-06 01:17:18.340', 'D+000007.4'), ('2021-04-06 01:17:18.360', 'D+000007.0'), ('2021-04-06 01:17:18.550', 'D+000009.4'), ('2021-04-06 01:17:18.570', 'D+000009.6'), ('2021-04-06 01:17:18.590', 'D+000010.4'), ('2021-04-06 01:17:18.610', 'D+000011.0'), ('2021-04-06 01:17:18.630', 'D+000011.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 9.4, 9.6, 10.4, 11.0, 11.4]
np.array X: [[ 7. ]
 [ 9.4]
 [ 9.6]
 [10.4]
 [11. ]
 [11.4]]
revised_weight: 10.9
2021-04-06 01:17:18.630: revising weight finished
revised_weight: 10.9 at 2021-04-06 01:17:18.630
plc_result: True
sendmessage: 20210406011718630,1,000114,000109
send message to PLC: 2021-04-06 01:17:18.737
time gap: 0:00:00.011242
2021-04-06 01:17:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:21.164
lastevent: 2021-04-06 01:17:21.151, last ten sensor data: [('2021-04-06 01:17:20.580', 'D+000001.8'), ('2021-04-06 01:17:20.740', 'D+000001.6'), ('2021-04-06 01:17:20.760', 'D+000001.8'), ('2021-04-06 01:17:20.780', 'D+000001.4'), ('2021-04-06 01:17:20.800', 'D+000001.6'), ('2021-04-06 01:17:20.820', 'D+000001.8'), ('2021-04-06 01:17:21.000', 'D+000004.0'), ('2021-04-06 01:17:21.020', 'D+000004.0'), ('2021-04-06 01:17:21.040', 'D+000004.0'), ('2021-04-06 01:17:21.060', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 1.8, 4.0, 4.0, 4.0, 4.0]
np.array X: [[1.6]
 [1.8]
 [4. ]
 [4. ]
 [4. ]
 [4. ]]
revised_weight: 4.2
2021-04-06 01:17:21.060: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:17:21.060
plc_result: True
sendmessage: 20210406011721060,1,000040,000042
send message to PLC: 2021-04-06 01:17:21.176
time gap: 0:00:00.011704
2021-04-06 01:17:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:21.702
lastevent: 2021-04-06 01:17:21.688, last ten sensor data: [('2021-04-06 01:17:21.270', 'D+000003.6'), ('2021-04-06 01:17:21.290', 'D+000003.6'), ('2021-04-06 01:17:21.310', 'D+000003.8'), ('2021-04-06 01:17:21.380', 'D+000004.0'), ('2021-04-06 01:17:21.400', 'D+000004.0'), ('2021-04-06 01:17:21.420', 'D+000003.8'), ('2021-04-06 01:17:21.610', 'D+000003.6'), ('2021-04-06 01:17:21.630', 'D+000003.4'), ('2021-04-06 01:17:21.650', 'D+000003.4'), ('2021-04-06 01:17:21.670', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.8, 3.6, 3.4, 3.4, 3.4]
np.array X: [[4. ]
 [3.8]
 [3.6]
 [3.4]
 [3.4]
 [3.4]]
revised_weight: 3.5
2021-04-06 01:17:21.670: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:17:21.670
plc_result: True
sendmessage: 20210406011721670,1,000034,000035
send message to PLC: 2021-04-06 01:17:21.713
time gap: 0:00:00.011051
2021-04-06 01:17:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:22.726
lastevent: 2021-04-06 01:17:22.709, last ten sensor data: [('2021-04-06 01:17:22.350', 'D+000002.6'), ('2021-04-06 01:17:22.370', 'D+000002.8'), ('2021-04-06 01:17:22.390', 'D+000002.6'), ('2021-04-06 01:17:22.410', 'D+000002.6'), ('2021-04-06 01:17:22.570', 'D+000003.0'), ('2021-04-06 01:17:22.590', 'D+000002.8'), ('2021-04-06 01:17:22.610', 'D+000002.8'), ('2021-04-06 01:17:22.630', 'D+000003.0'), ('2021-04-06 01:17:22.650', 'D+000003.2'), ('2021-04-06 01:17:22.670', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 2.8, 3.0, 3.2, 3.0]
np.array X: [[3. ]
 [2.8]
 [2.8]
 [3. ]
 [3.2]
 [3. ]]
revised_weight: 2.8
2021-04-06 01:17:22.670: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:17:22.670
plc_result: True
sendmessage: 20210406011722670,1,000030,000028
send message to PLC: 2021-04-06 01:17:22.738
time gap: 0:00:00.011362
2021-04-06 01:17:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:23: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:17:23: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:23: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:23: select done
2021-04-06 01:17:23: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:17:23: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:17:23: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:17:23: count: 5 in httpPlcDataSender thread
2021-04-06 01:17:23: D+: 5 in httpPlcDataSender thread
2021-04-06 01:17:23: D-: 0 in httpPlcDataSender thread
2021-04-06 01:17:23: S+: 0 in httpPlcDataSender thread
2021-04-06 01:17:23: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.6', 'sensorAt': '2021-04-06 01:17:17.890'}, {'value': '10.9', 'sensorAt': '2021-04-06 01:17:18.630'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:17:21.060'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:17:21.670'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:17:22.670'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:17.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:18.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:21.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:21.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:22.670'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:17:23', 'collectDate': '2021-04-06 01:17:22', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.6', 'sensorAt': '2021-04-06 01:17:17.890'}, {'value': '10.9', 'sensorAt': '2021-04-06 01:17:18.630'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:17:21.060'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:17:21.670'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:17:22.670'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:17.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:18.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:21.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:21.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:22.670'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:17:23: httpScaleDataSender thread Timeout occurred
2021-04-06 01:17:23: [13705] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
2021-04-06 01:17:23: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2021-04-06 01:17:23: send http
2021-04-06 01:17:23: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:17:23: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:23: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:24.188
lastevent: 2021-04-06 01:17:24.172, last ten sensor data: [('2021-04-06 01:17:23.700', 'D+000002.2'), ('2021-04-06 01:17:23.800', 'D+000002.2'), ('2021-04-06 01:17:23.820', 'D+000002.6'), ('2021-04-06 01:17:23.840', 'D+000003.0'), ('2021-04-06 01:17:23.860', 'D+000003.8'), ('2021-04-06 01:17:24.040', 'D+000009.6'), ('2021-04-06 01:17:24.060', 'D+000009.8'), ('2021-04-06 01:17:24.080', 'D+000010.2'), ('2021-04-06 01:17:24.100', 'D+000011.6'), ('2021-04-06 01:17:24.120', 'D+000013.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 9.6, 9.8, 10.2, 11.6, 13.0]
np.array X: [[ 3.8]
 [ 9.6]
 [ 9.8]
 [10.2]
 [11.6]
 [13. ]]
revised_weight: 11.9
2021-04-06 01:17:24.120: revising weight finished
revised_weight: 11.9 at 2021-04-06 01:17:24.120
plc_result: True
sendmessage: 20210406011724120,1,000130,000119
send message to PLC: 2021-04-06 01:17:24.194
time gap: 0:00:00.006760
2021-04-06 01:17:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:26.764
lastevent: 2021-04-06 01:17:26.753, last ten sensor data: [('2021-04-06 01:17:26.280', 'D+000000.8'), ('2021-04-06 01:17:26.300', 'D+000000.8'), ('2021-04-06 01:17:26.320', 'D+000000.8'), ('2021-04-06 01:17:26.470', 'D+000001.0'), ('2021-04-06 01:17:26.490', 'D+000001.0'), ('2021-04-06 01:17:26.510', 'D+000001.0'), ('2021-04-06 01:17:26.530', 'D+000001.0'), ('2021-04-06 01:17:26.550', 'D+000001.6'), ('2021-04-06 01:17:26.750', 'D+000001.4'), ('2021-04-06 01:17:26.770', 'D+000001.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.0, 1.0, 1.0, 1.6, 1.4, 1.2]
np.array X: [[1. ]
 [1. ]
 [1. ]
 [1.6]
 [1.4]
 [1.2]]
revised_weight: 1.5
2021-04-06 01:17:26.770: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:17:26.770
plc_result: True
sendmessage: 20210406011726770,1,000012,000015
send message to PLC: 2021-04-06 01:17:26.773
time gap: 0:00:00.009082
2021-04-06 01:17:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:28: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:17:28: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:29: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:29: select done
2021-04-06 01:17:29: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:17:29: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:17:29: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:17:29: count: 2 in httpPlcDataSender thread
2021-04-06 01:17:29: D+: 2 in httpPlcDataSender thread
2021-04-06 01:17:29: D-: 0 in httpPlcDataSender thread
2021-04-06 01:17:29: S+: 0 in httpPlcDataSender thread
2021-04-06 01:17:29: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '11.9', 'sensorAt': '2021-04-06 01:17:24.120'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:17:26.770'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:24.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:26.770'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:17:29', 'collectDate': '2021-04-06 01:17:26', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '11.9', 'sensorAt': '2021-04-06 01:17:24.120'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:17:26.770'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:24.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:26.770'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:17:29: send http
2021-04-06 01:17:29: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:17:29: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:29: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:30.936
lastevent: 2021-04-06 01:17:30.921, last ten sensor data: [('2021-04-06 01:17:30.460', 'D+000001.4'), ('2021-04-06 01:17:30.480', 'D+000001.2'), ('2021-04-06 01:17:30.640', 'D+000001.6'), ('2021-04-06 01:17:30.660', 'D+000002.0'), ('2021-04-06 01:17:30.680', 'D+000002.2'), ('2021-04-06 01:17:30.700', 'D+000002.4'), ('2021-04-06 01:17:30.720', 'D+000002.4'), ('2021-04-06 01:17:30.890', 'D+000003.0'), ('2021-04-06 01:17:30.910', 'D+000003.2'), ('2021-04-06 01:17:30.930', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.4, 2.4, 3.0, 3.2, 3.4]
np.array X: [[2.2]
 [2.4]
 [2.4]
 [3. ]
 [3.2]
 [3.4]]
revised_weight: 3.2
2021-04-06 01:17:30.930: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:17:30.930
plc_result: True
sendmessage: 20210406011730930,1,000034,000032
send message to PLC: 2021-04-06 01:17:30.945
time gap: 0:00:00.008575
2021-04-06 01:17:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:31.797
lastevent: 2021-04-06 01:17:31.782, last ten sensor data: [('2021-04-06 01:17:31.190', 'D+000003.4'), ('2021-04-06 01:17:31.210', 'D+000003.6'), ('2021-04-06 01:17:31.390', 'D+000003.4'), ('2021-04-06 01:17:31.410', 'D+000004.4'), ('2021-04-06 01:17:31.430', 'D+000004.2'), ('2021-04-06 01:17:31.450', 'D+000005.0'), ('2021-04-06 01:17:31.630', 'D+000006.2'), ('2021-04-06 01:17:31.650', 'D+000006.0'), ('2021-04-06 01:17:31.670', 'D+000005.8'), ('2021-04-06 01:17:31.690', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.0, 6.2, 6.0, 5.8, 6.0]
np.array X: [[4.2]
 [5. ]
 [6.2]
 [6. ]
 [5.8]
 [6. ]]
revised_weight: 5.9
2021-04-06 01:17:31.690: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:17:31.690
plc_result: True
sendmessage: 20210406011731690,1,000060,000059
send message to PLC: 2021-04-06 01:17:31.803
time gap: 0:00:00.006324
2021-04-06 01:17:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:33.718
lastevent: 2021-04-06 01:17:33.703, last ten sensor data: [('2021-04-06 01:17:33.140', 'D+000003.0'), ('2021-04-06 01:17:33.160', 'D+000002.8'), ('2021-04-06 01:17:33.340', 'D+000002.4'), ('2021-04-06 01:17:33.360', 'D+000002.8'), ('2021-04-06 01:17:33.380', 'D+000003.0'), ('2021-04-06 01:17:33.400', 'D+000003.0'), ('2021-04-06 01:17:33.580', 'D+000003.0'), ('2021-04-06 01:17:33.600', 'D+000002.8'), ('2021-04-06 01:17:33.620', 'D+000003.2'), ('2021-04-06 01:17:33.640', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 3.0, 2.8, 3.2, 4.0]
np.array X: [[3. ]
 [3. ]
 [3. ]
 [2.8]
 [3.2]
 [4. ]]
revised_weight: 3.5
2021-04-06 01:17:33.640: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:17:33.640
plc_result: True
sendmessage: 20210406011733640,1,000040,000035
send message to PLC: 2021-04-06 01:17:33.725
time gap: 0:00:00.006259
2021-04-06 01:17:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:34: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:17:34: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:34: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:34: select done
2021-04-06 01:17:34: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:17:34: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:17:34: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:17:34: count: 3 in httpPlcDataSender thread
2021-04-06 01:17:34: D+: 3 in httpPlcDataSender thread
2021-04-06 01:17:34: D-: 0 in httpPlcDataSender thread
2021-04-06 01:17:34: S+: 0 in httpPlcDataSender thread
2021-04-06 01:17:34: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.2', 'sensorAt': '2021-04-06 01:17:30.930'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:17:31.690'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:17:33.640'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:30.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:31.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:33.640'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:17:34', 'collectDate': '2021-04-06 01:17:33', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.2', 'sensorAt': '2021-04-06 01:17:30.930'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:17:31.690'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:17:33.640'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:30.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:31.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:33.640'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:17:34: send http
2021-04-06 01:17:34: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:17:34: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:35.431
lastevent: 2021-04-06 01:17:35.422, last ten sensor data: [('2021-04-06 01:17:35.070', 'D+000002.8'), ('2021-04-06 01:17:35.090', 'D+000002.6'), ('2021-04-06 01:17:35.110', 'D+000002.6'), ('2021-04-06 01:17:35.130', 'D+000003.4'), ('2021-04-06 01:17:35.220', 'D+000003.4'), ('2021-04-06 01:17:35.290', 'D+000004.8'), ('2021-04-06 01:17:35.310', 'D+000005.0'), ('2021-04-06 01:17:35.330', 'D+000005.2'), ('2021-04-06 01:17:35.350', 'D+000005.0'), ('2021-04-06 01:17:35.370', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.8, 5.0, 5.2, 5.0, 4.8]
np.array X: [[3.4]
 [4.8]
 [5. ]
 [5.2]
 [5. ]
 [4.8]]
revised_weight: 4.8
2021-04-06 01:17:35.370: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:17:35.370
plc_result: True
sendmessage: 20210406011735370,1,000048,000048
send message to PLC: 2021-04-06 01:17:35.437
time gap: 0:00:00.006367
2021-04-06 01:17:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:35: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:36.164
lastevent: 2021-04-06 01:17:36.149, last ten sensor data: [('2021-04-06 01:17:35.790', 'D+000004.6'), ('2021-04-06 01:17:35.810', 'D+000004.6'), ('2021-04-06 01:17:35.830', 'D+000004.4'), ('2021-04-06 01:17:35.850', 'D+000005.2'), ('2021-04-06 01:17:35.990', 'D+000010.6'), ('2021-04-06 01:17:36.010', 'D+000011.4'), ('2021-04-06 01:17:36.040', 'D+000011.6'), ('2021-04-06 01:17:36.060', 'D+000011.0'), ('2021-04-06 01:17:36.080', 'D+000010.8'), ('2021-04-06 01:17:36.100', 'D+000012.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [10.6, 11.4, 11.6, 11.0, 10.8, 12.4]
np.array X: [[10.6]
 [11.4]
 [11.6]
 [11. ]
 [10.8]
 [12.4]]
revised_weight: 11.0
2021-04-06 01:17:36.100: revising weight finished
revised_weight: 11.0 at 2021-04-06 01:17:36.100
plc_result: True
sendmessage: 20210406011736100,1,000124,000110
send message to PLC: 2021-04-06 01:17:36.171
time gap: 0:00:00.006582
2021-04-06 01:17:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:37.688
lastevent: 2021-04-06 01:17:37.672, last ten sensor data: [('2021-04-06 01:17:37.260', 'D+000002.8'), ('2021-04-06 01:17:37.280', 'D+000002.6'), ('2021-04-06 01:17:37.300', 'D+000003.2'), ('2021-04-06 01:17:37.480', 'D+000005.4'), ('2021-04-06 01:17:37.500', 'D+000005.2'), ('2021-04-06 01:17:37.520', 'D+000005.0'), ('2021-04-06 01:17:37.540', 'D+000004.8'), ('2021-04-06 01:17:37.560', 'D+000004.6'), ('2021-04-06 01:17:37.580', 'D+000005.0'), ('2021-04-06 01:17:37.620', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.0, 4.8, 4.6, 5.0, 3.8]
np.array X: [[5.2]
 [5. ]
 [4.8]
 [4.6]
 [5. ]
 [3.8]]
revised_weight: 4.5
2021-04-06 01:17:37.620: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:17:37.620
plc_result: True
sendmessage: 20210406011737620,1,000038,000045
send message to PLC: 2021-04-06 01:17:37.697
time gap: 0:00:00.009081
2021-04-06 01:17:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:17:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
2021-04-06 01:17:40: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:17:40: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:40: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:40: select done
2021-04-06 01:17:40: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:17:40: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:40.716
lastevent: 2021-04-06 01:17:40.706, last ten sensor data: [('2021-04-06 01:17:40.220', 'D+000001.4'), ('2021-04-06 01:17:40.240', 'D+000001.2'), ('2021-04-06 01:17:40.420', 'D+000002.6'), ('2021-04-06 01:17:40.440', 'D+000003.4'), ('2021-04-06 01:17:40.460', 'D+000003.6'), ('2021-04-06 01:17:40.480', 'D+000003.8'), ('2021-04-06 01:17:40.660', 'D+000005.4'), ('2021-04-06 01:17:40.680', 'D+000006.2'), ('2021-04-06 01:17:40.700', 'D+000006.8'), ('2021-04-06 01:17:40.720', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.8, 5.4, 6.2, 6.8, 7.4]
np.array X: [[3.6]
 [3.8]
 [5.4]
 [6.2]
 [6.8]
 [7.4]]
revised_weight: 5.9
2021-04-06 01:17:40.720: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:17:40.720
plc_result: True
sendmessage: 20210406011740720,1,000074,000059
send message to PLC: 2021-04-06 01:17:40.728
time gap: 0:00:00.012017
2021-04-06 01:17:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:40: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:17:40: count: 3 in httpPlcDataSender thread
2021-04-06 01:17:40: D+: 3 in httpPlcDataSender thread
2021-04-06 01:17:40: D-: 0 in httpPlcDataSender thread
2021-04-06 01:17:40: S+: 0 in httpPlcDataSender thread
2021-04-06 01:17:40: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:17:35.370'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:17:36.100'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:17:37.620'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:35.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:36.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:37.620'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:17:40', 'collectDate': '2021-04-06 01:17:37', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:17:35.370'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:17:36.100'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:17:37.620'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:35.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:36.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:37.620'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:17:40: send http
2021-04-06 01:17:40: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:17:40: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:42: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:42.891
lastevent: 2021-04-06 01:17:42.881, last ten sensor data: [('2021-04-06 01:17:42.390', 'D+000002.8'), ('2021-04-06 01:17:42.410', 'D+000003.2'), ('2021-04-06 01:17:42.430', 'D+000002.8'), ('2021-04-06 01:17:42.610', 'D+000003.6'), ('2021-04-06 01:17:42.630', 'D+000004.4'), ('2021-04-06 01:17:42.650', 'D+000004.4'), ('2021-04-06 01:17:42.670', 'D+000004.6'), ('2021-04-06 01:17:42.850', 'D+000006.6'), ('2021-04-06 01:17:42.870', 'D+000005.8'), ('2021-04-06 01:17:42.890', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 4.6, 6.6, 5.8, 6.2]
np.array X: [[4.4]
 [4.4]
 [4.6]
 [6.6]
 [5.8]
 [6.2]]
revised_weight: 5.7
2021-04-06 01:17:42.890: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:17:42.890
plc_result: True
sendmessage: 20210406011742890,1,000062,000057
send message to PLC: 2021-04-06 01:17:42.903
time gap: 0:00:00.011728
2021-04-06 01:17:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:43.847
lastevent: 2021-04-06 01:17:43.843, last ten sensor data: [('2021-04-06 01:17:43.380', 'D+000005.2'), ('2021-04-06 01:17:43.400', 'D+000005.6'), ('2021-04-06 01:17:43.420', 'D+000005.4'), ('2021-04-06 01:17:43.570', 'D+000004.8'), ('2021-04-06 01:17:43.590', 'D+000004.0'), ('2021-04-06 01:17:43.610', 'D+000004.2'), ('2021-04-06 01:17:43.630', 'D+000004.0'), ('2021-04-06 01:17:43.810', 'D+000003.8'), ('2021-04-06 01:17:43.830', 'D+000004.0'), ('2021-04-06 01:17:43.850', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 4.0, 3.8, 4.0, 4.4]
np.array X: [[4. ]
 [4.2]
 [4. ]
 [3.8]
 [4. ]
 [4.4]]
revised_weight: 4.1
2021-04-06 01:17:43.850: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:17:43.850
plc_result: True
sendmessage: 20210406011743850,1,000044,000041
send message to PLC: 2021-04-06 01:17:43.859
time gap: 0:00:00.011523
2021-04-06 01:17:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:45.379
lastevent: 2021-04-06 01:17:45.371, last ten sensor data: [('2021-04-06 01:17:44.860', 'D+000003.2'), ('2021-04-06 01:17:45.040', 'D+000005.6'), ('2021-04-06 01:17:45.060', 'D+000006.0'), ('2021-04-06 01:17:45.080', 'D+000005.6'), ('2021-04-06 01:17:45.100', 'D+000005.6'), ('2021-04-06 01:17:45.120', 'D+000006.0'), ('2021-04-06 01:17:45.280', 'D+000008.6'), ('2021-04-06 01:17:45.300', 'D+000008.4'), ('2021-04-06 01:17:45.320', 'D+000008.4'), ('2021-04-06 01:17:45.340', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.0, 8.6, 8.4, 8.4, 8.0]
np.array X: [[5.6]
 [6. ]
 [8.6]
 [8.4]
 [8.4]
 [8. ]]
revised_weight: 8.1
2021-04-06 01:17:45.340: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:17:45.340
plc_result: True
sendmessage: 20210406011745340,1,000080,000081
send message to PLC: 2021-04-06 01:17:45.390
time gap: 0:00:00.011226
2021-04-06 01:17:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:46.039
lastevent: 2021-04-06 01:17:46.036, last ten sensor data: [('2021-04-06 01:17:45.540', 'D+000008.4'), ('2021-04-06 01:17:45.560', 'D+000008.0'), ('2021-04-06 01:17:45.580', 'D+000007.6'), ('2021-04-06 01:17:45.760', 'D+000009.0'), ('2021-04-06 01:17:45.780', 'D+000008.6'), ('2021-04-06 01:17:45.800', 'D+000008.8'), ('2021-04-06 01:17:45.820', 'D+000008.6'), ('2021-04-06 01:17:45.840', 'D+000008.0'), ('2021-04-06 01:17:46.010', 'D+000007.6'), ('2021-04-06 01:17:46.030', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 8.8, 8.6, 8.0, 7.6, 7.0]
np.array X: [[8.6]
 [8.8]
 [8.6]
 [8. ]
 [7.6]
 [7. ]]
revised_weight: 8.3
2021-04-06 01:17:46.030: revising weight finished
revised_weight: 8.3 at 2021-04-06 01:17:46.030
plc_result: True
sendmessage: 20210406011746030,1,000070,000083
send message to PLC: 2021-04-06 01:17:46.055
time gap: 0:00:00.015609
2021-04-06 01:17:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:47: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:17:47: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:47: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:47: select done
2021-04-06 01:17:47: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:17:47: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:17:47: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:17:47: count: 5 in httpPlcDataSender thread
2021-04-06 01:17:47: D+: 5 in httpPlcDataSender thread
2021-04-06 01:17:47: D-: 0 in httpPlcDataSender thread
2021-04-06 01:17:47: S+: 0 in httpPlcDataSender thread
2021-04-06 01:17:47: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.9', 'sensorAt': '2021-04-06 01:17:40.720'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:17:42.890'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:17:43.850'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:17:45.340'}, {'value': '8.3', 'sensorAt': '2021-04-06 01:17:46.030'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:40.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:42.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:43.850'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:45.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:46.030'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:17:47', 'collectDate': '2021-04-06 01:17:46', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.9', 'sensorAt': '2021-04-06 01:17:40.720'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:17:42.890'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:17:43.850'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:17:45.340'}, {'value': '8.3', 'sensorAt': '2021-04-06 01:17:46.030'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:40.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:42.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:43.850'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:45.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:46.030'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:47.339
lastevent: 2021-04-06 01:17:47.330, last ten sensor data: [('2021-04-06 01:17:46.810', 'D+000003.0'), ('2021-04-06 01:17:46.990', 'D+000003.6'), ('2021-04-06 01:17:47.010', 'D+000003.8'), ('2021-04-06 01:17:47.030', 'D+000003.8'), ('2021-04-06 01:17:47.050', 'D+000005.4'), ('2021-04-06 01:17:47.230', 'D+000011.0'), ('2021-04-06 01:17:47.250', 'D+000009.2'), ('2021-04-06 01:17:47.270', 'D+000009.4'), ('2021-04-06 01:17:47.290', 'D+000007.8'), ('2021-04-06 01:17:47.310', 'D+000009.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 11.0, 9.2, 9.4, 7.8, 9.4]
np.array X: [[ 5.4]
 [11. ]
 [ 9.2]
 [ 9.4]
 [ 7.8]
 [ 9.4]]
revised_weight: 11.2
2021-04-06 01:17:47.310: revising weight finished
revised_weight: 11.2 at 2021-04-06 01:17:47.310
plc_result: True
sendmessage: 20210406011747310,1,000094,000112
send message to PLC: 2021-04-06 01:17:47.346
time gap: 0:00:00.006137
2021-04-06 01:17:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:47: send http
2021-04-06 01:17:47: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:17:47: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:47: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:48.265
lastevent: 2021-04-06 01:17:48.255, last ten sensor data: [('2021-04-06 01:17:47.780', 'D+000006.8'), ('2021-04-06 01:17:47.960', 'D+000005.6'), ('2021-04-06 01:17:47.980', 'D+000005.0'), ('2021-04-06 01:17:48.000', 'D+000006.2'), ('2021-04-06 01:17:48.020', 'D+000007.4'), ('2021-04-06 01:17:48.040', 'D+000007.6'), ('2021-04-06 01:17:48.190', 'D+000010.8'), ('2021-04-06 01:17:48.210', 'D+000009.8'), ('2021-04-06 01:17:48.230', 'D+000010.2'), ('2021-04-06 01:17:48.250', 'D+000011.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 7.6, 10.8, 9.8, 10.2, 11.2]
np.array X: [[ 7.4]
 [ 7.6]
 [10.8]
 [ 9.8]
 [10.2]
 [11.2]]
revised_weight: 10.3
2021-04-06 01:17:48.250: revising weight finished
revised_weight: 10.3 at 2021-04-06 01:17:48.250
plc_result: True
sendmessage: 20210406011748250,1,000112,000103
send message to PLC: 2021-04-06 01:17:48.276
time gap: 0:00:00.011776
2021-04-06 01:17:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:49.231
lastevent: 2021-04-06 01:17:49.223, last ten sensor data: [('2021-04-06 01:17:48.910', 'D+000004.0'), ('2021-04-06 01:17:48.940', 'D+000004.4'), ('2021-04-06 01:17:48.960', 'D+000004.2'), ('2021-04-06 01:17:48.980', 'D+000004.2'), ('2021-04-06 01:17:49.000', 'D+000004.2'), ('2021-04-06 01:17:49.160', 'D+000005.0'), ('2021-04-06 01:17:49.180', 'D+000005.2'), ('2021-04-06 01:17:49.200', 'D+000006.4'), ('2021-04-06 01:17:49.220', 'D+000006.8'), ('2021-04-06 01:17:49.240', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.0, 5.2, 6.4, 6.8, 6.8]
np.array X: [[4.2]
 [5. ]
 [5.2]
 [6.4]
 [6.8]
 [6.8]]
revised_weight: 6.1
2021-04-06 01:17:49.240: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:17:49.240
plc_result: True
sendmessage: 20210406011749240,1,000068,000061
send message to PLC: 2021-04-06 01:17:49.243
time gap: 0:00:00.011357
2021-04-06 01:17:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:52.102
lastevent: 2021-04-06 01:17:52.090, last ten sensor data: [('2021-04-06 01:17:51.610', 'D+000002.4'), ('2021-04-06 01:17:51.630', 'D+000002.6'), ('2021-04-06 01:17:51.650', 'D+000002.6'), ('2021-04-06 01:17:51.670', 'D+000002.6'), ('2021-04-06 01:17:51.690', 'D+000002.2'), ('2021-04-06 01:17:51.850', 'D+000004.6'), ('2021-04-06 01:17:51.870', 'D+000005.2'), ('2021-04-06 01:17:51.890', 'D+000005.6'), ('2021-04-06 01:17:51.910', 'D+000006.6'), ('2021-04-06 01:17:51.930', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 4.6, 5.2, 5.6, 6.6, 7.2]
np.array X: [[2.2]
 [4.6]
 [5.2]
 [5.6]
 [6.6]
 [7.2]]
revised_weight: 6.4
2021-04-06 01:17:51.930: revising weight finished
revised_weight: 6.4 at 2021-04-06 01:17:51.930
plc_result: True
sendmessage: 20210406011751930,1,000072,000064
send message to PLC: 2021-04-06 01:17:52.114
time gap: 0:00:00.011726
2021-04-06 01:17:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:52: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:17:52: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:52: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:52: select done
2021-04-06 01:17:52: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:17:52: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:17:52: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:17:52: count: 4 in httpPlcDataSender thread
2021-04-06 01:17:52: D+: 4 in httpPlcDataSender thread
2021-04-06 01:17:52: D-: 0 in httpPlcDataSender thread
2021-04-06 01:17:52: S+: 0 in httpPlcDataSender thread
2021-04-06 01:17:52: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '11.2', 'sensorAt': '2021-04-06 01:17:47.310'}, {'value': '10.3', 'sensorAt': '2021-04-06 01:17:48.250'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:17:49.240'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:17:51.930'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:47.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:48.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:49.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:51.930'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:17:52', 'collectDate': '2021-04-06 01:17:52', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '11.2', 'sensorAt': '2021-04-06 01:17:47.310'}, {'value': '10.3', 'sensorAt': '2021-04-06 01:17:48.250'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:17:49.240'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:17:51.930'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:47.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:48.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:49.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:51.930'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:17:52: send http
2021-04-06 01:17:52: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:17:53: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:53: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:53.261
lastevent: 2021-04-06 01:17:53.248, last ten sensor data: [('2021-04-06 01:17:52.840', 'D+000003.2'), ('2021-04-06 01:17:52.860', 'D+000003.4'), ('2021-04-06 01:17:52.880', 'D+000003.4'), ('2021-04-06 01:17:52.900', 'D+000003.4'), ('2021-04-06 01:17:52.960', 'D+000005.2'), ('2021-04-06 01:17:53.080', 'D+000005.0'), ('2021-04-06 01:17:53.100', 'D+000006.2'), ('2021-04-06 01:17:53.120', 'D+000006.8'), ('2021-04-06 01:17:53.140', 'D+000007.2'), ('2021-04-06 01:17:53.160', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.0, 6.2, 6.8, 7.2, 7.8]
np.array X: [[5.2]
 [5. ]
 [6.2]
 [6.8]
 [7.2]
 [7.8]]
revised_weight: 6.9
2021-04-06 01:17:53.160: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:17:53.160
plc_result: True
sendmessage: 20210406011753160,1,000078,000069
send message to PLC: 2021-04-06 01:17:53.273
time gap: 0:00:00.012580
2021-04-06 01:17:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:54.171
lastevent: 2021-04-06 01:17:54.157, last ten sensor data: [('2021-04-06 01:17:53.640', 'D+000007.8'), ('2021-04-06 01:17:53.810', 'D+000006.2'), ('2021-04-06 01:17:53.830', 'D+000006.6'), ('2021-04-06 01:17:53.850', 'D+000006.4'), ('2021-04-06 01:17:53.870', 'D+000006.8'), ('2021-04-06 01:17:53.890', 'D+000006.8'), ('2021-04-06 01:17:54.070', 'D+000011.4'), ('2021-04-06 01:17:54.090', 'D+000009.8'), ('2021-04-06 01:17:54.110', 'D+000008.0'), ('2021-04-06 01:17:54.130', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.8, 11.4, 9.8, 8.0, 7.6]
np.array X: [[ 6.8]
 [ 6.8]
 [11.4]
 [ 9.8]
 [ 8. ]
 [ 7.6]]
revised_weight: 10.4
2021-04-06 01:17:54.130: revising weight finished
revised_weight: 10.4 at 2021-04-06 01:17:54.130
plc_result: True
sendmessage: 20210406011754130,1,000076,000104
send message to PLC: 2021-04-06 01:17:54.184
time gap: 0:00:00.012549
2021-04-06 01:17:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:55.751
lastevent: 2021-04-06 01:17:55.743, last ten sensor data: [('2021-04-06 01:17:55.280', 'D+000003.6'), ('2021-04-06 01:17:55.300', 'D+000003.6'), ('2021-04-06 01:17:55.320', 'D+000003.4'), ('2021-04-06 01:17:55.340', 'D+000003.4'), ('2021-04-06 01:17:55.360', 'D+000003.0'), ('2021-04-06 01:17:55.510', 'D+000005.4'), ('2021-04-06 01:17:55.540', 'D+000005.6'), ('2021-04-06 01:17:55.560', 'D+000006.4'), ('2021-04-06 01:17:55.580', 'D+000006.4'), ('2021-04-06 01:17:55.600', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 5.4, 5.6, 6.4, 6.4, 6.2]
np.array X: [[3. ]
 [5.4]
 [5.6]
 [6.4]
 [6.4]
 [6.2]]
revised_weight: 6.1
2021-04-06 01:17:55.600: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:17:55.600
plc_result: True
sendmessage: 20210406011755600,1,000062,000061
send message to PLC: 2021-04-06 01:17:55.764
time gap: 0:00:00.012567
2021-04-06 01:17:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:17:57.752
lastevent: 2021-04-06 01:17:57.737, last ten sensor data: [('2021-04-06 01:17:57.160', 'D+000003.6'), ('2021-04-06 01:17:57.340', 'D+000003.4'), ('2021-04-06 01:17:57.360', 'D+000003.4'), ('2021-04-06 01:17:57.380', 'D+000003.4'), ('2021-04-06 01:17:57.400', 'D+000003.2'), ('2021-04-06 01:17:57.580', 'D+000006.8'), ('2021-04-06 01:17:57.600', 'D+000007.0'), ('2021-04-06 01:17:57.620', 'D+000007.4'), ('2021-04-06 01:17:57.640', 'D+000008.0'), ('2021-04-06 01:17:57.660', 'D+000008.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 6.8, 7.0, 7.4, 8.0, 8.8]
np.array X: [[3.2]
 [6.8]
 [7. ]
 [7.4]
 [8. ]
 [8.8]]
revised_weight: 8.8
2021-04-06 01:17:57.660: revising weight finished
revised_weight: 8.8 at 2021-04-06 01:17:57.660
plc_result: True
sendmessage: 20210406011757660,1,000088,000088
send message to PLC: 2021-04-06 01:17:57.763
time gap: 0:00:00.011342
2021-04-06 01:17:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:58: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:17:58: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:58: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:58: select done
2021-04-06 01:17:58: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:17:58: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:17:58: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:17:58: count: 4 in httpPlcDataSender thread
2021-04-06 01:17:58: D+: 4 in httpPlcDataSender thread
2021-04-06 01:17:58: D-: 0 in httpPlcDataSender thread
2021-04-06 01:17:58: S+: 0 in httpPlcDataSender thread
2021-04-06 01:17:58: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.9', 'sensorAt': '2021-04-06 01:17:53.160'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:17:54.130'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:17:55.600'}, {'value': '8.8', 'sensorAt': '2021-04-06 01:17:57.660'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:53.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:54.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:55.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:57.660'}]} in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:58.429
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:17:58', 'collectDate': '2021-04-06 01:17:57', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.9', 'sensorAt': '2021-04-06 01:17:53.160'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:17:54.130'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:17:55.600'}, {'value': '8.8', 'sensorAt': '2021-04-06 01:17:57.660'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:53.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:54.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:55.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:57.660'}]}]} in httpPlcDataSender thread
lastevent: 2021-04-06 01:17:58.409, last ten sensor data: [('2021-04-06 01:17:57.880', 'D+000010.2'), ('2021-04-06 01:17:57.900', 'D+000010.2'), ('2021-04-06 01:17:58.090', 'D+000010.8'), ('2021-04-06 01:17:58.110', 'D+000012.6'), ('2021-04-06 01:17:58.130', 'D+000013.2'), ('2021-04-06 01:17:58.150', 'D+000012.8'), ('2021-04-06 01:17:58.330', 'D+000012.6'), ('2021-04-06 01:17:58.350', 'D+000011.0'), ('2021-04-06 01:17:58.370', 'D+000011.0'), ('2021-04-06 01:17:58.390', 'D+000014.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [13.2, 12.8, 12.6, 11.0, 11.0, 14.8]
np.array X: [[13.2]
 [12.8]
 [12.6]
 [11. ]
 [11. ]
 [14.8]]
True in httpPlcDataSender thread
revised_weight: 12.6
2021-04-06 01:17:58.390: revising weight finished
revised_weight: 12.6 at 2021-04-06 01:17:58.390
plc_result: True
sendmessage: 20210406011758390,1,000148,000126
send message to PLC: 2021-04-06 01:17:58.475
time gap: 0:00:00.045644
2021-04-06 01:17:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:17:58: send http
2021-04-06 01:17:58: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:17:58: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:17:58: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:17:59.756
lastevent: 2021-04-06 01:17:59.745, last ten sensor data: [('2021-04-06 01:17:59.290', 'D+000003.4'), ('2021-04-06 01:17:59.310', 'D+000003.8'), ('2021-04-06 01:17:59.330', 'D+000004.0'), ('2021-04-06 01:17:59.350', 'D+000003.8'), ('2021-04-06 01:17:59.370', 'D+000003.8'), ('2021-04-06 01:17:59.540', 'D+000006.0'), ('2021-04-06 01:17:59.560', 'D+000006.2'), ('2021-04-06 01:17:59.580', 'D+000006.6'), ('2021-04-06 01:17:59.600', 'D+000006.8'), ('2021-04-06 01:17:59.620', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 6.0, 6.2, 6.6, 6.8, 6.8]
np.array X: [[3.8]
 [6. ]
 [6.2]
 [6.6]
 [6.8]
 [6.8]]
revised_weight: 6.5
2021-04-06 01:17:59.620: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:17:59.620
plc_result: True
sendmessage: 20210406011759620,1,000068,000065
send message to PLC: 2021-04-06 01:17:59.767
time gap: 0:00:00.011279
2021-04-06 01:17:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:00.655
lastevent: 2021-04-06 01:18:00.641, last ten sensor data: [('2021-04-06 01:18:00.080', 'D+000010.8'), ('2021-04-06 01:18:00.100', 'D+000010.4'), ('2021-04-06 01:18:00.280', 'D+000006.4'), ('2021-04-06 01:18:00.300', 'D+000005.6'), ('2021-04-06 01:18:00.320', 'D+000005.0'), ('2021-04-06 01:18:00.340', 'D+000004.2'), ('2021-04-06 01:18:00.520', 'D+000006.4'), ('2021-04-06 01:18:00.540', 'D+000006.8'), ('2021-04-06 01:18:00.560', 'D+000007.0'), ('2021-04-06 01:18:00.580', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.2, 6.4, 6.8, 7.0, 7.6]
np.array X: [[5. ]
 [4.2]
 [6.4]
 [6.8]
 [7. ]
 [7.6]]
revised_weight: 6.7
2021-04-06 01:18:00.580: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:18:00.580
plc_result: True
sendmessage: 20210406011800580,1,000076,000067
send message to PLC: 2021-04-06 01:18:00.666
time gap: 0:00:00.011141
2021-04-06 01:18:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:03.443
lastevent: 2021-04-06 01:18:03.428, last ten sensor data: [('2021-04-06 01:18:02.960', 'D+000002.0'), ('2021-04-06 01:18:02.980', 'D+000002.2'), ('2021-04-06 01:18:03.000', 'D+000002.2'), ('2021-04-06 01:18:03.020', 'D+000002.4'), ('2021-04-06 01:18:03.040', 'D+000002.2'), ('2021-04-06 01:18:03.190', 'D+000002.8'), ('2021-04-06 01:18:03.210', 'D+000002.8'), ('2021-04-06 01:18:03.230', 'D+000002.8'), ('2021-04-06 01:18:03.250', 'D+000003.4'), ('2021-04-06 01:18:03.270', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.8, 2.8, 2.8, 3.4, 4.0]
np.array X: [[2.2]
 [2.8]
 [2.8]
 [2.8]
 [3.4]
 [4. ]]
revised_weight: 3.6
2021-04-06 01:18:03.270: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:18:03.270
plc_result: True
sendmessage: 20210406011803270,1,000040,000036
send message to PLC: 2021-04-06 01:18:03.454
time gap: 0:00:00.011597
2021-04-06 01:18:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:18:03: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:18:03: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:18:03: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:18:03: select done
2021-04-06 01:18:03: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:18:03: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:18:04: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:18:04: count: 4 in httpPlcDataSender thread
2021-04-06 01:18:04: D+: 4 in httpPlcDataSender thread
2021-04-06 01:18:04: D-: 0 in httpPlcDataSender thread
2021-04-06 01:18:04: S+: 0 in httpPlcDataSender thread
2021-04-06 01:18:04: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '12.6', 'sensorAt': '2021-04-06 01:17:58.390'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:17:59.620'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:18:00.580'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:18:03.270'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:58.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:59.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:00.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:03.270'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:18:04', 'collectDate': '2021-04-06 01:18:03', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '12.6', 'sensorAt': '2021-04-06 01:17:58.390'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:17:59.620'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:18:00.580'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:18:03.270'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:17:58.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:17:59.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:00.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:03.270'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:18:04.138
lastevent: 2021-04-06 01:18:04.121, last ten sensor data: [('2021-04-06 01:18:03.690', 'D+000005.0'), ('2021-04-06 01:18:03.710', 'D+000005.4'), ('2021-04-06 01:18:03.730', 'D+000005.2'), ('2021-04-06 01:18:03.750', 'D+000005.0'), ('2021-04-06 01:18:03.940', 'D+000006.6'), ('2021-04-06 01:18:03.960', 'D+000006.6'), ('2021-04-06 01:18:03.980', 'D+000007.0'), ('2021-04-06 01:18:04.000', 'D+000007.8'), ('2021-04-06 01:18:04.110', 'D+000007.8'), ('2021-04-06 01:18:04.130', 'D+000008.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.6, 7.0, 7.8, 7.8, 8.4]
np.array X: [[6.6]
 [6.6]
 [7. ]
 [7.8]
 [7.8]
 [8.4]]
revised_weight: 8.0
2021-04-06 01:18:04.130: revising weight finished
revised_weight: 8.0 at 2021-04-06 01:18:04.130
plc_result: True
sendmessage: 20210406011804130,1,000084,000080
send message to PLC: 2021-04-06 01:18:04.149
time gap: 0:00:00.011007
2021-04-06 01:18:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:18:04: send http
2021-04-06 01:18:04: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:18:04: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:18:04: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:18:06.297
lastevent: 2021-04-06 01:18:06.288, last ten sensor data: [('2021-04-06 01:18:05.800', 'D+000003.0'), ('2021-04-06 01:18:05.970', 'D+000003.2'), ('2021-04-06 01:18:05.990', 'D+000003.4'), ('2021-04-06 01:18:06.010', 'D+000003.8'), ('2021-04-06 01:18:06.030', 'D+000003.8'), ('2021-04-06 01:18:06.190', 'D+000006.2'), ('2021-04-06 01:18:06.220', 'D+000008.8'), ('2021-04-06 01:18:06.240', 'D+000010.4'), ('2021-04-06 01:18:06.260', 'D+000009.4'), ('2021-04-06 01:18:06.280', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 6.2, 8.8, 10.4, 9.4, 6.6]
np.array X: [[ 3.8]
 [ 6.2]
 [ 8.8]
 [10.4]
 [ 9.4]
 [ 6.6]]
revised_weight: 7.1
2021-04-06 01:18:06.280: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:18:06.280
plc_result: True
sendmessage: 20210406011806280,1,000066,000071
send message to PLC: 2021-04-06 01:18:06.304
time gap: 0:00:00.006676
2021-04-06 01:18:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:07.130
lastevent: 2021-04-06 01:18:07.112, last ten sensor data: [('2021-04-06 01:18:06.540', 'D+000007.6'), ('2021-04-06 01:18:06.700', 'D+000005.8'), ('2021-04-06 01:18:06.720', 'D+000006.2'), ('2021-04-06 01:18:06.740', 'D+000005.8'), ('2021-04-06 01:18:06.760', 'D+000005.8'), ('2021-04-06 01:18:06.940', 'D+000008.4'), ('2021-04-06 01:18:06.960', 'D+000008.8'), ('2021-04-06 01:18:06.980', 'D+000008.8'), ('2021-04-06 01:18:07.000', 'D+000009.4'), ('2021-04-06 01:18:07.020', 'D+000010.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 8.4, 8.8, 8.8, 9.4, 10.0]
np.array X: [[ 5.8]
 [ 8.4]
 [ 8.8]
 [ 8.8]
 [ 9.4]
 [10. ]]
revised_weight: 9.6
2021-04-06 01:18:07.020: revising weight finished
revised_weight: 9.6 at 2021-04-06 01:18:07.020
plc_result: True
sendmessage: 20210406011807020,1,000100,000096
send message to PLC: 2021-04-06 01:18:07.142
time gap: 0:00:00.011737
2021-04-06 01:18:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:08.514
lastevent: 2021-04-06 01:18:08.501, last ten sensor data: [('2021-04-06 01:18:08.140', 'D+000003.2'), ('2021-04-06 01:18:08.170', 'D+000003.4'), ('2021-04-06 01:18:08.190', 'D+000003.6'), ('2021-04-06 01:18:08.210', 'D+000003.8'), ('2021-04-06 01:18:08.230', 'D+000004.2'), ('2021-04-06 01:18:08.390', 'D+000005.6'), ('2021-04-06 01:18:08.410', 'D+000005.6'), ('2021-04-06 01:18:08.430', 'D+000005.8'), ('2021-04-06 01:18:08.450', 'D+000005.8'), ('2021-04-06 01:18:08.470', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.6, 5.6, 5.8, 5.8, 5.6]
np.array X: [[4.2]
 [5.6]
 [5.6]
 [5.8]
 [5.8]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:18:08.470: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:18:08.470
plc_result: True
sendmessage: 20210406011808470,1,000056,000054
send message to PLC: 2021-04-06 01:18:08.521
time gap: 0:00:00.007062
2021-04-06 01:18:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:18:09: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:18:09: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:18:09: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:18:09: select done
2021-04-06 01:18:09: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:18:09: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:18:09: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:18:09: count: 4 in httpPlcDataSender thread
2021-04-06 01:18:09: D+: 4 in httpPlcDataSender thread
2021-04-06 01:18:09: D-: 0 in httpPlcDataSender thread
2021-04-06 01:18:09: S+: 0 in httpPlcDataSender thread
2021-04-06 01:18:09: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.0', 'sensorAt': '2021-04-06 01:18:04.130'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:18:06.280'}, {'value': '9.6', 'sensorAt': '2021-04-06 01:18:07.020'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:18:08.470'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:18:04.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:06.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:07.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:08.470'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:18:09', 'collectDate': '2021-04-06 01:18:08', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.0', 'sensorAt': '2021-04-06 01:18:04.130'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:18:06.280'}, {'value': '9.6', 'sensorAt': '2021-04-06 01:18:07.020'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:18:08.470'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:18:04.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:06.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:07.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:08.470'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:18:09: send http
2021-04-06 01:18:09: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:18:09: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:18:10: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:18:10.108
lastevent: 2021-04-06 01:18:10.103, last ten sensor data: [('2021-04-06 01:18:09.670', 'D+000002.4'), ('2021-04-06 01:18:09.690', 'D+000002.8'), ('2021-04-06 01:18:09.760', 'D+000002.2'), ('2021-04-06 01:18:09.780', 'D+000002.6'), ('2021-04-06 01:18:09.800', 'D+000002.8'), ('2021-04-06 01:18:09.880', 'D+000002.8'), ('2021-04-06 01:18:09.900', 'D+000002.6'), ('2021-04-06 01:18:09.920', 'D+000002.4'), ('2021-04-06 01:18:09.940', 'D+000002.4'), ('2021-04-06 01:18:10.100', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 2.6, 2.4, 2.4, 2.4]
np.array X: [[2.8]
 [2.8]
 [2.6]
 [2.4]
 [2.4]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:18:10.100: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:18:10.100
plc_result: True
sendmessage: 20210406011810100,1,000024,000023
send message to PLC: 2021-04-06 01:18:10.115
time gap: 0:00:00.006805
2021-04-06 01:18:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:11.614
lastevent: 2021-04-06 01:18:11.601, last ten sensor data: [('2021-04-06 01:18:11.140', 'D+000002.6'), ('2021-04-06 01:18:11.160', 'D+000002.4'), ('2021-04-06 01:18:11.320', 'D+000005.8'), ('2021-04-06 01:18:11.340', 'D+000006.4'), ('2021-04-06 01:18:11.360', 'D+000006.6'), ('2021-04-06 01:18:11.380', 'D+000007.0'), ('2021-04-06 01:18:11.400', 'D+000008.6'), ('2021-04-06 01:18:11.570', 'D+000014.8'), ('2021-04-06 01:18:11.590', 'D+000014.2'), ('2021-04-06 01:18:11.610', 'D+000014.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 7.0, 8.6, 14.8, 14.2, 14.0]
np.array X: [[ 6.6]
 [ 7. ]
 [ 8.6]
 [14.8]
 [14.2]
 [14. ]]
revised_weight: 12.6
2021-04-06 01:18:11.610: revising weight finished
revised_weight: 12.6 at 2021-04-06 01:18:11.610
plc_result: True
sendmessage: 20210406011811610,1,000140,000126
send message to PLC: 2021-04-06 01:18:11.622
time gap: 0:00:00.007584
2021-04-06 01:18:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:12.755
lastevent: 2021-04-06 01:18:12.740, last ten sensor data: [('2021-04-06 01:18:12.130', 'D+000009.0'), ('2021-04-06 01:18:12.150', 'D+000008.2'), ('2021-04-06 01:18:12.310', 'D+000003.0'), ('2021-04-06 01:18:12.330', 'D+000003.2'), ('2021-04-06 01:18:12.350', 'D+000003.2'), ('2021-04-06 01:18:12.370', 'D+000003.2'), ('2021-04-06 01:18:12.550', 'D+000008.0'), ('2021-04-06 01:18:12.570', 'D+000008.0'), ('2021-04-06 01:18:12.590', 'D+000007.8'), ('2021-04-06 01:18:12.610', 'D+000008.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 8.0, 8.0, 7.8, 8.8]
np.array X: [[3.2]
 [3.2]
 [8. ]
 [8. ]
 [7.8]
 [8.8]]
revised_weight: 9.1
2021-04-06 01:18:12.610: revising weight finished
revised_weight: 9.1 at 2021-04-06 01:18:12.610
plc_result: True
sendmessage: 20210406011812610,1,000088,000091
send message to PLC: 2021-04-06 01:18:12.763
time gap: 0:00:00.007534
2021-04-06 01:18:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:14.758
lastevent: 2021-04-06 01:18:14.743, last ten sensor data: [('2021-04-06 01:18:14.300', 'D+000004.2'), ('2021-04-06 01:18:14.320', 'D+000004.8'), ('2021-04-06 01:18:14.500', 'D+000004.4'), ('2021-04-06 01:18:14.520', 'D+000004.8'), ('2021-04-06 01:18:14.540', 'D+000005.0'), ('2021-04-06 01:18:14.560', 'D+000004.6'), ('2021-04-06 01:18:14.580', 'D+000004.6'), ('2021-04-06 01:18:14.600', 'D+000004.6'), ('2021-04-06 01:18:14.730', 'D+000008.6'), ('2021-04-06 01:18:14.750', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.6, 4.6, 4.6, 8.6, 7.4]
np.array X: [[5. ]
 [4.6]
 [4.6]
 [4.6]
 [8.6]
 [7.4]]
revised_weight: 6.7
2021-04-06 01:18:14.750: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:18:14.750
plc_result: True
sendmessage: 20210406011814750,1,000074,000067
send message to PLC: 2021-04-06 01:18:14.765
time gap: 0:00:00.006738
2021-04-06 01:18:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:18:15: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:18:15: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:18:15: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:18:15: select done
2021-04-06 01:18:15: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:18:15: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:18:15: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:18:15: count: 4 in httpPlcDataSender thread
2021-04-06 01:18:15: D+: 4 in httpPlcDataSender thread
2021-04-06 01:18:15: D-: 0 in httpPlcDataSender thread
2021-04-06 01:18:15: S+: 0 in httpPlcDataSender thread
2021-04-06 01:18:15: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.3', 'sensorAt': '2021-04-06 01:18:10.100'}, {'value': '12.6', 'sensorAt': '2021-04-06 01:18:11.610'}, {'value': '9.1', 'sensorAt': '2021-04-06 01:18:12.610'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:18:14.750'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:18:10.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:11.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:12.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:14.750'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:18:15', 'collectDate': '2021-04-06 01:18:14', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.3', 'sensorAt': '2021-04-06 01:18:10.100'}, {'value': '12.6', 'sensorAt': '2021-04-06 01:18:11.610'}, {'value': '9.1', 'sensorAt': '2021-04-06 01:18:12.610'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:18:14.750'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:18:10.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:11.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:12.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:14.750'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:18:15: send http
2021-04-06 01:18:15: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:18:15: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:18:15: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:18:20: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:18:20: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:18:20: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:18:20: select done
2021-04-06 01:18:20: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:18:20: No Data remains in httpPlcDataSender thread
2021-04-06 01:18:20: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:18:20: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:18:20: current db filename:  in httpPlcDataSender thread
2021-04-06 01:18:20: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:18:23: httpScaleDataSender thread Timeout occurred
2021-04-06 01:18:23: [13706] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
2021-04-06 01:18:23: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:18:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:31.149
lastevent: 2021-04-06 01:18:31.141, last ten sensor data: [('2021-04-06 01:18:30.660', 'D+000004.8'), ('2021-04-06 01:18:30.830', 'D+000006.0'), ('2021-04-06 01:18:30.850', 'D+000006.0'), ('2021-04-06 01:18:30.870', 'D+000006.2'), ('2021-04-06 01:18:30.890', 'D+000006.2'), ('2021-04-06 01:18:30.910', 'D+000006.0'), ('2021-04-06 01:18:31.090', 'D+000007.0'), ('2021-04-06 01:18:31.110', 'D+000007.0'), ('2021-04-06 01:18:31.130', 'D+000007.0'), ('2021-04-06 01:18:31.150', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.0, 7.0, 7.0, 7.0, 6.6]
np.array X: [[6.2]
 [6. ]
 [7. ]
 [7. ]
 [7. ]
 [6.6]]
revised_weight: 6.5
2021-04-06 01:18:31.150: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:18:31.150
plc_result: True
sendmessage: 20210406011831150,1,000066,000065
send message to PLC: 2021-04-06 01:18:31.155
time gap: 0:00:00.005939
2021-04-06 01:18:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:32.347
lastevent: 2021-04-06 01:18:32.345, last ten sensor data: [('2021-04-06 01:18:31.850', 'D+000003.0'), ('2021-04-06 01:18:31.870', 'D+000002.8'), ('2021-04-06 01:18:31.890', 'D+000003.4'), ('2021-04-06 01:18:32.050', 'D+000003.0'), ('2021-04-06 01:18:32.070', 'D+000003.4'), ('2021-04-06 01:18:32.090', 'D+000003.4'), ('2021-04-06 01:18:32.110', 'D+000003.2'), ('2021-04-06 01:18:32.300', 'D+000003.2'), ('2021-04-06 01:18:32.320', 'D+000003.4'), ('2021-04-06 01:18:32.340', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.4, 3.2, 3.2, 3.4, 3.6]
np.array X: [[3.4]
 [3.4]
 [3.2]
 [3.2]
 [3.4]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:18:32.340: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:18:32.340
plc_result: True
sendmessage: 20210406011832340,1,000036,000036
send message to PLC: 2021-04-06 01:18:32.360
time gap: 0:00:00.013283
2021-04-06 01:18:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:33.822
lastevent: 2021-04-06 01:18:33.813, last ten sensor data: [('2021-04-06 01:18:33.510', 'D+000005.0'), ('2021-04-06 01:18:33.530', 'D+000004.4'), ('2021-04-06 01:18:33.550', 'D+000004.2'), ('2021-04-06 01:18:33.570', 'D+000004.4'), ('2021-04-06 01:18:33.590', 'D+000004.8'), ('2021-04-06 01:18:33.750', 'D+000005.6'), ('2021-04-06 01:18:33.770', 'D+000005.8'), ('2021-04-06 01:18:33.790', 'D+000005.6'), ('2021-04-06 01:18:33.810', 'D+000005.4'), ('2021-04-06 01:18:33.830', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.6, 5.8, 5.6, 5.4, 5.6]
np.array X: [[4.8]
 [5.6]
 [5.8]
 [5.6]
 [5.4]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:18:33.830: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:18:33.830
plc_result: True
sendmessage: 20210406011833830,1,000056,000055
send message to PLC: 2021-04-06 01:18:33.828
time gap: 0:00:00.005948
2021-04-06 01:18:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:34.635
lastevent: 2021-04-06 01:18:34.625, last ten sensor data: [('2021-04-06 01:18:34.250', 'D+000005.8'), ('2021-04-06 01:18:34.270', 'D+000005.8'), ('2021-04-06 01:18:34.290', 'D+000006.0'), ('2021-04-06 01:18:34.310', 'D+000006.2'), ('2021-04-06 01:18:34.330', 'D+000006.8'), ('2021-04-06 01:18:34.490', 'D+000007.8'), ('2021-04-06 01:18:34.510', 'D+000008.0'), ('2021-04-06 01:18:34.530', 'D+000007.8'), ('2021-04-06 01:18:34.550', 'D+000007.6'), ('2021-04-06 01:18:34.570', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 7.8, 8.0, 7.8, 7.6, 7.6]
np.array X: [[6.8]
 [7.8]
 [8. ]
 [7.8]
 [7.6]
 [7.6]]
revised_weight: 7.5
2021-04-06 01:18:34.570: revising weight finished
revised_weight: 7.5 at 2021-04-06 01:18:34.570
plc_result: True
sendmessage: 20210406011834570,1,000076,000075
send message to PLC: 2021-04-06 01:18:34.642
time gap: 0:00:00.006629
2021-04-06 01:18:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:35.316
lastevent: 2021-04-06 01:18:35.305, last ten sensor data: [('2021-04-06 01:18:34.800', 'D+000008.0'), ('2021-04-06 01:18:34.970', 'D+000008.2'), ('2021-04-06 01:18:34.990', 'D+000008.2'), ('2021-04-06 01:18:35.010', 'D+000008.2'), ('2021-04-06 01:18:35.030', 'D+000008.2'), ('2021-04-06 01:18:35.050', 'D+000008.0'), ('2021-04-06 01:18:35.230', 'D+000007.8'), ('2021-04-06 01:18:35.250', 'D+000008.0'), ('2021-04-06 01:18:35.270', 'D+000007.6'), ('2021-04-06 01:18:35.290', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 8.0, 7.8, 8.0, 7.6, 7.0]
np.array X: [[8.2]
 [8. ]
 [7.8]
 [8. ]
 [7.6]
 [7. ]]
revised_weight: 7.8
2021-04-06 01:18:35.290: revising weight finished
revised_weight: 7.8 at 2021-04-06 01:18:35.290
plc_result: True
sendmessage: 20210406011835290,1,000070,000078
send message to PLC: 2021-04-06 01:18:35.329
time gap: 0:00:00.012870
2021-04-06 01:18:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:35.624
lastevent: 2021-04-06 01:18:35.613, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:18:35.340', 'D+000006.6'), ('2021-04-06 01:18:35.470', 'D+000006.8'), ('2021-04-06 01:18:35.490', 'D+000008.0'), ('2021-04-06 01:18:35.510', 'D+000008.2'), ('2021-04-06 01:18:35.530', 'D+000008.6'), ('2021-04-06 01:18:35.550', 'D+000008.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.8, 8.0, 8.2, 8.6, 8.8]
np.array X: [[6.6]
 [6.8]
 [8. ]
 [8.2]
 [8.6]
 [8.8]]
revised_weight: 8.1
2021-04-06 01:18:35.550: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:18:35.550
plc_result: True
sendmessage: 20210406011835550,1,000088,000081
send message to PLC: 2021-04-06 01:18:35.635
time gap: 0:00:00.011365
2021-04-06 01:18:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:41.730
lastevent: 2021-04-06 01:18:41.722, last ten sensor data: [('2021-04-06 01:18:41.230', 'D+000001.8'), ('2021-04-06 01:18:41.250', 'D+000001.8'), ('2021-04-06 01:18:41.270', 'D+000001.6'), ('2021-04-06 01:18:41.290', 'D+000002.0'), ('2021-04-06 01:18:41.470', 'D+000004.8'), ('2021-04-06 01:18:41.490', 'D+000005.2'), ('2021-04-06 01:18:41.510', 'D+000005.0'), ('2021-04-06 01:18:41.530', 'D+000004.8'), ('2021-04-06 01:18:41.710', 'D+000006.8'), ('2021-04-06 01:18:41.730', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.2, 5.0, 4.8, 6.8, 7.0]
np.array X: [[4.8]
 [5.2]
 [5. ]
 [4.8]
 [6.8]
 [7. ]]
revised_weight: 6.4
2021-04-06 01:18:41.730: revising weight finished
revised_weight: 6.4 at 2021-04-06 01:18:41.730
plc_result: True
sendmessage: 20210406011841730,1,000070,000064
send message to PLC: 2021-04-06 01:18:41.743
time gap: 0:00:00.012493
2021-04-06 01:18:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:42.780
lastevent: 2021-04-06 01:18:42.774, last ten sensor data: [('2021-04-06 01:18:42.440', 'D+000004.4'), ('2021-04-06 01:18:42.460', 'D+000004.4'), ('2021-04-06 01:18:42.480', 'D+000004.8'), ('2021-04-06 01:18:42.500', 'D+000005.0'), ('2021-04-06 01:18:42.660', 'D+000008.0'), ('2021-04-06 01:18:42.680', 'D+000008.8'), ('2021-04-06 01:18:42.700', 'D+000009.4'), ('2021-04-06 01:18:42.720', 'D+000010.6'), ('2021-04-06 01:18:42.740', 'D+000010.6'), ('2021-04-06 01:18:42.760', 'D+000009.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.0, 8.8, 9.4, 10.6, 10.6, 9.2]
np.array X: [[ 8. ]
 [ 8.8]
 [ 9.4]
 [10.6]
 [10.6]
 [ 9.2]]
revised_weight: 9.2
2021-04-06 01:18:42.760: revising weight finished
revised_weight: 9.2 at 2021-04-06 01:18:42.760
plc_result: True
sendmessage: 20210406011842760,1,000092,000092
send message to PLC: 2021-04-06 01:18:42.791
time gap: 0:00:00.011617
2021-04-06 01:18:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:44.048
lastevent: 2021-04-06 01:18:44.037, last ten sensor data: [('2021-04-06 01:18:43.670', 'D+000003.0'), ('2021-04-06 01:18:43.690', 'D+000003.2'), ('2021-04-06 01:18:43.710', 'D+000003.6'), ('2021-04-06 01:18:43.730', 'D+000003.6'), ('2021-04-06 01:18:43.890', 'D+000005.8'), ('2021-04-06 01:18:43.910', 'D+000006.6'), ('2021-04-06 01:18:43.930', 'D+000006.8'), ('2021-04-06 01:18:43.950', 'D+000005.8'), ('2021-04-06 01:18:43.970', 'D+000005.4'), ('2021-04-06 01:18:43.990', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.6, 6.8, 5.8, 5.4, 6.6]
np.array X: [[5.8]
 [6.6]
 [6.8]
 [5.8]
 [5.4]
 [6.6]]
revised_weight: 6.3
2021-04-06 01:18:43.990: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:18:43.990
plc_result: True
sendmessage: 20210406011843990,1,000066,000063
send message to PLC: 2021-04-06 01:18:44.059
time gap: 0:00:00.011285
2021-04-06 01:18:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:44.967
lastevent: 2021-04-06 01:18:44.953, last ten sensor data: [('2021-04-06 01:18:44.470', 'D+000005.0'), ('2021-04-06 01:18:44.650', 'D+000004.0'), ('2021-04-06 01:18:44.670', 'D+000004.4'), ('2021-04-06 01:18:44.690', 'D+000004.4'), ('2021-04-06 01:18:44.710', 'D+000004.2'), ('2021-04-06 01:18:44.890', 'D+000008.2'), ('2021-04-06 01:18:44.910', 'D+000008.6'), ('2021-04-06 01:18:44.930', 'D+000008.8'), ('2021-04-06 01:18:44.950', 'D+000008.4'), ('2021-04-06 01:18:44.970', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 8.2, 8.6, 8.8, 8.4, 8.0]
np.array X: [[4.2]
 [8.2]
 [8.6]
 [8.8]
 [8.4]
 [8. ]]
revised_weight: 10.1
2021-04-06 01:18:44.970: revising weight finished
revised_weight: 10.1 at 2021-04-06 01:18:44.970
plc_result: True
sendmessage: 20210406011844970,1,000080,000101
send message to PLC: 2021-04-06 01:18:44.978
time gap: 0:00:00.010958
2021-04-06 01:18:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:46.254
lastevent: 2021-04-06 01:18:46.240, last ten sensor data: [('2021-04-06 01:18:45.880', 'D+000002.2'), ('2021-04-06 01:18:45.900', 'D+000002.8'), ('2021-04-06 01:18:45.920', 'D+000002.8'), ('2021-04-06 01:18:45.940', 'D+000003.0'), ('2021-04-06 01:18:46.080', 'D+000004.2'), ('2021-04-06 01:18:46.100', 'D+000004.6'), ('2021-04-06 01:18:46.120', 'D+000005.2'), ('2021-04-06 01:18:46.140', 'D+000005.0'), ('2021-04-06 01:18:46.160', 'D+000004.8'), ('2021-04-06 01:18:46.180', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.6, 5.2, 5.0, 4.8, 4.8]
np.array X: [[4.2]
 [4.6]
 [5.2]
 [5. ]
 [4.8]
 [4.8]]
revised_weight: 4.9
2021-04-06 01:18:46.180: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:18:46.180
plc_result: True
sendmessage: 20210406011846180,1,000048,000049
send message to PLC: 2021-04-06 01:18:46.265
time gap: 0:00:00.011483
2021-04-06 01:18:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:47.054
lastevent: 2021-04-06 01:18:47.040, last ten sensor data: [('2021-04-06 01:18:46.580', 'D+000004.8'), ('2021-04-06 01:18:46.600', 'D+000004.6'), ('2021-04-06 01:18:46.620', 'D+000004.4'), ('2021-04-06 01:18:46.640', 'D+000004.0'), ('2021-04-06 01:18:46.660', 'D+000004.2'), ('2021-04-06 01:18:46.840', 'D+000005.6'), ('2021-04-06 01:18:46.860', 'D+000005.8'), ('2021-04-06 01:18:46.880', 'D+000005.6'), ('2021-04-06 01:18:46.900', 'D+000005.0'), ('2021-04-06 01:18:46.920', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.6, 5.8, 5.6, 5.0, 7.0]
np.array X: [[4.2]
 [5.6]
 [5.8]
 [5.6]
 [5. ]
 [7. ]]
revised_weight: 6.6
2021-04-06 01:18:46.920: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:18:46.920
plc_result: True
sendmessage: 20210406011846920,1,000070,000066
send message to PLC: 2021-04-06 01:18:47.065
time gap: 0:00:00.011404
2021-04-06 01:18:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:48.678
lastevent: 2021-04-06 01:18:48.668, last ten sensor data: [('2021-04-06 01:18:48.110', 'D+000002.0'), ('2021-04-06 01:18:48.130', 'D+000002.0'), ('2021-04-06 01:18:48.310', 'D+000002.6'), ('2021-04-06 01:18:48.330', 'D+000002.4'), ('2021-04-06 01:18:48.350', 'D+000002.6'), ('2021-04-06 01:18:48.370', 'D+000003.6'), ('2021-04-06 01:18:48.540', 'D+000006.0'), ('2021-04-06 01:18:48.560', 'D+000006.0'), ('2021-04-06 01:18:48.580', 'D+000005.8'), ('2021-04-06 01:18:48.600', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.6, 6.0, 6.0, 5.8, 6.0]
np.array X: [[2.6]
 [3.6]
 [6. ]
 [6. ]
 [5.8]
 [6. ]]
revised_weight: 5.9
2021-04-06 01:18:48.600: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:18:48.600
plc_result: True
sendmessage: 20210406011848600,1,000060,000059
send message to PLC: 2021-04-06 01:18:48.689
time gap: 0:00:00.011590
2021-04-06 01:18:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:49.217
lastevent: 2021-04-06 01:18:49.206, last ten sensor data: [0, 0, ('2021-04-06 01:18:48.780', 'D+000006.0'), ('2021-04-06 01:18:48.800', 'D+000005.8'), ('2021-04-06 01:18:48.820', 'D+000005.8'), ('2021-04-06 01:18:48.840', 'D+000006.0'), ('2021-04-06 01:18:49.030', 'D+000006.0'), ('2021-04-06 01:18:49.050', 'D+000006.2'), ('2021-04-06 01:18:49.070', 'D+000006.4'), ('2021-04-06 01:18:49.090', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.0, 6.0, 6.2, 6.4, 6.0]
np.array X: [[5.8]
 [6. ]
 [6. ]
 [6.2]
 [6.4]
 [6. ]]
revised_weight: 5.9
2021-04-06 01:18:49.090: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:18:49.090
plc_result: True
sendmessage: 20210406011849090,1,000060,000059
send message to PLC: 2021-04-06 01:18:49.231
time gap: 0:00:00.013650
2021-04-06 01:18:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:50.638
lastevent: 2021-04-06 01:18:50.623, last ten sensor data: [('2021-04-06 01:18:50.070', 'D+000003.0'), ('2021-04-06 01:18:50.240', 'D+000003.4'), ('2021-04-06 01:18:50.260', 'D+000003.2'), ('2021-04-06 01:18:50.280', 'D+000003.2'), ('2021-04-06 01:18:50.300', 'D+000003.0'), ('2021-04-06 01:18:50.320', 'D+000002.6'), ('2021-04-06 01:18:50.500', 'D+000003.6'), ('2021-04-06 01:18:50.520', 'D+000004.0'), ('2021-04-06 01:18:50.540', 'D+000004.2'), ('2021-04-06 01:18:50.560', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.6, 3.6, 4.0, 4.2, 4.0]
np.array X: [[3. ]
 [2.6]
 [3.6]
 [4. ]
 [4.2]
 [4. ]]
revised_weight: 3.5
2021-04-06 01:18:50.560: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:18:50.560
plc_result: True
sendmessage: 20210406011850560,1,000040,000035
send message to PLC: 2021-04-06 01:18:50.651
time gap: 0:00:00.012597
2021-04-06 01:18:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:51.236
lastevent: 2021-04-06 01:18:51.223, last ten sensor data: [('2021-04-06 01:18:50.800', 'D+000004.0'), ('2021-04-06 01:18:50.820', 'D+000004.0'), ('2021-04-06 01:18:50.970', 'D+000004.4'), ('2021-04-06 01:18:50.990', 'D+000004.4'), ('2021-04-06 01:18:51.010', 'D+000004.4'), ('2021-04-06 01:18:51.030', 'D+000004.8'), ('2021-04-06 01:18:51.050', 'D+000004.6'), ('2021-04-06 01:18:51.070', 'D+000004.4'), ('2021-04-06 01:18:51.210', 'D+000004.6'), ('2021-04-06 01:18:51.230', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.8, 4.6, 4.4, 4.6, 4.6]
np.array X: [[4.4]
 [4.8]
 [4.6]
 [4.4]
 [4.6]
 [4.6]]
revised_weight: 4.5
2021-04-06 01:18:51.230: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:18:51.230
plc_result: True
sendmessage: 20210406011851230,1,000046,000045
send message to PLC: 2021-04-06 01:18:51.243
time gap: 0:00:00.006700
2021-04-06 01:18:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:53.010
lastevent: 2021-04-06 01:18:52.997, last ten sensor data: [('2021-04-06 01:18:52.500', 'D+000002.6'), ('2021-04-06 01:18:52.680', 'D+000002.4'), ('2021-04-06 01:18:52.700', 'D+000002.4'), ('2021-04-06 01:18:52.720', 'D+000002.6'), ('2021-04-06 01:18:52.740', 'D+000003.2'), ('2021-04-06 01:18:52.930', 'D+000004.0'), ('2021-04-06 01:18:52.950', 'D+000004.2'), ('2021-04-06 01:18:52.970', 'D+000004.0'), ('2021-04-06 01:18:52.990', 'D+000003.2'), ('2021-04-06 01:18:53.010', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 4.0, 4.2, 4.0, 3.2, 3.4]
np.array X: [[3.2]
 [4. ]
 [4.2]
 [4. ]
 [3.2]
 [3.4]]
revised_weight: 3.5
2021-04-06 01:18:53.010: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:18:53.010
plc_result: True
sendmessage: 20210406011853010,1,000034,000035
send message to PLC: 2021-04-06 01:18:53.027
time gap: 0:00:00.016667
2021-04-06 01:18:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:53.845
lastevent: 2021-04-06 01:18:53.830, last ten sensor data: [('2021-04-06 01:18:53.260', 'D+000003.4'), ('2021-04-06 01:18:53.400', 'D+000003.0'), ('2021-04-06 01:18:53.440', 'D+000003.2'), ('2021-04-06 01:18:53.460', 'D+000003.2'), ('2021-04-06 01:18:53.480', 'D+000003.0'), ('2021-04-06 01:18:53.500', 'D+000002.8'), ('2021-04-06 01:18:53.680', 'D+000003.8'), ('2021-04-06 01:18:53.700', 'D+000003.6'), ('2021-04-06 01:18:53.720', 'D+000003.4'), ('2021-04-06 01:18:53.740', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 3.8, 3.6, 3.4, 3.6]
np.array X: [[3. ]
 [2.8]
 [3.8]
 [3.6]
 [3.4]
 [3.6]]
revised_weight: 3.5
2021-04-06 01:18:53.740: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:18:53.740
plc_result: True
sendmessage: 20210406011853740,1,000036,000035
send message to PLC: 2021-04-06 01:18:53.857
time gap: 0:00:00.011754
2021-04-06 01:18:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:54.859
lastevent: 2021-04-06 01:18:54.851, last ten sensor data: [('2021-04-06 01:18:54.400', 'D+000002.6'), ('2021-04-06 01:18:54.420', 'D+000002.2'), ('2021-04-06 01:18:54.440', 'D+000002.4'), ('2021-04-06 01:18:54.460', 'D+000003.0'), ('2021-04-06 01:18:54.480', 'D+000003.2'), ('2021-04-06 01:18:54.640', 'D+000003.4'), ('2021-04-06 01:18:54.660', 'D+000003.4'), ('2021-04-06 01:18:54.680', 'D+000003.2'), ('2021-04-06 01:18:54.700', 'D+000003.4'), ('2021-04-06 01:18:54.720', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 3.4, 3.2, 3.4, 4.0]
np.array X: [[3.2]
 [3.4]
 [3.4]
 [3.2]
 [3.4]
 [4. ]]
revised_weight: 3.7
2021-04-06 01:18:54.720: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:18:54.720
plc_result: True
sendmessage: 20210406011854720,1,000040,000037
send message to PLC: 2021-04-06 01:18:54.870
time gap: 0:00:00.011581
2021-04-06 01:18:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:56.096
lastevent: 2021-04-06 01:18:56.079, last ten sensor data: [('2021-04-06 01:18:55.590', 'D+000002.6'), ('2021-04-06 01:18:55.630', 'D+000002.6'), ('2021-04-06 01:18:55.650', 'D+000002.6'), ('2021-04-06 01:18:55.670', 'D+000002.4'), ('2021-04-06 01:18:55.690', 'D+000002.6'), ('2021-04-06 01:18:55.850', 'D+000004.8'), ('2021-04-06 01:18:55.870', 'D+000005.2'), ('2021-04-06 01:18:55.890', 'D+000005.6'), ('2021-04-06 01:18:55.910', 'D+000005.4'), ('2021-04-06 01:18:55.930', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 4.8, 5.2, 5.6, 5.4, 5.8]
np.array X: [[2.6]
 [4.8]
 [5.2]
 [5.6]
 [5.4]
 [5.8]]
revised_weight: 6.0
2021-04-06 01:18:55.930: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:18:55.930
plc_result: True
sendmessage: 20210406011855930,1,000058,000060
send message to PLC: 2021-04-06 01:18:56.107
time gap: 0:00:00.011599
2021-04-06 01:18:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:18:59.147
lastevent: 2021-04-06 01:18:59.134, last ten sensor data: [('2021-04-06 01:18:58.790', 'D+000002.4'), ('2021-04-06 01:18:58.810', 'D+000002.8'), ('2021-04-06 01:18:58.830', 'D+000004.0'), ('2021-04-06 01:18:58.850', 'D+000004.4'), ('2021-04-06 01:18:58.870', 'D+000003.8'), ('2021-04-06 01:18:59.040', 'D+000006.8'), ('2021-04-06 01:18:59.060', 'D+000006.6'), ('2021-04-06 01:18:59.080', 'D+000007.0'), ('2021-04-06 01:18:59.100', 'D+000006.4'), ('2021-04-06 01:18:59.120', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 6.8, 6.6, 7.0, 6.4, 6.4]
np.array X: [[3.8]
 [6.8]
 [6.6]
 [7. ]
 [6.4]
 [6.4]]
revised_weight: 7.2
2021-04-06 01:18:59.120: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:18:59.120
plc_result: True
sendmessage: 20210406011859120,1,000064,000072
send message to PLC: 2021-04-06 01:18:59.162
time gap: 0:00:00.015660
2021-04-06 01:18:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:00.313
lastevent: 2021-04-06 01:19:00.305, last ten sensor data: [('2021-04-06 01:18:59.850', 'D+000002.0'), ('2021-04-06 01:19:00.010', 'D+000003.8'), ('2021-04-06 01:19:00.030', 'D+000004.8'), ('2021-04-06 01:19:00.050', 'D+000004.6'), ('2021-04-06 01:19:00.070', 'D+000003.6'), ('2021-04-06 01:19:00.090', 'D+000005.0'), ('2021-04-06 01:19:00.240', 'D+000007.2'), ('2021-04-06 01:19:00.270', 'D+000007.4'), ('2021-04-06 01:19:00.290', 'D+000007.0'), ('2021-04-06 01:19:00.310', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 5.0, 7.2, 7.4, 7.0, 6.4]
np.array X: [[3.6]
 [5. ]
 [7.2]
 [7.4]
 [7. ]
 [6.4]]
revised_weight: 6.6
2021-04-06 01:19:00.310: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:19:00.310
plc_result: True
sendmessage: 20210406011900310,1,000064,000066
send message to PLC: 2021-04-06 01:19:00.319
time gap: 0:00:00.006755
2021-04-06 01:19:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:02.217
lastevent: 2021-04-06 01:19:02.205, last ten sensor data: [('2021-04-06 01:19:01.750', 'D+000002.2'), ('2021-04-06 01:19:01.770', 'D+000002.2'), ('2021-04-06 01:19:01.790', 'D+000002.4'), ('2021-04-06 01:19:01.810', 'D+000002.2'), ('2021-04-06 01:19:01.830', 'D+000002.4'), ('2021-04-06 01:19:01.980', 'D+000002.8'), ('2021-04-06 01:19:02.000', 'D+000002.4'), ('2021-04-06 01:19:02.020', 'D+000002.2'), ('2021-04-06 01:19:02.040', 'D+000002.4'), ('2021-04-06 01:19:02.060', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.8, 2.4, 2.2, 2.4, 2.4]
np.array X: [[2.4]
 [2.8]
 [2.4]
 [2.2]
 [2.4]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:19:02.060: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:19:02.060
plc_result: True
sendmessage: 20210406011902060,1,000024,000023
send message to PLC: 2021-04-06 01:19:02.224
time gap: 0:00:00.006899
2021-04-06 01:19:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:02.846
lastevent: 2021-04-06 01:19:02.836, last ten sensor data: [('2021-04-06 01:19:02.490', 'D+000003.2'), ('2021-04-06 01:19:02.510', 'D+000003.0'), ('2021-04-06 01:19:02.530', 'D+000004.0'), ('2021-04-06 01:19:02.550', 'D+000003.0'), ('2021-04-06 01:19:02.700', 'D+000005.8'), ('2021-04-06 01:19:02.720', 'D+000006.2'), ('2021-04-06 01:19:02.740', 'D+000006.2'), ('2021-04-06 01:19:02.760', 'D+000006.4'), ('2021-04-06 01:19:02.780', 'D+000006.4'), ('2021-04-06 01:19:02.800', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.2, 6.2, 6.4, 6.4, 6.4]
np.array X: [[5.8]
 [6.2]
 [6.2]
 [6.4]
 [6.4]
 [6.4]]
revised_weight: 6.2
2021-04-06 01:19:02.800: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:19:02.800
plc_result: True
sendmessage: 20210406011902800,1,000064,000062
send message to PLC: 2021-04-06 01:19:02.853
time gap: 0:00:00.007232
2021-04-06 01:19:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:03.508
lastevent: 2021-04-06 01:19:03.499, last ten sensor data: [('2021-04-06 01:19:03.200', 'D+000006.0'), ('2021-04-06 01:19:03.220', 'D+000006.0'), ('2021-04-06 01:19:03.240', 'D+000005.6'), ('2021-04-06 01:19:03.260', 'D+000005.6'), ('2021-04-06 01:19:03.280', 'D+000004.8'), ('2021-04-06 01:19:03.300', 'D+000004.6'), ('2021-04-06 01:19:03.460', 'D+000003.0'), ('2021-04-06 01:19:03.480', 'D+000003.4'), ('2021-04-06 01:19:03.500', 'D+000003.6'), ('2021-04-06 01:19:03.520', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.6, 3.0, 3.4, 3.6, 3.2]
np.array X: [[4.8]
 [4.6]
 [3. ]
 [3.4]
 [3.6]
 [3.2]]
revised_weight: 3.7
2021-04-06 01:19:03.520: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:19:03.520
plc_result: True
sendmessage: 20210406011903520,1,000032,000037
send message to PLC: 2021-04-06 01:19:03.515
time gap: 0:00:00.007234
2021-04-06 01:19:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:05.455
lastevent: 2021-04-06 01:19:05.441, last ten sensor data: [('2021-04-06 01:19:04.990', 'D+000001.8'), ('2021-04-06 01:19:05.170', 'D+000002.2'), ('2021-04-06 01:19:05.190', 'D+000002.6'), ('2021-04-06 01:19:05.210', 'D+000002.6'), ('2021-04-06 01:19:05.230', 'D+000002.8'), ('2021-04-06 01:19:05.250', 'D+000002.4'), ('2021-04-06 01:19:05.400', 'D+000003.0'), ('2021-04-06 01:19:05.420', 'D+000002.8'), ('2021-04-06 01:19:05.440', 'D+000002.8'), ('2021-04-06 01:19:05.460', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.4, 3.0, 2.8, 2.8, 3.4]
np.array X: [[2.8]
 [2.4]
 [3. ]
 [2.8]
 [2.8]
 [3.4]]
revised_weight: 3.2
2021-04-06 01:19:05.460: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:19:05.460
plc_result: True
sendmessage: 20210406011905460,1,000034,000032
send message to PLC: 2021-04-06 01:19:05.462
time gap: 0:00:00.006686
2021-04-06 01:19:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:07.102
lastevent: 2021-04-06 01:19:07.092, last ten sensor data: [('2021-04-06 01:19:06.640', 'D+000002.8'), ('2021-04-06 01:19:06.660', 'D+000002.8'), ('2021-04-06 01:19:06.680', 'D+000002.6'), ('2021-04-06 01:19:06.700', 'D+000003.0'), ('2021-04-06 01:19:06.870', 'D+000007.4'), ('2021-04-06 01:19:06.890', 'D+000008.2'), ('2021-04-06 01:19:06.910', 'D+000008.8'), ('2021-04-06 01:19:06.930', 'D+000009.4'), ('2021-04-06 01:19:06.950', 'D+000009.6'), ('2021-04-06 01:19:06.970', 'D+000010.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 8.2, 8.8, 9.4, 9.6, 10.0]
np.array X: [[ 7.4]
 [ 8.2]
 [ 8.8]
 [ 9.4]
 [ 9.6]
 [10. ]]
revised_weight: 9.1
2021-04-06 01:19:06.970: revising weight finished
revised_weight: 9.1 at 2021-04-06 01:19:06.970
plc_result: True
sendmessage: 20210406011906970,1,000100,000091
send message to PLC: 2021-04-06 01:19:07.109
time gap: 0:00:00.007027
2021-04-06 01:19:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:08.096
lastevent: 2021-04-06 01:19:08.081, last ten sensor data: [('2021-04-06 01:19:07.590', 'D+000009.0'), ('2021-04-06 01:19:07.620', 'D+000007.8'), ('2021-04-06 01:19:07.640', 'D+000008.0'), ('2021-04-06 01:19:07.660', 'D+000008.0'), ('2021-04-06 01:19:07.680', 'D+000007.4'), ('2021-04-06 01:19:07.850', 'D+000003.4'), ('2021-04-06 01:19:07.870', 'D+000004.0'), ('2021-04-06 01:19:07.890', 'D+000004.0'), ('2021-04-06 01:19:07.910', 'D+000003.8'), ('2021-04-06 01:19:07.930', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 3.4, 4.0, 4.0, 3.8, 3.2]
np.array X: [[7.4]
 [3.4]
 [4. ]
 [4. ]
 [3.8]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:19:07.930: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:19:07.930
plc_result: True
sendmessage: 20210406011907930,1,000032,000031
send message to PLC: 2021-04-06 01:19:08.103
time gap: 0:00:00.007169
2021-04-06 01:19:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:10.683
lastevent: 2021-04-06 01:19:10.664, last ten sensor data: [('2021-04-06 01:19:10.290', 'D+000002.0'), ('2021-04-06 01:19:10.310', 'D+000002.0'), ('2021-04-06 01:19:10.330', 'D+000001.8'), ('2021-04-06 01:19:10.350', 'D+000001.2'), ('2021-04-06 01:19:10.370', 'D+000001.8'), ('2021-04-06 01:19:10.530', 'D+000004.0'), ('2021-04-06 01:19:10.550', 'D+000004.4'), ('2021-04-06 01:19:10.570', 'D+000004.4'), ('2021-04-06 01:19:10.590', 'D+000004.6'), ('2021-04-06 01:19:10.610', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 4.0, 4.4, 4.4, 4.6, 4.2]
np.array X: [[1.8]
 [4. ]
 [4.4]
 [4.4]
 [4.6]
 [4.2]]
revised_weight: 4.4
2021-04-06 01:19:10.610: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:19:10.610
plc_result: True
sendmessage: 20210406011910610,1,000042,000044
send message to PLC: 2021-04-06 01:19:10.697
time gap: 0:00:00.014404
2021-04-06 01:19:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:13.127
lastevent: 2021-04-06 01:19:13.108, last ten sensor data: [('2021-04-06 01:19:12.730', 'D+000003.2'), ('2021-04-06 01:19:12.750', 'D+000003.8'), ('2021-04-06 01:19:12.770', 'D+000004.2'), ('2021-04-06 01:19:12.790', 'D+000006.0'), ('2021-04-06 01:19:12.980', 'D+000011.8'), ('2021-04-06 01:19:13.000', 'D+000012.6'), ('2021-04-06 01:19:13.020', 'D+000013.0'), ('2021-04-06 01:19:13.040', 'D+000013.4'), ('2021-04-06 01:19:13.060', 'D+000013.4'), ('2021-04-06 01:19:13.110', 'D+000013.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [11.8, 12.6, 13.0, 13.4, 13.4, 13.8]
np.array X: [[11.8]
 [12.6]
 [13. ]
 [13.4]
 [13.4]
 [13.8]]
revised_weight: 12.7
2021-04-06 01:19:13.110: revising weight finished
revised_weight: 12.7 at 2021-04-06 01:19:13.110
plc_result: True
sendmessage: 20210406011913110,1,000138,000127
send message to PLC: 2021-04-06 01:19:13.135
time gap: 0:00:00.008090
2021-04-06 01:19:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:14.176
lastevent: 2021-04-06 01:19:14.160, last ten sensor data: [('2021-04-06 01:19:13.750', 'D+000003.6'), ('2021-04-06 01:19:13.770', 'D+000003.8'), ('2021-04-06 01:19:13.790', 'D+000004.0'), ('2021-04-06 01:19:13.810', 'D+000004.0'), ('2021-04-06 01:19:13.900', 'D+000005.8'), ('2021-04-06 01:19:13.960', 'D+000006.6'), ('2021-04-06 01:19:13.980', 'D+000006.8'), ('2021-04-06 01:19:14.000', 'D+000006.8'), ('2021-04-06 01:19:14.020', 'D+000007.0'), ('2021-04-06 01:19:14.040', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.6, 6.8, 6.8, 7.0, 7.8]
np.array X: [[5.8]
 [6.6]
 [6.8]
 [6.8]
 [7. ]
 [7.8]]
revised_weight: 6.8
2021-04-06 01:19:14.040: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:19:14.040
plc_result: True
sendmessage: 20210406011914040,1,000078,000068
send message to PLC: 2021-04-06 01:19:14.183
time gap: 0:00:00.007371
2021-04-06 01:19:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:15.223
lastevent: 2021-04-06 01:19:15.214, last ten sensor data: [('2021-04-06 01:19:14.750', 'D+000006.6'), ('2021-04-06 01:19:14.770', 'D+000006.6'), ('2021-04-06 01:19:14.790', 'D+000006.0'), ('2021-04-06 01:19:14.810', 'D+000005.8'), ('2021-04-06 01:19:14.830', 'D+000005.8'), ('2021-04-06 01:19:14.990', 'D+000006.2'), ('2021-04-06 01:19:15.010', 'D+000006.2'), ('2021-04-06 01:19:15.030', 'D+000006.4'), ('2021-04-06 01:19:15.050', 'D+000006.8'), ('2021-04-06 01:19:15.070', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.2, 6.2, 6.4, 6.8, 7.2]
np.array X: [[5.8]
 [6.2]
 [6.2]
 [6.4]
 [6.8]
 [7.2]]
revised_weight: 6.6
2021-04-06 01:19:15.070: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:19:15.070
plc_result: True
sendmessage: 20210406011915070,1,000072,000066
send message to PLC: 2021-04-06 01:19:15.230
time gap: 0:00:00.007312
2021-04-06 01:19:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:16.075
lastevent: 2021-04-06 01:19:16.060, last ten sensor data: [('2021-04-06 01:19:15.740', 'D+000005.8'), ('2021-04-06 01:19:15.760', 'D+000005.8'), ('2021-04-06 01:19:15.780', 'D+000005.6'), ('2021-04-06 01:19:15.800', 'D+000005.6'), ('2021-04-06 01:19:15.960', 'D+000006.4'), ('2021-04-06 01:19:15.980', 'D+000006.4'), ('2021-04-06 01:19:16.000', 'D+000006.6'), ('2021-04-06 01:19:16.020', 'D+000007.6'), ('2021-04-06 01:19:16.040', 'D+000008.2'), ('2021-04-06 01:19:16.060', 'D+000008.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.4, 6.6, 7.6, 8.2, 8.4]
np.array X: [[6.4]
 [6.4]
 [6.6]
 [7.6]
 [8.2]
 [8.4]]
revised_weight: 7.9
2021-04-06 01:19:16.060: revising weight finished
revised_weight: 7.9 at 2021-04-06 01:19:16.060
plc_result: True
sendmessage: 20210406011916060,1,000084,000079
send message to PLC: 2021-04-06 01:19:16.082
time gap: 0:00:00.007141
2021-04-06 01:19:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:19:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:18.507
lastevent: 2021-04-06 01:19:18.506, last ten sensor data: [('2021-04-06 01:19:18.030', 'D+000001.8'), ('2021-04-06 01:19:18.200', 'D+000003.6'), ('2021-04-06 01:19:18.220', 'D+000003.8'), ('2021-04-06 01:19:18.240', 'D+000004.0'), ('2021-04-06 01:19:18.260', 'D+000004.0'), ('2021-04-06 01:19:18.280', 'D+000003.6'), ('2021-04-06 01:19:18.450', 'D+000005.2'), ('2021-04-06 01:19:18.470', 'D+000005.4'), ('2021-04-06 01:19:18.490', 'D+000005.2'), ('2021-04-06 01:19:18.510', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.6, 5.2, 5.4, 5.2, 5.4]
np.array X: [[4. ]
 [3.6]
 [5.2]
 [5.4]
 [5.2]
 [5.4]]
revised_weight: 5.1
2021-04-06 01:19:18.510: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:19:18.510
plc_result: True
sendmessage: 20210406011918510,1,000054,000051
send message to PLC: 2021-04-06 01:19:18.515
time gap: 0:00:00.007721
2021-04-06 01:19:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:19.141
lastevent: 2021-04-06 01:19:19.134, last ten sensor data: [0, ('2021-04-06 01:19:18.690', 'D+000005.4'), ('2021-04-06 01:19:18.710', 'D+000005.6'), ('2021-04-06 01:19:18.730', 'D+000005.6'), ('2021-04-06 01:19:18.750', 'D+000005.4'), ('2021-04-06 01:19:18.930', 'D+000005.6'), ('2021-04-06 01:19:18.950', 'D+000006.8'), ('2021-04-06 01:19:18.970', 'D+000007.0'), ('2021-04-06 01:19:18.990', 'D+000007.0'), ('2021-04-06 01:19:19.010', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 6.8, 7.0, 7.0, 7.2]
np.array X: [[5.4]
 [5.6]
 [6.8]
 [7. ]
 [7. ]
 [7.2]]
revised_weight: 6.9
2021-04-06 01:19:19.010: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:19:19.010
plc_result: True
sendmessage: 20210406011919010,1,000072,000069
send message to PLC: 2021-04-06 01:19:19.155
time gap: 0:00:00.013878
2021-04-06 01:19:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:20.863
lastevent: 2021-04-06 01:19:20.862, last ten sensor data: [('2021-04-06 01:19:20.230', 'D+000002.8'), ('2021-04-06 01:19:20.390', 'D+000002.8'), ('2021-04-06 01:19:20.410', 'D+000002.6'), ('2021-04-06 01:19:20.430', 'D+000002.4'), ('2021-04-06 01:19:20.450', 'D+000002.4'), ('2021-04-06 01:19:20.470', 'D+000002.2'), ('2021-04-06 01:19:20.640', 'D+000003.8'), ('2021-04-06 01:19:20.660', 'D+000004.2'), ('2021-04-06 01:19:20.680', 'D+000004.2'), ('2021-04-06 01:19:20.700', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.2, 3.8, 4.2, 4.2, 4.6]
np.array X: [[2.4]
 [2.2]
 [3.8]
 [4.2]
 [4.2]
 [4.6]]
revised_weight: 3.9
2021-04-06 01:19:20.700: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:19:20.700
plc_result: True
sendmessage: 20210406011920700,1,000046,000039
send message to PLC: 2021-04-06 01:19:20.869
time gap: 0:00:00.006465
2021-04-06 01:19:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:20: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db']
2021-04-06 01:19:21: [13082] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_10.db
select_plcdb_filename: b
2021-04-06 01:19:21: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:21: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:21: select done
2021-04-06 01:19:21: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:19:21: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:19:21: sendjson called, 36 records in httpPlcDataSender thread
2021-04-06 01:19:21: count: 36 in httpPlcDataSender thread
2021-04-06 01:19:21: D+: 36 in httpPlcDataSender thread
2021-04-06 01:19:21: D-: 0 in httpPlcDataSender thread
2021-04-06 01:19:21: S+: 0 in httpPlcDataSender thread
2021-04-06 01:19:21: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:18:31.150'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:18:32.340'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:18:33.830'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:18:34.570'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:18:35.290'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:18:35.550'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:18:41.730'}, {'value': '9.2', 'sensorAt': '2021-04-06 01:18:42.760'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:18:43.990'}, {'value': '10.1', 'sensorAt': '2021-04-06 01:18:44.970'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:18:46.180'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:18:46.920'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:18:48.600'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:18:49.090'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:18:50.560'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:18:51.230'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:18:53.010'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:18:53.740'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:18:54.720'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:18:55.930'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:18:59.120'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:19:00.310'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:19:02.060'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:19:02.800'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:19:03.520'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:19:05.460'}, {'value': '9.1', 'sensorAt': '2021-04-06 01:19:06.970'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:19:07.930'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:19:10.610'}, {'value': '12.7', 'sensorAt': '2021-04-06 01:19:13.110'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:19:14.040'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:19:15.070'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:19:16.060'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:19:18.510'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:19:19.010'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:19:20.700'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:18:31.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:32.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:33.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:34.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:35.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:35.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:41.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:42.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:43.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:44.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:46.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:46.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:48.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:49.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:50.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:51.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:53.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:53.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:54.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:55.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:59.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:00.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:02.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:02.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:03.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:05.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:06.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:07.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:10.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:13.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:14.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:15.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:16.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:18.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:19.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:20.700'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:19:21', 'collectDate': '2021-04-06 01:19:20', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:18:31.150'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:18:32.340'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:18:33.830'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:18:34.570'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:18:35.290'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:18:35.550'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:18:41.730'}, {'value': '9.2', 'sensorAt': '2021-04-06 01:18:42.760'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:18:43.990'}, {'value': '10.1', 'sensorAt': '2021-04-06 01:18:44.970'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:18:46.180'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:18:46.920'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:18:48.600'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:18:49.090'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:18:50.560'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:18:51.230'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:18:53.010'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:18:53.740'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:18:54.720'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:18:55.930'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:18:59.120'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:19:00.310'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:19:02.060'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:19:02.800'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:19:03.520'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:19:05.460'}, {'value': '9.1', 'sensorAt': '2021-04-06 01:19:06.970'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:19:07.930'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:19:10.610'}, {'value': '12.7', 'sensorAt': '2021-04-06 01:19:13.110'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:19:14.040'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:19:15.070'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:19:16.060'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:19:18.510'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:19:19.010'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:19:20.700'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:18:31.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:32.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:33.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:34.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:35.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:35.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:41.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:42.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:43.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:44.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:46.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:46.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:48.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:49.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:50.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:51.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:53.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:53.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:54.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:55.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:18:59.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:00.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:02.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:02.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:03.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:05.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:06.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:07.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:10.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:13.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:14.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:15.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:16.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:18.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:19.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:20.700'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:19:21: send http
2021-04-06 01:19:21: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:19:21.533
lastevent: 2021-04-06 01:19:21.531, last ten sensor data: [('2021-04-06 01:19:21.170', 'D+000004.2'), ('2021-04-06 01:19:21.190', 'D+000004.4'), ('2021-04-06 01:19:21.210', 'D+000004.6'), ('2021-04-06 01:19:21.340', 'D+000005.6'), ('2021-04-06 01:19:21.360', 'D+000005.4'), ('2021-04-06 01:19:21.380', 'D+000005.2'), ('2021-04-06 01:19:21.400', 'D+000005.2'), ('2021-04-06 01:19:21.420', 'D+000006.0'), ('2021-04-06 01:19:21.440', 'D+000006.4'), ('2021-04-06 01:19:21.460', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.2, 5.2, 6.0, 6.4, 6.8]
np.array X: [[5.4]
 [5.2]
 [5.2]
 [6. ]
 [6.4]
 [6.8]]
revised_weight: 6.4
2021-04-06 01:19:21.460: revising weight finished
revised_weight: 6.4 at 2021-04-06 01:19:21.460
plc_result: True
sendmessage: 20210406011921460,1,000068,000064
send message to PLC: 2021-04-06 01:19:21.540
time gap: 0:00:00.006375
2021-04-06 01:19:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
Backupserver True
2021-04-06 01:19:21: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:21: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:19:23.324
lastevent: 2021-04-06 01:19:23.318, last ten sensor data: [('2021-04-06 01:19:22.850', 'D+000003.2'), ('2021-04-06 01:19:22.870', 'D+000003.2'), ('2021-04-06 01:19:22.890', 'D+000003.2'), ('2021-04-06 01:19:22.910', 'D+000003.4'), ('2021-04-06 01:19:23.070', 'D+000005.0'), ('2021-04-06 01:19:23.090', 'D+000004.6'), ('2021-04-06 01:19:23.110', 'D+000004.8'), ('2021-04-06 01:19:23.130', 'D+000004.8'), ('2021-04-06 01:19:23.150', 'D+000005.0'), ('2021-04-06 01:19:23.320', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.6, 4.8, 4.8, 5.0, 5.6]
np.array X: [[5. ]
 [4.6]
 [4.8]
 [4.8]
 [5. ]
 [5.6]]
revised_weight: 5.2
2021-04-06 01:19:23.320: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:19:23.320
plc_result: True
sendmessage: 20210406011923320,1,000056,000052
send message to PLC: 2021-04-06 01:19:23.336
time gap: 0:00:00.011732
2021-04-06 01:19:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:23: httpScaleDataSender thread Timeout occurred
2021-04-06 01:19:23: [13707] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
2021-04-06 01:19:23: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:19:24.998
lastevent: 2021-04-06 01:19:24.992, last ten sensor data: [('2021-04-06 01:19:24.370', 'D+000002.6'), ('2021-04-06 01:19:24.550', 'D+000002.6'), ('2021-04-06 01:19:24.570', 'D+000002.6'), ('2021-04-06 01:19:24.590', 'D+000002.6'), ('2021-04-06 01:19:24.610', 'D+000003.2'), ('2021-04-06 01:19:24.780', 'D+000006.6'), ('2021-04-06 01:19:24.800', 'D+000006.0'), ('2021-04-06 01:19:24.820', 'D+000006.0'), ('2021-04-06 01:19:24.840', 'D+000006.8'), ('2021-04-06 01:19:24.860', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 6.6, 6.0, 6.0, 6.8, 8.0]
np.array X: [[3.2]
 [6.6]
 [6. ]
 [6. ]
 [6.8]
 [8. ]]
revised_weight: 7.4
2021-04-06 01:19:24.860: revising weight finished
revised_weight: 7.4 at 2021-04-06 01:19:24.860
plc_result: True
sendmessage: 20210406011924860,1,000080,000074
send message to PLC: 2021-04-06 01:19:25.011
time gap: 0:00:00.013041
2021-04-06 01:19:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:26.743
lastevent: 2021-04-06 01:19:26.732, last ten sensor data: [('2021-04-06 01:19:26.270', 'D+000002.6'), ('2021-04-06 01:19:26.290', 'D+000003.0'), ('2021-04-06 01:19:26.310', 'D+000003.0'), ('2021-04-06 01:19:26.340', 'D+000002.8'), ('2021-04-06 01:19:26.490', 'D+000004.0'), ('2021-04-06 01:19:26.510', 'D+000004.0'), ('2021-04-06 01:19:26.530', 'D+000004.0'), ('2021-04-06 01:19:26.550', 'D+000004.0'), ('2021-04-06 01:19:26.570', 'D+000004.2'), ('2021-04-06 01:19:26.740', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 4.0, 4.0, 4.2, 4.8]
np.array X: [[4. ]
 [4. ]
 [4. ]
 [4. ]
 [4.2]
 [4.8]]
revised_weight: 4.4
2021-04-06 01:19:26.740: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:19:26.740
plc_result: True
sendmessage: 20210406011926740,1,000048,000044
send message to PLC: 2021-04-06 01:19:26.756
time gap: 0:00:00.013398
2021-04-06 01:19:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:26: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:19:26: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:26: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:26: select done
2021-04-06 01:19:26: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:19:26: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:19:26: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:19:26: count: 4 in httpPlcDataSender thread
2021-04-06 01:19:26: D+: 4 in httpPlcDataSender thread
2021-04-06 01:19:26: D-: 0 in httpPlcDataSender thread
2021-04-06 01:19:26: S+: 0 in httpPlcDataSender thread
2021-04-06 01:19:26: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.4', 'sensorAt': '2021-04-06 01:19:21.460'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:19:23.320'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:19:24.860'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:19:26.740'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:21.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:23.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:24.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:26.740'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:19:26', 'collectDate': '2021-04-06 01:19:26', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.4', 'sensorAt': '2021-04-06 01:19:21.460'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:19:23.320'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:19:24.860'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:19:26.740'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:21.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:23.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:24.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:26.740'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:19:27: send http
2021-04-06 01:19:27: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:19:27.189
lastevent: 2021-04-06 01:19:27.176, last ten sensor data: [0, ('2021-04-06 01:19:26.760', 'D+000004.2'), ('2021-04-06 01:19:26.780', 'D+000004.2'), ('2021-04-06 01:19:26.800', 'D+000004.6'), ('2021-04-06 01:19:26.820', 'D+000004.2'), ('2021-04-06 01:19:27.010', 'D+000006.0'), ('2021-04-06 01:19:27.030', 'D+000006.4'), ('2021-04-06 01:19:27.050', 'D+000006.8'), ('2021-04-06 01:19:27.070', 'D+000006.6'), ('2021-04-06 01:19:27.130', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 6.0, 6.4, 6.8, 6.6, 7.6]
np.array X: [[4.2]
 [6. ]
 [6.4]
 [6.8]
 [6.6]
 [7.6]]
revised_weight: 7.4
2021-04-06 01:19:27.130: revising weight finished
revised_weight: 7.4 at 2021-04-06 01:19:27.130
plc_result: True
sendmessage: 20210406011927130,1,000076,000074
send message to PLC: 2021-04-06 01:19:27.209
time gap: 0:00:00.019719
2021-04-06 01:19:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
Backupserver True
2021-04-06 01:19:27: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:27: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:19:29.233
lastevent: 2021-04-06 01:19:29.221, last ten sensor data: [('2021-04-06 01:19:28.760', 'D+000002.4'), ('2021-04-06 01:19:28.780', 'D+000002.6'), ('2021-04-06 01:19:28.800', 'D+000002.8'), ('2021-04-06 01:19:28.820', 'D+000002.8'), ('2021-04-06 01:19:28.840', 'D+000002.6'), ('2021-04-06 01:19:28.980', 'D+000004.8'), ('2021-04-06 01:19:29.020', 'D+000004.0'), ('2021-04-06 01:19:29.040', 'D+000003.8'), ('2021-04-06 01:19:29.060', 'D+000003.8'), ('2021-04-06 01:19:29.080', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 4.8, 4.0, 3.8, 3.8, 4.6]
np.array X: [[2.6]
 [4.8]
 [4. ]
 [3.8]
 [3.8]
 [4.6]]
revised_weight: 4.2
2021-04-06 01:19:29.080: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:19:29.080
plc_result: True
sendmessage: 20210406011929080,1,000046,000042
send message to PLC: 2021-04-06 01:19:29.245
time gap: 0:00:00.012218
2021-04-06 01:19:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:31.182
lastevent: 2021-04-06 01:19:31.170, last ten sensor data: [('2021-04-06 01:19:30.710', 'D+000002.2'), ('2021-04-06 01:19:30.730', 'D+000002.2'), ('2021-04-06 01:19:30.750', 'D+000002.2'), ('2021-04-06 01:19:30.770', 'D+000002.6'), ('2021-04-06 01:19:30.940', 'D+000002.2'), ('2021-04-06 01:19:30.960', 'D+000002.6'), ('2021-04-06 01:19:30.980', 'D+000002.6'), ('2021-04-06 01:19:31.000', 'D+000002.8'), ('2021-04-06 01:19:31.020', 'D+000002.8'), ('2021-04-06 01:19:31.170', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.6, 2.6, 2.8, 2.8, 3.8]
np.array X: [[2.2]
 [2.6]
 [2.6]
 [2.8]
 [2.8]
 [3.8]]
revised_weight: 3.2
2021-04-06 01:19:31.170: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:19:31.170
plc_result: True
sendmessage: 20210406011931170,1,000038,000032
send message to PLC: 2021-04-06 01:19:31.195
time gap: 0:00:00.012760
2021-04-06 01:19:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:32.020
lastevent: 2021-04-06 01:19:32.006, last ten sensor data: [('2021-04-06 01:19:31.510', 'D+000004.0'), ('2021-04-06 01:19:31.660', 'D+000003.6'), ('2021-04-06 01:19:31.690', 'D+000003.8'), ('2021-04-06 01:19:31.710', 'D+000004.4'), ('2021-04-06 01:19:31.730', 'D+000004.6'), ('2021-04-06 01:19:31.750', 'D+000005.0'), ('2021-04-06 01:19:31.920', 'D+000007.2'), ('2021-04-06 01:19:31.940', 'D+000007.2'), ('2021-04-06 01:19:31.960', 'D+000007.4'), ('2021-04-06 01:19:31.980', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.0, 7.2, 7.2, 7.4, 7.4]
np.array X: [[4.6]
 [5. ]
 [7.2]
 [7.2]
 [7.4]
 [7.4]]
revised_weight: 7.0
2021-04-06 01:19:31.980: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:19:31.980
plc_result: True
sendmessage: 20210406011931980,1,000074,000070
send message to PLC: 2021-04-06 01:19:32.031
time gap: 0:00:00.011566
2021-04-06 01:19:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:32: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:19:32: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:32: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:32: select done
2021-04-06 01:19:32: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:19:32: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:19:32: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:19:32: count: 4 in httpPlcDataSender thread
2021-04-06 01:19:32: D+: 4 in httpPlcDataSender thread
2021-04-06 01:19:32: D-: 0 in httpPlcDataSender thread
2021-04-06 01:19:32: S+: 0 in httpPlcDataSender thread
2021-04-06 01:19:32: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.4', 'sensorAt': '2021-04-06 01:19:27.130'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:19:29.080'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:19:31.170'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:19:31.980'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:27.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:29.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:31.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:31.980'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:19:32', 'collectDate': '2021-04-06 01:19:32', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.4', 'sensorAt': '2021-04-06 01:19:27.130'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:19:29.080'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:19:31.170'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:19:31.980'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:27.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:29.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:31.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:31.980'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:19:32: send http
2021-04-06 01:19:32: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:19:32.803
lastevent: 2021-04-06 01:19:32.791, last ten sensor data: [('2021-04-06 01:19:32.450', 'D+000007.2'), ('2021-04-06 01:19:32.470', 'D+000007.2'), ('2021-04-06 01:19:32.490', 'D+000005.6'), ('2021-04-06 01:19:32.620', 'D+000004.8'), ('2021-04-06 01:19:32.640', 'D+000004.6'), ('2021-04-06 01:19:32.660', 'D+000005.0'), ('2021-04-06 01:19:32.680', 'D+000004.6'), ('2021-04-06 01:19:32.700', 'D+000004.0'), ('2021-04-06 01:19:32.720', 'D+000004.0'), ('2021-04-06 01:19:32.740', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.0, 4.6, 4.0, 4.0, 3.8]
np.array X: [[4.6]
 [5. ]
 [4.6]
 [4. ]
 [4. ]
 [3.8]]
revised_weight: 4.3
2021-04-06 01:19:32.740: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:19:32.740
plc_result: True
sendmessage: 20210406011932740,1,000038,000043
send message to PLC: 2021-04-06 01:19:32.818
time gap: 0:00:00.014418
2021-04-06 01:19:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
Backupserver True
2021-04-06 01:19:32: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:32: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:19:34.200
lastevent: 2021-04-06 01:19:34.188, last ten sensor data: [('2021-04-06 01:19:33.760', 'D+000002.8'), ('2021-04-06 01:19:33.780', 'D+000002.6'), ('2021-04-06 01:19:33.800', 'D+000002.6'), ('2021-04-06 01:19:33.820', 'D+000002.8'), ('2021-04-06 01:19:33.840', 'D+000002.8'), ('2021-04-06 01:19:34.010', 'D+000004.2'), ('2021-04-06 01:19:34.030', 'D+000004.2'), ('2021-04-06 01:19:34.050', 'D+000004.2'), ('2021-04-06 01:19:34.070', 'D+000004.6'), ('2021-04-06 01:19:34.090', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 4.2, 4.2, 4.2, 4.6, 5.6]
np.array X: [[2.8]
 [4.2]
 [4.2]
 [4.2]
 [4.6]
 [5.6]]
revised_weight: 5.3
2021-04-06 01:19:34.090: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:19:34.090
plc_result: True
sendmessage: 20210406011934090,1,000056,000053
send message to PLC: 2021-04-06 01:19:34.213
time gap: 0:00:00.012320
2021-04-06 01:19:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:35.967
lastevent: 2021-04-06 01:19:35.954, last ten sensor data: [('2021-04-06 01:19:35.470', 'D+000002.6'), ('2021-04-06 01:19:35.500', 'D+000002.6'), ('2021-04-06 01:19:35.520', 'D+000003.0'), ('2021-04-06 01:19:35.540', 'D+000003.0'), ('2021-04-06 01:19:35.560', 'D+000003.2'), ('2021-04-06 01:19:35.720', 'D+000004.0'), ('2021-04-06 01:19:35.740', 'D+000004.0'), ('2021-04-06 01:19:35.760', 'D+000004.0'), ('2021-04-06 01:19:35.780', 'D+000004.0'), ('2021-04-06 01:19:35.800', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 4.0, 4.0, 4.0, 4.0, 4.4]
np.array X: [[3.2]
 [4. ]
 [4. ]
 [4. ]
 [4. ]
 [4.4]]
revised_weight: 4.1
2021-04-06 01:19:35.800: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:19:35.800
plc_result: True
sendmessage: 20210406011935800,1,000044,000041
send message to PLC: 2021-04-06 01:19:35.979
time gap: 0:00:00.012645
2021-04-06 01:19:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:36.573
lastevent: 2021-04-06 01:19:36.564, last ten sensor data: [('2021-04-06 01:19:36.040', 'D+000004.8'), ('2021-04-06 01:19:36.220', 'D+000004.6'), ('2021-04-06 01:19:36.240', 'D+000005.2'), ('2021-04-06 01:19:36.260', 'D+000005.2'), ('2021-04-06 01:19:36.280', 'D+000005.2'), ('2021-04-06 01:19:36.450', 'D+000006.6'), ('2021-04-06 01:19:36.470', 'D+000006.6'), ('2021-04-06 01:19:36.490', 'D+000006.6'), ('2021-04-06 01:19:36.510', 'D+000007.0'), ('2021-04-06 01:19:36.530', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 6.6, 6.6, 6.6, 7.0, 6.6]
np.array X: [[5.2]
 [6.6]
 [6.6]
 [6.6]
 [7. ]
 [6.6]]
revised_weight: 6.1
2021-04-06 01:19:36.530: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:19:36.530
plc_result: True
sendmessage: 20210406011936530,1,000066,000061
send message to PLC: 2021-04-06 01:19:36.587
time gap: 0:00:00.013942
2021-04-06 01:19:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:37: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:19:37: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:38: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:38: select done
2021-04-06 01:19:38: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:19:38: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:19:38: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:19:38: count: 4 in httpPlcDataSender thread
2021-04-06 01:19:38: D+: 4 in httpPlcDataSender thread
2021-04-06 01:19:38: D-: 0 in httpPlcDataSender thread
2021-04-06 01:19:38: S+: 0 in httpPlcDataSender thread
2021-04-06 01:19:38: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.3', 'sensorAt': '2021-04-06 01:19:32.740'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:19:34.090'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:19:35.800'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:19:36.530'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:32.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:34.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:35.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:36.530'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:19:38', 'collectDate': '2021-04-06 01:19:36', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.3', 'sensorAt': '2021-04-06 01:19:32.740'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:19:34.090'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:19:35.800'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:19:36.530'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:32.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:34.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:35.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:36.530'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:19:38: send http
2021-04-06 01:19:38: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:19:38: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:38: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:19:39.814
lastevent: 2021-04-06 01:19:39.802, last ten sensor data: [('2021-04-06 01:19:39.220', 'D+000002.2'), ('2021-04-06 01:19:39.380', 'D+000002.0'), ('2021-04-06 01:19:39.400', 'D+000002.2'), ('2021-04-06 01:19:39.420', 'D+000002.0'), ('2021-04-06 01:19:39.440', 'D+000002.2'), ('2021-04-06 01:19:39.460', 'D+000002.6'), ('2021-04-06 01:19:39.640', 'D+000007.2'), ('2021-04-06 01:19:39.660', 'D+000007.6'), ('2021-04-06 01:19:39.680', 'D+000007.4'), ('2021-04-06 01:19:39.700', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.6, 7.2, 7.6, 7.4, 7.4]
np.array X: [[2.2]
 [2.6]
 [7.2]
 [7.6]
 [7.4]
 [7.4]]
revised_weight: 8.0
2021-04-06 01:19:39.700: revising weight finished
revised_weight: 8.0 at 2021-04-06 01:19:39.700
plc_result: True
sendmessage: 20210406011939700,1,000074,000080
send message to PLC: 2021-04-06 01:19:39.827
time gap: 0:00:00.013536
2021-04-06 01:19:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:40.352
lastevent: 2021-04-06 01:19:40.337, last ten sensor data: [('2021-04-06 01:19:39.830', 'D+000009.8'), ('2021-04-06 01:19:39.870', 'D+000009.4'), ('2021-04-06 01:19:39.890', 'D+000010.4'), ('2021-04-06 01:19:39.910', 'D+000010.8'), ('2021-04-06 01:19:39.930', 'D+000010.2'), ('2021-04-06 01:19:39.950', 'D+000009.8'), ('2021-04-06 01:19:40.120', 'D+000012.2'), ('2021-04-06 01:19:40.140', 'D+000012.8'), ('2021-04-06 01:19:40.160', 'D+000012.6'), ('2021-04-06 01:19:40.180', 'D+000012.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [10.2, 9.8, 12.2, 12.8, 12.6, 12.4]
np.array X: [[10.2]
 [ 9.8]
 [12.2]
 [12.8]
 [12.6]
 [12.4]]
revised_weight: 11.7
2021-04-06 01:19:40.180: revising weight finished
revised_weight: 11.7 at 2021-04-06 01:19:40.180
plc_result: True
sendmessage: 20210406011940180,1,000124,000117
send message to PLC: 2021-04-06 01:19:40.384
time gap: 0:00:00.031817
2021-04-06 01:19:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:41.289
lastevent: 2021-04-06 01:19:41.274, last ten sensor data: [('2021-04-06 01:19:40.670', 'D+000008.2'), ('2021-04-06 01:19:40.850', 'D+000006.4'), ('2021-04-06 01:19:40.870', 'D+000006.4'), ('2021-04-06 01:19:40.890', 'D+000007.0'), ('2021-04-06 01:19:40.910', 'D+000007.0'), ('2021-04-06 01:19:40.930', 'D+000006.0'), ('2021-04-06 01:19:41.110', 'D+000007.0'), ('2021-04-06 01:19:41.130', 'D+000007.8'), ('2021-04-06 01:19:41.150', 'D+000008.0'), ('2021-04-06 01:19:41.170', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 6.0, 7.0, 7.8, 8.0, 7.8]
np.array X: [[7. ]
 [6. ]
 [7. ]
 [7.8]
 [8. ]
 [7.8]]
revised_weight: 7.3
2021-04-06 01:19:41.170: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:19:41.170
plc_result: True
sendmessage: 20210406011941170,1,000078,000073
send message to PLC: 2021-04-06 01:19:41.302
time gap: 0:00:00.012216
2021-04-06 01:19:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:43.028
lastevent: 2021-04-06 01:19:43.017, last ten sensor data: [('2021-04-06 01:19:42.600', 'D+000003.6'), ('2021-04-06 01:19:42.620', 'D+000003.6'), ('2021-04-06 01:19:42.640', 'D+000003.6'), ('2021-04-06 01:19:42.660', 'D+000003.6'), ('2021-04-06 01:19:42.810', 'D+000005.2'), ('2021-04-06 01:19:42.830', 'D+000005.8'), ('2021-04-06 01:19:42.850', 'D+000006.4'), ('2021-04-06 01:19:42.870', 'D+000007.4'), ('2021-04-06 01:19:42.890', 'D+000007.4'), ('2021-04-06 01:19:42.910', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.8, 6.4, 7.4, 7.4, 7.0]
np.array X: [[5.2]
 [5.8]
 [6.4]
 [7.4]
 [7.4]
 [7. ]]
revised_weight: 6.7
2021-04-06 01:19:42.910: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:19:42.910
plc_result: True
sendmessage: 20210406011942910,1,000070,000067
send message to PLC: 2021-04-06 01:19:43.040
time gap: 0:00:00.012305
2021-04-06 01:19:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:43: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:19:43: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:43: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:43: select done
2021-04-06 01:19:43: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:19:43: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:19:43: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:19:43: count: 4 in httpPlcDataSender thread
2021-04-06 01:19:43: D+: 4 in httpPlcDataSender thread
2021-04-06 01:19:43: D-: 0 in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:19:43.749
2021-04-06 01:19:43: S+: 0 in httpPlcDataSender thread
lastevent: 2021-04-06 01:19:43.736, last ten sensor data: [('2021-04-06 01:19:43.150', 'D+000007.4'), ('2021-04-06 01:19:43.290', 'D+000007.0'), ('2021-04-06 01:19:43.320', 'D+000007.2'), ('2021-04-06 01:19:43.340', 'D+000007.0'), ('2021-04-06 01:19:43.360', 'D+000006.8'), ('2021-04-06 01:19:43.380', 'D+000007.4'), ('2021-04-06 01:19:43.560', 'D+000007.0'), ('2021-04-06 01:19:43.580', 'D+000007.0'), ('2021-04-06 01:19:43.600', 'D+000007.0'), ('2021-04-06 01:19:43.620', 'D+000007.4')]
2021-04-06 01:19:43: S-: 0 in httpPlcDataSender thread
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.0', 'sensorAt': '2021-04-06 01:19:39.700'}, {'value': '11.7', 'sensorAt': '2021-04-06 01:19:40.180'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:19:41.170'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:19:42.910'}]} in httpPlcDataSender thread
list X: [6.8, 7.4, 7.0, 7.0, 7.0, 7.4]
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:39.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:40.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:41.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:42.910'}]} in httpPlcDataSender thread
np.array X: [[6.8]
 [7.4]
 [7. ]
 [7. ]
 [7. ]
 [7.4]]
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:19:43', 'collectDate': '2021-04-06 01:19:43', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.0', 'sensorAt': '2021-04-06 01:19:39.700'}, {'value': '11.7', 'sensorAt': '2021-04-06 01:19:40.180'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:19:41.170'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:19:42.910'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:39.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:40.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:41.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:42.910'}]}]} in httpPlcDataSender thread
revised_weight: 6.9
2021-04-06 01:19:43.620: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:19:43.620
plc_result: True
sendmessage: 20210406011943620,1,000074,000069
True in httpPlcDataSender thread
send message to PLC: 2021-04-06 01:19:43.765
time gap: 0:00:00.015926
2021-04-06 01:19:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:43: send http
2021-04-06 01:19:43: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:19:43: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:44: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:19:45.435
lastevent: 2021-04-06 01:19:45.427, last ten sensor data: [('2021-04-06 01:19:44.850', 'D+000003.6'), ('2021-04-06 01:19:45.030', 'D+000004.0'), ('2021-04-06 01:19:45.050', 'D+000003.8'), ('2021-04-06 01:19:45.070', 'D+000003.8'), ('2021-04-06 01:19:45.090', 'D+000004.2'), ('2021-04-06 01:19:45.260', 'D+000008.2'), ('2021-04-06 01:19:45.280', 'D+000009.0'), ('2021-04-06 01:19:45.300', 'D+000009.2'), ('2021-04-06 01:19:45.320', 'D+000008.6'), ('2021-04-06 01:19:45.340', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 8.2, 9.0, 9.2, 8.6, 8.0]
np.array X: [[4.2]
 [8.2]
 [9. ]
 [9.2]
 [8.6]
 [8. ]]
revised_weight: 10.4
2021-04-06 01:19:45.340: revising weight finished
revised_weight: 10.4 at 2021-04-06 01:19:45.340
plc_result: True
sendmessage: 20210406011945340,1,000080,000104
send message to PLC: 2021-04-06 01:19:45.442
time gap: 0:00:00.007137
2021-04-06 01:19:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:46.461
lastevent: 2021-04-06 01:19:46.451, last ten sensor data: [('2021-04-06 01:19:45.930', 'D+000004.8'), ('2021-04-06 01:19:46.110', 'D+000004.8'), ('2021-04-06 01:19:46.130', 'D+000004.8'), ('2021-04-06 01:19:46.150', 'D+000004.6'), ('2021-04-06 01:19:46.170', 'D+000004.8'), ('2021-04-06 01:19:46.350', 'D+000007.4'), ('2021-04-06 01:19:46.370', 'D+000008.4'), ('2021-04-06 01:19:46.390', 'D+000007.8'), ('2021-04-06 01:19:46.410', 'D+000006.2'), ('2021-04-06 01:19:46.430', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 7.4, 8.4, 7.8, 6.2, 6.4]
np.array X: [[4.8]
 [7.4]
 [8.4]
 [7.8]
 [6.2]
 [6.4]]
revised_weight: 7.3
2021-04-06 01:19:46.430: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:19:46.430
plc_result: True
sendmessage: 20210406011946430,1,000064,000073
send message to PLC: 2021-04-06 01:19:46.494
time gap: 0:00:00.032388
2021-04-06 01:19:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:48.964
lastevent: 2021-04-06 01:19:48.958, last ten sensor data: [('2021-04-06 01:19:48.560', 'D+000003.0'), ('2021-04-06 01:19:48.580', 'D+000003.0'), ('2021-04-06 01:19:48.600', 'D+000003.0'), ('2021-04-06 01:19:48.620', 'D+000002.8'), ('2021-04-06 01:19:48.640', 'D+000002.8'), ('2021-04-06 01:19:48.800', 'D+000006.8'), ('2021-04-06 01:19:48.820', 'D+000007.0'), ('2021-04-06 01:19:48.840', 'D+000008.0'), ('2021-04-06 01:19:48.860', 'D+000009.0'), ('2021-04-06 01:19:48.880', 'D+000010.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 6.8, 7.0, 8.0, 9.0, 10.2]
np.array X: [[ 2.8]
 [ 6.8]
 [ 7. ]
 [ 8. ]
 [ 9. ]
 [10.2]]
revised_weight: 9.1
2021-04-06 01:19:48.880: revising weight finished
revised_weight: 9.1 at 2021-04-06 01:19:48.880
plc_result: True
sendmessage: 20210406011948880,1,000102,000091
send message to PLC: 2021-04-06 01:19:48.973
time gap: 0:00:00.008693
2021-04-06 01:19:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:49: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:19:49: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:49: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:49: select done
2021-04-06 01:19:49: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:19:49: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:19:49: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:19:49: count: 4 in httpPlcDataSender thread
2021-04-06 01:19:49: D+: 4 in httpPlcDataSender thread
2021-04-06 01:19:49: D-: 0 in httpPlcDataSender thread
2021-04-06 01:19:49: S+: 0 in httpPlcDataSender thread
2021-04-06 01:19:49: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.9', 'sensorAt': '2021-04-06 01:19:43.620'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:19:45.340'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:19:46.430'}, {'value': '9.1', 'sensorAt': '2021-04-06 01:19:48.880'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:43.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:45.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:46.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:48.880'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:19:49', 'collectDate': '2021-04-06 01:19:48', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.9', 'sensorAt': '2021-04-06 01:19:43.620'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:19:45.340'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:19:46.430'}, {'value': '9.1', 'sensorAt': '2021-04-06 01:19:48.880'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:43.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:45.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:46.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:48.880'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:19:49: send http
2021-04-06 01:19:49: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:19:49: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:49: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:19:51.352
lastevent: 2021-04-06 01:19:51.337, last ten sensor data: [('2021-04-06 01:19:50.860', 'D+000003.0'), ('2021-04-06 01:19:51.050', 'D+000002.6'), ('2021-04-06 01:19:51.070', 'D+000002.6'), ('2021-04-06 01:19:51.090', 'D+000002.8'), ('2021-04-06 01:19:51.110', 'D+000002.8'), ('2021-04-06 01:19:51.130', 'D+000002.8'), ('2021-04-06 01:19:51.280', 'D+000006.2'), ('2021-04-06 01:19:51.310', 'D+000006.4'), ('2021-04-06 01:19:51.330', 'D+000006.0'), ('2021-04-06 01:19:51.350', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 6.2, 6.4, 6.0, 6.6]
np.array X: [[2.8]
 [2.8]
 [6.2]
 [6.4]
 [6. ]
 [6.6]]
revised_weight: 6.5
2021-04-06 01:19:51.350: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:19:51.350
plc_result: True
sendmessage: 20210406011951350,1,000066,000065
send message to PLC: 2021-04-06 01:19:51.361
time gap: 0:00:00.009435
2021-04-06 01:19:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:52.678
lastevent: 2021-04-06 01:19:52.672, last ten sensor data: [('2021-04-06 01:19:52.120', 'D+000003.4'), ('2021-04-06 01:19:52.310', 'D+000003.2'), ('2021-04-06 01:19:52.330', 'D+000003.2'), ('2021-04-06 01:19:52.350', 'D+000003.6'), ('2021-04-06 01:19:52.370', 'D+000003.6'), ('2021-04-06 01:19:52.390', 'D+000003.8'), ('2021-04-06 01:19:52.560', 'D+000004.2'), ('2021-04-06 01:19:52.580', 'D+000004.0'), ('2021-04-06 01:19:52.600', 'D+000004.2'), ('2021-04-06 01:19:52.620', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.8, 4.2, 4.0, 4.2, 4.2]
np.array X: [[3.6]
 [3.8]
 [4.2]
 [4. ]
 [4.2]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:19:52.620: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:19:52.620
plc_result: True
sendmessage: 20210406011952620,1,000042,000042
send message to PLC: 2021-04-06 01:19:52.687
time gap: 0:00:00.008901
2021-04-06 01:19:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:53.268
lastevent: 2021-04-06 01:19:53.253, last ten sensor data: [0, ('2021-04-06 01:19:52.800', 'D+000004.0'), ('2021-04-06 01:19:52.820', 'D+000003.6'), ('2021-04-06 01:19:52.840', 'D+000003.6'), ('2021-04-06 01:19:52.860', 'D+000003.8'), ('2021-04-06 01:19:53.040', 'D+000004.2'), ('2021-04-06 01:19:53.060', 'D+000004.6'), ('2021-04-06 01:19:53.080', 'D+000004.6'), ('2021-04-06 01:19:53.100', 'D+000004.6'), ('2021-04-06 01:19:53.120', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.2, 4.6, 4.6, 4.6, 4.2]
np.array X: [[3.8]
 [4.2]
 [4.6]
 [4.6]
 [4.6]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:19:53.120: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:19:53.120
plc_result: True
sendmessage: 20210406011953120,1,000042,000043
send message to PLC: 2021-04-06 01:19:53.275
time gap: 0:00:00.007122
2021-04-06 01:19:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:53.954
lastevent: 2021-04-06 01:19:53.939, last ten sensor data: [('2021-04-06 01:19:53.360', 'D+000004.0'), ('2021-04-06 01:19:53.530', 'D+000004.0'), ('2021-04-06 01:19:53.550', 'D+000004.0'), ('2021-04-06 01:19:53.570', 'D+000004.0'), ('2021-04-06 01:19:53.590', 'D+000004.4'), ('2021-04-06 01:19:53.780', 'D+000005.0'), ('2021-04-06 01:19:53.800', 'D+000005.2'), ('2021-04-06 01:19:53.820', 'D+000005.2'), ('2021-04-06 01:19:53.840', 'D+000005.2'), ('2021-04-06 01:19:53.860', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.0, 5.2, 5.2, 5.2, 5.2]
np.array X: [[4.4]
 [5. ]
 [5.2]
 [5.2]
 [5.2]
 [5.2]]
revised_weight: 5.0
2021-04-06 01:19:53.860: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:19:53.860
plc_result: True
sendmessage: 20210406011953860,1,000052,000050
send message to PLC: 2021-04-06 01:19:53.974
time gap: 0:00:00.020651
2021-04-06 01:19:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:54: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:19:54: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:54: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:19:54: select done
2021-04-06 01:19:54: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:19:54: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:19:54: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:19:54: count: 4 in httpPlcDataSender thread
2021-04-06 01:19:54: D+: 4 in httpPlcDataSender thread
2021-04-06 01:19:54: D-: 0 in httpPlcDataSender thread
2021-04-06 01:19:54: S+: 0 in httpPlcDataSender thread
2021-04-06 01:19:54: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:19:51.350'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:19:52.620'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:19:53.120'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:19:53.860'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:51.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:52.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:53.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:53.860'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:19:54', 'collectDate': '2021-04-06 01:19:53', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:19:51.350'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:19:52.620'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:19:53.120'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:19:53.860'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:51.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:52.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:53.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:53.860'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:19:55: send http
2021-04-06 01:19:55: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:19:55: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:19:55: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:19:57.196
lastevent: 2021-04-06 01:19:57.189, last ten sensor data: [('2021-04-06 01:19:56.580', 'D+000002.2'), ('2021-04-06 01:19:56.750', 'D+000002.2'), ('2021-04-06 01:19:56.770', 'D+000002.4'), ('2021-04-06 01:19:56.790', 'D+000002.4'), ('2021-04-06 01:19:56.810', 'D+000002.6'), ('2021-04-06 01:19:56.830', 'D+000003.2'), ('2021-04-06 01:19:57.000', 'D+000004.2'), ('2021-04-06 01:19:57.020', 'D+000004.2'), ('2021-04-06 01:19:57.040', 'D+000004.2'), ('2021-04-06 01:19:57.060', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.2, 4.2, 4.2, 4.2, 4.8]
np.array X: [[2.6]
 [3.2]
 [4.2]
 [4.2]
 [4.2]
 [4.8]]
revised_weight: 4.2
2021-04-06 01:19:57.060: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:19:57.060
plc_result: True
sendmessage: 20210406011957060,1,000048,000042
send message to PLC: 2021-04-06 01:19:57.203
time gap: 0:00:00.006673
2021-04-06 01:19:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:57.824
lastevent: 2021-04-06 01:19:57.817, last ten sensor data: [('2021-04-06 01:19:57.320', 'D+000005.0'), ('2021-04-06 01:19:57.490', 'D+000005.4'), ('2021-04-06 01:19:57.510', 'D+000005.6'), ('2021-04-06 01:19:57.530', 'D+000005.8'), ('2021-04-06 01:19:57.550', 'D+000005.8'), ('2021-04-06 01:19:57.740', 'D+000010.6'), ('2021-04-06 01:19:57.760', 'D+000010.4'), ('2021-04-06 01:19:57.780', 'D+000009.2'), ('2021-04-06 01:19:57.800', 'D+000008.8'), ('2021-04-06 01:19:57.820', 'D+000008.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 10.6, 10.4, 9.2, 8.8, 8.6]
np.array X: [[ 5.8]
 [10.6]
 [10.4]
 [ 9.2]
 [ 8.8]
 [ 8.6]]
revised_weight: 10.0
2021-04-06 01:19:57.820: revising weight finished
revised_weight: 10.0 at 2021-04-06 01:19:57.820
plc_result: True
sendmessage: 20210406011957820,1,000086,000100
send message to PLC: 2021-04-06 01:19:57.831
time gap: 0:00:00.006622
2021-04-06 01:19:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:58.743
lastevent: 2021-04-06 01:19:58.728, last ten sensor data: [('2021-04-06 01:19:58.240', 'D+000009.4'), ('2021-04-06 01:19:58.260', 'D+000009.0'), ('2021-04-06 01:19:58.280', 'D+000008.6'), ('2021-04-06 01:19:58.370', 'D+000004.6'), ('2021-04-06 01:19:58.480', 'D+000005.0'), ('2021-04-06 01:19:58.500', 'D+000004.4'), ('2021-04-06 01:19:58.520', 'D+000004.4'), ('2021-04-06 01:19:58.540', 'D+000004.2'), ('2021-04-06 01:19:58.710', 'D+000003.6'), ('2021-04-06 01:19:58.730', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.4, 4.4, 4.2, 3.6, 3.6]
np.array X: [[5. ]
 [4.4]
 [4.4]
 [4.2]
 [3.6]
 [3.6]]
revised_weight: 3.8
2021-04-06 01:19:58.730: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:19:58.730
plc_result: True
sendmessage: 20210406011958730,1,000036,000038
send message to PLC: 2021-04-06 01:19:58.750
time gap: 0:00:00.006673
2021-04-06 01:19:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
trigger sensor detected: 2021-04-06 01:19:59.101
lastevent: 2021-04-06 01:19:59.093, last ten sensor data: [0, 0, 0, ('2021-04-06 01:19:58.750', 'D+000003.4'), ('2021-04-06 01:19:58.770', 'D+000003.6'), ('2021-04-06 01:19:58.950', 'D+000003.2'), ('2021-04-06 01:19:58.970', 'D+000003.4'), ('2021-04-06 01:19:58.990', 'D+000003.6'), ('2021-04-06 01:19:59.010', 'D+000003.4'), ('2021-04-06 01:19:59.030', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.2, 3.4, 3.6, 3.4, 3.4]
np.array X: [[3.6]
 [3.2]
 [3.4]
 [3.6]
 [3.4]
 [3.4]]
revised_weight: 3.2
2021-04-06 01:19:59.030: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:19:59.030
plc_result: True
sendmessage: 20210406011959030,1,000034,000032
send message to PLC: 2021-04-06 01:19:59.107
time gap: 0:00:00.006548
2021-04-06 01:19:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
1[838]: datalist_to_store size: 838
2021-04-06 01:20:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
current_plcdb_name: plcdata2021-04-06_01_20.db
2021-04-06 01:20:00: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:20:00: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:00: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:20:00: select done
2021-04-06 01:20:00: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:20:00: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:20:00: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:20:00: count: 4 in httpPlcDataSender thread
2021-04-06 01:20:00: D+: 4 in httpPlcDataSender thread
2021-04-06 01:20:00: D-: 0 in httpPlcDataSender thread
2021-04-06 01:20:00: S+: 0 in httpPlcDataSender thread
2021-04-06 01:20:00: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.2', 'sensorAt': '2021-04-06 01:19:57.060'}, {'value': '10.0', 'sensorAt': '2021-04-06 01:19:57.820'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:19:58.730'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:19:59.030'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:57.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:57.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:58.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:59.030'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:20:00', 'collectDate': '2021-04-06 01:19:59', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.2', 'sensorAt': '2021-04-06 01:19:57.060'}, {'value': '10.0', 'sensorAt': '2021-04-06 01:19:57.820'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:19:58.730'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:19:59.030'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:19:57.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:57.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:58.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:19:59.030'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:20:00: send http
2021-04-06 01:20:00: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:20:00: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:20:00.718
lastevent: 2021-04-06 01:20:00.712, last ten sensor data: [('2021-04-06 01:20:00.240', 'D+000001.6'), ('2021-04-06 01:20:00.420', 'D+000002.8'), ('2021-04-06 01:20:00.440', 'D+000002.2'), ('2021-04-06 01:20:00.460', 'D+000002.0'), ('2021-04-06 01:20:00.480', 'D+000002.2'), ('2021-04-06 01:20:00.500', 'D+000002.6'), ('2021-04-06 01:20:00.660', 'D+000003.6'), ('2021-04-06 01:20:00.680', 'D+000002.8'), ('2021-04-06 01:20:00.700', 'D+000002.4'), ('2021-04-06 01:20:00.720', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.6, 3.6, 2.8, 2.4, 2.8]
np.array X: [[2.2]
 [2.6]
 [3.6]
 [2.8]
 [2.4]
 [2.8]]
revised_weight: 3.1
2021-04-06 01:20:00.720: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:20:00.720
plc_result: True
sendmessage: 20210406012000720,1,000028,000031
send message to PLC: 2021-04-06 01:20:00.725
time gap: 0:00:00.006630
2021-04-06 01:20:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:00: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:20:01.944
lastevent: 2021-04-06 01:20:01.942, last ten sensor data: [('2021-04-06 01:20:01.460', 'D+000002.0'), ('2021-04-06 01:20:01.480', 'D+000002.2'), ('2021-04-06 01:20:01.650', 'D+000004.0'), ('2021-04-06 01:20:01.670', 'D+000003.6'), ('2021-04-06 01:20:01.690', 'D+000004.2'), ('2021-04-06 01:20:01.710', 'D+000004.2'), ('2021-04-06 01:20:01.890', 'D+000007.0'), ('2021-04-06 01:20:01.910', 'D+000006.2'), ('2021-04-06 01:20:01.930', 'D+000006.0'), ('2021-04-06 01:20:01.950', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 7.0, 6.2, 6.0, 6.8]
np.array X: [[4.2]
 [4.2]
 [7. ]
 [6.2]
 [6. ]
 [6.8]]
revised_weight: 7.1
2021-04-06 01:20:01.950: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:20:01.950
plc_result: True
sendmessage: 20210406012001950,1,000068,000071
send message to PLC: 2021-04-06 01:20:01.958
time gap: 0:00:00.013977
2021-04-06 01:20:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:02.946
lastevent: 2021-04-06 01:20:02.944, last ten sensor data: [('2021-04-06 01:20:02.610', 'D+000003.8'), ('2021-04-06 01:20:02.650', 'D+000003.6'), ('2021-04-06 01:20:02.670', 'D+000003.4'), ('2021-04-06 01:20:02.690', 'D+000003.2'), ('2021-04-06 01:20:02.710', 'D+000003.2'), ('2021-04-06 01:20:02.870', 'D+000003.8'), ('2021-04-06 01:20:02.890', 'D+000003.4'), ('2021-04-06 01:20:02.910', 'D+000004.0'), ('2021-04-06 01:20:02.930', 'D+000004.6'), ('2021-04-06 01:20:02.950', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.8, 3.4, 4.0, 4.6, 3.8]
np.array X: [[3.2]
 [3.8]
 [3.4]
 [4. ]
 [4.6]
 [3.8]]
revised_weight: 3.5
2021-04-06 01:20:02.950: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:20:02.950
plc_result: True
sendmessage: 20210406012002950,1,000038,000035
send message to PLC: 2021-04-06 01:20:02.960
time gap: 0:00:00.014352
2021-04-06 01:20:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:03.824
lastevent: 2021-04-06 01:20:03.815, last ten sensor data: [('2021-04-06 01:20:03.180', 'D+000003.8'), ('2021-04-06 01:20:03.360', 'D+000003.4'), ('2021-04-06 01:20:03.380', 'D+000003.2'), ('2021-04-06 01:20:03.400', 'D+000003.2'), ('2021-04-06 01:20:03.420', 'D+000003.4'), ('2021-04-06 01:20:03.600', 'D+000003.2'), ('2021-04-06 01:20:03.620', 'D+000003.0'), ('2021-04-06 01:20:03.640', 'D+000003.0'), ('2021-04-06 01:20:03.660', 'D+000003.0'), ('2021-04-06 01:20:03.680', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.2, 3.0, 3.0, 3.0, 3.0]
np.array X: [[3.4]
 [3.2]
 [3. ]
 [3. ]
 [3. ]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:20:03.680: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:20:03.680
plc_result: True
sendmessage: 20210406012003680,1,000030,000029
send message to PLC: 2021-04-06 01:20:03.836
time gap: 0:00:00.012076
2021-04-06 01:20:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:05.578
lastevent: 2021-04-06 01:20:05.568, last ten sensor data: [('2021-04-06 01:20:05.110', 'D+000001.8'), ('2021-04-06 01:20:05.130', 'D+000001.8'), ('2021-04-06 01:20:05.150', 'D+000002.2'), ('2021-04-06 01:20:05.320', 'D+000004.6'), ('2021-04-06 01:20:05.340', 'D+000006.0'), ('2021-04-06 01:20:05.360', 'D+000006.8'), ('2021-04-06 01:20:05.380', 'D+000006.6'), ('2021-04-06 01:20:05.400', 'D+000005.2'), ('2021-04-06 01:20:05.560', 'D+000007.2'), ('2021-04-06 01:20:05.580', 'D+000009.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.8, 6.6, 5.2, 7.2, 9.0]
np.array X: [[6. ]
 [6.8]
 [6.6]
 [5.2]
 [7.2]
 [9. ]]
revised_weight: 7.3
2021-04-06 01:20:05.580: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:20:05.580
plc_result: True
sendmessage: 20210406012005580,1,000090,000073
send message to PLC: 2021-04-06 01:20:05.596
time gap: 0:00:00.017645
2021-04-06 01:20:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:05: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:20:05: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:05: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:20:05: select done
2021-04-06 01:20:05: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:20:05: No Data remains in httpPlcDataSender thread
2021-04-06 01:20:05: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_10.db
2021-04-06 01:20:06: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db']
2021-04-06 01:20:06: current db filename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_20.db
select_plcdb_filename: b
2021-04-06 01:20:06: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:06: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:06: select done
2021-04-06 01:20:06: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:20:06: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:20:06: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:20:06: count: 5 in httpPlcDataSender thread
2021-04-06 01:20:06: D+: 5 in httpPlcDataSender thread
2021-04-06 01:20:06: D-: 0 in httpPlcDataSender thread
2021-04-06 01:20:06: S+: 0 in httpPlcDataSender thread
2021-04-06 01:20:06: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.1', 'sensorAt': '2021-04-06 01:20:00.720'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:20:01.950'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:20:02.950'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:20:03.680'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:20:05.580'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:00.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:01.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:02.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:03.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:05.580'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:20:06', 'collectDate': '2021-04-06 01:20:05', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.1', 'sensorAt': '2021-04-06 01:20:00.720'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:20:01.950'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:20:02.950'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:20:03.680'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:20:05.580'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:00.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:01.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:02.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:03.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:05.580'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:20:06: send http
2021-04-06 01:20:06: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:20:06: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:06: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:20:06.925
lastevent: 2021-04-06 01:20:06.913, last ten sensor data: [('2021-04-06 01:20:06.550', 'D+000003.0'), ('2021-04-06 01:20:06.570', 'D+000003.6'), ('2021-04-06 01:20:06.590', 'D+000003.8'), ('2021-04-06 01:20:06.610', 'D+000004.2'), ('2021-04-06 01:20:06.630', 'D+000004.2'), ('2021-04-06 01:20:06.710', 'D+000005.0'), ('2021-04-06 01:20:06.730', 'D+000004.8'), ('2021-04-06 01:20:06.750', 'D+000005.6'), ('2021-04-06 01:20:06.770', 'D+000005.8'), ('2021-04-06 01:20:06.790', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.0, 4.8, 5.6, 5.8, 6.0]
np.array X: [[4.2]
 [5. ]
 [4.8]
 [5.6]
 [5.8]
 [6. ]]
revised_weight: 5.0
2021-04-06 01:20:06.790: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:20:06.790
plc_result: True
sendmessage: 20210406012006790,1,000060,000050
send message to PLC: 2021-04-06 01:20:06.937
time gap: 0:00:00.012496
2021-04-06 01:20:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:07.735
lastevent: 2021-04-06 01:20:07.732, last ten sensor data: [('2021-04-06 01:20:07.250', 'D+000006.6'), ('2021-04-06 01:20:07.270', 'D+000007.0'), ('2021-04-06 01:20:07.440', 'D+000006.8'), ('2021-04-06 01:20:07.460', 'D+000006.2'), ('2021-04-06 01:20:07.480', 'D+000006.4'), ('2021-04-06 01:20:07.500', 'D+000007.4'), ('2021-04-06 01:20:07.680', 'D+000005.4'), ('2021-04-06 01:20:07.700', 'D+000005.6'), ('2021-04-06 01:20:07.720', 'D+000005.8'), ('2021-04-06 01:20:07.740', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 7.4, 5.4, 5.6, 5.8, 5.8]
np.array X: [[6.4]
 [7.4]
 [5.4]
 [5.6]
 [5.8]
 [5.8]]
revised_weight: 6.1
2021-04-06 01:20:07.740: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:20:07.740
plc_result: True
sendmessage: 20210406012007740,1,000058,000061
send message to PLC: 2021-04-06 01:20:07.747
time gap: 0:00:00.011952
2021-04-06 01:20:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:09.974
lastevent: 2021-04-06 01:20:09.962, last ten sensor data: [('2021-04-06 01:20:09.620', 'D+000003.0'), ('2021-04-06 01:20:09.640', 'D+000003.0'), ('2021-04-06 01:20:09.660', 'D+000003.4'), ('2021-04-06 01:20:09.680', 'D+000003.4'), ('2021-04-06 01:20:09.700', 'D+000003.8'), ('2021-04-06 01:20:09.850', 'D+000005.4'), ('2021-04-06 01:20:09.870', 'D+000006.0'), ('2021-04-06 01:20:09.890', 'D+000006.8'), ('2021-04-06 01:20:09.910', 'D+000006.8'), ('2021-04-06 01:20:09.930', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.4, 6.0, 6.8, 6.8, 7.0]
np.array X: [[3.8]
 [5.4]
 [6. ]
 [6.8]
 [6.8]
 [7. ]]
revised_weight: 6.7
2021-04-06 01:20:09.930: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:20:09.930
plc_result: True
sendmessage: 20210406012009930,1,000070,000067
send message to PLC: 2021-04-06 01:20:09.986
time gap: 0:00:00.011889
2021-04-06 01:20:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:10.866
lastevent: 2021-04-06 01:20:10.854, last ten sensor data: [('2021-04-06 01:20:10.390', 'D+000006.6'), ('2021-04-06 01:20:10.410', 'D+000007.0'), ('2021-04-06 01:20:10.430', 'D+000007.2'), ('2021-04-06 01:20:10.590', 'D+000008.2'), ('2021-04-06 01:20:10.610', 'D+000008.6'), ('2021-04-06 01:20:10.630', 'D+000009.0'), ('2021-04-06 01:20:10.650', 'D+000009.2'), ('2021-04-06 01:20:10.670', 'D+000009.0'), ('2021-04-06 01:20:10.830', 'D+000013.8'), ('2021-04-06 01:20:10.850', 'D+000015.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 9.0, 9.2, 9.0, 13.8, 15.0]
np.array X: [[ 8.6]
 [ 9. ]
 [ 9.2]
 [ 9. ]
 [13.8]
 [15. ]]
revised_weight: 12.6
2021-04-06 01:20:10.850: revising weight finished
revised_weight: 12.6 at 2021-04-06 01:20:10.850
plc_result: True
sendmessage: 20210406012010850,1,000150,000126
send message to PLC: 2021-04-06 01:20:10.904
time gap: 0:00:00.038841
2021-04-06 01:20:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:11: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:20:11: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:11: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:11: select done
2021-04-06 01:20:11: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:20:11: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:20:11: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:20:11: count: 4 in httpPlcDataSender thread
2021-04-06 01:20:11: D+: 4 in httpPlcDataSender thread
2021-04-06 01:20:11: D-: 0 in httpPlcDataSender thread
2021-04-06 01:20:11: S+: 0 in httpPlcDataSender thread
2021-04-06 01:20:11: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.0', 'sensorAt': '2021-04-06 01:20:06.790'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:20:07.740'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:20:09.930'}, {'value': '12.6', 'sensorAt': '2021-04-06 01:20:10.850'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:06.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:07.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:09.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:10.850'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:20:11', 'collectDate': '2021-04-06 01:20:10', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.0', 'sensorAt': '2021-04-06 01:20:06.790'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:20:07.740'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:20:09.930'}, {'value': '12.6', 'sensorAt': '2021-04-06 01:20:10.850'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:06.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:07.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:09.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:10.850'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:20:12: send http
2021-04-06 01:20:12: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:20:12: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:12: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:20:12.605
lastevent: 2021-04-06 01:20:12.593, last ten sensor data: [('2021-04-06 01:20:12.210', 'D+000003.4'), ('2021-04-06 01:20:12.230', 'D+000003.6'), ('2021-04-06 01:20:12.250', 'D+000003.8'), ('2021-04-06 01:20:12.270', 'D+000003.8'), ('2021-04-06 01:20:12.290', 'D+000004.4'), ('2021-04-06 01:20:12.450', 'D+000007.8'), ('2021-04-06 01:20:12.470', 'D+000007.0'), ('2021-04-06 01:20:12.490', 'D+000005.2'), ('2021-04-06 01:20:12.510', 'D+000005.0'), ('2021-04-06 01:20:12.530', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 7.8, 7.0, 5.2, 5.0, 6.2]
np.array X: [[4.4]
 [7.8]
 [7. ]
 [5.2]
 [5. ]
 [6.2]]
revised_weight: 6.9
2021-04-06 01:20:12.530: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:20:12.530
plc_result: True
sendmessage: 20210406012012530,1,000062,000069
send message to PLC: 2021-04-06 01:20:12.617
time gap: 0:00:00.011401
2021-04-06 01:20:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:13.239
lastevent: 2021-04-06 01:20:13.231, last ten sensor data: [('2021-04-06 01:20:12.760', 'D+000005.6'), ('2021-04-06 01:20:12.780', 'D+000005.6'), ('2021-04-06 01:20:12.950', 'D+000005.0'), ('2021-04-06 01:20:12.970', 'D+000004.6'), ('2021-04-06 01:20:12.990', 'D+000004.4'), ('2021-04-06 01:20:13.010', 'D+000004.6'), ('2021-04-06 01:20:13.030', 'D+000004.6'), ('2021-04-06 01:20:13.200', 'D+000004.0'), ('2021-04-06 01:20:13.220', 'D+000004.0'), ('2021-04-06 01:20:13.240', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 4.6, 4.0, 4.0, 3.8]
np.array X: [[4.4]
 [4.6]
 [4.6]
 [4. ]
 [4. ]
 [3.8]]
revised_weight: 4.2
2021-04-06 01:20:13.240: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:20:13.240
plc_result: True
sendmessage: 20210406012013240,1,000038,000042
send message to PLC: 2021-04-06 01:20:13.250
time gap: 0:00:00.011342
2021-04-06 01:20:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:13.978
lastevent: 2021-04-06 01:20:13.971, last ten sensor data: [('2021-04-06 01:20:13.620', 'D+000004.0'), ('2021-04-06 01:20:13.640', 'D+000004.2'), ('2021-04-06 01:20:13.660', 'D+000004.2'), ('2021-04-06 01:20:13.680', 'D+000005.0'), ('2021-04-06 01:20:13.700', 'D+000006.0'), ('2021-04-06 01:20:13.860', 'D+000011.2'), ('2021-04-06 01:20:13.880', 'D+000013.0'), ('2021-04-06 01:20:13.900', 'D+000013.8'), ('2021-04-06 01:20:13.920', 'D+000013.8'), ('2021-04-06 01:20:13.940', 'D+000013.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 11.2, 13.0, 13.8, 13.8, 13.6]
np.array X: [[ 6. ]
 [11.2]
 [13. ]
 [13.8]
 [13.8]
 [13.6]]
revised_weight: 13.7
2021-04-06 01:20:13.940: revising weight finished
revised_weight: 13.7 at 2021-04-06 01:20:13.940
plc_result: True
sendmessage: 20210406012013940,1,000136,000137
send message to PLC: 2021-04-06 01:20:13.990
time gap: 0:00:00.011645
2021-04-06 01:20:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:16.448
lastevent: 2021-04-06 01:20:16.435, last ten sensor data: [('2021-04-06 01:20:16.060', 'D+000001.4'), ('2021-04-06 01:20:16.080', 'D+000001.6'), ('2021-04-06 01:20:16.100', 'D+000001.6'), ('2021-04-06 01:20:16.120', 'D+000002.0'), ('2021-04-06 01:20:16.290', 'D+000005.2'), ('2021-04-06 01:20:16.310', 'D+000004.8'), ('2021-04-06 01:20:16.330', 'D+000005.0'), ('2021-04-06 01:20:16.350', 'D+000004.6'), ('2021-04-06 01:20:16.370', 'D+000004.8'), ('2021-04-06 01:20:16.390', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 4.8, 5.0, 4.6, 4.8, 5.6]
np.array X: [[5.2]
 [4.8]
 [5. ]
 [4.6]
 [4.8]
 [5.6]]
revised_weight: 5.0
2021-04-06 01:20:16.390: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:20:16.390
plc_result: True
sendmessage: 20210406012016390,1,000056,000050
send message to PLC: 2021-04-06 01:20:16.459
time gap: 0:00:00.011143
2021-04-06 01:20:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:17: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:20:17: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:20:17.366
lastevent: 2021-04-06 01:20:17.353, last ten sensor data: [('2021-04-06 01:20:16.870', 'D+000004.4'), ('2021-04-06 01:20:17.030', 'D+000003.4'), ('2021-04-06 01:20:17.050', 'D+000003.4'), ('2021-04-06 01:20:17.070', 'D+000003.0'), ('2021-04-06 01:20:17.090', 'D+000003.0'), ('2021-04-06 01:20:17.110', 'D+000003.2'), ('2021-04-06 01:20:17.280', 'D+000004.8'), ('2021-04-06 01:20:17.300', 'D+000004.4'), ('2021-04-06 01:20:17.320', 'D+000004.2'), ('2021-04-06 01:20:17.340', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.2, 4.8, 4.4, 4.2, 4.2]
np.array X: [[3. ]
 [3.2]
 [4.8]
 [4.4]
 [4.2]
 [4.2]]
revised_weight: 4.5
2021-04-06 01:20:17.340: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:20:17.340
plc_result: True
sendmessage: 20210406012017340,1,000042,000045
send message to PLC: 2021-04-06 01:20:17.381
time gap: 0:00:00.015276
2021-04-06 01:20:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:17: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:17: select done
2021-04-06 01:20:17: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:20:17: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:20:17: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:20:17: count: 5 in httpPlcDataSender thread
2021-04-06 01:20:17: D+: 5 in httpPlcDataSender thread
2021-04-06 01:20:17: D-: 0 in httpPlcDataSender thread
2021-04-06 01:20:17: S+: 0 in httpPlcDataSender thread
2021-04-06 01:20:17: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.9', 'sensorAt': '2021-04-06 01:20:12.530'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:20:13.240'}, {'value': '13.7', 'sensorAt': '2021-04-06 01:20:13.940'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:20:16.390'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:20:17.340'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:12.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:13.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:13.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:16.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:17.340'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:20:17', 'collectDate': '2021-04-06 01:20:17', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.9', 'sensorAt': '2021-04-06 01:20:12.530'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:20:13.240'}, {'value': '13.7', 'sensorAt': '2021-04-06 01:20:13.940'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:20:16.390'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:20:17.340'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:12.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:13.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:13.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:16.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:17.340'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:20:17: send http
2021-04-06 01:20:17: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:20:17: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:17: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:20:21.321
lastevent: 2021-04-06 01:20:21.306, last ten sensor data: [('2021-04-06 01:20:20.700', 'D+000001.4'), ('2021-04-06 01:20:20.870', 'D+000001.6'), ('2021-04-06 01:20:20.890', 'D+000001.8'), ('2021-04-06 01:20:20.910', 'D+000001.6'), ('2021-04-06 01:20:20.930', 'D+000001.8'), ('2021-04-06 01:20:20.950', 'D+000001.8'), ('2021-04-06 01:20:21.130', 'D+000004.0'), ('2021-04-06 01:20:21.150', 'D+000004.4'), ('2021-04-06 01:20:21.170', 'D+000004.6'), ('2021-04-06 01:20:21.190', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 1.8, 4.0, 4.4, 4.6, 4.8]
np.array X: [[1.8]
 [1.8]
 [4. ]
 [4.4]
 [4.6]
 [4.8]]
revised_weight: 4.5
2021-04-06 01:20:21.190: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:20:21.190
plc_result: True
sendmessage: 20210406012021190,1,000048,000045
send message to PLC: 2021-04-06 01:20:21.332
time gap: 0:00:00.011160
2021-04-06 01:20:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:22.567
lastevent: 2021-04-06 01:20:22.552, last ten sensor data: [('2021-04-06 01:20:22.080', 'D+000002.4'), ('2021-04-06 01:20:22.100', 'D+000002.4'), ('2021-04-06 01:20:22.120', 'D+000002.4'), ('2021-04-06 01:20:22.140', 'D+000002.8'), ('2021-04-06 01:20:22.160', 'D+000003.0'), ('2021-04-06 01:20:22.330', 'D+000003.0'), ('2021-04-06 01:20:22.350', 'D+000003.6'), ('2021-04-06 01:20:22.370', 'D+000003.6'), ('2021-04-06 01:20:22.390', 'D+000003.2'), ('2021-04-06 01:20:22.410', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 3.6, 3.6, 3.2, 3.8]
np.array X: [[3. ]
 [3. ]
 [3.6]
 [3.6]
 [3.2]
 [3.8]]
revised_weight: 3.7
2021-04-06 01:20:22.410: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:20:22.410
plc_result: True
sendmessage: 20210406012022410,1,000038,000037
send message to PLC: 2021-04-06 01:20:22.579
time gap: 0:00:00.011720
2021-04-06 01:20:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:22: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:20:22: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:22: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:22: select done
2021-04-06 01:20:22: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:20:22: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:20:23: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:20:23: count: 2 in httpPlcDataSender thread
2021-04-06 01:20:23: D+: 2 in httpPlcDataSender thread
2021-04-06 01:20:23: D-: 0 in httpPlcDataSender thread
2021-04-06 01:20:23: S+: 0 in httpPlcDataSender thread
2021-04-06 01:20:23: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:20:21.190'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:20:22.410'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:21.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:22.410'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:20:23', 'collectDate': '2021-04-06 01:20:22', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:20:21.190'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:20:22.410'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:21.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:22.410'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:20:23: send http
2021-04-06 01:20:23: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:20:23: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:23: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:20:23: httpScaleDataSender thread Timeout occurred
2021-04-06 01:20:23: [13708] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_10.db in httpScaleDataSender thread
2021-04-06 01:20:23: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:20:23: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
2021-04-06 01:20:24: select done
2021-04-06 01:20:24: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:20:24: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:20:24: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:20:24: count: 3000 in httpScaleDataSender thread
2021-04-06 01:20:24: D+: 1023 in httpScaleDataSender thread
2021-04-06 01:20:24: D-: 21 in httpScaleDataSender thread
2021-04-06 01:20:24: S+: 1831 in httpScaleDataSender thread
2021-04-06 01:20:24: S-: 125 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:20:24.910
lastevent: 2021-04-06 01:20:24.899, last ten sensor data: [('2021-04-06 01:20:24.530', 'D+000001.6'), ('2021-04-06 01:20:24.550', 'D+000001.8'), ('2021-04-06 01:20:24.570', 'D+000001.6'), ('2021-04-06 01:20:24.590', 'D+000001.6'), ('2021-04-06 01:20:24.610', 'D+000001.4'), ('2021-04-06 01:20:24.750', 'D+000002.2'), ('2021-04-06 01:20:24.780', 'D+000002.0'), ('2021-04-06 01:20:24.800', 'D+000002.0'), ('2021-04-06 01:20:24.820', 'D+000002.2'), ('2021-04-06 01:20:24.840', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 2.2, 2.0, 2.0, 2.2, 2.2]
np.array X: [[1.4]
 [2.2]
 [2. ]
 [2. ]
 [2.2]
 [2.2]]
revised_weight: 2.2
2021-04-06 01:20:24.840: revising weight finished
revised_weight: 2.2 at 2021-04-06 01:20:24.840
plc_result: True
sendmessage: 20210406012024840,1,000022,000022
send message to PLC: 2021-04-06 01:20:24.921
time gap: 0:00:00.011325
2021-04-06 01:20:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:25.820
lastevent: 2021-04-06 01:20:25.810, last ten sensor data: [('2021-04-06 01:20:25.270', 'D+000002.2'), ('2021-04-06 01:20:25.290', 'D+000002.0'), ('2021-04-06 01:20:25.310', 'D+000002.0'), ('2021-04-06 01:20:25.510', 'D+000006.0'), ('2021-04-06 01:20:25.530', 'D+000005.2'), ('2021-04-06 01:20:25.550', 'D+000004.8'), ('2021-04-06 01:20:25.750', 'D+000013.6'), ('2021-04-06 01:20:25.770', 'D+000012.8'), ('2021-04-06 01:20:25.790', 'D+000012.6'), ('2021-04-06 01:20:25.810', 'D+000013.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 4.8, 13.6, 12.8, 12.6, 13.6]
np.array X: [[ 5.2]
 [ 4.8]
 [13.6]
 [12.8]
 [12.6]
 [13.6]]
revised_weight: 14.2
2021-04-06 01:20:25.810: revising weight finished
revised_weight: 14.2 at 2021-04-06 01:20:25.810
plc_result: True
sendmessage: 20210406012025810,1,000136,000142
send message to PLC: 2021-04-06 01:20:25.827
time gap: 0:00:00.007392
2021-04-06 01:20:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:26: send http
2021-04-06 01:20:26: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:20:26: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:20:26: got 'update query' results  in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:20:27.050
lastevent: 2021-04-06 01:20:27.045, last ten sensor data: [('2021-04-06 01:20:26.560', 'D+000001.8'), ('2021-04-06 01:20:26.720', 'D+000003.2'), ('2021-04-06 01:20:26.740', 'D+000003.2'), ('2021-04-06 01:20:26.760', 'D+000002.8'), ('2021-04-06 01:20:26.780', 'D+000002.8'), ('2021-04-06 01:20:26.800', 'D+000003.8'), ('2021-04-06 01:20:26.970', 'D+000005.0'), ('2021-04-06 01:20:26.990', 'D+000005.6'), ('2021-04-06 01:20:27.010', 'D+000005.6'), ('2021-04-06 01:20:27.030', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.8, 5.0, 5.6, 5.6, 4.6]
np.array X: [[2.8]
 [3.8]
 [5. ]
 [5.6]
 [5.6]
 [4.6]]
revised_weight: 4.7
2021-04-06 01:20:27.030: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:20:27.030
plc_result: True
sendmessage: 20210406012027030,1,000046,000047
send message to PLC: 2021-04-06 01:20:27.057
time gap: 0:00:00.007129
2021-04-06 01:20:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:28: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:20:28: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:28: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:28: select done
2021-04-06 01:20:28: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:20:28: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:20:28: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:20:28: count: 3 in httpPlcDataSender thread
2021-04-06 01:20:28: D+: 3 in httpPlcDataSender thread
2021-04-06 01:20:28: D-: 0 in httpPlcDataSender thread
2021-04-06 01:20:28: S+: 0 in httpPlcDataSender thread
2021-04-06 01:20:28: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.2', 'sensorAt': '2021-04-06 01:20:24.840'}, {'value': '14.2', 'sensorAt': '2021-04-06 01:20:25.810'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:20:27.030'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:24.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:25.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:27.030'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:20:28', 'collectDate': '2021-04-06 01:20:27', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.2', 'sensorAt': '2021-04-06 01:20:24.840'}, {'value': '14.2', 'sensorAt': '2021-04-06 01:20:25.810'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:20:27.030'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:24.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:25.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:27.030'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:20:28: send http
2021-04-06 01:20:28: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:20:28.835
lastevent: 2021-04-06 01:20:28.821, last ten sensor data: [('2021-04-06 01:20:28.430', 'D+000002.6'), ('2021-04-06 01:20:28.450', 'D+000002.8'), ('2021-04-06 01:20:28.470', 'D+000002.6'), ('2021-04-06 01:20:28.490', 'D+000002.8'), ('2021-04-06 01:20:28.510', 'D+000003.2'), ('2021-04-06 01:20:28.670', 'D+000006.4'), ('2021-04-06 01:20:28.690', 'D+000006.4'), ('2021-04-06 01:20:28.710', 'D+000006.8'), ('2021-04-06 01:20:28.730', 'D+000007.0'), ('2021-04-06 01:20:28.750', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 6.4, 6.4, 6.8, 7.0, 7.2]
np.array X: [[3.2]
 [6.4]
 [6.4]
 [6.8]
 [7. ]
 [7.2]]
revised_weight: 7.3
2021-04-06 01:20:28.750: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:20:28.750
plc_result: True
sendmessage: 20210406012028750,1,000072,000073
send message to PLC: 2021-04-06 01:20:28.844
time gap: 0:00:00.008565
2021-04-06 01:20:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
Backupserver True
2021-04-06 01:20:28: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:29: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:20:31.277
lastevent: 2021-04-06 01:20:31.263, last ten sensor data: [('2021-04-06 01:20:30.680', 'D+000002.6'), ('2021-04-06 01:20:30.700', 'D+000002.6'), ('2021-04-06 01:20:30.870', 'D+000002.4'), ('2021-04-06 01:20:30.890', 'D+000003.0'), ('2021-04-06 01:20:30.910', 'D+000003.2'), ('2021-04-06 01:20:30.930', 'D+000003.4'), ('2021-04-06 01:20:31.110', 'D+000005.4'), ('2021-04-06 01:20:31.130', 'D+000006.0'), ('2021-04-06 01:20:31.150', 'D+000006.2'), ('2021-04-06 01:20:31.170', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 5.4, 6.0, 6.2, 6.6]
np.array X: [[3.2]
 [3.4]
 [5.4]
 [6. ]
 [6.2]
 [6.6]]
revised_weight: 5.6
2021-04-06 01:20:31.170: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:20:31.170
plc_result: True
sendmessage: 20210406012031170,1,000066,000056
send message to PLC: 2021-04-06 01:20:31.284
time gap: 0:00:00.006311
2021-04-06 01:20:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:32.041
lastevent: 2021-04-06 01:20:32.027, last ten sensor data: [('2021-04-06 01:20:31.430', 'D+000007.0'), ('2021-04-06 01:20:31.620', 'D+000007.2'), ('2021-04-06 01:20:31.640', 'D+000007.2'), ('2021-04-06 01:20:31.660', 'D+000007.2'), ('2021-04-06 01:20:31.680', 'D+000007.2'), ('2021-04-06 01:20:31.850', 'D+000007.0'), ('2021-04-06 01:20:31.870', 'D+000006.8'), ('2021-04-06 01:20:31.890', 'D+000006.2'), ('2021-04-06 01:20:31.910', 'D+000006.0'), ('2021-04-06 01:20:31.930', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 7.0, 6.8, 6.2, 6.0, 6.2]
np.array X: [[7.2]
 [7. ]
 [6.8]
 [6.2]
 [6. ]
 [6.2]]
revised_weight: 6.7
2021-04-06 01:20:31.930: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:20:31.930
plc_result: True
sendmessage: 20210406012031930,1,000062,000067
send message to PLC: 2021-04-06 01:20:32.047
time gap: 0:00:00.006207
2021-04-06 01:20:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:34: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:20:34: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:34: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:34: select done
2021-04-06 01:20:34: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:20:34: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:20:34: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:20:34: count: 3 in httpPlcDataSender thread
2021-04-06 01:20:34: D+: 3 in httpPlcDataSender thread
2021-04-06 01:20:34: D-: 0 in httpPlcDataSender thread
2021-04-06 01:20:34: S+: 0 in httpPlcDataSender thread
2021-04-06 01:20:34: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.3', 'sensorAt': '2021-04-06 01:20:28.750'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:20:31.170'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:20:31.930'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:28.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:31.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:31.930'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:20:34', 'collectDate': '2021-04-06 01:20:32', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.3', 'sensorAt': '2021-04-06 01:20:28.750'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:20:31.170'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:20:31.930'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:28.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:31.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:31.930'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:20:34: send http
2021-04-06 01:20:34: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:20:34: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:34: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:20:34.962
lastevent: 2021-04-06 01:20:34.943, last ten sensor data: [('2021-04-06 01:20:34.370', 'D+000001.8'), ('2021-04-06 01:20:34.450', 'D+000001.4'), ('2021-04-06 01:20:34.490', 'D+000001.2'), ('2021-04-06 01:20:34.510', 'D+000001.4'), ('2021-04-06 01:20:34.530', 'D+000001.6'), ('2021-04-06 01:20:34.690', 'D+000006.4'), ('2021-04-06 01:20:34.710', 'D+000007.8'), ('2021-04-06 01:20:34.730', 'D+000008.0'), ('2021-04-06 01:20:34.750', 'D+000007.4'), ('2021-04-06 01:20:34.950', 'D+000011.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 6.4, 7.8, 8.0, 7.4, 11.2]
np.array X: [[ 1.6]
 [ 6.4]
 [ 7.8]
 [ 8. ]
 [ 7.4]
 [11.2]]
revised_weight: 10.3
2021-04-06 01:20:34.950: revising weight finished
revised_weight: 10.3 at 2021-04-06 01:20:34.950
plc_result: True
sendmessage: 20210406012034950,1,000112,000103
send message to PLC: 2021-04-06 01:20:34.973
time gap: 0:00:00.011728
2021-04-06 01:20:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:36: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:20:36: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:20:36: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
2021-04-06 01:20:36: select done
2021-04-06 01:20:36: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:20:36: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:20:37: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:20:37: count: 3000 in httpScaleDataSender thread
2021-04-06 01:20:37: D+: 1929 in httpScaleDataSender thread
2021-04-06 01:20:37: D-: 1 in httpScaleDataSender thread
2021-04-06 01:20:37: S+: 1070 in httpScaleDataSender thread
2021-04-06 01:20:37: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:20:37.150
lastevent: 2021-04-06 01:20:37.135, last ten sensor data: [('2021-04-06 01:20:36.700', 'D+000001.4'), ('2021-04-06 01:20:36.720', 'D+000001.4'), ('2021-04-06 01:20:36.870', 'D+000001.6'), ('2021-04-06 01:20:36.890', 'D+000001.6'), ('2021-04-06 01:20:36.910', 'D+000001.6'), ('2021-04-06 01:20:36.930', 'D+000001.4'), ('2021-04-06 01:20:36.950', 'D+000001.2'), ('2021-04-06 01:20:37.110', 'D+000001.6'), ('2021-04-06 01:20:37.130', 'D+000001.4'), ('2021-04-06 01:20:37.150', 'D+000000.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 1.4, 1.2, 1.6, 1.4, 0.8]
np.array X: [[1.6]
 [1.4]
 [1.2]
 [1.6]
 [1.4]
 [0.8]]
revised_weight: 1.6
2021-04-06 01:20:37.150: revising weight finished
revised_weight: 1.6 at 2021-04-06 01:20:37.150
plc_result: True
sendmessage: 20210406012037150,1,000008,000016
send message to PLC: 2021-04-06 01:20:37.159
time gap: 0:00:00.008975
2021-04-06 01:20:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:39: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:20:39: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:20:39.738
lastevent: 2021-04-06 01:20:39.722, last ten sensor data: [('2021-04-06 01:20:39.330', 'D+000002.2'), ('2021-04-06 01:20:39.350', 'D+000001.4'), ('2021-04-06 01:20:39.370', 'D+000001.2'), ('2021-04-06 01:20:39.390', 'D+000001.8'), ('2021-04-06 01:20:39.410', 'D+000001.6'), ('2021-04-06 01:20:39.570', 'D+000003.8'), ('2021-04-06 01:20:39.590', 'D+000004.2'), ('2021-04-06 01:20:39.610', 'D+000004.4'), ('2021-04-06 01:20:39.630', 'D+000004.8'), ('2021-04-06 01:20:39.650', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 3.8, 4.2, 4.4, 4.8, 4.6]
np.array X: [[1.6]
 [3.8]
 [4.2]
 [4.4]
 [4.8]
 [4.6]]
revised_weight: 4.4
2021-04-06 01:20:39.650: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:20:39.650
plc_result: True
sendmessage: 20210406012039650,1,000046,000044
send message to PLC: 2021-04-06 01:20:39.744
time gap: 0:00:00.006611
2021-04-06 01:20:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:39: send http
2021-04-06 01:20:39: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:20:39: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:20:39: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:39: select done
2021-04-06 01:20:39: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:20:39: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:20:39: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:20:39: count: 3 in httpPlcDataSender thread
2021-04-06 01:20:39: D+: 3 in httpPlcDataSender thread
2021-04-06 01:20:39: D-: 0 in httpPlcDataSender thread
2021-04-06 01:20:39: S+: 0 in httpPlcDataSender thread
2021-04-06 01:20:39: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '10.3', 'sensorAt': '2021-04-06 01:20:34.950'}, {'value': '1.6', 'sensorAt': '2021-04-06 01:20:37.150'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:20:39.650'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:34.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:37.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:39.650'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:20:39', 'collectDate': '2021-04-06 01:20:39', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '10.3', 'sensorAt': '2021-04-06 01:20:34.950'}, {'value': '1.6', 'sensorAt': '2021-04-06 01:20:37.150'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:20:39.650'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:34.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:37.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:39.650'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:20:40: send http
2021-04-06 01:20:40: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:20:40: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:40: got 'update query' results  in httpScaleDataSender thread
2021-04-06 01:20:40: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:20:45: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:20:45: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:20:45: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:45: select done
2021-04-06 01:20:45: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:20:45: No Data remains in httpPlcDataSender thread
2021-04-06 01:20:45: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:45: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:20:45: current db filename:  in httpPlcDataSender thread
2021-04-06 01:20:45: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:20:46.527
lastevent: 2021-04-06 01:20:46.511, last ten sensor data: [('2021-04-06 01:20:46.110', 'D+000000.2'), ('2021-04-06 01:20:46.130', 'D+000000.2'), ('2021-04-06 01:20:46.150', 'D+000000.2'), ('2021-04-06 01:20:46.170', 'D+000000.4'), ('2021-04-06 01:20:46.190', 'D+000000.4'), ('2021-04-06 01:20:46.370', 'D+000000.6'), ('2021-04-06 01:20:46.390', 'D+000000.6'), ('2021-04-06 01:20:46.410', 'D+000000.6'), ('2021-04-06 01:20:46.430', 'D+000000.6'), ('2021-04-06 01:20:46.450', 'D+000000.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0.4, 0.6, 0.6, 0.6, 0.6, 0.8]
np.array X: [[0.4]
 [0.6]
 [0.6]
 [0.6]
 [0.6]
 [0.8]]
revised_weight: 0.7
2021-04-06 01:20:46.450: revising weight finished
revised_weight: 0.7 at 2021-04-06 01:20:46.450
plc_result: True
sendmessage: 20210406012046450,1,000008,000007
send message to PLC: 2021-04-06 01:20:46.533
time gap: 0:00:00.006349
2021-04-06 01:20:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:50: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:20:50: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:20:50: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
2021-04-06 01:20:50: select done
2021-04-06 01:20:50: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:20:50: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:20:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
2021-04-06 01:20:50: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:20:50: count: 3000 in httpScaleDataSender thread
2021-04-06 01:20:50: D+: 3000 in httpScaleDataSender thread
2021-04-06 01:20:50: D-: 0 in httpScaleDataSender thread
2021-04-06 01:20:50: S+: 0 in httpScaleDataSender thread
2021-04-06 01:20:50: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:20:50.566
lastevent: 2021-04-06 01:20:50.529, last ten sensor data: [('2021-04-06 01:20:50.220', 'D+000003.2'), ('2021-04-06 01:20:50.240', 'D+000003.0'), ('2021-04-06 01:20:50.260', 'D+000002.8'), ('2021-04-06 01:20:50.400', 'D+000006.0'), ('2021-04-06 01:20:50.420', 'D+000004.8'), ('2021-04-06 01:20:50.440', 'D+000004.6'), ('2021-04-06 01:20:50.460', 'D+000005.4'), ('2021-04-06 01:20:50.480', 'D+000005.6'), ('2021-04-06 01:20:50.520', 'D+000005.2'), ('2021-04-06 01:20:50.540', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.6, 5.4, 5.6, 5.2, 5.4]
np.array X: [[4.8]
 [4.6]
 [5.4]
 [5.6]
 [5.2]
 [5.4]]
revised_weight: 5.3
2021-04-06 01:20:50.540: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:20:50.540
plc_result: True
sendmessage: 20210406012050540,1,000054,000053
send message to PLC: 2021-04-06 01:20:50.589
time gap: 0:00:00.023316
2021-04-06 01:20:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:51.081
lastevent: 2021-04-06 01:20:51.078, last ten sensor data: [('2021-04-06 01:20:50.600', 'D+000005.4'), ('2021-04-06 01:20:50.660', 'D+000005.0'), ('2021-04-06 01:20:50.680', 'D+000005.2'), ('2021-04-06 01:20:50.700', 'D+000005.8'), ('2021-04-06 01:20:50.720', 'D+000005.8'), ('2021-04-06 01:20:50.740', 'D+000006.0'), ('2021-04-06 01:20:50.910', 'D+000009.0'), ('2021-04-06 01:20:50.930', 'D+000009.6'), ('2021-04-06 01:20:50.950', 'D+000010.4'), ('2021-04-06 01:20:50.970', 'D+000010.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.0, 9.0, 9.6, 10.4, 10.8]
np.array X: [[ 5.8]
 [ 6. ]
 [ 9. ]
 [ 9.6]
 [10.4]
 [10.8]]
revised_weight: 9.5
2021-04-06 01:20:50.970: revising weight finished
revised_weight: 9.5 at 2021-04-06 01:20:50.970
plc_result: True
sendmessage: 20210406012050970,1,000108,000095
send message to PLC: 2021-04-06 01:20:51.088
time gap: 0:00:00.006894
2021-04-06 01:20:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:20:52: send http
2021-04-06 01:20:52: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:20:52: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:20:52: got 'update query' results  in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:20:53.049
lastevent: 2021-04-06 01:20:53.048, last ten sensor data: [('2021-04-06 01:20:52.450', 'D+000002.8'), ('2021-04-06 01:20:52.620', 'D+000002.6'), ('2021-04-06 01:20:52.640', 'D+000003.0'), ('2021-04-06 01:20:52.660', 'D+000003.0'), ('2021-04-06 01:20:52.680', 'D+000002.6'), ('2021-04-06 01:20:52.700', 'D+000002.6'), ('2021-04-06 01:20:52.860', 'D+000003.0'), ('2021-04-06 01:20:52.880', 'D+000002.8'), ('2021-04-06 01:20:52.900', 'D+000002.8'), ('2021-04-06 01:20:52.920', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 3.0, 2.8, 2.8, 3.0]
np.array X: [[2.6]
 [2.6]
 [3. ]
 [2.8]
 [2.8]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:20:52.920: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:20:52.920
plc_result: True
sendmessage: 20210406012052920,1,000030,000029
send message to PLC: 2021-04-06 01:20:53.056
time gap: 0:00:00.006872
2021-04-06 01:20:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:53.791
lastevent: 2021-04-06 01:20:53.780, last ten sensor data: [('2021-04-06 01:20:53.340', 'D+000003.0'), ('2021-04-06 01:20:53.360', 'D+000003.2'), ('2021-04-06 01:20:53.380', 'D+000003.2'), ('2021-04-06 01:20:53.400', 'D+000003.0'), ('2021-04-06 01:20:53.420', 'D+000003.0'), ('2021-04-06 01:20:53.580', 'D+000007.2'), ('2021-04-06 01:20:53.600', 'D+000007.0'), ('2021-04-06 01:20:53.620', 'D+000006.8'), ('2021-04-06 01:20:53.640', 'D+000007.4'), ('2021-04-06 01:20:53.660', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 7.2, 7.0, 6.8, 7.4, 7.6]
np.array X: [[3. ]
 [7.2]
 [7. ]
 [6.8]
 [7.4]
 [7.6]]
revised_weight: 8.2
2021-04-06 01:20:53.660: revising weight finished
revised_weight: 8.2 at 2021-04-06 01:20:53.660
plc_result: True
sendmessage: 20210406012053660,1,000076,000082
send message to PLC: 2021-04-06 01:20:53.805
time gap: 0:00:00.014150
2021-04-06 01:20:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:55.753
lastevent: 2021-04-06 01:20:55.744, last ten sensor data: [('2021-04-06 01:20:55.290', 'D+000003.0'), ('2021-04-06 01:20:55.310', 'D+000003.0'), ('2021-04-06 01:20:55.330', 'D+000003.0'), ('2021-04-06 01:20:55.350', 'D+000003.2'), ('2021-04-06 01:20:55.370', 'D+000003.2'), ('2021-04-06 01:20:55.530', 'D+000004.6'), ('2021-04-06 01:20:55.550', 'D+000005.0'), ('2021-04-06 01:20:55.570', 'D+000004.6'), ('2021-04-06 01:20:55.590', 'D+000004.2'), ('2021-04-06 01:20:55.610', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 4.6, 5.0, 4.6, 4.2, 4.8]
np.array X: [[3.2]
 [4.6]
 [5. ]
 [4.6]
 [4.2]
 [4.8]]
revised_weight: 5.0
2021-04-06 01:20:55.610: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:20:55.610
plc_result: True
sendmessage: 20210406012055610,1,000048,000050
send message to PLC: 2021-04-06 01:20:55.767
time gap: 0:00:00.014154
2021-04-06 01:20:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:56.235
lastevent: 2021-04-06 01:20:56.229, last ten sensor data: [('2021-04-06 01:20:55.790', 'D+000004.8'), ('2021-04-06 01:20:55.810', 'D+000005.4'), ('2021-04-06 01:20:55.830', 'D+000006.2'), ('2021-04-06 01:20:55.850', 'D+000006.0'), ('2021-04-06 01:20:55.870', 'D+000006.0'), ('2021-04-06 01:20:56.030', 'D+000008.0'), ('2021-04-06 01:20:56.050', 'D+000008.2'), ('2021-04-06 01:20:56.070', 'D+000008.4'), ('2021-04-06 01:20:56.090', 'D+000008.6'), ('2021-04-06 01:20:56.110', 'D+000009.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 8.0, 8.2, 8.4, 8.6, 9.0]
np.array X: [[6. ]
 [8. ]
 [8.2]
 [8.4]
 [8.6]
 [9. ]]
revised_weight: 8.4
2021-04-06 01:20:56.110: revising weight finished
revised_weight: 8.4 at 2021-04-06 01:20:56.110
plc_result: True
sendmessage: 20210406012056110,1,000090,000084
send message to PLC: 2021-04-06 01:20:56.249
time gap: 0:00:00.013765
2021-04-06 01:20:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:57.214
lastevent: 2021-04-06 01:20:57.203, last ten sensor data: [('2021-04-06 01:20:56.760', 'D+000005.6'), ('2021-04-06 01:20:56.780', 'D+000005.2'), ('2021-04-06 01:20:56.800', 'D+000005.0'), ('2021-04-06 01:20:56.820', 'D+000005.0'), ('2021-04-06 01:20:56.840', 'D+000005.0'), ('2021-04-06 01:20:56.860', 'D+000005.4'), ('2021-04-06 01:20:57.050', 'D+000004.6'), ('2021-04-06 01:20:57.070', 'D+000004.8'), ('2021-04-06 01:20:57.090', 'D+000005.0'), ('2021-04-06 01:20:57.110', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.4, 4.6, 4.8, 5.0, 5.0]
np.array X: [[5. ]
 [5.4]
 [4.6]
 [4.8]
 [5. ]
 [5. ]]
revised_weight: 5.0
2021-04-06 01:20:57.110: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:20:57.110
plc_result: True
sendmessage: 20210406012057110,1,000050,000050
send message to PLC: 2021-04-06 01:20:57.227
time gap: 0:00:00.013727
2021-04-06 01:20:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:58.332
lastevent: 2021-04-06 01:20:58.325, last ten sensor data: [('2021-04-06 01:20:58.020', 'D+000004.4'), ('2021-04-06 01:20:58.040', 'D+000004.4'), ('2021-04-06 01:20:58.060', 'D+000004.0'), ('2021-04-06 01:20:58.080', 'D+000003.8'), ('2021-04-06 01:20:58.100', 'D+000003.6'), ('2021-04-06 01:20:58.260', 'D+000003.8'), ('2021-04-06 01:20:58.280', 'D+000004.0'), ('2021-04-06 01:20:58.300', 'D+000004.0'), ('2021-04-06 01:20:58.320', 'D+000003.8'), ('2021-04-06 01:20:58.340', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.8, 4.0, 4.0, 3.8, 4.0]
np.array X: [[3.6]
 [3.8]
 [4. ]
 [4. ]
 [3.8]
 [4. ]]
revised_weight: 4.1
2021-04-06 01:20:58.340: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:20:58.340
plc_result: True
sendmessage: 20210406012058340,1,000040,000041
send message to PLC: 2021-04-06 01:20:58.364
time gap: 0:00:00.031973
2021-04-06 01:20:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:59.211
lastevent: 2021-04-06 01:20:59.207, last ten sensor data: [('2021-04-06 01:20:58.600', 'D+000003.8'), ('2021-04-06 01:20:58.760', 'D+000003.2'), ('2021-04-06 01:20:58.780', 'D+000003.4'), ('2021-04-06 01:20:58.800', 'D+000003.2'), ('2021-04-06 01:20:58.820', 'D+000003.2'), ('2021-04-06 01:20:58.840', 'D+000003.6'), ('2021-04-06 01:20:59.010', 'D+000005.6'), ('2021-04-06 01:20:59.030', 'D+000004.4'), ('2021-04-06 01:20:59.050', 'D+000003.8'), ('2021-04-06 01:20:59.070', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.6, 5.6, 4.4, 3.8, 3.8]
np.array X: [[3.2]
 [3.6]
 [5.6]
 [4.4]
 [3.8]
 [3.8]]
revised_weight: 5.1
2021-04-06 01:20:59.070: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:20:59.070
plc_result: True
sendmessage: 20210406012059070,1,000038,000051
send message to PLC: 2021-04-06 01:20:59.223
time gap: 0:00:00.012271
2021-04-06 01:20:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:20:59.863
lastevent: 2021-04-06 01:20:59.854, last ten sensor data: [('2021-04-06 01:20:59.300', 'D+000003.4'), ('2021-04-06 01:20:59.320', 'D+000003.6'), ('2021-04-06 01:20:59.500', 'D+000003.2'), ('2021-04-06 01:20:59.520', 'D+000003.4'), ('2021-04-06 01:20:59.540', 'D+000003.4'), ('2021-04-06 01:20:59.730', 'D+000005.4'), ('2021-04-06 01:20:59.750', 'D+000005.2'), ('2021-04-06 01:20:59.770', 'D+000004.8'), ('2021-04-06 01:20:59.790', 'D+000004.6'), ('2021-04-06 01:20:59.810', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 5.4, 5.2, 4.8, 4.6, 5.0]
np.array X: [[3.4]
 [5.4]
 [5.2]
 [4.8]
 [4.6]
 [5. ]]
revised_weight: 5.2
2021-04-06 01:20:59.810: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:20:59.810
plc_result: True
sendmessage: 20210406012059810,1,000050,000052
send message to PLC: 2021-04-06 01:20:59.875
time gap: 0:00:00.012381
2021-04-06 01:20:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:00.344
lastevent: 2021-04-06 01:21:00.339, last ten sensor data: [('2021-04-06 01:20:59.990', 'D+000005.0'), ('2021-04-06 01:21:00.010', 'D+000004.8'), ('2021-04-06 01:21:00.030', 'D+000005.0'), ('2021-04-06 01:21:00.050', 'D+000005.0'), ('2021-04-06 01:21:00.210', 'D+000005.2'), ('2021-04-06 01:21:00.230', 'D+000005.0'), ('2021-04-06 01:21:00.250', 'D+000005.2'), ('2021-04-06 01:21:00.270', 'D+000005.2'), ('2021-04-06 01:21:00.290', 'D+000005.0'), ('2021-04-06 01:21:00.310', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.0, 5.2, 5.2, 5.0, 4.8]
np.array X: [[5.2]
 [5. ]
 [5.2]
 [5.2]
 [5. ]
 [4.8]]
revised_weight: 5.0
2021-04-06 01:21:00.310: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:21:00.310
plc_result: True
sendmessage: 20210406012100310,1,000048,000050
send message to PLC: 2021-04-06 01:21:00.355
time gap: 0:00:00.011523
2021-04-06 01:21:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:01.252
lastevent: 2021-04-06 01:21:01.240, last ten sensor data: [('2021-04-06 01:21:00.750', 'D+000003.4'), ('2021-04-06 01:21:00.770', 'D+000003.2'), ('2021-04-06 01:21:00.790', 'D+000003.6'), ('2021-04-06 01:21:00.960', 'D+000004.8'), ('2021-04-06 01:21:00.980', 'D+000004.8'), ('2021-04-06 01:21:01.000', 'D+000005.2'), ('2021-04-06 01:21:01.020', 'D+000004.8'), ('2021-04-06 01:21:01.200', 'D+000006.0'), ('2021-04-06 01:21:01.220', 'D+000005.4'), ('2021-04-06 01:21:01.240', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.2, 4.8, 6.0, 5.4, 5.6]
np.array X: [[4.8]
 [5.2]
 [4.8]
 [6. ]
 [5.4]
 [5.6]]
revised_weight: 5.7
2021-04-06 01:21:01.240: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:21:01.240
plc_result: True
sendmessage: 20210406012101240,1,000056,000057
send message to PLC: 2021-04-06 01:21:01.262
time gap: 0:00:00.010302
2021-04-06 01:21:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:01.739
lastevent: 2021-04-06 01:21:01.728, last ten sensor data: [('2021-04-06 01:21:01.260', 'D+000006.4'), ('2021-04-06 01:21:01.440', 'D+000005.8'), ('2021-04-06 01:21:01.460', 'D+000006.0'), ('2021-04-06 01:21:01.480', 'D+000006.0'), ('2021-04-06 01:21:01.500', 'D+000006.2'), ('2021-04-06 01:21:01.520', 'D+000006.2'), ('2021-04-06 01:21:01.680', 'D+000005.4'), ('2021-04-06 01:21:01.700', 'D+000005.0'), ('2021-04-06 01:21:01.720', 'D+000005.2'), ('2021-04-06 01:21:01.740', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.2, 5.4, 5.0, 5.2, 5.2]
np.array X: [[6.2]
 [6.2]
 [5.4]
 [5. ]
 [5.2]
 [5.2]]
revised_weight: 5.8
2021-04-06 01:21:01.740: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:21:01.740
plc_result: True
sendmessage: 20210406012101740,1,000052,000058
send message to PLC: 2021-04-06 01:21:01.746
time gap: 0:00:00.007278
2021-04-06 01:21:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:02.855
lastevent: 2021-04-06 01:21:02.848, last ten sensor data: [('2021-04-06 01:21:02.530', 'D+000002.6'), ('2021-04-06 01:21:02.550', 'D+000002.8'), ('2021-04-06 01:21:02.570', 'D+000002.8'), ('2021-04-06 01:21:02.590', 'D+000003.0'), ('2021-04-06 01:21:02.760', 'D+000003.8'), ('2021-04-06 01:21:02.780', 'D+000003.8'), ('2021-04-06 01:21:02.800', 'D+000004.0'), ('2021-04-06 01:21:02.820', 'D+000003.8'), ('2021-04-06 01:21:02.840', 'D+000003.6'), ('2021-04-06 01:21:02.860', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 4.0, 3.8, 3.6, 3.6]
np.array X: [[3.8]
 [3.8]
 [4. ]
 [3.8]
 [3.6]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:21:02.860: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:21:02.860
plc_result: True
sendmessage: 20210406012102860,1,000036,000036
send message to PLC: 2021-04-06 01:21:02.869
time gap: 0:00:00.013764
2021-04-06 01:21:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:21:02: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:21:02: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:21:02: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
2021-04-06 01:21:03: select done
2021-04-06 01:21:03: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:21:03: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:21:03: sendjson called, 2838 records in httpScaleDataSender thread
2021-04-06 01:21:03: count: 2838 in httpScaleDataSender thread
2021-04-06 01:21:03: D+: 2740 in httpScaleDataSender thread
2021-04-06 01:21:03: D-: 0 in httpScaleDataSender thread
2021-04-06 01:21:03: S+: 98 in httpScaleDataSender thread
2021-04-06 01:21:03: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:21:04.515
lastevent: 2021-04-06 01:21:04.501, last ten sensor data: [('2021-04-06 01:21:04.030', 'D+000003.2'), ('2021-04-06 01:21:04.050', 'D+000002.8'), ('2021-04-06 01:21:04.230', 'D+000003.6'), ('2021-04-06 01:21:04.250', 'D+000003.6'), ('2021-04-06 01:21:04.270', 'D+000003.6'), ('2021-04-06 01:21:04.290', 'D+000003.8'), ('2021-04-06 01:21:04.450', 'D+000004.0'), ('2021-04-06 01:21:04.470', 'D+000003.8'), ('2021-04-06 01:21:04.490', 'D+000004.0'), ('2021-04-06 01:21:04.510', 'D+000004.2')]
2021-04-06 01:21:04: send http
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
2021-04-06 01:21:04: response status code: 200
list X: [3.6, 3.8, 4.0, 3.8, 4.0, 4.2]
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
np.array X: [[3.6]
 [3.8]
 [4. ]
 [3.8]
 [4. ]
 [4.2]]
True
revised_weight: 4.1
2021-04-06 01:21:04: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:21:04.510: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:21:04.510
plc_result: True
sendmessage: 20210406012104510,1,000042,000041
send message to PLC: 2021-04-06 01:21:04.541
time gap: 0:00:00.026216
2021-04-06 01:21:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:21:04: got 'update query' results  in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:21:05.009
lastevent: 2021-04-06 01:21:04.997, last ten sensor data: [('2021-04-06 01:21:04.680', 'D+000004.6'), ('2021-04-06 01:21:04.700', 'D+000005.4'), ('2021-04-06 01:21:04.720', 'D+000006.0'), ('2021-04-06 01:21:04.740', 'D+000006.8'), ('2021-04-06 01:21:04.760', 'D+000006.8'), ('2021-04-06 01:21:04.920', 'D+000009.6'), ('2021-04-06 01:21:04.950', 'D+000010.6'), ('2021-04-06 01:21:04.970', 'D+000011.2'), ('2021-04-06 01:21:04.990', 'D+000011.8'), ('2021-04-06 01:21:05.010', 'D+000013.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 9.6, 10.6, 11.2, 11.8, 13.0]
np.array X: [[ 6.8]
 [ 9.6]
 [10.6]
 [11.2]
 [11.8]
 [13. ]]
revised_weight: 11.4
2021-04-06 01:21:05.010: revising weight finished
revised_weight: 11.4 at 2021-04-06 01:21:05.010
plc_result: True
sendmessage: 20210406012105010,1,000130,000114
send message to PLC: 2021-04-06 01:21:05.015
time gap: 0:00:00.006624
2021-04-06 01:21:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:06.739
lastevent: 2021-04-06 01:21:06.736, last ten sensor data: [('2021-04-06 01:21:06.260', 'D+000004.0'), ('2021-04-06 01:21:06.420', 'D+000006.4'), ('2021-04-06 01:21:06.440', 'D+000008.0'), ('2021-04-06 01:21:06.460', 'D+000007.6'), ('2021-04-06 01:21:06.480', 'D+000006.8'), ('2021-04-06 01:21:06.630', 'D+000011.0'), ('2021-04-06 01:21:06.650', 'D+000012.0'), ('2021-04-06 01:21:06.670', 'D+000012.6'), ('2021-04-06 01:21:06.690', 'D+000013.0'), ('2021-04-06 01:21:06.710', 'D+000013.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 11.0, 12.0, 12.6, 13.0, 13.0]
np.array X: [[ 6.8]
 [11. ]
 [12. ]
 [12.6]
 [13. ]
 [13. ]]
revised_weight: 12.6
2021-04-06 01:21:06.710: revising weight finished
revised_weight: 12.6 at 2021-04-06 01:21:06.710
plc_result: True
sendmessage: 20210406012106710,1,000130,000126
send message to PLC: 2021-04-06 01:21:06.746
time gap: 0:00:00.007147
2021-04-06 01:21:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:07.563
lastevent: 2021-04-06 01:21:07.550, last ten sensor data: [('2021-04-06 01:21:07.230', 'D+000011.4'), ('2021-04-06 01:21:07.260', 'D+000010.6'), ('2021-04-06 01:21:07.280', 'D+000009.2'), ('2021-04-06 01:21:07.300', 'D+000008.8'), ('2021-04-06 01:21:07.320', 'D+000009.2'), ('2021-04-06 01:21:07.490', 'D+000004.8'), ('2021-04-06 01:21:07.510', 'D+000004.6'), ('2021-04-06 01:21:07.530', 'D+000004.0'), ('2021-04-06 01:21:07.550', 'D+000003.8'), ('2021-04-06 01:21:07.570', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.2, 4.8, 4.6, 4.0, 3.8, 4.6]
np.array X: [[9.2]
 [4.8]
 [4.6]
 [4. ]
 [3.8]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:21:07.570: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:21:07.570
plc_result: True
sendmessage: 20210406012107570,1,000046,000046
send message to PLC: 2021-04-06 01:21:07.575
time gap: 0:00:00.012589
2021-04-06 01:21:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:08.679
lastevent: 2021-04-06 01:21:08.673, last ten sensor data: [('2021-04-06 01:21:08.220', 'D+000003.2'), ('2021-04-06 01:21:08.240', 'D+000003.2'), ('2021-04-06 01:21:08.260', 'D+000003.2'), ('2021-04-06 01:21:08.280', 'D+000003.0'), ('2021-04-06 01:21:08.300', 'D+000003.0'), ('2021-04-06 01:21:08.480', 'D+000003.2'), ('2021-04-06 01:21:08.500', 'D+000003.4'), ('2021-04-06 01:21:08.520', 'D+000003.6'), ('2021-04-06 01:21:08.540', 'D+000003.6'), ('2021-04-06 01:21:08.560', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.2, 3.4, 3.6, 3.6, 3.6]
np.array X: [[3. ]
 [3.2]
 [3.4]
 [3.6]
 [3.6]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:21:08.560: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:21:08.560
plc_result: True
sendmessage: 20210406012108560,1,000036,000036
send message to PLC: 2021-04-06 01:21:08.692
time gap: 0:00:00.013291
2021-04-06 01:21:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:09.949
lastevent: 2021-04-06 01:21:09.933, last ten sensor data: [('2021-04-06 01:21:09.280', 'D+000002.8'), ('2021-04-06 01:21:09.460', 'D+000002.6'), ('2021-04-06 01:21:09.480', 'D+000002.8'), ('2021-04-06 01:21:09.500', 'D+000002.8'), ('2021-04-06 01:21:09.690', 'D+000004.8'), ('2021-04-06 01:21:09.710', 'D+000004.8'), ('2021-04-06 01:21:09.730', 'D+000005.0'), ('2021-04-06 01:21:09.750', 'D+000005.2'), ('2021-04-06 01:21:09.770', 'D+000005.4'), ('2021-04-06 01:21:09.940', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 5.0, 5.2, 5.4, 7.6]
np.array X: [[4.8]
 [4.8]
 [5. ]
 [5.2]
 [5.4]
 [7.6]]
revised_weight: 6.3
2021-04-06 01:21:09.940: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:21:09.940
plc_result: True
sendmessage: 20210406012109940,1,000076,000063
send message to PLC: 2021-04-06 01:21:09.963
time gap: 0:00:00.014700
2021-04-06 01:21:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:10.702
lastevent: 2021-04-06 01:21:10.694, last ten sensor data: [('2021-04-06 01:21:10.190', 'D+000006.8'), ('2021-04-06 01:21:10.210', 'D+000007.8'), ('2021-04-06 01:21:10.230', 'D+000006.4'), ('2021-04-06 01:21:10.250', 'D+000005.6'), ('2021-04-06 01:21:10.410', 'D+000006.2'), ('2021-04-06 01:21:10.430', 'D+000006.4'), ('2021-04-06 01:21:10.450', 'D+000006.6'), ('2021-04-06 01:21:10.470', 'D+000005.8'), ('2021-04-06 01:21:10.490', 'D+000005.6'), ('2021-04-06 01:21:10.580', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.4, 6.6, 5.8, 5.6, 6.0]
np.array X: [[6.2]
 [6.4]
 [6.6]
 [5.8]
 [5.6]
 [6. ]]
revised_weight: 6.1
2021-04-06 01:21:10.580: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:21:10.580
plc_result: True
sendmessage: 20210406012110580,1,000060,000061
send message to PLC: 2021-04-06 01:21:10.716
time gap: 0:00:00.014526
2021-04-06 01:21:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:11.382
lastevent: 2021-04-06 01:21:11.374, last ten sensor data: [('2021-04-06 01:21:10.830', 'D+000004.8'), ('2021-04-06 01:21:11.000', 'D+000005.2'), ('2021-04-06 01:21:11.020', 'D+000005.0'), ('2021-04-06 01:21:11.040', 'D+000005.2'), ('2021-04-06 01:21:11.060', 'D+000005.0'), ('2021-04-06 01:21:11.080', 'D+000004.0'), ('2021-04-06 01:21:11.250', 'D+000003.6'), ('2021-04-06 01:21:11.270', 'D+000003.4'), ('2021-04-06 01:21:11.290', 'D+000003.4'), ('2021-04-06 01:21:11.310', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.0, 3.6, 3.4, 3.4, 3.0]
np.array X: [[5. ]
 [4. ]
 [3.6]
 [3.4]
 [3.4]
 [3. ]]
revised_weight: 3.4
2021-04-06 01:21:11.310: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:21:11.310
plc_result: True
sendmessage: 20210406012111310,1,000030,000034
send message to PLC: 2021-04-06 01:21:11.389
time gap: 0:00:00.007070
2021-04-06 01:21:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:12.618
lastevent: 2021-04-06 01:21:12.614, last ten sensor data: [('2021-04-06 01:21:12.150', 'D+000002.8'), ('2021-04-06 01:21:12.170', 'D+000002.8'), ('2021-04-06 01:21:12.190', 'D+000002.6'), ('2021-04-06 01:21:12.330', 'D+000003.0'), ('2021-04-06 01:21:12.350', 'D+000003.2'), ('2021-04-06 01:21:12.370', 'D+000003.4'), ('2021-04-06 01:21:12.390', 'D+000003.0'), ('2021-04-06 01:21:12.410', 'D+000003.0'), ('2021-04-06 01:21:12.590', 'D+000003.2'), ('2021-04-06 01:21:12.610', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 3.0, 3.0, 3.2, 3.4]
np.array X: [[3.2]
 [3.4]
 [3. ]
 [3. ]
 [3.2]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:21:12.610: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:21:12.610
plc_result: True
sendmessage: 20210406012112610,1,000034,000034
send message to PLC: 2021-04-06 01:21:12.626
time gap: 0:00:00.007318
2021-04-06 01:21:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:13.920
lastevent: 2021-04-06 01:21:13.908, last ten sensor data: [('2021-04-06 01:21:13.560', 'D+000002.6'), ('2021-04-06 01:21:13.580', 'D+000003.0'), ('2021-04-06 01:21:13.600', 'D+000003.0'), ('2021-04-06 01:21:13.620', 'D+000003.0'), ('2021-04-06 01:21:13.650', 'D+000002.6'), ('2021-04-06 01:21:13.800', 'D+000003.4'), ('2021-04-06 01:21:13.820', 'D+000003.0'), ('2021-04-06 01:21:13.840', 'D+000003.0'), ('2021-04-06 01:21:13.860', 'D+000003.4'), ('2021-04-06 01:21:13.880', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.4, 3.0, 3.0, 3.4, 3.6]
np.array X: [[2.6]
 [3.4]
 [3. ]
 [3. ]
 [3.4]
 [3.6]]
revised_weight: 3.1
2021-04-06 01:21:13.880: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:21:13.880
plc_result: True
sendmessage: 20210406012113880,1,000036,000031
send message to PLC: 2021-04-06 01:21:13.928
time gap: 0:00:00.007423
2021-04-06 01:21:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:14.379
lastevent: 2021-04-06 01:21:14.368, last ten sensor data: [('2021-04-06 01:21:14.060', 'D+000004.0'), ('2021-04-06 01:21:14.080', 'D+000003.8'), ('2021-04-06 01:21:14.100', 'D+000003.6'), ('2021-04-06 01:21:14.120', 'D+000003.4'), ('2021-04-06 01:21:14.140', 'D+000004.0'), ('2021-04-06 01:21:14.280', 'D+000004.2'), ('2021-04-06 01:21:14.300', 'D+000004.8'), ('2021-04-06 01:21:14.320', 'D+000005.2'), ('2021-04-06 01:21:14.340', 'D+000004.6'), ('2021-04-06 01:21:14.360', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 4.8, 5.2, 4.6, 4.4]
np.array X: [[4. ]
 [4.2]
 [4.8]
 [5.2]
 [4.6]
 [4.4]]
revised_weight: 4.7
2021-04-06 01:21:14.360: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:21:14.360
plc_result: True
sendmessage: 20210406012114360,1,000044,000047
send message to PLC: 2021-04-06 01:21:14.387
time gap: 0:00:00.007178
2021-04-06 01:21:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:21:14: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:21:14: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:21:15: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
2021-04-06 01:21:15: select done
2021-04-06 01:21:15: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:21:15: No Data remains in httpScaleDataSender thread
2021-04-06 01:21:15: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpScaleDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_10.db
2021-04-06 01:21:15: HTTPSThreadState.STATE_DONE in httpScaleDataSender thread
['/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db']
2021-04-06 01:21:15: current db filename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
2021-04-06 01:21:15: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:21:16.337
lastevent: 2021-04-06 01:21:16.333, last ten sensor data: [('2021-04-06 01:21:15.860', 'D+000003.8'), ('2021-04-06 01:21:15.880', 'D+000003.8'), ('2021-04-06 01:21:15.900', 'D+000003.6'), ('2021-04-06 01:21:15.920', 'D+000003.6'), ('2021-04-06 01:21:16.100', 'D+000008.2'), ('2021-04-06 01:21:16.120', 'D+000008.6'), ('2021-04-06 01:21:16.140', 'D+000008.8'), ('2021-04-06 01:21:16.160', 'D+000008.8'), ('2021-04-06 01:21:16.180', 'D+000009.2'), ('2021-04-06 01:21:16.320', 'D+000014.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 8.6, 8.8, 8.8, 9.2, 14.6]
np.array X: [[ 8.2]
 [ 8.6]
 [ 8.8]
 [ 8.8]
 [ 9.2]
 [14.6]]
revised_weight: 12.3
2021-04-06 01:21:16.320: revising weight finished
revised_weight: 12.3 at 2021-04-06 01:21:16.320
plc_result: True
sendmessage: 20210406012116320,1,000146,000123
send message to PLC: 2021-04-06 01:21:16.344
time gap: 0:00:00.007107
2021-04-06 01:21:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:17.064
lastevent: 2021-04-06 01:21:17.054, last ten sensor data: [('2021-04-06 01:21:16.390', 'D+000016.6'), ('2021-04-06 01:21:16.410', 'D+000011.2'), ('2021-04-06 01:21:16.580', 'D+000012.8'), ('2021-04-06 01:21:16.600', 'D+000013.2'), ('2021-04-06 01:21:16.620', 'D+000014.0'), ('2021-04-06 01:21:16.640', 'D+000013.6'), ('2021-04-06 01:21:16.830', 'D+000009.0'), ('2021-04-06 01:21:16.850', 'D+000011.2'), ('2021-04-06 01:21:16.870', 'D+000012.0'), ('2021-04-06 01:21:16.890', 'D+000010.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [14.0, 13.6, 9.0, 11.2, 12.0, 10.2]
np.array X: [[14. ]
 [13.6]
 [ 9. ]
 [11.2]
 [12. ]
 [10.2]]
revised_weight: 12.7
2021-04-06 01:21:16.890: revising weight finished
revised_weight: 12.7 at 2021-04-06 01:21:16.890
plc_result: True
sendmessage: 20210406012116890,1,000102,000127
send message to PLC: 2021-04-06 01:21:17.085
time gap: 0:00:00.021055
2021-04-06 01:21:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:19.196
lastevent: 2021-04-06 01:21:19.179, last ten sensor data: [('2021-04-06 01:21:18.580', 'D+000002.6'), ('2021-04-06 01:21:18.600', 'D+000003.0'), ('2021-04-06 01:21:18.790', 'D+000002.8'), ('2021-04-06 01:21:18.810', 'D+000002.6'), ('2021-04-06 01:21:18.830', 'D+000002.8'), ('2021-04-06 01:21:19.020', 'D+000004.4'), ('2021-04-06 01:21:19.040', 'D+000005.0'), ('2021-04-06 01:21:19.060', 'D+000005.0'), ('2021-04-06 01:21:19.080', 'D+000005.2'), ('2021-04-06 01:21:19.100', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 4.4, 5.0, 5.0, 5.2, 5.4]
np.array X: [[2.8]
 [4.4]
 [5. ]
 [5. ]
 [5.2]
 [5.4]]
revised_weight: 5.4
2021-04-06 01:21:19.100: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:21:19.100
plc_result: True
sendmessage: 20210406012119100,1,000054,000054
send message to PLC: 2021-04-06 01:21:19.208
time gap: 0:00:00.011805
2021-04-06 01:21:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:20.440
lastevent: 2021-04-06 01:21:20.430, last ten sensor data: [('2021-04-06 01:21:19.920', 'D+000003.2'), ('2021-04-06 01:21:19.940', 'D+000003.2'), ('2021-04-06 01:21:20.110', 'D+000004.8'), ('2021-04-06 01:21:20.130', 'D+000005.0'), ('2021-04-06 01:21:20.150', 'D+000004.4'), ('2021-04-06 01:21:20.170', 'D+000005.4'), ('2021-04-06 01:21:20.370', 'D+000007.8'), ('2021-04-06 01:21:20.390', 'D+000007.4'), ('2021-04-06 01:21:20.410', 'D+000007.4'), ('2021-04-06 01:21:20.430', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.4, 7.8, 7.4, 7.4, 7.6]
np.array X: [[4.4]
 [5.4]
 [7.8]
 [7.4]
 [7.4]
 [7.6]]
revised_weight: 7.6
2021-04-06 01:21:20.430: revising weight finished
revised_weight: 7.6 at 2021-04-06 01:21:20.430
plc_result: True
sendmessage: 20210406012120430,1,000076,000076
send message to PLC: 2021-04-06 01:21:20.447
time gap: 0:00:00.006174
2021-04-06 01:21:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:21.809
lastevent: 2021-04-06 01:21:21.793, last ten sensor data: [('2021-04-06 01:21:21.350', 'D+000002.8'), ('2021-04-06 01:21:21.370', 'D+000003.0'), ('2021-04-06 01:21:21.390', 'D+000003.2'), ('2021-04-06 01:21:21.410', 'D+000003.0'), ('2021-04-06 01:21:21.430', 'D+000003.0'), ('2021-04-06 01:21:21.580', 'D+000004.8'), ('2021-04-06 01:21:21.600', 'D+000005.0'), ('2021-04-06 01:21:21.620', 'D+000005.0'), ('2021-04-06 01:21:21.640', 'D+000005.8'), ('2021-04-06 01:21:21.660', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 4.8, 5.0, 5.0, 5.8, 6.2]
np.array X: [[3. ]
 [4.8]
 [5. ]
 [5. ]
 [5.8]
 [6.2]]
revised_weight: 6.0
2021-04-06 01:21:21.660: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:21:21.660
plc_result: True
sendmessage: 20210406012121660,1,000062,000060
send message to PLC: 2021-04-06 01:21:21.821
time gap: 0:00:00.011476
2021-04-06 01:21:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:22.657
lastevent: 2021-04-06 01:21:22.644, last ten sensor data: [('2021-04-06 01:21:22.150', 'D+000005.6'), ('2021-04-06 01:21:22.330', 'D+000003.4'), ('2021-04-06 01:21:22.350', 'D+000003.2'), ('2021-04-06 01:21:22.370', 'D+000003.4'), ('2021-04-06 01:21:22.390', 'D+000003.6'), ('2021-04-06 01:21:22.550', 'D+000004.0'), ('2021-04-06 01:21:22.570', 'D+000004.2'), ('2021-04-06 01:21:22.590', 'D+000004.2'), ('2021-04-06 01:21:22.610', 'D+000004.0'), ('2021-04-06 01:21:22.630', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 4.2, 4.2, 4.0, 4.0]
np.array X: [[3.6]
 [4. ]
 [4.2]
 [4.2]
 [4. ]
 [4. ]]
revised_weight: 4.1
2021-04-06 01:21:22.630: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:21:22.630
plc_result: True
sendmessage: 20210406012122630,1,000040,000041
send message to PLC: 2021-04-06 01:21:22.664
time gap: 0:00:00.006528
2021-04-06 01:21:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:23.596
lastevent: 2021-04-06 01:21:23.583, last ten sensor data: [('2021-04-06 01:21:23.120', 'D+000004.2'), ('2021-04-06 01:21:23.280', 'D+000004.2'), ('2021-04-06 01:21:23.300', 'D+000003.8'), ('2021-04-06 01:21:23.320', 'D+000004.0'), ('2021-04-06 01:21:23.340', 'D+000004.6'), ('2021-04-06 01:21:23.360', 'D+000004.4'), ('2021-04-06 01:21:23.540', 'D+000004.6'), ('2021-04-06 01:21:23.560', 'D+000004.6'), ('2021-04-06 01:21:23.580', 'D+000005.8'), ('2021-04-06 01:21:23.600', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.4, 4.6, 4.6, 5.8, 6.0]
np.array X: [[4.6]
 [4.4]
 [4.6]
 [4.6]
 [5.8]
 [6. ]]
revised_weight: 5.4
2021-04-06 01:21:23.600: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:21:23.600
plc_result: True
sendmessage: 20210406012123600,1,000060,000054
send message to PLC: 2021-04-06 01:21:23.603
time gap: 0:00:00.006440
2021-04-06 01:21:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:25.356
lastevent: 2021-04-06 01:21:25.340, last ten sensor data: [('2021-04-06 01:21:25.010', 'D+000002.4'), ('2021-04-06 01:21:25.030', 'D+000002.4'), ('2021-04-06 01:21:25.050', 'D+000002.8'), ('2021-04-06 01:21:25.070', 'D+000002.8'), ('2021-04-06 01:21:25.090', 'D+000003.0'), ('2021-04-06 01:21:25.230', 'D+000004.0'), ('2021-04-06 01:21:25.250', 'D+000003.4'), ('2021-04-06 01:21:25.270', 'D+000003.4'), ('2021-04-06 01:21:25.290', 'D+000003.4'), ('2021-04-06 01:21:25.310', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 4.0, 3.4, 3.4, 3.4, 3.4]
np.array X: [[3. ]
 [4. ]
 [3.4]
 [3.4]
 [3.4]
 [3.4]]
revised_weight: 3.6
2021-04-06 01:21:25.310: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:21:25.310
plc_result: True
sendmessage: 20210406012125310,1,000034,000036
send message to PLC: 2021-04-06 01:21:25.367
time gap: 0:00:00.011235
2021-04-06 01:21:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:27.220
lastevent: 2021-04-06 01:21:27.202, last ten sensor data: [('2021-04-06 01:21:26.720', 'D+000003.0'), ('2021-04-06 01:21:26.740', 'D+000001.6'), ('2021-04-06 01:21:26.760', 'D+000002.4'), ('2021-04-06 01:21:26.780', 'D+000002.8'), ('2021-04-06 01:21:26.970', 'D+000005.0'), ('2021-04-06 01:21:26.990', 'D+000004.8'), ('2021-04-06 01:21:27.010', 'D+000005.0'), ('2021-04-06 01:21:27.030', 'D+000005.4'), ('2021-04-06 01:21:27.190', 'D+000006.8'), ('2021-04-06 01:21:27.210', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.8, 5.0, 5.4, 6.8, 7.6]
np.array X: [[5. ]
 [4.8]
 [5. ]
 [5.4]
 [6.8]
 [7.6]]
revised_weight: 6.8
2021-04-06 01:21:27.210: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:21:27.210
plc_result: True
sendmessage: 20210406012127210,1,000076,000068
send message to PLC: 2021-04-06 01:21:27.233
time gap: 0:00:00.012990
2021-04-06 01:21:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:28.264
lastevent: 2021-04-06 01:21:28.246, last ten sensor data: [('2021-04-06 01:21:27.740', 'D+000006.2'), ('2021-04-06 01:21:27.760', 'D+000005.6'), ('2021-04-06 01:21:27.940', 'D+000004.8'), ('2021-04-06 01:21:27.960', 'D+000004.8'), ('2021-04-06 01:21:27.980', 'D+000004.8'), ('2021-04-06 01:21:28.000', 'D+000004.6'), ('2021-04-06 01:21:28.170', 'D+000007.2'), ('2021-04-06 01:21:28.190', 'D+000007.4'), ('2021-04-06 01:21:28.210', 'D+000007.4'), ('2021-04-06 01:21:28.230', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.6, 7.2, 7.4, 7.4, 7.0]
np.array X: [[4.8]
 [4.6]
 [7.2]
 [7.4]
 [7.4]
 [7. ]]
revised_weight: 6.9
2021-04-06 01:21:28.230: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:21:28.230
plc_result: True
sendmessage: 20210406012128230,1,000070,000069
send message to PLC: 2021-04-06 01:21:28.276
time gap: 0:00:00.011565
2021-04-06 01:21:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:32.017
lastevent: 2021-04-06 01:21:31.997, last ten sensor data: [('2021-04-06 01:21:31.630', 'D+000002.4'), ('2021-04-06 01:21:31.650', 'D+000002.4'), ('2021-04-06 01:21:31.670', 'D+000002.8'), ('2021-04-06 01:21:31.690', 'D+000003.8'), ('2021-04-06 01:21:31.860', 'D+000009.8'), ('2021-04-06 01:21:31.880', 'D+000010.0'), ('2021-04-06 01:21:31.900', 'D+000010.2'), ('2021-04-06 01:21:31.920', 'D+000011.0'), ('2021-04-06 01:21:31.940', 'D+000011.4'), ('2021-04-06 01:21:32.000', 'D+000010.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.8, 10.0, 10.2, 11.0, 11.4, 10.4]
np.array X: [[ 9.8]
 [10. ]
 [10.2]
 [11. ]
 [11.4]
 [10.4]]
revised_weight: 10.0
2021-04-06 01:21:32.000: revising weight finished
revised_weight: 10.0 at 2021-04-06 01:21:32.000
plc_result: True
sendmessage: 20210406012132000,1,000104,000100
send message to PLC: 2021-04-06 01:21:32.029
time gap: 0:00:00.011635
2021-04-06 01:21:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:32.922
lastevent: 2021-04-06 01:21:32.907, last ten sensor data: [('2021-04-06 01:21:32.450', 'D+000010.0'), ('2021-04-06 01:21:32.620', 'D+000007.6'), ('2021-04-06 01:21:32.640', 'D+000008.4'), ('2021-04-06 01:21:32.660', 'D+000008.2'), ('2021-04-06 01:21:32.680', 'D+000008.8'), ('2021-04-06 01:21:32.850', 'D+000015.0'), ('2021-04-06 01:21:32.870', 'D+000016.2'), ('2021-04-06 01:21:32.890', 'D+000016.2'), ('2021-04-06 01:21:32.910', 'D+000015.6'), ('2021-04-06 01:21:32.930', 'D+000015.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.8, 15.0, 16.2, 16.2, 15.6, 15.4]
np.array X: [[ 8.8]
 [15. ]
 [16.2]
 [16.2]
 [15.6]
 [15.4]]
revised_weight: 16.7
2021-04-06 01:21:32.930: revising weight finished
revised_weight: 16.7 at 2021-04-06 01:21:32.930
plc_result: False
sendmessage: 20210406012132930,0,000154,000167
send message to PLC: 2021-04-06 01:21:32.928
time gap: 0:00:00.006473
2021-04-06 01:21:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:35.957
lastevent: 2021-04-06 01:21:35.942, last ten sensor data: [('2021-04-06 01:21:35.610', 'D+000002.2'), ('2021-04-06 01:21:35.630', 'D+000002.6'), ('2021-04-06 01:21:35.650', 'D+000002.8'), ('2021-04-06 01:21:35.670', 'D+000002.6'), ('2021-04-06 01:21:35.690', 'D+000002.6'), ('2021-04-06 01:21:35.850', 'D+000004.6'), ('2021-04-06 01:21:35.870', 'D+000004.6'), ('2021-04-06 01:21:35.890', 'D+000004.6'), ('2021-04-06 01:21:35.910', 'D+000004.6'), ('2021-04-06 01:21:35.930', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 4.6, 4.6, 4.6, 4.6, 4.6]
np.array X: [[2.6]
 [4.6]
 [4.6]
 [4.6]
 [4.6]
 [4.6]]
revised_weight: 4.5
2021-04-06 01:21:35.930: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:21:35.930
plc_result: True
sendmessage: 20210406012135930,1,000046,000045
send message to PLC: 2021-04-06 01:21:35.963
time gap: 0:00:00.006551
2021-04-06 01:21:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:36.799
lastevent: 2021-04-06 01:21:36.784, last ten sensor data: [('2021-04-06 01:21:36.450', 'D+000004.0'), ('2021-04-06 01:21:36.480', 'D+000004.0'), ('2021-04-06 01:21:36.500', 'D+000004.2'), ('2021-04-06 01:21:36.520', 'D+000004.2'), ('2021-04-06 01:21:36.540', 'D+000004.4'), ('2021-04-06 01:21:36.710', 'D+000006.0'), ('2021-04-06 01:21:36.730', 'D+000006.2'), ('2021-04-06 01:21:36.750', 'D+000006.6'), ('2021-04-06 01:21:36.770', 'D+000007.2'), ('2021-04-06 01:21:36.790', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 6.0, 6.2, 6.6, 7.2, 8.0]
np.array X: [[4.4]
 [6. ]
 [6.2]
 [6.6]
 [7.2]
 [8. ]]
revised_weight: 7.3
2021-04-06 01:21:36.790: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:21:36.790
plc_result: True
sendmessage: 20210406012136790,1,000080,000073
send message to PLC: 2021-04-06 01:21:36.806
time gap: 0:00:00.006435
2021-04-06 01:21:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:38.389
lastevent: 2021-04-06 01:21:38.388, last ten sensor data: [('2021-04-06 01:21:37.920', 'D+000003.2'), ('2021-04-06 01:21:37.940', 'D+000003.0'), ('2021-04-06 01:21:37.960', 'D+000003.0'), ('2021-04-06 01:21:37.980', 'D+000003.0'), ('2021-04-06 01:21:38.000', 'D+000002.8'), ('2021-04-06 01:21:38.180', 'D+000005.2'), ('2021-04-06 01:21:38.200', 'D+000005.2'), ('2021-04-06 01:21:38.220', 'D+000005.6'), ('2021-04-06 01:21:38.240', 'D+000005.8'), ('2021-04-06 01:21:38.260', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 5.2, 5.2, 5.6, 5.8, 5.6]
np.array X: [[2.8]
 [5.2]
 [5.2]
 [5.6]
 [5.8]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:21:38.260: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:21:38.260
plc_result: True
sendmessage: 20210406012138260,1,000056,000054
send message to PLC: 2021-04-06 01:21:38.396
time gap: 0:00:00.006553
2021-04-06 01:21:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:40.216
lastevent: 2021-04-06 01:21:40.200, last ten sensor data: [('2021-04-06 01:21:39.630', 'D+000002.4'), ('2021-04-06 01:21:39.650', 'D+000002.4'), ('2021-04-06 01:21:39.670', 'D+000002.4'), ('2021-04-06 01:21:39.850', 'D+000002.6'), ('2021-04-06 01:21:39.870', 'D+000002.2'), ('2021-04-06 01:21:39.890', 'D+000002.2'), ('2021-04-06 01:21:40.070', 'D+000002.8'), ('2021-04-06 01:21:40.090', 'D+000002.8'), ('2021-04-06 01:21:40.110', 'D+000003.0'), ('2021-04-06 01:21:40.130', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.2, 2.8, 2.8, 3.0, 2.8]
np.array X: [[2.2]
 [2.2]
 [2.8]
 [2.8]
 [3. ]
 [2.8]]
revised_weight: 2.6
2021-04-06 01:21:40.130: revising weight finished
revised_weight: 2.6 at 2021-04-06 01:21:40.130
plc_result: True
sendmessage: 20210406012140130,1,000028,000026
send message to PLC: 2021-04-06 01:21:40.228
time gap: 0:00:00.012416
2021-04-06 01:21:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:21:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:42.845
lastevent: 2021-04-06 01:21:42.841, last ten sensor data: [('2021-04-06 01:21:42.510', 'D+000001.8'), ('2021-04-06 01:21:42.530', 'D+000002.4'), ('2021-04-06 01:21:42.550', 'D+000002.8'), ('2021-04-06 01:21:42.570', 'D+000003.2'), ('2021-04-06 01:21:42.590', 'D+000003.2'), ('2021-04-06 01:21:42.750', 'D+000006.4'), ('2021-04-06 01:21:42.770', 'D+000006.0'), ('2021-04-06 01:21:42.790', 'D+000005.8'), ('2021-04-06 01:21:42.810', 'D+000006.0'), ('2021-04-06 01:21:42.830', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 6.4, 6.0, 5.8, 6.0, 6.2]
np.array X: [[3.2]
 [6.4]
 [6. ]
 [5.8]
 [6. ]
 [6.2]]
revised_weight: 6.7
2021-04-06 01:21:42.830: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:21:42.830
plc_result: True
sendmessage: 20210406012142830,1,000062,000067
send message to PLC: 2021-04-06 01:21:42.857
time gap: 0:00:00.011433
2021-04-06 01:21:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:21:45: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db']
2021-04-06 01:21:45: [13083] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:45.691
select_plcdb_filename: b
lastevent: 2021-04-06 01:21:45.680, last ten sensor data: [('2021-04-06 01:21:45.010', 'D+000002.0'), ('2021-04-06 01:21:45.030', 'D+000001.8'), ('2021-04-06 01:21:45.200', 'D+000001.8'), ('2021-04-06 01:21:45.220', 'D+000001.8'), ('2021-04-06 01:21:45.240', 'D+000001.8'), ('2021-04-06 01:21:45.260', 'D+000001.8'), ('2021-04-06 01:21:45.450', 'D+000003.8'), ('2021-04-06 01:21:45.470', 'D+000003.4'), ('2021-04-06 01:21:45.490', 'D+000003.4'), ('2021-04-06 01:21:45.510', 'D+000004.2')]
2021-04-06 01:21:45: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 1.8, 3.8, 3.4, 3.4, 4.2]
np.array X: [[1.8]
 [1.8]
 [3.8]
 [3.4]
 [3.4]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:21:45.510: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:21:45.510
plc_result: True
sendmessage: 20210406012145510,1,000042,000042
send message to PLC: 2021-04-06 01:21:45.704
time gap: 0:00:00.013601
2021-04-06 01:21:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:21:45: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:21:45: select done
2021-04-06 01:21:45: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:21:45: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:21:45: sendjson called, 44 records in httpPlcDataSender thread
2021-04-06 01:21:45: count: 44 in httpPlcDataSender thread
2021-04-06 01:21:45: D+: 44 in httpPlcDataSender thread
2021-04-06 01:21:45: D-: 0 in httpPlcDataSender thread
2021-04-06 01:21:45: S+: 0 in httpPlcDataSender thread
2021-04-06 01:21:45: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '0.7', 'sensorAt': '2021-04-06 01:20:46.450'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:20:50.540'}, {'value': '9.5', 'sensorAt': '2021-04-06 01:20:50.970'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:20:52.920'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:20:53.660'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:20:55.610'}, {'value': '8.4', 'sensorAt': '2021-04-06 01:20:56.110'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:20:57.110'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:20:58.340'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:20:59.070'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:20:59.810'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:21:00.310'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:21:01.240'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:21:01.740'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:21:02.860'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:21:04.510'}, {'value': '11.4', 'sensorAt': '2021-04-06 01:21:05.010'}, {'value': '12.6', 'sensorAt': '2021-04-06 01:21:06.710'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:21:07.570'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:21:08.560'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:21:09.940'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:21:10.580'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:21:11.310'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:21:12.610'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:21:13.880'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:21:14.360'}, {'value': '12.3', 'sensorAt': '2021-04-06 01:21:16.320'}, {'value': '12.7', 'sensorAt': '2021-04-06 01:21:16.890'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:21:19.100'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:21:20.430'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:21:21.660'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:21:22.630'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:21:23.600'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:21:25.310'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:21:27.210'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:21:28.230'}, {'value': '10.0', 'sensorAt': '2021-04-06 01:21:32.000'}, {'value': '16.7', 'sensorAt': '2021-04-06 01:21:32.930'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:21:35.930'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:21:36.790'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:21:38.260'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:21:40.130'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:21:42.830'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:21:45.510'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:46.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:50.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:50.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:52.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:53.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:55.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:56.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:57.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:58.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:59.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:59.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:00.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:01.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:01.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:02.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:04.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:05.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:06.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:07.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:08.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:09.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:10.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:11.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:12.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:13.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:14.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:16.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:16.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:19.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:20.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:21.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:22.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:23.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:25.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:27.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:28.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:32.000'}, {'value': 0, 'sensorAt': '2021-04-06 01:21:32.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:35.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:36.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:38.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:40.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:42.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:45.510'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:21:45', 'collectDate': '2021-04-06 01:21:45', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '0.7', 'sensorAt': '2021-04-06 01:20:46.450'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:20:50.540'}, {'value': '9.5', 'sensorAt': '2021-04-06 01:20:50.970'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:20:52.920'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:20:53.660'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:20:55.610'}, {'value': '8.4', 'sensorAt': '2021-04-06 01:20:56.110'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:20:57.110'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:20:58.340'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:20:59.070'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:20:59.810'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:21:00.310'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:21:01.240'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:21:01.740'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:21:02.860'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:21:04.510'}, {'value': '11.4', 'sensorAt': '2021-04-06 01:21:05.010'}, {'value': '12.6', 'sensorAt': '2021-04-06 01:21:06.710'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:21:07.570'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:21:08.560'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:21:09.940'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:21:10.580'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:21:11.310'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:21:12.610'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:21:13.880'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:21:14.360'}, {'value': '12.3', 'sensorAt': '2021-04-06 01:21:16.320'}, {'value': '12.7', 'sensorAt': '2021-04-06 01:21:16.890'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:21:19.100'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:21:20.430'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:21:21.660'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:21:22.630'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:21:23.600'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:21:25.310'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:21:27.210'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:21:28.230'}, {'value': '10.0', 'sensorAt': '2021-04-06 01:21:32.000'}, {'value': '16.7', 'sensorAt': '2021-04-06 01:21:32.930'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:21:35.930'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:21:36.790'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:21:38.260'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:21:40.130'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:21:42.830'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:21:45.510'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:20:46.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:50.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:50.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:52.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:53.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:55.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:56.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:57.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:58.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:59.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:20:59.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:00.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:01.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:01.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:02.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:04.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:05.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:06.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:07.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:08.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:09.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:10.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:11.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:12.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:13.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:14.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:16.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:16.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:19.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:20.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:21.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:22.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:23.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:25.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:27.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:28.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:32.000'}, {'value': 0, 'sensorAt': '2021-04-06 01:21:32.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:35.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:36.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:38.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:40.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:42.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:45.510'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:21:46: send http
2021-04-06 01:21:46: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:21:46: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:21:46: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:21:46.616
lastevent: 2021-04-06 01:21:46.606, last ten sensor data: [('2021-04-06 01:21:46.270', 'D+000010.8'), ('2021-04-06 01:21:46.290', 'D+000010.8'), ('2021-04-06 01:21:46.310', 'D+000010.6'), ('2021-04-06 01:21:46.330', 'D+000010.6'), ('2021-04-06 01:21:46.350', 'D+000010.6'), ('2021-04-06 01:21:46.370', 'D+000010.6'), ('2021-04-06 01:21:46.530', 'D+000008.0'), ('2021-04-06 01:21:46.550', 'D+000006.8'), ('2021-04-06 01:21:46.570', 'D+000006.2'), ('2021-04-06 01:21:46.590', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [10.6, 10.6, 8.0, 6.8, 6.2, 5.6]
np.array X: [[10.6]
 [10.6]
 [ 8. ]
 [ 6.8]
 [ 6.2]
 [ 5.6]]
revised_weight: 9.3
2021-04-06 01:21:46.590: revising weight finished
revised_weight: 9.3 at 2021-04-06 01:21:46.590
plc_result: True
sendmessage: 20210406012146590,1,000056,000093
send message to PLC: 2021-04-06 01:21:46.623
time gap: 0:00:00.006607
2021-04-06 01:21:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:48.097
lastevent: 2021-04-06 01:21:48.087, last ten sensor data: [('2021-04-06 01:21:47.750', 'D+000003.0'), ('2021-04-06 01:21:47.770', 'D+000003.2'), ('2021-04-06 01:21:47.790', 'D+000003.2'), ('2021-04-06 01:21:47.810', 'D+000003.2'), ('2021-04-06 01:21:47.830', 'D+000002.8'), ('2021-04-06 01:21:47.970', 'D+000002.6'), ('2021-04-06 01:21:48.000', 'D+000002.6'), ('2021-04-06 01:21:48.020', 'D+000002.4'), ('2021-04-06 01:21:48.040', 'D+000002.6'), ('2021-04-06 01:21:48.060', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.6, 2.6, 2.4, 2.6, 2.6]
np.array X: [[2.8]
 [2.6]
 [2.6]
 [2.4]
 [2.6]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:21:48.060: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:21:48.060
plc_result: True
sendmessage: 20210406012148060,1,000026,000025
send message to PLC: 2021-04-06 01:21:48.103
time gap: 0:00:00.006283
2021-04-06 01:21:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:49.091
lastevent: 2021-04-06 01:21:49.080, last ten sensor data: [('2021-04-06 01:21:48.720', 'D+000002.6'), ('2021-04-06 01:21:48.740', 'D+000002.6'), ('2021-04-06 01:21:48.760', 'D+000002.8'), ('2021-04-06 01:21:48.780', 'D+000002.8'), ('2021-04-06 01:21:48.800', 'D+000002.8'), ('2021-04-06 01:21:48.960', 'D+000003.2'), ('2021-04-06 01:21:48.980', 'D+000002.8'), ('2021-04-06 01:21:49.000', 'D+000002.6'), ('2021-04-06 01:21:49.020', 'D+000002.8'), ('2021-04-06 01:21:49.040', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.2, 2.8, 2.6, 2.8, 3.2]
np.array X: [[2.8]
 [3.2]
 [2.8]
 [2.6]
 [2.8]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:21:49.040: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:21:49.040
plc_result: True
sendmessage: 20210406012149040,1,000032,000031
send message to PLC: 2021-04-06 01:21:49.099
time gap: 0:00:00.008053
2021-04-06 01:21:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:49.595
lastevent: 2021-04-06 01:21:49.591, last ten sensor data: [0, ('2021-04-06 01:21:49.220', 'D+000002.8'), ('2021-04-06 01:21:49.240', 'D+000002.8'), ('2021-04-06 01:21:49.260', 'D+000003.0'), ('2021-04-06 01:21:49.280', 'D+000003.0'), ('2021-04-06 01:21:49.450', 'D+000005.4'), ('2021-04-06 01:21:49.470', 'D+000005.6'), ('2021-04-06 01:21:49.490', 'D+000005.8'), ('2021-04-06 01:21:49.510', 'D+000005.8'), ('2021-04-06 01:21:49.530', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 5.4, 5.6, 5.8, 5.8, 6.2]
np.array X: [[3. ]
 [5.4]
 [5.6]
 [5.8]
 [5.8]
 [6.2]]
revised_weight: 6.2
2021-04-06 01:21:49.530: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:21:49.530
plc_result: True
sendmessage: 20210406012149530,1,000062,000062
send message to PLC: 2021-04-06 01:21:49.602
time gap: 0:00:00.006524
2021-04-06 01:21:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:50.805
lastevent: 2021-04-06 01:21:50.801, last ten sensor data: [('2021-04-06 01:21:50.430', 'D+000003.6'), ('2021-04-06 01:21:50.450', 'D+000003.8'), ('2021-04-06 01:21:50.470', 'D+000003.8'), ('2021-04-06 01:21:50.490', 'D+000003.6'), ('2021-04-06 01:21:50.510', 'D+000003.8'), ('2021-04-06 01:21:50.670', 'D+000004.6'), ('2021-04-06 01:21:50.690', 'D+000004.0'), ('2021-04-06 01:21:50.710', 'D+000004.4'), ('2021-04-06 01:21:50.730', 'D+000004.6'), ('2021-04-06 01:21:50.750', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.6, 4.0, 4.4, 4.6, 4.8]
np.array X: [[3.8]
 [4.6]
 [4. ]
 [4.4]
 [4.6]
 [4.8]]
revised_weight: 3.8
2021-04-06 01:21:50.750: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:21:50.750
plc_result: True
sendmessage: 20210406012150750,1,000048,000038
send message to PLC: 2021-04-06 01:21:50.818
time gap: 0:00:00.012912
2021-04-06 01:21:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:21:51: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:21:51: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:21:51: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:21:51: select done
2021-04-06 01:21:51: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:21:51: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:21:51: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:21:51: count: 5 in httpPlcDataSender thread
2021-04-06 01:21:51: D+: 5 in httpPlcDataSender thread
2021-04-06 01:21:51: D-: 0 in httpPlcDataSender thread
2021-04-06 01:21:51: S+: 0 in httpPlcDataSender thread
2021-04-06 01:21:51: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.3', 'sensorAt': '2021-04-06 01:21:46.590'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:21:48.060'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:21:49.040'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:21:49.530'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:21:50.750'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:21:46.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:48.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:49.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:49.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:50.750'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:21:51', 'collectDate': '2021-04-06 01:21:50', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.3', 'sensorAt': '2021-04-06 01:21:46.590'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:21:48.060'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:21:49.040'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:21:49.530'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:21:50.750'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:21:46.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:48.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:49.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:49.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:50.750'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:21:51.692
lastevent: 2021-04-06 01:21:51.684, last ten sensor data: [('2021-04-06 01:21:51.180', 'D+000004.6'), ('2021-04-06 01:21:51.200', 'D+000004.4'), ('2021-04-06 01:21:51.220', 'D+000004.4'), ('2021-04-06 01:21:51.240', 'D+000004.4'), ('2021-04-06 01:21:51.420', 'D+000004.0'), ('2021-04-06 01:21:51.440', 'D+000004.4'), ('2021-04-06 01:21:51.460', 'D+000004.6'), ('2021-04-06 01:21:51.480', 'D+000004.8'), ('2021-04-06 01:21:51.680', 'D+000005.2'), ('2021-04-06 01:21:51.700', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.4, 4.6, 4.8, 5.2, 4.2]
np.array X: [[4. ]
 [4.4]
 [4.6]
 [4.8]
 [5.2]
 [4.2]]
revised_weight: 4.5
2021-04-06 01:21:51.700: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:21:51.700
plc_result: True
sendmessage: 20210406012151700,1,000042,000045
send message to PLC: 2021-04-06 01:21:51.705
time gap: 0:00:00.012967
2021-04-06 01:21:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:21:51: send http
2021-04-06 01:21:51: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:21:51: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:21:52: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:21:52.790
lastevent: 2021-04-06 01:21:52.777, last ten sensor data: [('2021-04-06 01:21:52.380', 'D+000003.8'), ('2021-04-06 01:21:52.400', 'D+000003.4'), ('2021-04-06 01:21:52.420', 'D+000003.6'), ('2021-04-06 01:21:52.440', 'D+000003.8'), ('2021-04-06 01:21:52.460', 'D+000003.8'), ('2021-04-06 01:21:52.480', 'D+000003.6'), ('2021-04-06 01:21:52.620', 'D+000003.8'), ('2021-04-06 01:21:52.640', 'D+000003.8'), ('2021-04-06 01:21:52.660', 'D+000003.6'), ('2021-04-06 01:21:52.680', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.6, 3.8, 3.8, 3.6, 3.8]
np.array X: [[3.8]
 [3.6]
 [3.8]
 [3.8]
 [3.6]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:21:52.680: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:21:52.680
plc_result: True
sendmessage: 20210406012152680,1,000038,000038
send message to PLC: 2021-04-06 01:21:52.805
time gap: 0:00:00.014283
2021-04-06 01:21:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:53.434
lastevent: 2021-04-06 01:21:53.423, last ten sensor data: [('2021-04-06 01:21:52.890', 'D+000003.8'), ('2021-04-06 01:21:53.070', 'D+000004.0'), ('2021-04-06 01:21:53.090', 'D+000004.2'), ('2021-04-06 01:21:53.110', 'D+000004.0'), ('2021-04-06 01:21:53.130', 'D+000004.2'), ('2021-04-06 01:21:53.150', 'D+000004.4'), ('2021-04-06 01:21:53.330', 'D+000004.6'), ('2021-04-06 01:21:53.350', 'D+000004.6'), ('2021-04-06 01:21:53.370', 'D+000004.6'), ('2021-04-06 01:21:53.390', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.4, 4.6, 4.6, 4.6, 4.6]
np.array X: [[4.2]
 [4.4]
 [4.6]
 [4.6]
 [4.6]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:21:53.390: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:21:53.390
plc_result: True
sendmessage: 20210406012153390,1,000046,000046
send message to PLC: 2021-04-06 01:21:53.441
time gap: 0:00:00.006886
2021-04-06 01:21:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:55.831
lastevent: 2021-04-06 01:21:55.825, last ten sensor data: [('2021-04-06 01:21:55.350', 'D+000003.4'), ('2021-04-06 01:21:55.530', 'D+000003.0'), ('2021-04-06 01:21:55.550', 'D+000003.4'), ('2021-04-06 01:21:55.570', 'D+000003.6'), ('2021-04-06 01:21:55.590', 'D+000004.2'), ('2021-04-06 01:21:55.610', 'D+000004.6'), ('2021-04-06 01:21:55.770', 'D+000006.0'), ('2021-04-06 01:21:55.790', 'D+000006.2'), ('2021-04-06 01:21:55.810', 'D+000006.4'), ('2021-04-06 01:21:55.830', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.6, 6.0, 6.2, 6.4, 7.2]
np.array X: [[4.2]
 [4.6]
 [6. ]
 [6.2]
 [6.4]
 [7.2]]
revised_weight: 6.3
2021-04-06 01:21:55.830: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:21:55.830
plc_result: True
sendmessage: 20210406012155830,1,000072,000063
send message to PLC: 2021-04-06 01:21:55.845
time gap: 0:00:00.013557
2021-04-06 01:21:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:21:56.936
lastevent: 2021-04-06 01:21:56.927, last ten sensor data: [('2021-04-06 01:21:56.300', 'D+000006.8'), ('2021-04-06 01:21:56.320', 'D+000007.0'), ('2021-04-06 01:21:56.510', 'D+000004.6'), ('2021-04-06 01:21:56.530', 'D+000004.6'), ('2021-04-06 01:21:56.550', 'D+000004.6'), ('2021-04-06 01:21:56.570', 'D+000004.6'), ('2021-04-06 01:21:56.760', 'D+000006.8'), ('2021-04-06 01:21:56.780', 'D+000007.2'), ('2021-04-06 01:21:56.800', 'D+000007.8'), ('2021-04-06 01:21:56.820', 'D+000008.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 6.8, 7.2, 7.8, 8.8]
np.array X: [[4.6]
 [4.6]
 [6.8]
 [7.2]
 [7.8]
 [8.8]]
revised_weight: 7.5
2021-04-06 01:21:56.820: revising weight finished
revised_weight: 7.5 at 2021-04-06 01:21:56.820
plc_result: True
sendmessage: 20210406012156820,1,000088,000075
send message to PLC: 2021-04-06 01:21:56.948
time gap: 0:00:00.012053
2021-04-06 01:21:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:21:57: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:21:57: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:21:57: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:21:57: select done
2021-04-06 01:21:57: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:21:57: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:21:57: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:21:57: count: 5 in httpPlcDataSender thread
2021-04-06 01:21:57: D+: 5 in httpPlcDataSender thread
2021-04-06 01:21:57: D-: 0 in httpPlcDataSender thread
2021-04-06 01:21:57: S+: 0 in httpPlcDataSender thread
2021-04-06 01:21:57: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:21:51.700'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:21:52.680'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:21:53.390'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:21:55.830'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:21:56.820'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:21:51.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:52.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:53.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:55.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:56.820'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:21:57', 'collectDate': '2021-04-06 01:21:56', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:21:51.700'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:21:52.680'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:21:53.390'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:21:55.830'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:21:56.820'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:21:51.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:52.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:53.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:55.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:21:56.820'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:21:57: send http
2021-04-06 01:21:57: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:21:57: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:21:57: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:21:58.196
lastevent: 2021-04-06 01:21:58.186, last ten sensor data: [('2021-04-06 01:21:57.740', 'D+000003.2'), ('2021-04-06 01:21:57.760', 'D+000003.0'), ('2021-04-06 01:21:57.780', 'D+000003.0'), ('2021-04-06 01:21:57.800', 'D+000003.0'), ('2021-04-06 01:21:57.820', 'D+000003.2'), ('2021-04-06 01:21:57.980', 'D+000005.2'), ('2021-04-06 01:21:58.000', 'D+000005.2'), ('2021-04-06 01:21:58.020', 'D+000005.2'), ('2021-04-06 01:21:58.040', 'D+000005.4'), ('2021-04-06 01:21:58.060', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 5.2, 5.2, 5.2, 5.4, 6.0]
np.array X: [[3.2]
 [5.2]
 [5.2]
 [5.2]
 [5.4]
 [6. ]]
revised_weight: 5.8
2021-04-06 01:21:58.060: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:21:58.060
plc_result: True
sendmessage: 20210406012158060,1,000060,000058
send message to PLC: 2021-04-06 01:21:58.207
time gap: 0:00:00.011480
2021-04-06 01:21:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:00.316
lastevent: 2021-04-06 01:22:00.308, last ten sensor data: [('2021-04-06 01:21:59.910', 'D+000003.0'), ('2021-04-06 01:21:59.940', 'D+000004.0'), ('2021-04-06 01:21:59.960', 'D+000004.6'), ('2021-04-06 01:21:59.980', 'D+000005.4'), ('2021-04-06 01:22:00.000', 'D+000006.8'), ('2021-04-06 01:22:00.170', 'D+000008.8'), ('2021-04-06 01:22:00.190', 'D+000009.4'), ('2021-04-06 01:22:00.210', 'D+000010.4'), ('2021-04-06 01:22:00.230', 'D+000010.4'), ('2021-04-06 01:22:00.250', 'D+000010.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 8.8, 9.4, 10.4, 10.4, 10.4]
np.array X: [[ 6.8]
 [ 8.8]
 [ 9.4]
 [10.4]
 [10.4]
 [10.4]]
revised_weight: 10.1
2021-04-06 01:22:00.250: revising weight finished
revised_weight: 10.1 at 2021-04-06 01:22:00.250
plc_result: True
sendmessage: 20210406012200250,1,000104,000101
send message to PLC: 2021-04-06 01:22:00.331
time gap: 0:00:00.014455
2021-04-06 01:22:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:00.870
lastevent: 2021-04-06 01:22:00.857, last ten sensor data: [0, ('2021-04-06 01:22:00.340', 'D+000012.2'), ('2021-04-06 01:22:00.400', 'D+000011.4'), ('2021-04-06 01:22:00.420', 'D+000011.0'), ('2021-04-06 01:22:00.440', 'D+000012.2'), ('2021-04-06 01:22:00.630', 'D+000016.8'), ('2021-04-06 01:22:00.650', 'D+000016.8'), ('2021-04-06 01:22:00.670', 'D+000016.8'), ('2021-04-06 01:22:00.690', 'D+000016.8'), ('2021-04-06 01:22:00.710', 'D+000017.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [12.2, 16.8, 16.8, 16.8, 16.8, 17.2]
np.array X: [[12.2]
 [16.8]
 [16.8]
 [16.8]
 [16.8]
 [17.2]]
revised_weight: 16.2
2021-04-06 01:22:00.710: revising weight finished
revised_weight: 16.2 at 2021-04-06 01:22:00.710
plc_result: False
sendmessage: 20210406012200710,0,000172,000162
send message to PLC: 2021-04-06 01:22:00.876
time gap: 0:00:00.006659
2021-04-06 01:22:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:02: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:22:02: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:02.713
lastevent: 2021-04-06 01:22:02.699, last ten sensor data: [('2021-04-06 01:22:02.160', 'D+000002.2'), ('2021-04-06 01:22:02.350', 'D+000002.8'), ('2021-04-06 01:22:02.370', 'D+000003.4'), ('2021-04-06 01:22:02.390', 'D+000003.6'), ('2021-04-06 01:22:02.410', 'D+000003.4'), ('2021-04-06 01:22:02.580', 'D+000003.6'), ('2021-04-06 01:22:02.600', 'D+000003.6'), ('2021-04-06 01:22:02.620', 'D+000003.8'), ('2021-04-06 01:22:02.640', 'D+000003.6'), ('2021-04-06 01:22:02.660', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 3.6, 3.8, 3.6, 3.2]
np.array X: [[3.4]
 [3.6]
 [3.6]
 [3.8]
 [3.6]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:22:02.660: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:22:02.660
plc_result: True
sendmessage: 20210406012202660,1,000032,000031
2021-04-06 01:22:02: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
send message to PLC: 2021-04-06 01:22:02.726
time gap: 0:00:00.012505
2021-04-06 01:22:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:02: select done
2021-04-06 01:22:02: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:22:02: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:22:02: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:22:02: count: 3 in httpPlcDataSender thread
2021-04-06 01:22:02: D+: 3 in httpPlcDataSender thread
2021-04-06 01:22:02: D-: 0 in httpPlcDataSender thread
2021-04-06 01:22:02: S+: 0 in httpPlcDataSender thread
2021-04-06 01:22:02: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:21:58.060'}, {'value': '10.1', 'sensorAt': '2021-04-06 01:22:00.250'}, {'value': '16.2', 'sensorAt': '2021-04-06 01:22:00.710'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:21:58.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:00.250'}, {'value': 0, 'sensorAt': '2021-04-06 01:22:00.710'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:22:02', 'collectDate': '2021-04-06 01:22:00', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:21:58.060'}, {'value': '10.1', 'sensorAt': '2021-04-06 01:22:00.250'}, {'value': '16.2', 'sensorAt': '2021-04-06 01:22:00.710'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:21:58.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:00.250'}, {'value': 0, 'sensorAt': '2021-04-06 01:22:00.710'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:22:02: send http
2021-04-06 01:22:02: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:22:03: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:03: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:03.285
lastevent: 2021-04-06 01:22:03.277, last ten sensor data: [0, ('2021-04-06 01:22:02.820', 'D+000003.4'), ('2021-04-06 01:22:02.870', 'D+000003.4'), ('2021-04-06 01:22:02.890', 'D+000003.2'), ('2021-04-06 01:22:02.990', 'D+000003.8'), ('2021-04-06 01:22:03.080', 'D+000005.4'), ('2021-04-06 01:22:03.100', 'D+000005.2'), ('2021-04-06 01:22:03.120', 'D+000004.6'), ('2021-04-06 01:22:03.140', 'D+000004.4'), ('2021-04-06 01:22:03.160', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.4, 5.2, 4.6, 4.4, 4.4]
np.array X: [[3.8]
 [5.4]
 [5.2]
 [4.6]
 [4.4]
 [4.4]]
revised_weight: 4.9
2021-04-06 01:22:03.160: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:22:03.160
plc_result: True
sendmessage: 20210406012203160,1,000044,000049
send message to PLC: 2021-04-06 01:22:03.296
time gap: 0:00:00.011415
2021-04-06 01:22:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:05.561
lastevent: 2021-04-06 01:22:05.551, last ten sensor data: [('2021-04-06 01:22:05.090', 'D+000001.6'), ('2021-04-06 01:22:05.110', 'D+000001.6'), ('2021-04-06 01:22:05.270', 'D+000003.0'), ('2021-04-06 01:22:05.290', 'D+000003.0'), ('2021-04-06 01:22:05.310', 'D+000003.6'), ('2021-04-06 01:22:05.330', 'D+000004.0'), ('2021-04-06 01:22:05.350', 'D+000004.2'), ('2021-04-06 01:22:05.520', 'D+000005.4'), ('2021-04-06 01:22:05.540', 'D+000005.4'), ('2021-04-06 01:22:05.560', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 4.2, 5.4, 5.4, 5.8]
np.array X: [[3.6]
 [4. ]
 [4.2]
 [5.4]
 [5.4]
 [5.8]]
revised_weight: 5.4
2021-04-06 01:22:05.560: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:22:05.560
plc_result: True
sendmessage: 20210406012205560,1,000058,000054
send message to PLC: 2021-04-06 01:22:05.572
time gap: 0:00:00.011015
2021-04-06 01:22:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:06.198
lastevent: 2021-04-06 01:22:06.190, last ten sensor data: [('2021-04-06 01:22:05.760', 'D+000005.6'), ('2021-04-06 01:22:05.780', 'D+000005.6'), ('2021-04-06 01:22:05.800', 'D+000005.4'), ('2021-04-06 01:22:05.820', 'D+000005.4'), ('2021-04-06 01:22:05.840', 'D+000005.4'), ('2021-04-06 01:22:06.000', 'D+000005.6'), ('2021-04-06 01:22:06.020', 'D+000005.6'), ('2021-04-06 01:22:06.040', 'D+000005.6'), ('2021-04-06 01:22:06.060', 'D+000005.6'), ('2021-04-06 01:22:06.080', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 5.6, 5.6, 5.6, 5.6]
np.array X: [[5.4]
 [5.6]
 [5.6]
 [5.6]
 [5.6]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:22:06.080: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:22:06.080
plc_result: True
sendmessage: 20210406012206080,1,000056,000055
send message to PLC: 2021-04-06 01:22:06.204
time gap: 0:00:00.006527
2021-04-06 01:22:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:08: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:22:08: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:08: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:08: select done
2021-04-06 01:22:08: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:22:08: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:22:08: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:22:08: count: 4 in httpPlcDataSender thread
2021-04-06 01:22:08: D+: 4 in httpPlcDataSender thread
2021-04-06 01:22:08: D-: 0 in httpPlcDataSender thread
2021-04-06 01:22:08: S+: 0 in httpPlcDataSender thread
2021-04-06 01:22:08: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.1', 'sensorAt': '2021-04-06 01:22:02.660'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:22:03.160'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:22:05.560'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:22:06.080'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:02.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:03.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:05.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:06.080'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:22:08', 'collectDate': '2021-04-06 01:22:06', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.1', 'sensorAt': '2021-04-06 01:22:02.660'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:22:03.160'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:22:05.560'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:22:06.080'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:02.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:03.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:05.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:06.080'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:22:08: send http
2021-04-06 01:22:08: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:22:08: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:08.795
lastevent: 2021-04-06 01:22:08.782, last ten sensor data: [('2021-04-06 01:22:08.430', 'D+000002.4'), ('2021-04-06 01:22:08.480', 'D+000003.2'), ('2021-04-06 01:22:08.500', 'D+000003.8'), ('2021-04-06 01:22:08.520', 'D+000004.0'), ('2021-04-06 01:22:08.600', 'D+000004.8'), ('2021-04-06 01:22:08.620', 'D+000005.6'), ('2021-04-06 01:22:08.690', 'D+000007.2'), ('2021-04-06 01:22:08.710', 'D+000007.6'), ('2021-04-06 01:22:08.730', 'D+000008.6'), ('2021-04-06 01:22:08.750', 'D+000008.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.6, 7.2, 7.6, 8.6, 8.4]
np.array X: [[4.8]
 [5.6]
 [7.2]
 [7.6]
 [8.6]
 [8.4]]
revised_weight: 7.3
2021-04-06 01:22:08.750: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:22:08.750
plc_result: True
sendmessage: 20210406012208750,1,000084,000073
send message to PLC: 2021-04-06 01:22:08.810
time gap: 0:00:00.015622
2021-04-06 01:22:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:08: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:09.458
lastevent: 2021-04-06 01:22:09.441, last ten sensor data: [('2021-04-06 01:22:08.960', 'D+000007.6'), ('2021-04-06 01:22:08.980', 'D+000007.6'), ('2021-04-06 01:22:09.000', 'D+000008.0'), ('2021-04-06 01:22:09.180', 'D+000008.8'), ('2021-04-06 01:22:09.200', 'D+000008.6'), ('2021-04-06 01:22:09.220', 'D+000008.4'), ('2021-04-06 01:22:09.240', 'D+000008.2'), ('2021-04-06 01:22:09.410', 'D+000006.4'), ('2021-04-06 01:22:09.430', 'D+000006.4'), ('2021-04-06 01:22:09.450', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 8.4, 8.2, 6.4, 6.4, 7.6]
np.array X: [[8.6]
 [8.4]
 [8.2]
 [6.4]
 [6.4]
 [7.6]]
revised_weight: 7.7
2021-04-06 01:22:09.450: revising weight finished
revised_weight: 7.7 at 2021-04-06 01:22:09.450
plc_result: True
sendmessage: 20210406012209450,1,000076,000077
send message to PLC: 2021-04-06 01:22:09.470
time gap: 0:00:00.012785
2021-04-06 01:22:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:11.138
lastevent: 2021-04-06 01:22:11.127, last ten sensor data: [('2021-04-06 01:22:10.460', 'D+000002.6'), ('2021-04-06 01:22:10.480', 'D+000002.6'), ('2021-04-06 01:22:10.650', 'D+000002.4'), ('2021-04-06 01:22:10.670', 'D+000002.8'), ('2021-04-06 01:22:10.690', 'D+000003.2'), ('2021-04-06 01:22:10.710', 'D+000003.2'), ('2021-04-06 01:22:10.890', 'D+000003.8'), ('2021-04-06 01:22:10.910', 'D+000003.6'), ('2021-04-06 01:22:10.930', 'D+000003.4'), ('2021-04-06 01:22:10.950', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.8, 3.6, 3.4, 3.8]
np.array X: [[3.2]
 [3.2]
 [3.8]
 [3.6]
 [3.4]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:22:10.950: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:22:10.950
plc_result: True
sendmessage: 20210406012210950,1,000038,000038
send message to PLC: 2021-04-06 01:22:11.151
time gap: 0:00:00.013134
2021-04-06 01:22:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:12.381
lastevent: 2021-04-06 01:22:12.368, last ten sensor data: [('2021-04-06 01:22:11.870', 'D+000002.0'), ('2021-04-06 01:22:11.890', 'D+000002.0'), ('2021-04-06 01:22:11.910', 'D+000001.8'), ('2021-04-06 01:22:11.930', 'D+000001.8'), ('2021-04-06 01:22:12.120', 'D+000002.8'), ('2021-04-06 01:22:12.140', 'D+000002.8'), ('2021-04-06 01:22:12.160', 'D+000003.0'), ('2021-04-06 01:22:12.180', 'D+000002.6'), ('2021-04-06 01:22:12.360', 'D+000002.6'), ('2021-04-06 01:22:12.380', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 3.0, 2.6, 2.6, 3.6]
np.array X: [[2.8]
 [2.8]
 [3. ]
 [2.6]
 [2.6]
 [3.6]]
revised_weight: 3.1
2021-04-06 01:22:12.380: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:22:12.380
plc_result: True
sendmessage: 20210406012212380,1,000036,000031
send message to PLC: 2021-04-06 01:22:12.389
time gap: 0:00:00.008171
2021-04-06 01:22:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:13: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:22:13: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:13: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:13: select done
2021-04-06 01:22:13: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:22:13: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:22:14: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:22:14: count: 4 in httpPlcDataSender thread
2021-04-06 01:22:14: D+: 4 in httpPlcDataSender thread
2021-04-06 01:22:14: D-: 0 in httpPlcDataSender thread
2021-04-06 01:22:14: S+: 0 in httpPlcDataSender thread
2021-04-06 01:22:14: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.3', 'sensorAt': '2021-04-06 01:22:08.750'}, {'value': '7.7', 'sensorAt': '2021-04-06 01:22:09.450'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:22:10.950'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:22:12.380'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:08.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:09.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:10.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:12.380'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:22:14', 'collectDate': '2021-04-06 01:22:12', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.3', 'sensorAt': '2021-04-06 01:22:08.750'}, {'value': '7.7', 'sensorAt': '2021-04-06 01:22:09.450'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:22:10.950'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:22:12.380'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:08.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:09.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:10.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:12.380'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:22:14: send http
2021-04-06 01:22:14: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:22:14: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:14.338
lastevent: 2021-04-06 01:22:14.328, last ten sensor data: [('2021-04-06 01:22:13.860', 'D+000002.2'), ('2021-04-06 01:22:13.880', 'D+000002.2'), ('2021-04-06 01:22:14.050', 'D+000005.0'), ('2021-04-06 01:22:14.070', 'D+000005.2'), ('2021-04-06 01:22:14.090', 'D+000005.2'), ('2021-04-06 01:22:14.110', 'D+000005.4'), ('2021-04-06 01:22:14.130', 'D+000006.2'), ('2021-04-06 01:22:14.300', 'D+000010.0'), ('2021-04-06 01:22:14.320', 'D+000010.0'), ('2021-04-06 01:22:14.340', 'D+000009.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.4, 6.2, 10.0, 10.0, 9.6]
np.array X: [[ 5.2]
 [ 5.4]
 [ 6.2]
 [10. ]
 [10. ]
 [ 9.6]]
revised_weight: 8.6
2021-04-06 01:22:14.340: revising weight finished
revised_weight: 8.6 at 2021-04-06 01:22:14.340
plc_result: True
sendmessage: 20210406012214340,1,000096,000086
send message to PLC: 2021-04-06 01:22:14.345
time gap: 0:00:00.006911
2021-04-06 01:22:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:14: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:15.202
lastevent: 2021-04-06 01:22:15.189, last ten sensor data: [('2021-04-06 01:22:14.790', 'D+000006.6'), ('2021-04-06 01:22:14.810', 'D+000006.8'), ('2021-04-06 01:22:14.830', 'D+000006.8'), ('2021-04-06 01:22:14.850', 'D+000006.2'), ('2021-04-06 01:22:14.870', 'D+000006.4'), ('2021-04-06 01:22:15.030', 'D+000005.0'), ('2021-04-06 01:22:15.050', 'D+000005.2'), ('2021-04-06 01:22:15.070', 'D+000005.6'), ('2021-04-06 01:22:15.090', 'D+000005.8'), ('2021-04-06 01:22:15.110', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 5.0, 5.2, 5.6, 5.8, 5.8]
np.array X: [[6.4]
 [5. ]
 [5.2]
 [5.6]
 [5.8]
 [5.8]]
revised_weight: 5.4
2021-04-06 01:22:15.110: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:22:15.110
plc_result: True
sendmessage: 20210406012215110,1,000058,000054
send message to PLC: 2021-04-06 01:22:15.209
time gap: 0:00:00.006619
2021-04-06 01:22:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:15: httpScaleDataSender thread Timeout occurred
2021-04-06 01:22:15: [13709] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
2021-04-06 01:22:15: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:22:17.746
lastevent: 2021-04-06 01:22:17.735, last ten sensor data: [('2021-04-06 01:22:17.230', 'D+000001.2'), ('2021-04-06 01:22:17.250', 'D+000001.4'), ('2021-04-06 01:22:17.270', 'D+000001.2'), ('2021-04-06 01:22:17.290', 'D+000001.2'), ('2021-04-06 01:22:17.310', 'D+000001.2'), ('2021-04-06 01:22:17.480', 'D+000001.4'), ('2021-04-06 01:22:17.500', 'D+000001.6'), ('2021-04-06 01:22:17.520', 'D+000001.6'), ('2021-04-06 01:22:17.540', 'D+000001.6'), ('2021-04-06 01:22:17.730', 'D+000001.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.2, 1.4, 1.6, 1.6, 1.6, 1.4]
np.array X: [[1.2]
 [1.4]
 [1.6]
 [1.6]
 [1.6]
 [1.4]]
revised_weight: 1.7
2021-04-06 01:22:17.730: revising weight finished
revised_weight: 1.7 at 2021-04-06 01:22:17.730
plc_result: True
sendmessage: 20210406012217730,1,000014,000017
send message to PLC: 2021-04-06 01:22:17.759
time gap: 0:00:00.012782
2021-04-06 01:22:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:19.106
lastevent: 2021-04-06 01:22:19.100, last ten sensor data: [('2021-04-06 01:22:18.530', 'D+000001.6'), ('2021-04-06 01:22:18.700', 'D+000001.8'), ('2021-04-06 01:22:18.720', 'D+000001.6'), ('2021-04-06 01:22:18.740', 'D+000001.6'), ('2021-04-06 01:22:18.760', 'D+000001.8'), ('2021-04-06 01:22:18.910', 'D+000001.8'), ('2021-04-06 01:22:18.930', 'D+000001.8'), ('2021-04-06 01:22:18.950', 'D+000001.6'), ('2021-04-06 01:22:18.970', 'D+000001.6'), ('2021-04-06 01:22:18.990', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 1.8, 1.8, 1.6, 1.6, 1.8]
np.array X: [[1.8]
 [1.8]
 [1.8]
 [1.6]
 [1.6]
 [1.8]]
revised_weight: 1.5
2021-04-06 01:22:18.990: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:22:18.990
plc_result: True
sendmessage: 20210406012218990,1,000018,000015
send message to PLC: 2021-04-06 01:22:19.114
time gap: 0:00:00.007495
2021-04-06 01:22:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:19: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:22:19: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:19.472
lastevent: 2021-04-06 01:22:19.457, last ten sensor data: [0, 0, ('2021-04-06 01:22:19.170', 'D+000002.2'), ('2021-04-06 01:22:19.190', 'D+000002.2'), ('2021-04-06 01:22:19.210', 'D+000001.8'), ('2021-04-06 01:22:19.230', 'D+000002.2'), ('2021-04-06 01:22:19.410', 'D+000001.8'), ('2021-04-06 01:22:19.430', 'D+000001.6'), ('2021-04-06 01:22:19.450', 'D+000001.6'), ('2021-04-06 01:22:19.470', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.2, 1.8, 1.6, 1.6, 1.8]
np.array X: [[1.8]
 [2.2]
 [1.8]
 [1.6]
 [1.6]
 [1.8]]
revised_weight: 1.4
2021-04-06 01:22:19.470: revising weight finished
revised_weight: 1.4 at 2021-04-06 01:22:19.470
plc_result: True
sendmessage: 20210406012219470,1,000018,000014
send message to PLC: 2021-04-06 01:22:19.479
time gap: 0:00:00.006980
2021-04-06 01:22:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:19: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:19: select done
2021-04-06 01:22:19: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:22:19: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:22:19: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:22:19: count: 5 in httpPlcDataSender thread
2021-04-06 01:22:19: D+: 5 in httpPlcDataSender thread
2021-04-06 01:22:19: D-: 0 in httpPlcDataSender thread
2021-04-06 01:22:19: S+: 0 in httpPlcDataSender thread
2021-04-06 01:22:19: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.6', 'sensorAt': '2021-04-06 01:22:14.340'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:22:15.110'}, {'value': '1.7', 'sensorAt': '2021-04-06 01:22:17.730'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:22:18.990'}, {'value': '1.4', 'sensorAt': '2021-04-06 01:22:19.470'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:14.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:15.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:17.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:18.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:19.470'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:22:19', 'collectDate': '2021-04-06 01:22:19', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.6', 'sensorAt': '2021-04-06 01:22:14.340'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:22:15.110'}, {'value': '1.7', 'sensorAt': '2021-04-06 01:22:17.730'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:22:18.990'}, {'value': '1.4', 'sensorAt': '2021-04-06 01:22:19.470'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:14.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:15.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:17.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:18.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:19.470'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:22:19: send http
2021-04-06 01:22:19: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:22:19: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:19: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:20.904
lastevent: 2021-04-06 01:22:20.894, last ten sensor data: [('2021-04-06 01:22:20.430', 'D+000001.8'), ('2021-04-06 01:22:20.450', 'D+000002.0'), ('2021-04-06 01:22:20.470', 'D+000002.0'), ('2021-04-06 01:22:20.490', 'D+000002.0'), ('2021-04-06 01:22:20.510', 'D+000002.0'), ('2021-04-06 01:22:20.680', 'D+000002.6'), ('2021-04-06 01:22:20.700', 'D+000003.0'), ('2021-04-06 01:22:20.720', 'D+000003.0'), ('2021-04-06 01:22:20.740', 'D+000002.8'), ('2021-04-06 01:22:20.760', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.6, 3.0, 3.0, 2.8, 2.6]
np.array X: [[2. ]
 [2.6]
 [3. ]
 [3. ]
 [2.8]
 [2.6]]
revised_weight: 2.6
2021-04-06 01:22:20.760: revising weight finished
revised_weight: 2.6 at 2021-04-06 01:22:20.760
plc_result: True
sendmessage: 20210406012220760,1,000026,000026
send message to PLC: 2021-04-06 01:22:20.917
time gap: 0:00:00.012724
2021-04-06 01:22:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:21.779
lastevent: 2021-04-06 01:22:21.759, last ten sensor data: [('2021-04-06 01:22:21.410', 'D+000003.4'), ('2021-04-06 01:22:21.430', 'D+000003.8'), ('2021-04-06 01:22:21.450', 'D+000004.2'), ('2021-04-06 01:22:21.470', 'D+000004.2'), ('2021-04-06 01:22:21.490', 'D+000003.2'), ('2021-04-06 01:22:21.660', 'D+000003.8'), ('2021-04-06 01:22:21.680', 'D+000004.6'), ('2021-04-06 01:22:21.700', 'D+000005.2'), ('2021-04-06 01:22:21.720', 'D+000005.2'), ('2021-04-06 01:22:21.740', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.8, 4.6, 5.2, 5.2, 4.0]
np.array X: [[3.2]
 [3.8]
 [4.6]
 [5.2]
 [5.2]
 [4. ]]
revised_weight: 4.5
2021-04-06 01:22:21.740: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:22:21.740
plc_result: True
sendmessage: 20210406012221740,1,000040,000045
send message to PLC: 2021-04-06 01:22:21.791
time gap: 0:00:00.012010
2021-04-06 01:22:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:23.137
lastevent: 2021-04-06 01:22:23.127, last ten sensor data: [('2021-04-06 01:22:22.680', 'D+000003.2'), ('2021-04-06 01:22:22.700', 'D+000003.2'), ('2021-04-06 01:22:22.720', 'D+000003.0'), ('2021-04-06 01:22:22.870', 'D+000003.2'), ('2021-04-06 01:22:22.890', 'D+000003.2'), ('2021-04-06 01:22:22.910', 'D+000003.0'), ('2021-04-06 01:22:22.930', 'D+000003.0'), ('2021-04-06 01:22:22.950', 'D+000003.2'), ('2021-04-06 01:22:22.970', 'D+000003.4'), ('2021-04-06 01:22:23.130', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.0, 3.0, 3.2, 3.4, 3.2]
np.array X: [[3.2]
 [3. ]
 [3. ]
 [3.2]
 [3.4]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:22:23.130: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:22:23.130
plc_result: True
sendmessage: 20210406012223130,1,000032,000031
send message to PLC: 2021-04-06 01:22:23.144
time gap: 0:00:00.006847
2021-04-06 01:22:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:23.599
lastevent: 2021-04-06 01:22:23.584, last ten sensor data: [0, 0, ('2021-04-06 01:22:23.150', 'D+000002.8'), ('2021-04-06 01:22:23.170', 'D+000003.0'), ('2021-04-06 01:22:23.190', 'D+000003.2'), ('2021-04-06 01:22:23.370', 'D+000004.6'), ('2021-04-06 01:22:23.390', 'D+000004.6'), ('2021-04-06 01:22:23.410', 'D+000004.8'), ('2021-04-06 01:22:23.430', 'D+000005.0'), ('2021-04-06 01:22:23.450', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 4.6, 4.6, 4.8, 5.0, 5.2]
np.array X: [[3.2]
 [4.6]
 [4.6]
 [4.8]
 [5. ]
 [5.2]]
revised_weight: 4.5
2021-04-06 01:22:23.450: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:22:23.450
plc_result: True
sendmessage: 20210406012223450,1,000052,000045
send message to PLC: 2021-04-06 01:22:23.608
time gap: 0:00:00.008906
2021-04-06 01:22:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:24: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:22:24: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:24.977
lastevent: 2021-04-06 01:22:24.954, last ten sensor data: [('2021-04-06 01:22:24.530', 'D+000003.0'), ('2021-04-06 01:22:24.690', 'D+000003.4'), ('2021-04-06 01:22:24.710', 'D+000003.0'), ('2021-04-06 01:22:24.730', 'D+000003.0'), ('2021-04-06 01:22:24.750', 'D+000003.2'), ('2021-04-06 01:22:24.770', 'D+000003.0'), ('2021-04-06 01:22:24.790', 'D+000003.0'), ('2021-04-06 01:22:24.930', 'D+000003.8'), ('2021-04-06 01:22:24.960', 'D+000003.6'), ('2021-04-06 01:22:24.980', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.0, 3.0, 3.8, 3.6, 3.6]
np.array X: [[3.2]
 [3. ]
 [3. ]
 [3.8]
 [3.6]
 [3.6]]
revised_weight: 3.4
2021-04-06 01:22:24.980: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:22:24.980
plc_result: True
sendmessage: 20210406012224980,1,000036,000034
send message to PLC: 2021-04-06 01:22:24.989
time gap: 0:00:00.012579
2021-04-06 01:22:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:25: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:25: select done
2021-04-06 01:22:25: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:22:25: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:22:25: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:22:25: count: 5 in httpPlcDataSender thread
2021-04-06 01:22:25: D+: 5 in httpPlcDataSender thread
2021-04-06 01:22:25: D-: 0 in httpPlcDataSender thread
2021-04-06 01:22:25: S+: 0 in httpPlcDataSender thread
2021-04-06 01:22:25: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.6', 'sensorAt': '2021-04-06 01:22:20.760'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:22:21.740'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:22:23.130'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:22:23.450'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:22:24.980'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:20.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:21.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:23.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:23.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:24.980'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:22:25', 'collectDate': '2021-04-06 01:22:24', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.6', 'sensorAt': '2021-04-06 01:22:20.760'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:22:21.740'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:22:23.130'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:22:23.450'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:22:24.980'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:20.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:21.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:23.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:23.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:24.980'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:22:25: send http
2021-04-06 01:22:25: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:22:25: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:25: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:25.960
lastevent: 2021-04-06 01:22:25.952, last ten sensor data: [('2021-04-06 01:22:25.470', 'D+000003.0'), ('2021-04-06 01:22:25.490', 'D+000002.8'), ('2021-04-06 01:22:25.680', 'D+000003.4'), ('2021-04-06 01:22:25.700', 'D+000003.8'), ('2021-04-06 01:22:25.720', 'D+000004.4'), ('2021-04-06 01:22:25.740', 'D+000004.8'), ('2021-04-06 01:22:25.810', 'D+000005.4'), ('2021-04-06 01:22:25.920', 'D+000007.8'), ('2021-04-06 01:22:25.940', 'D+000007.4'), ('2021-04-06 01:22:25.960', 'D+000008.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.8, 5.4, 7.8, 7.4, 8.8]
np.array X: [[4.4]
 [4.8]
 [5.4]
 [7.8]
 [7.4]
 [8.8]]
revised_weight: 7.3
2021-04-06 01:22:25.960: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:22:25.960
plc_result: True
sendmessage: 20210406012225960,1,000088,000073
send message to PLC: 2021-04-06 01:22:25.967
time gap: 0:00:00.007035
2021-04-06 01:22:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:26.633
lastevent: 2021-04-06 01:22:26.613, last ten sensor data: [0, ('2021-04-06 01:22:25.980', 'D+000010.8'), ('2021-04-06 01:22:26.160', 'D+000009.0'), ('2021-04-06 01:22:26.180', 'D+000008.8'), ('2021-04-06 01:22:26.200', 'D+000008.8'), ('2021-04-06 01:22:26.220', 'D+000009.0'), ('2021-04-06 01:22:26.400', 'D+000007.8'), ('2021-04-06 01:22:26.420', 'D+000006.6'), ('2021-04-06 01:22:26.440', 'D+000006.4'), ('2021-04-06 01:22:26.460', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.8, 9.0, 7.8, 6.6, 6.4, 6.8]
np.array X: [[8.8]
 [9. ]
 [7.8]
 [6.6]
 [6.4]
 [6.8]]
revised_weight: 7.8
2021-04-06 01:22:26.460: revising weight finished
revised_weight: 7.8 at 2021-04-06 01:22:26.460
plc_result: True
sendmessage: 20210406012226460,1,000068,000078
send message to PLC: 2021-04-06 01:22:26.645
time gap: 0:00:00.012526
2021-04-06 01:22:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:28.725
lastevent: 2021-04-06 01:22:28.717, last ten sensor data: [('2021-04-06 01:22:28.380', 'D+000001.6'), ('2021-04-06 01:22:28.400', 'D+000002.0'), ('2021-04-06 01:22:28.420', 'D+000002.0'), ('2021-04-06 01:22:28.440', 'D+000002.4'), ('2021-04-06 01:22:28.460', 'D+000002.4'), ('2021-04-06 01:22:28.630', 'D+000002.4'), ('2021-04-06 01:22:28.650', 'D+000002.6'), ('2021-04-06 01:22:28.670', 'D+000003.0'), ('2021-04-06 01:22:28.690', 'D+000003.0'), ('2021-04-06 01:22:28.710', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.6, 3.0, 3.0, 2.8]
np.array X: [[2.4]
 [2.4]
 [2.6]
 [3. ]
 [3. ]
 [2.8]]
revised_weight: 2.6
2021-04-06 01:22:28.710: revising weight finished
revised_weight: 2.6 at 2021-04-06 01:22:28.710
plc_result: True
sendmessage: 20210406012228710,1,000028,000026
send message to PLC: 2021-04-06 01:22:28.732
time gap: 0:00:00.006888
2021-04-06 01:22:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:29.725
lastevent: 2021-04-06 01:22:29.712, last ten sensor data: [('2021-04-06 01:22:29.310', 'D+000002.6'), ('2021-04-06 01:22:29.330', 'D+000002.8'), ('2021-04-06 01:22:29.350', 'D+000002.8'), ('2021-04-06 01:22:29.370', 'D+000003.0'), ('2021-04-06 01:22:29.390', 'D+000003.2'), ('2021-04-06 01:22:29.560', 'D+000008.6'), ('2021-04-06 01:22:29.580', 'D+000008.8'), ('2021-04-06 01:22:29.600', 'D+000010.0'), ('2021-04-06 01:22:29.620', 'D+000010.8'), ('2021-04-06 01:22:29.640', 'D+000011.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 8.6, 8.8, 10.0, 10.8, 11.2]
np.array X: [[ 3.2]
 [ 8.6]
 [ 8.8]
 [10. ]
 [10.8]
 [11.2]]
revised_weight: 11.0
2021-04-06 01:22:29.640: revising weight finished
revised_weight: 11.0 at 2021-04-06 01:22:29.640
plc_result: True
sendmessage: 20210406012229640,1,000112,000110
send message to PLC: 2021-04-06 01:22:29.735
time gap: 0:00:00.010009
2021-04-06 01:22:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:30.390
lastevent: 2021-04-06 01:22:30.377, last ten sensor data: [('2021-04-06 01:22:29.830', 'D+000013.8'), ('2021-04-06 01:22:29.850', 'D+000013.2'), ('2021-04-06 01:22:29.870', 'D+000012.4'), ('2021-04-06 01:22:30.050', 'D+000013.2'), ('2021-04-06 01:22:30.070', 'D+000013.0'), ('2021-04-06 01:22:30.090', 'D+000012.6'), ('2021-04-06 01:22:30.110', 'D+000012.8'), ('2021-04-06 01:22:30.310', 'D+000008.6'), ('2021-04-06 01:22:30.330', 'D+000007.6'), ('2021-04-06 01:22:30.350', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [13.0, 12.6, 12.8, 8.6, 7.6, 7.4]
np.array X: [[13. ]
 [12.6]
 [12.8]
 [ 8.6]
 [ 7.6]
 [ 7.4]]
revised_weight: 11.3
2021-04-06 01:22:30.350: revising weight finished
revised_weight: 11.3 at 2021-04-06 01:22:30.350
plc_result: True
sendmessage: 20210406012230350,1,000074,000113
send message to PLC: 2021-04-06 01:22:30.398
time gap: 0:00:00.007178
2021-04-06 01:22:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:30: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:22:30: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:30: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:30: select done
2021-04-06 01:22:30: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:22:30: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:22:30: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:22:30: count: 5 in httpPlcDataSender thread
2021-04-06 01:22:30: D+: 5 in httpPlcDataSender thread
2021-04-06 01:22:30: D-: 0 in httpPlcDataSender thread
2021-04-06 01:22:30: S+: 0 in httpPlcDataSender thread
2021-04-06 01:22:30: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.3', 'sensorAt': '2021-04-06 01:22:25.960'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:22:26.460'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:22:28.710'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:22:29.640'}, {'value': '11.3', 'sensorAt': '2021-04-06 01:22:30.350'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:25.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:26.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:28.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:29.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:30.350'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:22:30', 'collectDate': '2021-04-06 01:22:30', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.3', 'sensorAt': '2021-04-06 01:22:25.960'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:22:26.460'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:22:28.710'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:22:29.640'}, {'value': '11.3', 'sensorAt': '2021-04-06 01:22:30.350'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:25.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:26.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:28.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:29.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:30.350'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:22:30: send http
2021-04-06 01:22:30: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:22:31: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:31: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:31.486
lastevent: 2021-04-06 01:22:31.465, last ten sensor data: [('2021-04-06 01:22:31.080', 'D+000002.6'), ('2021-04-06 01:22:31.100', 'D+000002.8'), ('2021-04-06 01:22:31.120', 'D+000002.6'), ('2021-04-06 01:22:31.260', 'D+000003.0'), ('2021-04-06 01:22:31.280', 'D+000003.0'), ('2021-04-06 01:22:31.300', 'D+000002.8'), ('2021-04-06 01:22:31.320', 'D+000002.8'), ('2021-04-06 01:22:31.340', 'D+000002.6'), ('2021-04-06 01:22:31.420', 'D+000002.6'), ('2021-04-06 01:22:31.470', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 2.8, 2.6, 2.6, 2.4]
np.array X: [[3. ]
 [2.8]
 [2.8]
 [2.6]
 [2.6]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:22:31.470: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:22:31.470
plc_result: True
sendmessage: 20210406012231470,1,000024,000023
send message to PLC: 2021-04-06 01:22:31.493
time gap: 0:00:00.006841
2021-04-06 01:22:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:32.611
lastevent: 2021-04-06 01:22:32.594, last ten sensor data: [('2021-04-06 01:22:32.230', 'D+000002.2'), ('2021-04-06 01:22:32.250', 'D+000002.4'), ('2021-04-06 01:22:32.270', 'D+000002.6'), ('2021-04-06 01:22:32.290', 'D+000002.4'), ('2021-04-06 01:22:32.310', 'D+000002.4'), ('2021-04-06 01:22:32.330', 'D+000002.4'), ('2021-04-06 01:22:32.490', 'D+000002.4'), ('2021-04-06 01:22:32.510', 'D+000002.0'), ('2021-04-06 01:22:32.530', 'D+000001.6'), ('2021-04-06 01:22:32.550', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.4, 2.0, 1.6, 2.6]
np.array X: [[2.4]
 [2.4]
 [2.4]
 [2. ]
 [1.6]
 [2.6]]
revised_weight: 2.3
2021-04-06 01:22:32.550: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:22:32.550
plc_result: True
sendmessage: 20210406012232550,1,000026,000023
send message to PLC: 2021-04-06 01:22:32.618
time gap: 0:00:00.007125
2021-04-06 01:22:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:33.067
lastevent: 2021-04-06 01:22:33.048, last ten sensor data: [0, 0, 0, ('2021-04-06 01:22:32.730', 'D+000002.6'), ('2021-04-06 01:22:32.750', 'D+000002.8'), ('2021-04-06 01:22:32.770', 'D+000002.6'), ('2021-04-06 01:22:32.790', 'D+000002.8'), ('2021-04-06 01:22:32.810', 'D+000002.8'), ('2021-04-06 01:22:32.970', 'D+000003.2'), ('2021-04-06 01:22:32.990', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.6, 2.8, 2.8, 3.2, 2.8]
np.array X: [[2.8]
 [2.6]
 [2.8]
 [2.8]
 [3.2]
 [2.8]]
revised_weight: 2.6
2021-04-06 01:22:32.990: revising weight finished
revised_weight: 2.6 at 2021-04-06 01:22:32.990
plc_result: True
sendmessage: 20210406012232990,1,000028,000026
send message to PLC: 2021-04-06 01:22:33.084
time gap: 0:00:00.016419
2021-04-06 01:22:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:22:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:34.529
lastevent: 2021-04-06 01:22:34.521, last ten sensor data: [('2021-04-06 01:22:33.900', 'D+000002.8'), ('2021-04-06 01:22:33.920', 'D+000003.0'), ('2021-04-06 01:22:34.110', 'D+000002.2'), ('2021-04-06 01:22:34.130', 'D+000002.6'), ('2021-04-06 01:22:34.150', 'D+000002.8'), ('2021-04-06 01:22:34.170', 'D+000003.0'), ('2021-04-06 01:22:34.350', 'D+000004.2'), ('2021-04-06 01:22:34.370', 'D+000004.4'), ('2021-04-06 01:22:34.390', 'D+000005.0'), ('2021-04-06 01:22:34.410', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.0, 4.2, 4.4, 5.0, 5.8]
np.array X: [[2.8]
 [3. ]
 [4.2]
 [4.4]
 [5. ]
 [5.8]]
revised_weight: 4.7
2021-04-06 01:22:34.410: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:22:34.410
plc_result: True
sendmessage: 20210406012234410,1,000058,000047
send message to PLC: 2021-04-06 01:22:34.542
time gap: 0:00:00.012975
2021-04-06 01:22:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:35.096
lastevent: 2021-04-06 01:22:35.090, last ten sensor data: [('2021-04-06 01:22:34.610', 'D+000006.6'), ('2021-04-06 01:22:34.630', 'D+000007.0'), ('2021-04-06 01:22:34.650', 'D+000007.2'), ('2021-04-06 01:22:34.670', 'D+000007.0'), ('2021-04-06 01:22:34.850', 'D+000006.8'), ('2021-04-06 01:22:34.870', 'D+000006.8'), ('2021-04-06 01:22:34.890', 'D+000007.0'), ('2021-04-06 01:22:34.910', 'D+000006.6'), ('2021-04-06 01:22:35.070', 'D+000005.2'), ('2021-04-06 01:22:35.090', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.8, 7.0, 6.6, 5.2, 4.8]
np.array X: [[6.8]
 [6.8]
 [7. ]
 [6.6]
 [5.2]
 [4.8]]
revised_weight: 5.6
2021-04-06 01:22:35.090: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:22:35.090
plc_result: True
sendmessage: 20210406012235090,1,000048,000056
send message to PLC: 2021-04-06 01:22:35.108
time gap: 0:00:00.012310
2021-04-06 01:22:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:36: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:22:36: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:36: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:36: select done
2021-04-06 01:22:36: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:22:36: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:36.309
lastevent: 2021-04-06 01:22:36.301, last ten sensor data: [('2021-04-06 01:22:35.820', 'D+000003.4'), ('2021-04-06 01:22:35.840', 'D+000003.4'), ('2021-04-06 01:22:35.860', 'D+000003.2'), ('2021-04-06 01:22:35.880', 'D+000003.2'), ('2021-04-06 01:22:36.060', 'D+000003.2'), ('2021-04-06 01:22:36.080', 'D+000003.2'), ('2021-04-06 01:22:36.100', 'D+000003.4'), ('2021-04-06 01:22:36.120', 'D+000003.4'), ('2021-04-06 01:22:36.140', 'D+000003.4'), ('2021-04-06 01:22:36.300', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.4, 3.4, 3.4, 2.8]
np.array X: [[3.2]
 [3.2]
 [3.4]
 [3.4]
 [3.4]
 [2.8]]
revised_weight: 2.8
2021-04-06 01:22:36.300: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:22:36.300
plc_result: True
sendmessage: 20210406012236300,1,000028,000028
send message to PLC: 2021-04-06 01:22:36.316
time gap: 0:00:00.007416
2021-04-06 01:22:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:36: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:22:36: count: 5 in httpPlcDataSender thread
2021-04-06 01:22:36: D+: 5 in httpPlcDataSender thread
2021-04-06 01:22:36: D-: 0 in httpPlcDataSender thread
2021-04-06 01:22:36: S+: 0 in httpPlcDataSender thread
2021-04-06 01:22:36: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.3', 'sensorAt': '2021-04-06 01:22:31.470'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:22:32.550'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:22:32.990'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:22:34.410'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:22:35.090'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:31.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:32.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:32.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:34.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:35.090'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:22:36', 'collectDate': '2021-04-06 01:22:35', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.3', 'sensorAt': '2021-04-06 01:22:31.470'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:22:32.550'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:22:32.990'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:22:34.410'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:22:35.090'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:31.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:32.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:32.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:34.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:35.090'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:22:36: send http
2021-04-06 01:22:36: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:22:36: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:36: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:37.478
lastevent: 2021-04-06 01:22:37.477, last ten sensor data: [('2021-04-06 01:22:36.950', 'D+000002.8'), ('2021-04-06 01:22:36.970', 'D+000002.8'), ('2021-04-06 01:22:36.990', 'D+000002.8'), ('2021-04-06 01:22:37.010', 'D+000002.8'), ('2021-04-06 01:22:37.170', 'D+000003.2'), ('2021-04-06 01:22:37.190', 'D+000003.4'), ('2021-04-06 01:22:37.210', 'D+000003.6'), ('2021-04-06 01:22:37.230', 'D+000004.6'), ('2021-04-06 01:22:37.250', 'D+000004.8'), ('2021-04-06 01:22:37.400', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 3.6, 4.6, 4.8, 7.4]
np.array X: [[3.2]
 [3.4]
 [3.6]
 [4.6]
 [4.8]
 [7.4]]
revised_weight: 5.1
2021-04-06 01:22:37.400: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:22:37.400
plc_result: True
sendmessage: 20210406012237400,1,000074,000051
send message to PLC: 2021-04-06 01:22:37.484
time gap: 0:00:00.006525
2021-04-06 01:22:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:39.047
lastevent: 2021-04-06 01:22:39.042, last ten sensor data: [('2021-04-06 01:22:38.550', 'D+000003.0'), ('2021-04-06 01:22:38.570', 'D+000002.8'), ('2021-04-06 01:22:38.590', 'D+000002.8'), ('2021-04-06 01:22:38.610', 'D+000002.8'), ('2021-04-06 01:22:38.630', 'D+000002.8'), ('2021-04-06 01:22:38.810', 'D+000007.4'), ('2021-04-06 01:22:38.830', 'D+000008.0'), ('2021-04-06 01:22:38.850', 'D+000009.0'), ('2021-04-06 01:22:38.870', 'D+000009.6'), ('2021-04-06 01:22:39.030', 'D+000015.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 7.4, 8.0, 9.0, 9.6, 15.0]
np.array X: [[ 2.8]
 [ 7.4]
 [ 8. ]
 [ 9. ]
 [ 9.6]
 [15. ]]
revised_weight: 12.5
2021-04-06 01:22:39.030: revising weight finished
revised_weight: 12.5 at 2021-04-06 01:22:39.030
plc_result: True
sendmessage: 20210406012239030,1,000150,000125
send message to PLC: 2021-04-06 01:22:39.053
time gap: 0:00:00.006172
2021-04-06 01:22:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:40.340
lastevent: 2021-04-06 01:22:40.333, last ten sensor data: [('2021-04-06 01:22:40.020', 'D+000002.6'), ('2021-04-06 01:22:40.040', 'D+000003.6'), ('2021-04-06 01:22:40.060', 'D+000003.8'), ('2021-04-06 01:22:40.080', 'D+000003.8'), ('2021-04-06 01:22:40.100', 'D+000003.6'), ('2021-04-06 01:22:40.260', 'D+000005.8'), ('2021-04-06 01:22:40.280', 'D+000005.6'), ('2021-04-06 01:22:40.300', 'D+000005.6'), ('2021-04-06 01:22:40.320', 'D+000006.4'), ('2021-04-06 01:22:40.340', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 5.8, 5.6, 5.6, 6.4, 5.6]
np.array X: [[3.6]
 [5.8]
 [5.6]
 [5.6]
 [6.4]
 [5.6]]
revised_weight: 5.3
2021-04-06 01:22:40.340: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:22:40.340
plc_result: True
sendmessage: 20210406012240340,1,000056,000053
send message to PLC: 2021-04-06 01:22:40.347
time gap: 0:00:00.006209
2021-04-06 01:22:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:41: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:22:41: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:41: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:41: select done
2021-04-06 01:22:41: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:22:41: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:22:41: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:22:41: count: 4 in httpPlcDataSender thread
2021-04-06 01:22:41: D+: 4 in httpPlcDataSender thread
2021-04-06 01:22:41: D-: 0 in httpPlcDataSender thread
2021-04-06 01:22:41: S+: 0 in httpPlcDataSender thread
2021-04-06 01:22:41: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.8', 'sensorAt': '2021-04-06 01:22:36.300'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:22:37.400'}, {'value': '12.5', 'sensorAt': '2021-04-06 01:22:39.030'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:22:40.340'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:36.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:37.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:39.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:40.340'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:22:41', 'collectDate': '2021-04-06 01:22:40', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.8', 'sensorAt': '2021-04-06 01:22:36.300'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:22:37.400'}, {'value': '12.5', 'sensorAt': '2021-04-06 01:22:39.030'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:22:40.340'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:36.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:37.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:39.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:40.340'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:22:42: send http
2021-04-06 01:22:42: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:22:42.151
lastevent: 2021-04-06 01:22:42.139, last ten sensor data: [('2021-04-06 01:22:41.770', 'D+000002.4'), ('2021-04-06 01:22:41.790', 'D+000002.4'), ('2021-04-06 01:22:41.810', 'D+000002.4'), ('2021-04-06 01:22:41.940', 'D+000002.8'), ('2021-04-06 01:22:41.970', 'D+000002.6'), ('2021-04-06 01:22:41.990', 'D+000002.8'), ('2021-04-06 01:22:42.010', 'D+000002.8'), ('2021-04-06 01:22:42.030', 'D+000002.6'), ('2021-04-06 01:22:42.050', 'D+000002.6'), ('2021-04-06 01:22:42.080', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.8, 2.8, 2.6, 2.6, 2.6]
np.array X: [[2.6]
 [2.8]
 [2.8]
 [2.6]
 [2.6]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:22:42.080: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:22:42.080
plc_result: True
sendmessage: 20210406012242080,1,000026,000025
send message to PLC: 2021-04-06 01:22:42.163
time gap: 0:00:00.011265
2021-04-06 01:22:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
Backupserver True
2021-04-06 01:22:42: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:42: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:42.583
lastevent: 2021-04-06 01:22:42.571, last ten sensor data: [0, ('2021-04-06 01:22:42.210', 'D+000003.0'), ('2021-04-06 01:22:42.230', 'D+000002.8'), ('2021-04-06 01:22:42.250', 'D+000002.8'), ('2021-04-06 01:22:42.270', 'D+000003.2'), ('2021-04-06 01:22:42.290', 'D+000003.4'), ('2021-04-06 01:22:42.470', 'D+000003.6'), ('2021-04-06 01:22:42.490', 'D+000003.4'), ('2021-04-06 01:22:42.510', 'D+000003.2'), ('2021-04-06 01:22:42.530', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 3.6, 3.4, 3.2, 3.0]
np.array X: [[3.2]
 [3.4]
 [3.6]
 [3.4]
 [3.2]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:22:42.530: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:22:42.530
plc_result: True
sendmessage: 20210406012242530,1,000030,000029
send message to PLC: 2021-04-06 01:22:42.595
time gap: 0:00:00.011773
2021-04-06 01:22:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:42.974
lastevent: 2021-04-06 01:22:42.965, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:22:42.720', 'D+000003.6'), ('2021-04-06 01:22:42.740', 'D+000003.4'), ('2021-04-06 01:22:42.760', 'D+000003.4'), ('2021-04-06 01:22:42.780', 'D+000003.4'), ('2021-04-06 01:22:42.960', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 3.6, 3.4, 3.4, 3.4, 2.8]
np.array X: [[0. ]
 [3.6]
 [3.4]
 [3.4]
 [3.4]
 [2.8]]
revised_weight: 2.5
2021-04-06 01:22:42.960: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:22:42.960
plc_result: True
sendmessage: 20210406012242960,1,000028,000025
send message to PLC: 2021-04-06 01:22:42.987
time gap: 0:00:00.012460
2021-04-06 01:22:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:44.560
lastevent: 2021-04-06 01:22:44.547, last ten sensor data: [('2021-04-06 01:22:44.000', 'D+000002.6'), ('2021-04-06 01:22:44.180', 'D+000002.6'), ('2021-04-06 01:22:44.200', 'D+000002.6'), ('2021-04-06 01:22:44.220', 'D+000002.6'), ('2021-04-06 01:22:44.240', 'D+000002.6'), ('2021-04-06 01:22:44.400', 'D+000003.4'), ('2021-04-06 01:22:44.430', 'D+000002.8'), ('2021-04-06 01:22:44.450', 'D+000003.0'), ('2021-04-06 01:22:44.470', 'D+000003.2'), ('2021-04-06 01:22:44.490', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.4, 2.8, 3.0, 3.2, 2.6]
np.array X: [[2.6]
 [3.4]
 [2.8]
 [3. ]
 [3.2]
 [2.6]]
revised_weight: 2.6
2021-04-06 01:22:44.490: revising weight finished
revised_weight: 2.6 at 2021-04-06 01:22:44.490
plc_result: True
sendmessage: 20210406012244490,1,000026,000026
send message to PLC: 2021-04-06 01:22:44.571
time gap: 0:00:00.011514
2021-04-06 01:22:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:45.237
lastevent: 2021-04-06 01:22:45.225, last ten sensor data: [('2021-04-06 01:22:44.910', 'D+000002.4'), ('2021-04-06 01:22:44.930', 'D+000002.4'), ('2021-04-06 01:22:44.950', 'D+000002.8'), ('2021-04-06 01:22:44.970', 'D+000003.2'), ('2021-04-06 01:22:44.990', 'D+000003.4'), ('2021-04-06 01:22:45.150', 'D+000003.2'), ('2021-04-06 01:22:45.170', 'D+000002.8'), ('2021-04-06 01:22:45.190', 'D+000003.0'), ('2021-04-06 01:22:45.210', 'D+000003.2'), ('2021-04-06 01:22:45.230', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.2, 2.8, 3.0, 3.2, 3.0]
np.array X: [[3.4]
 [3.2]
 [2.8]
 [3. ]
 [3.2]
 [3. ]]
revised_weight: 3.0
2021-04-06 01:22:45.230: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:22:45.230
plc_result: True
sendmessage: 20210406012245230,1,000030,000030
send message to PLC: 2021-04-06 01:22:45.249
time gap: 0:00:00.011236
2021-04-06 01:22:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:45.605
lastevent: 2021-04-06 01:22:45.599, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:22:45.390', 'D+000002.8'), ('2021-04-06 01:22:45.410', 'D+000003.0'), ('2021-04-06 01:22:45.430', 'D+000003.0'), ('2021-04-06 01:22:45.450', 'D+000003.0'), ('2021-04-06 01:22:45.470', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 2.8, 3.0, 3.0, 3.0, 3.0]
np.array X: [[0. ]
 [2.8]
 [3. ]
 [3. ]
 [3. ]
 [3. ]]
revised_weight: 1.6
2021-04-06 01:22:45.470: revising weight finished
revised_weight: 1.6 at 2021-04-06 01:22:45.470
plc_result: True
sendmessage: 20210406012245470,1,000030,000016
send message to PLC: 2021-04-06 01:22:45.616
time gap: 0:00:00.011205
2021-04-06 01:22:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:47: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:22:47: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:47: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:47: select done
2021-04-06 01:22:47: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:22:47: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:22:47: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:22:47: count: 6 in httpPlcDataSender thread
2021-04-06 01:22:47: D+: 6 in httpPlcDataSender thread
2021-04-06 01:22:47: D-: 0 in httpPlcDataSender thread
2021-04-06 01:22:47: S+: 0 in httpPlcDataSender thread
2021-04-06 01:22:47: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.5', 'sensorAt': '2021-04-06 01:22:42.080'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:22:42.530'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:22:42.960'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:22:44.490'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:22:45.230'}, {'value': '1.6', 'sensorAt': '2021-04-06 01:22:45.470'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:42.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:42.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:42.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:44.490'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:45.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:45.470'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:22:47', 'collectDate': '2021-04-06 01:22:45', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.5', 'sensorAt': '2021-04-06 01:22:42.080'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:22:42.530'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:22:42.960'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:22:44.490'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:22:45.230'}, {'value': '1.6', 'sensorAt': '2021-04-06 01:22:45.470'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:42.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:42.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:42.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:44.490'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:45.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:45.470'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:22:47: send http
2021-04-06 01:22:47: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:22:47: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:47: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:48.368
lastevent: 2021-04-06 01:22:48.360, last ten sensor data: [('2021-04-06 01:22:47.910', 'D+000001.2'), ('2021-04-06 01:22:47.930', 'D+000001.4'), ('2021-04-06 01:22:48.090', 'D+000001.6'), ('2021-04-06 01:22:48.110', 'D+000001.4'), ('2021-04-06 01:22:48.130', 'D+000001.4'), ('2021-04-06 01:22:48.150', 'D+000001.4'), ('2021-04-06 01:22:48.170', 'D+000001.4'), ('2021-04-06 01:22:48.330', 'D+000001.4'), ('2021-04-06 01:22:48.350', 'D+000001.6'), ('2021-04-06 01:22:48.370', 'D+000001.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 1.4, 1.4, 1.4, 1.6, 1.6]
np.array X: [[1.4]
 [1.4]
 [1.4]
 [1.4]
 [1.6]
 [1.6]]
revised_weight: 1.1
2021-04-06 01:22:48.370: revising weight finished
revised_weight: 1.1 at 2021-04-06 01:22:48.370
plc_result: True
sendmessage: 20210406012248370,1,000016,000011
send message to PLC: 2021-04-06 01:22:48.379
time gap: 0:00:00.011806
2021-04-06 01:22:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:49.551
lastevent: 2021-04-06 01:22:49.544, last ten sensor data: [('2021-04-06 01:22:49.050', 'D+000002.0'), ('2021-04-06 01:22:49.080', 'D+000002.4'), ('2021-04-06 01:22:49.100', 'D+000002.0'), ('2021-04-06 01:22:49.120', 'D+000002.0'), ('2021-04-06 01:22:49.140', 'D+000001.6'), ('2021-04-06 01:22:49.310', 'D+000002.2'), ('2021-04-06 01:22:49.330', 'D+000002.2'), ('2021-04-06 01:22:49.350', 'D+000002.6'), ('2021-04-06 01:22:49.370', 'D+000002.6'), ('2021-04-06 01:22:49.390', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 2.2, 2.2, 2.6, 2.6, 2.6]
np.array X: [[1.6]
 [2.2]
 [2.2]
 [2.6]
 [2.6]
 [2.6]]
revised_weight: 2.4
2021-04-06 01:22:49.390: revising weight finished
revised_weight: 2.4 at 2021-04-06 01:22:49.390
plc_result: True
sendmessage: 20210406012249390,1,000026,000024
send message to PLC: 2021-04-06 01:22:49.580
time gap: 0:00:00.028105
2021-04-06 01:22:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:51.413
lastevent: 2021-04-06 01:22:51.402, last ten sensor data: [('2021-04-06 01:22:50.840', 'D+000002.8'), ('2021-04-06 01:22:50.860', 'D+000002.6'), ('2021-04-06 01:22:51.040', 'D+000003.2'), ('2021-04-06 01:22:51.060', 'D+000003.8'), ('2021-04-06 01:22:51.080', 'D+000004.0'), ('2021-04-06 01:22:51.100', 'D+000004.2'), ('2021-04-06 01:22:51.270', 'D+000007.4'), ('2021-04-06 01:22:51.290', 'D+000006.2'), ('2021-04-06 01:22:51.310', 'D+000005.4'), ('2021-04-06 01:22:51.330', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 7.4, 6.2, 5.4, 6.4]
np.array X: [[4. ]
 [4.2]
 [7.4]
 [6.2]
 [5.4]
 [6.4]]
revised_weight: 8.1
2021-04-06 01:22:51.330: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:22:51.330
plc_result: True
sendmessage: 20210406012251330,1,000064,000081
send message to PLC: 2021-04-06 01:22:51.426
time gap: 0:00:00.013324
2021-04-06 01:22:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:52.459
lastevent: 2021-04-06 01:22:52.449, last ten sensor data: [('2021-04-06 01:22:51.990', 'D+000002.4'), ('2021-04-06 01:22:52.010', 'D+000002.4'), ('2021-04-06 01:22:52.030', 'D+000002.4'), ('2021-04-06 01:22:52.050', 'D+000002.4'), ('2021-04-06 01:22:52.070', 'D+000002.4'), ('2021-04-06 01:22:52.230', 'D+000002.4'), ('2021-04-06 01:22:52.250', 'D+000002.4'), ('2021-04-06 01:22:52.270', 'D+000002.4'), ('2021-04-06 01:22:52.290', 'D+000002.4'), ('2021-04-06 01:22:52.310', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.4, 2.4, 2.4, 2.8]
np.array X: [[2.4]
 [2.4]
 [2.4]
 [2.4]
 [2.4]
 [2.8]]
revised_weight: 2.7
2021-04-06 01:22:52.310: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:22:52.310
plc_result: True
sendmessage: 20210406012252310,1,000028,000027
send message to PLC: 2021-04-06 01:22:52.474
time gap: 0:00:00.015178
2021-04-06 01:22:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:52: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:22:52: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:53: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:53: select done
2021-04-06 01:22:53: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:22:53: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:22:53: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:22:53: count: 4 in httpPlcDataSender thread
2021-04-06 01:22:53: D+: 4 in httpPlcDataSender thread
2021-04-06 01:22:53: D-: 0 in httpPlcDataSender thread
2021-04-06 01:22:53: S+: 0 in httpPlcDataSender thread
2021-04-06 01:22:53: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.1', 'sensorAt': '2021-04-06 01:22:48.370'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:22:49.390'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:22:51.330'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:22:52.310'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:48.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:49.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:51.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:52.310'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:22:53', 'collectDate': '2021-04-06 01:22:52', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.1', 'sensorAt': '2021-04-06 01:22:48.370'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:22:49.390'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:22:51.330'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:22:52.310'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:48.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:49.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:51.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:52.310'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:53.240
lastevent: 2021-04-06 01:22:53.228, last ten sensor data: [('2021-04-06 01:22:52.770', 'D+000003.0'), ('2021-04-06 01:22:52.790', 'D+000003.0'), ('2021-04-06 01:22:52.950', 'D+000003.0'), ('2021-04-06 01:22:52.970', 'D+000002.8'), ('2021-04-06 01:22:52.990', 'D+000002.6'), ('2021-04-06 01:22:53.010', 'D+000002.8'), ('2021-04-06 01:22:53.030', 'D+000003.0'), ('2021-04-06 01:22:53.190', 'D+000002.8'), ('2021-04-06 01:22:53.210', 'D+000002.8'), ('2021-04-06 01:22:53.230', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.8, 3.0, 2.8, 2.8, 2.8]
np.array X: [[2.6]
 [2.8]
 [3. ]
 [2.8]
 [2.8]
 [2.8]]
revised_weight: 2.7
2021-04-06 01:22:53.230: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:22:53.230
plc_result: True
sendmessage: 20210406012253230,1,000028,000027
send message to PLC: 2021-04-06 01:22:53.256
time gap: 0:00:00.015912
2021-04-06 01:22:53: send http
2021-04-06 01:22:53: insertdb called
2021-04-06 01:22:53: response status code: 200
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:22:53: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:53: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:54.689
lastevent: 2021-04-06 01:22:54.674, last ten sensor data: [('2021-04-06 01:22:54.210', 'D+000002.0'), ('2021-04-06 01:22:54.230', 'D+000002.2'), ('2021-04-06 01:22:54.250', 'D+000001.8'), ('2021-04-06 01:22:54.430', 'D+000002.2'), ('2021-04-06 01:22:54.450', 'D+000002.4'), ('2021-04-06 01:22:54.470', 'D+000002.4'), ('2021-04-06 01:22:54.490', 'D+000002.4'), ('2021-04-06 01:22:54.510', 'D+000002.2'), ('2021-04-06 01:22:54.660', 'D+000002.8'), ('2021-04-06 01:22:54.680', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.4, 2.2, 2.8, 2.8]
np.array X: [[2.4]
 [2.4]
 [2.4]
 [2.2]
 [2.8]
 [2.8]]
revised_weight: 2.7
2021-04-06 01:22:54.680: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:22:54.680
plc_result: True
sendmessage: 20210406012254680,1,000028,000027
send message to PLC: 2021-04-06 01:22:54.701
time gap: 0:00:00.012104
2021-04-06 01:22:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:55.959
lastevent: 2021-04-06 01:22:55.949, last ten sensor data: [('2021-04-06 01:22:55.440', 'D+000002.2'), ('2021-04-06 01:22:55.460', 'D+000002.0'), ('2021-04-06 01:22:55.480', 'D+000001.8'), ('2021-04-06 01:22:55.660', 'D+000002.2'), ('2021-04-06 01:22:55.680', 'D+000002.2'), ('2021-04-06 01:22:55.700', 'D+000002.2'), ('2021-04-06 01:22:55.720', 'D+000002.4'), ('2021-04-06 01:22:55.900', 'D+000003.6'), ('2021-04-06 01:22:55.920', 'D+000003.4'), ('2021-04-06 01:22:55.940', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.2, 2.4, 3.6, 3.4, 3.4]
np.array X: [[2.2]
 [2.2]
 [2.4]
 [3.6]
 [3.4]
 [3.4]]
revised_weight: 3.0
2021-04-06 01:22:55.940: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:22:55.940
plc_result: True
sendmessage: 20210406012255940,1,000034,000030
send message to PLC: 2021-04-06 01:22:55.974
time gap: 0:00:00.015066
2021-04-06 01:22:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:56.929
lastevent: 2021-04-06 01:22:56.928, last ten sensor data: [('2021-04-06 01:22:56.630', 'D+000002.6'), ('2021-04-06 01:22:56.650', 'D+000002.6'), ('2021-04-06 01:22:56.670', 'D+000002.2'), ('2021-04-06 01:22:56.690', 'D+000002.6'), ('2021-04-06 01:22:56.710', 'D+000002.8'), ('2021-04-06 01:22:56.850', 'D+000002.0'), ('2021-04-06 01:22:56.870', 'D+000002.4'), ('2021-04-06 01:22:56.890', 'D+000002.4'), ('2021-04-06 01:22:56.910', 'D+000002.6'), ('2021-04-06 01:22:56.930', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.0, 2.4, 2.4, 2.6, 2.8]
np.array X: [[2.8]
 [2. ]
 [2.4]
 [2.4]
 [2.6]
 [2.8]]
revised_weight: 2.4
2021-04-06 01:22:56.930: revising weight finished
revised_weight: 2.4 at 2021-04-06 01:22:56.930
plc_result: True
sendmessage: 20210406012256930,1,000028,000024
send message to PLC: 2021-04-06 01:22:56.942
time gap: 0:00:00.012477
2021-04-06 01:22:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:22:58.024
lastevent: 2021-04-06 01:22:58.011, last ten sensor data: [('2021-04-06 01:22:57.420', 'D+000002.2'), ('2021-04-06 01:22:57.600', 'D+000002.2'), ('2021-04-06 01:22:57.620', 'D+000002.2'), ('2021-04-06 01:22:57.640', 'D+000002.0'), ('2021-04-06 01:22:57.660', 'D+000002.2'), ('2021-04-06 01:22:57.680', 'D+000002.2'), ('2021-04-06 01:22:57.850', 'D+000002.8'), ('2021-04-06 01:22:57.870', 'D+000002.8'), ('2021-04-06 01:22:57.890', 'D+000003.0'), ('2021-04-06 01:22:57.910', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.2, 2.8, 2.8, 3.0, 3.4]
np.array X: [[2.2]
 [2.2]
 [2.8]
 [2.8]
 [3. ]
 [3.4]]
revised_weight: 3.2
2021-04-06 01:22:57.910: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:22:57.910
plc_result: True
sendmessage: 20210406012257910,1,000034,000032
send message to PLC: 2021-04-06 01:22:58.036
time gap: 0:00:00.011446
2021-04-06 01:22:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:58: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:22:58: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:58: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:22:58: select done
2021-04-06 01:22:58: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:22:58: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:22:58: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:22:58: count: 5 in httpPlcDataSender thread
2021-04-06 01:22:58: D+: 5 in httpPlcDataSender thread
2021-04-06 01:22:58: D-: 0 in httpPlcDataSender thread
2021-04-06 01:22:58: S+: 0 in httpPlcDataSender thread
2021-04-06 01:22:58: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.7', 'sensorAt': '2021-04-06 01:22:53.230'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:22:54.680'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:22:55.940'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:22:56.930'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:22:57.910'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:53.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:54.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:55.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:56.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:57.910'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:22:58', 'collectDate': '2021-04-06 01:22:58', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.7', 'sensorAt': '2021-04-06 01:22:53.230'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:22:54.680'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:22:55.940'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:22:56.930'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:22:57.910'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:53.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:54.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:55.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:56.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:22:57.910'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:22:58: send http
2021-04-06 01:22:58: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:22:58: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:22:59: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:22:59.552
lastevent: 2021-04-06 01:22:59.536, last ten sensor data: [('2021-04-06 01:22:58.930', 'D+000002.2'), ('2021-04-06 01:22:58.950', 'D+000002.0'), ('2021-04-06 01:22:59.130', 'D+000002.2'), ('2021-04-06 01:22:59.150', 'D+000002.0'), ('2021-04-06 01:22:59.170', 'D+000002.0'), ('2021-04-06 01:22:59.190', 'D+000002.6'), ('2021-04-06 01:22:59.370', 'D+000003.8'), ('2021-04-06 01:22:59.390', 'D+000004.6'), ('2021-04-06 01:22:59.410', 'D+000004.8'), ('2021-04-06 01:22:59.430', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.6, 3.8, 4.6, 4.8, 4.4]
np.array X: [[2. ]
 [2.6]
 [3.8]
 [4.6]
 [4.8]
 [4.4]]
revised_weight: 3.9
2021-04-06 01:22:59.430: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:22:59.430
plc_result: True
sendmessage: 20210406012259430,1,000044,000039
send message to PLC: 2021-04-06 01:22:59.563
time gap: 0:00:00.011533
2021-04-06 01:22:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:00.425
lastevent: 2021-04-06 01:23:00.409, last ten sensor data: [('2021-04-06 01:22:59.930', 'D+000004.0'), ('2021-04-06 01:23:00.090', 'D+000003.4'), ('2021-04-06 01:23:00.110', 'D+000003.0'), ('2021-04-06 01:23:00.130', 'D+000003.0'), ('2021-04-06 01:23:00.150', 'D+000002.6'), ('2021-04-06 01:23:00.170', 'D+000002.4'), ('2021-04-06 01:23:00.360', 'D+000002.4'), ('2021-04-06 01:23:00.380', 'D+000002.2'), ('2021-04-06 01:23:00.400', 'D+000002.6'), ('2021-04-06 01:23:00.420', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.4, 2.4, 2.2, 2.6, 1.8]
np.array X: [[2.6]
 [2.4]
 [2.4]
 [2.2]
 [2.6]
 [1.8]]
revised_weight: 1.7
2021-04-06 01:23:00.420: revising weight finished
revised_weight: 1.7 at 2021-04-06 01:23:00.420
plc_result: True
sendmessage: 20210406012300420,1,000018,000017
send message to PLC: 2021-04-06 01:23:00.436
time gap: 0:00:00.011793
2021-04-06 01:23:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:03.255
lastevent: 2021-04-06 01:23:03.251, last ten sensor data: [('2021-04-06 01:23:02.810', 'D+000001.6'), ('2021-04-06 01:23:02.830', 'D+000001.6'), ('2021-04-06 01:23:02.850', 'D+000001.6'), ('2021-04-06 01:23:02.870', 'D+000001.6'), ('2021-04-06 01:23:03.030', 'D+000002.4'), ('2021-04-06 01:23:03.050', 'D+000002.4'), ('2021-04-06 01:23:03.070', 'D+000002.6'), ('2021-04-06 01:23:03.090', 'D+000002.4'), ('2021-04-06 01:23:03.110', 'D+000002.4'), ('2021-04-06 01:23:03.130', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.6, 2.4, 2.4, 2.6]
np.array X: [[2.4]
 [2.4]
 [2.6]
 [2.4]
 [2.4]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:23:03.130: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:23:03.130
plc_result: True
sendmessage: 20210406012303130,1,000026,000025
send message to PLC: 2021-04-06 01:23:03.267
time gap: 0:00:00.012263
2021-04-06 01:23:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:03.690
lastevent: 2021-04-06 01:23:03.680, last ten sensor data: [0, ('2021-04-06 01:23:03.270', 'D+000002.8'), ('2021-04-06 01:23:03.290', 'D+000002.8'), ('2021-04-06 01:23:03.310', 'D+000003.4'), ('2021-04-06 01:23:03.330', 'D+000003.6'), ('2021-04-06 01:23:03.350', 'D+000003.4'), ('2021-04-06 01:23:03.530', 'D+000007.2'), ('2021-04-06 01:23:03.550', 'D+000007.4'), ('2021-04-06 01:23:03.570', 'D+000008.6'), ('2021-04-06 01:23:03.590', 'D+000009.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.4, 7.2, 7.4, 8.6, 9.2]
np.array X: [[3.6]
 [3.4]
 [7.2]
 [7.4]
 [8.6]
 [9.2]]
revised_weight: 8.2
2021-04-06 01:23:03.590: revising weight finished
revised_weight: 8.2 at 2021-04-06 01:23:03.590
plc_result: True
sendmessage: 20210406012303590,1,000092,000082
send message to PLC: 2021-04-06 01:23:03.702
time gap: 0:00:00.011785
2021-04-06 01:23:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:04: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:23:04: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:04: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:04: select done
2021-04-06 01:23:04: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:23:04: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:23:04: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:23:04: count: 4 in httpPlcDataSender thread
2021-04-06 01:23:04: D+: 4 in httpPlcDataSender thread
2021-04-06 01:23:04: D-: 0 in httpPlcDataSender thread
2021-04-06 01:23:04: S+: 0 in httpPlcDataSender thread
2021-04-06 01:23:04: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.9', 'sensorAt': '2021-04-06 01:22:59.430'}, {'value': '1.7', 'sensorAt': '2021-04-06 01:23:00.420'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:23:03.130'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:23:03.590'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:59.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:00.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:03.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:03.590'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:23:04', 'collectDate': '2021-04-06 01:23:03', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.9', 'sensorAt': '2021-04-06 01:22:59.430'}, {'value': '1.7', 'sensorAt': '2021-04-06 01:23:00.420'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:23:03.130'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:23:03.590'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:22:59.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:00.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:03.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:03.590'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:23:04: send http
2021-04-06 01:23:04: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:23:04: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:04: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:05.669
lastevent: 2021-04-06 01:23:05.652, last ten sensor data: [('2021-04-06 01:23:05.060', 'D+000002.8'), ('2021-04-06 01:23:05.240', 'D+000001.8'), ('2021-04-06 01:23:05.260', 'D+000001.8'), ('2021-04-06 01:23:05.280', 'D+000002.0'), ('2021-04-06 01:23:05.300', 'D+000002.0'), ('2021-04-06 01:23:05.470', 'D+000003.2'), ('2021-04-06 01:23:05.490', 'D+000003.2'), ('2021-04-06 01:23:05.510', 'D+000003.2'), ('2021-04-06 01:23:05.530', 'D+000003.4'), ('2021-04-06 01:23:05.550', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 3.2, 3.2, 3.2, 3.4, 3.6]
np.array X: [[2. ]
 [3.2]
 [3.2]
 [3.2]
 [3.4]
 [3.6]]
revised_weight: 3.3
2021-04-06 01:23:05.550: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:23:05.550
plc_result: True
sendmessage: 20210406012305550,1,000036,000033
send message to PLC: 2021-04-06 01:23:05.676
time gap: 0:00:00.007108
2021-04-06 01:23:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:07.487
lastevent: 2021-04-06 01:23:07.471, last ten sensor data: [('2021-04-06 01:23:07.000', 'D+000003.4'), ('2021-04-06 01:23:07.020', 'D+000003.2'), ('2021-04-06 01:23:07.180', 'D+000005.6'), ('2021-04-06 01:23:07.200', 'D+000005.8'), ('2021-04-06 01:23:07.220', 'D+000005.4'), ('2021-04-06 01:23:07.240', 'D+000005.0'), ('2021-04-06 01:23:07.260', 'D+000005.2'), ('2021-04-06 01:23:07.440', 'D+000008.2'), ('2021-04-06 01:23:07.460', 'D+000007.8'), ('2021-04-06 01:23:07.480', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.0, 5.2, 8.2, 7.8, 7.6]
np.array X: [[5.4]
 [5. ]
 [5.2]
 [8.2]
 [7.8]
 [7.6]]
revised_weight: 7.3
2021-04-06 01:23:07.480: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:23:07.480
plc_result: True
sendmessage: 20210406012307480,1,000076,000073
send message to PLC: 2021-04-06 01:23:07.494
time gap: 0:00:00.006851
2021-04-06 01:23:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:08.497
lastevent: 2021-04-06 01:23:08.492, last ten sensor data: [('2021-04-06 01:23:08.160', 'D+000005.0'), ('2021-04-06 01:23:08.180', 'D+000004.6'), ('2021-04-06 01:23:08.200', 'D+000004.4'), ('2021-04-06 01:23:08.220', 'D+000004.6'), ('2021-04-06 01:23:08.240', 'D+000005.6'), ('2021-04-06 01:23:08.400', 'D+000009.4'), ('2021-04-06 01:23:08.420', 'D+000008.0'), ('2021-04-06 01:23:08.440', 'D+000007.2'), ('2021-04-06 01:23:08.460', 'D+000008.8'), ('2021-04-06 01:23:08.480', 'D+000011.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 9.4, 8.0, 7.2, 8.8, 11.0]
np.array X: [[ 5.6]
 [ 9.4]
 [ 8. ]
 [ 7.2]
 [ 8.8]
 [11. ]]
revised_weight: 10.2
2021-04-06 01:23:08.480: revising weight finished
revised_weight: 10.2 at 2021-04-06 01:23:08.480
plc_result: True
sendmessage: 20210406012308480,1,000110,000102
send message to PLC: 2021-04-06 01:23:08.507
time gap: 0:00:00.010184
2021-04-06 01:23:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:09.048
lastevent: 2021-04-06 01:23:09.036, last ten sensor data: [0, ('2021-04-06 01:23:08.510', 'D+000008.6'), ('2021-04-06 01:23:08.660', 'D+000010.0'), ('2021-04-06 01:23:08.680', 'D+000010.4'), ('2021-04-06 01:23:08.700', 'D+000010.4'), ('2021-04-06 01:23:08.720', 'D+000010.4'), ('2021-04-06 01:23:08.910', 'D+000008.0'), ('2021-04-06 01:23:08.930', 'D+000006.2'), ('2021-04-06 01:23:08.950', 'D+000005.6'), ('2021-04-06 01:23:08.970', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [10.4, 10.4, 8.0, 6.2, 5.6, 4.4]
np.array X: [[10.4]
 [10.4]
 [ 8. ]
 [ 6.2]
 [ 5.6]
 [ 4.4]]
revised_weight: 8.6
2021-04-06 01:23:08.970: revising weight finished
revised_weight: 8.6 at 2021-04-06 01:23:08.970
plc_result: True
sendmessage: 20210406012308970,1,000044,000086
send message to PLC: 2021-04-06 01:23:09.061
time gap: 0:00:00.013022
2021-04-06 01:23:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:09: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:23:09: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:09: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:09: select done
2021-04-06 01:23:09: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:23:09: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:23:09: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:23:09: count: 4 in httpPlcDataSender thread
2021-04-06 01:23:09: D+: 4 in httpPlcDataSender thread
2021-04-06 01:23:09: D-: 0 in httpPlcDataSender thread
2021-04-06 01:23:10: S+: 0 in httpPlcDataSender thread
2021-04-06 01:23:10: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:23:05.550'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:23:07.480'}, {'value': '10.2', 'sensorAt': '2021-04-06 01:23:08.480'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:23:08.970'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:05.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:07.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:08.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:08.970'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:23:10', 'collectDate': '2021-04-06 01:23:09', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:23:05.550'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:23:07.480'}, {'value': '10.2', 'sensorAt': '2021-04-06 01:23:08.480'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:23:08.970'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:05.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:07.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:08.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:08.970'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:23:10: send http
2021-04-06 01:23:10: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:23:10: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:10: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:10.549
lastevent: 2021-04-06 01:23:10.543, last ten sensor data: [('2021-04-06 01:23:10.110', 'D+000003.4'), ('2021-04-06 01:23:10.130', 'D+000003.4'), ('2021-04-06 01:23:10.150', 'D+000003.4'), ('2021-04-06 01:23:10.170', 'D+000003.4'), ('2021-04-06 01:23:10.190', 'D+000003.4'), ('2021-04-06 01:23:10.370', 'D+000004.0'), ('2021-04-06 01:23:10.390', 'D+000004.0'), ('2021-04-06 01:23:10.410', 'D+000004.2'), ('2021-04-06 01:23:10.430', 'D+000004.4'), ('2021-04-06 01:23:10.450', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.0, 4.0, 4.2, 4.4, 4.2]
np.array X: [[3.4]
 [4. ]
 [4. ]
 [4.2]
 [4.4]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:23:10.450: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:23:10.450
plc_result: True
sendmessage: 20210406012310450,1,000042,000043
send message to PLC: 2021-04-06 01:23:10.556
time gap: 0:00:00.006952
2021-04-06 01:23:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:11.029
lastevent: 2021-04-06 01:23:11.020, last ten sensor data: [('2021-04-06 01:23:10.590', 'D+000004.4'), ('2021-04-06 01:23:10.630', 'D+000004.0'), ('2021-04-06 01:23:10.650', 'D+000004.2'), ('2021-04-06 01:23:10.670', 'D+000004.2'), ('2021-04-06 01:23:10.690', 'D+000004.0'), ('2021-04-06 01:23:10.850', 'D+000005.4'), ('2021-04-06 01:23:10.870', 'D+000005.2'), ('2021-04-06 01:23:10.890', 'D+000004.6'), ('2021-04-06 01:23:10.910', 'D+000004.8'), ('2021-04-06 01:23:10.930', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 5.4, 5.2, 4.6, 4.8, 5.2]
np.array X: [[4. ]
 [5.4]
 [5.2]
 [4.6]
 [4.8]
 [5.2]]
revised_weight: 5.0
2021-04-06 01:23:10.930: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:23:10.930
plc_result: True
sendmessage: 20210406012310930,1,000052,000050
send message to PLC: 2021-04-06 01:23:11.036
time gap: 0:00:00.006820
2021-04-06 01:23:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:11.931
lastevent: 2021-04-06 01:23:11.924, last ten sensor data: [('2021-04-06 01:23:11.400', 'D+000004.0'), ('2021-04-06 01:23:11.420', 'D+000003.8'), ('2021-04-06 01:23:11.480', 'D+000003.6'), ('2021-04-06 01:23:11.500', 'D+000003.6'), ('2021-04-06 01:23:11.520', 'D+000003.8'), ('2021-04-06 01:23:11.540', 'D+000003.6'), ('2021-04-06 01:23:11.730', 'D+000005.0'), ('2021-04-06 01:23:11.750', 'D+000005.2'), ('2021-04-06 01:23:11.770', 'D+000005.2'), ('2021-04-06 01:23:11.790', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.6, 5.0, 5.2, 5.2, 5.2]
np.array X: [[3.8]
 [3.6]
 [5. ]
 [5.2]
 [5.2]
 [5.2]]
revised_weight: 4.8
2021-04-06 01:23:11.790: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:23:11.790
plc_result: True
sendmessage: 20210406012311790,1,000052,000048
send message to PLC: 2021-04-06 01:23:11.938
time gap: 0:00:00.006883
2021-04-06 01:23:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:12.770
lastevent: 2021-04-06 01:23:12.763, last ten sensor data: [('2021-04-06 01:23:12.260', 'D+000005.2'), ('2021-04-06 01:23:12.280', 'D+000004.8'), ('2021-04-06 01:23:12.460', 'D+000004.2'), ('2021-04-06 01:23:12.480', 'D+000004.2'), ('2021-04-06 01:23:12.500', 'D+000004.4'), ('2021-04-06 01:23:12.530', 'D+000004.6'), ('2021-04-06 01:23:12.690', 'D+000003.6'), ('2021-04-06 01:23:12.720', 'D+000003.6'), ('2021-04-06 01:23:12.740', 'D+000003.6'), ('2021-04-06 01:23:12.760', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 3.6, 3.6, 3.6, 3.6]
np.array X: [[4.4]
 [4.6]
 [3.6]
 [3.6]
 [3.6]
 [3.6]]
revised_weight: 3.9
2021-04-06 01:23:12.760: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:23:12.760
plc_result: True
sendmessage: 20210406012312760,1,000036,000039
send message to PLC: 2021-04-06 01:23:12.779
time gap: 0:00:00.009657
2021-04-06 01:23:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:13.362
lastevent: 2021-04-06 01:23:13.352, last ten sensor data: [('2021-04-06 01:23:12.990', 'D+000003.6'), ('2021-04-06 01:23:13.010', 'D+000003.8'), ('2021-04-06 01:23:13.030', 'D+000003.6'), ('2021-04-06 01:23:13.050', 'D+000003.8'), ('2021-04-06 01:23:13.070', 'D+000004.0'), ('2021-04-06 01:23:13.240', 'D+000005.8'), ('2021-04-06 01:23:13.260', 'D+000005.6'), ('2021-04-06 01:23:13.280', 'D+000006.4'), ('2021-04-06 01:23:13.300', 'D+000007.4'), ('2021-04-06 01:23:13.320', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 5.8, 5.6, 6.4, 7.4, 7.4]
np.array X: [[4. ]
 [5.8]
 [5.6]
 [6.4]
 [7.4]
 [7.4]]
revised_weight: 6.3
2021-04-06 01:23:13.320: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:23:13.320
plc_result: True
sendmessage: 20210406012313320,1,000074,000063
send message to PLC: 2021-04-06 01:23:13.369
time gap: 0:00:00.006897
2021-04-06 01:23:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:14.345
lastevent: 2021-04-06 01:23:14.334, last ten sensor data: [('2021-04-06 01:23:13.740', 'D+000005.4'), ('2021-04-06 01:23:13.920', 'D+000003.0'), ('2021-04-06 01:23:13.940', 'D+000003.2'), ('2021-04-06 01:23:13.960', 'D+000003.2'), ('2021-04-06 01:23:13.980', 'D+000003.4'), ('2021-04-06 01:23:14.160', 'D+000005.2'), ('2021-04-06 01:23:14.180', 'D+000005.8'), ('2021-04-06 01:23:14.200', 'D+000006.2'), ('2021-04-06 01:23:14.220', 'D+000006.0'), ('2021-04-06 01:23:14.240', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 5.2, 5.8, 6.2, 6.0, 6.0]
np.array X: [[3.4]
 [5.2]
 [5.8]
 [6.2]
 [6. ]
 [6. ]]
revised_weight: 6.1
2021-04-06 01:23:14.240: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:23:14.240
plc_result: True
sendmessage: 20210406012314240,1,000060,000061
send message to PLC: 2021-04-06 01:23:14.351
time gap: 0:00:00.006784
2021-04-06 01:23:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:15: httpScaleDataSender thread Timeout occurred
2021-04-06 01:23:15: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:23:15: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:15: [13710] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
2021-04-06 01:23:15: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2021-04-06 01:23:15: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:15: select done
2021-04-06 01:23:15: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:23:15: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:15.570
lastevent: 2021-04-06 01:23:15.562, last ten sensor data: [('2021-04-06 01:23:15.130', 'D+000003.2'), ('2021-04-06 01:23:15.150', 'D+000003.4'), ('2021-04-06 01:23:15.170', 'D+000003.4'), ('2021-04-06 01:23:15.190', 'D+000003.4'), ('2021-04-06 01:23:15.210', 'D+000003.8'), ('2021-04-06 01:23:15.390', 'D+000005.6'), ('2021-04-06 01:23:15.410', 'D+000005.2'), ('2021-04-06 01:23:15.430', 'D+000005.2'), ('2021-04-06 01:23:15.450', 'D+000005.2'), ('2021-04-06 01:23:15.520', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.6, 5.2, 5.2, 5.2, 5.6]
np.array X: [[3.8]
 [5.6]
 [5.2]
 [5.2]
 [5.2]
 [5.6]]
revised_weight: 4.9
2021-04-06 01:23:15.520: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:23:15.520
plc_result: True
sendmessage: 20210406012315520,1,000056,000049
send message to PLC: 2021-04-06 01:23:15.577
time gap: 0:00:00.006564
2021-04-06 01:23:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:15: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:23:15: count: 6 in httpPlcDataSender thread
2021-04-06 01:23:15: D+: 6 in httpPlcDataSender thread
2021-04-06 01:23:15: D-: 0 in httpPlcDataSender thread
2021-04-06 01:23:15: S+: 0 in httpPlcDataSender thread
2021-04-06 01:23:15: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.3', 'sensorAt': '2021-04-06 01:23:10.450'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:23:10.930'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:23:11.790'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:23:12.760'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:23:13.320'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:23:14.240'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:10.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:10.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:11.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:12.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:13.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:14.240'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:23:15', 'collectDate': '2021-04-06 01:23:14', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.3', 'sensorAt': '2021-04-06 01:23:10.450'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:23:10.930'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:23:11.790'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:23:12.760'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:23:13.320'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:23:14.240'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:10.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:10.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:11.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:12.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:13.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:14.240'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:23:15: send http
2021-04-06 01:23:15: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:23:15: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:16: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:16.450
lastevent: 2021-04-06 01:23:16.434, last ten sensor data: [('2021-04-06 01:23:15.930', 'D+000005.4'), ('2021-04-06 01:23:16.110', 'D+000004.8'), ('2021-04-06 01:23:16.130', 'D+000005.4'), ('2021-04-06 01:23:16.150', 'D+000005.6'), ('2021-04-06 01:23:16.170', 'D+000005.0'), ('2021-04-06 01:23:16.190', 'D+000005.2'), ('2021-04-06 01:23:16.360', 'D+000007.2'), ('2021-04-06 01:23:16.380', 'D+000007.0'), ('2021-04-06 01:23:16.400', 'D+000006.8'), ('2021-04-06 01:23:16.420', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 7.2, 7.0, 6.8, 6.6]
np.array X: [[5. ]
 [5.2]
 [7.2]
 [7. ]
 [6.8]
 [6.6]]
revised_weight: 6.7
2021-04-06 01:23:16.420: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:23:16.420
plc_result: True
sendmessage: 20210406012316420,1,000066,000067
send message to PLC: 2021-04-06 01:23:16.459
time gap: 0:00:00.009219
2021-04-06 01:23:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:17.433
lastevent: 2021-04-06 01:23:17.421, last ten sensor data: [('2021-04-06 01:23:17.080', 'D+000004.2'), ('2021-04-06 01:23:17.100', 'D+000003.8'), ('2021-04-06 01:23:17.120', 'D+000003.6'), ('2021-04-06 01:23:17.140', 'D+000003.4'), ('2021-04-06 01:23:17.160', 'D+000003.2'), ('2021-04-06 01:23:17.340', 'D+000003.2'), ('2021-04-06 01:23:17.360', 'D+000003.6'), ('2021-04-06 01:23:17.380', 'D+000003.4'), ('2021-04-06 01:23:17.400', 'D+000003.2'), ('2021-04-06 01:23:17.420', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.6, 3.4, 3.2, 3.2]
np.array X: [[3.2]
 [3.2]
 [3.6]
 [3.4]
 [3.2]
 [3.2]]
revised_weight: 3.2
2021-04-06 01:23:17.420: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:23:17.420
plc_result: True
sendmessage: 20210406012317420,1,000032,000032
send message to PLC: 2021-04-06 01:23:17.440
time gap: 0:00:00.006717
2021-04-06 01:23:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:18.882
lastevent: 2021-04-06 01:23:18.866, last ten sensor data: [('2021-04-06 01:23:18.540', 'D+000003.0'), ('2021-04-06 01:23:18.570', 'D+000003.6'), ('2021-04-06 01:23:18.590', 'D+000003.6'), ('2021-04-06 01:23:18.610', 'D+000003.8'), ('2021-04-06 01:23:18.630', 'D+000004.2'), ('2021-04-06 01:23:18.790', 'D+000005.2'), ('2021-04-06 01:23:18.810', 'D+000004.8'), ('2021-04-06 01:23:18.830', 'D+000005.4'), ('2021-04-06 01:23:18.850', 'D+000005.4'), ('2021-04-06 01:23:18.870', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.2, 4.8, 5.4, 5.4, 4.8]
np.array X: [[4.2]
 [5.2]
 [4.8]
 [5.4]
 [5.4]
 [4.8]]
revised_weight: 4.9
2021-04-06 01:23:18.870: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:23:18.870
plc_result: True
sendmessage: 20210406012318870,1,000048,000049
send message to PLC: 2021-04-06 01:23:18.889
time gap: 0:00:00.006550
2021-04-06 01:23:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:19.416
lastevent: 2021-04-06 01:23:19.400, last ten sensor data: [('2021-04-06 01:23:19.050', 'D+000005.0'), ('2021-04-06 01:23:19.070', 'D+000005.0'), ('2021-04-06 01:23:19.090', 'D+000005.0'), ('2021-04-06 01:23:19.110', 'D+000005.4'), ('2021-04-06 01:23:19.130', 'D+000005.6'), ('2021-04-06 01:23:19.290', 'D+000006.2'), ('2021-04-06 01:23:19.310', 'D+000007.6'), ('2021-04-06 01:23:19.330', 'D+000007.8'), ('2021-04-06 01:23:19.350', 'D+000007.0'), ('2021-04-06 01:23:19.370', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.2, 7.6, 7.8, 7.0, 6.0]
np.array X: [[5.6]
 [6.2]
 [7.6]
 [7.8]
 [7. ]
 [6. ]]
revised_weight: 6.7
2021-04-06 01:23:19.370: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:23:19.370
plc_result: True
sendmessage: 20210406012319370,1,000060,000067
send message to PLC: 2021-04-06 01:23:19.423
time gap: 0:00:00.006746
2021-04-06 01:23:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:20.432
lastevent: 2021-04-06 01:23:20.416, last ten sensor data: [('2021-04-06 01:23:20.010', 'D+000002.6'), ('2021-04-06 01:23:20.030', 'D+000003.0'), ('2021-04-06 01:23:20.050', 'D+000003.2'), ('2021-04-06 01:23:20.070', 'D+000003.2'), ('2021-04-06 01:23:20.090', 'D+000003.2'), ('2021-04-06 01:23:20.270', 'D+000004.2'), ('2021-04-06 01:23:20.290', 'D+000004.4'), ('2021-04-06 01:23:20.310', 'D+000004.6'), ('2021-04-06 01:23:20.330', 'D+000004.4'), ('2021-04-06 01:23:20.350', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 4.2, 4.4, 4.6, 4.4, 4.4]
np.array X: [[3.2]
 [4.2]
 [4.4]
 [4.6]
 [4.4]
 [4.4]]
revised_weight: 4.4
2021-04-06 01:23:20.350: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:23:20.350
plc_result: True
sendmessage: 20210406012320350,1,000044,000044
send message to PLC: 2021-04-06 01:23:20.438
time gap: 0:00:00.006794
2021-04-06 01:23:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:21: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:23:21: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:21: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:21: select done
2021-04-06 01:23:21: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:23:21: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:23:21: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:23:21: count: 6 in httpPlcDataSender thread
2021-04-06 01:23:21: D+: 6 in httpPlcDataSender thread
2021-04-06 01:23:21: D-: 0 in httpPlcDataSender thread
2021-04-06 01:23:21: S+: 0 in httpPlcDataSender thread
2021-04-06 01:23:21: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.9', 'sensorAt': '2021-04-06 01:23:15.520'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:23:16.420'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:23:17.420'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:23:18.870'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:23:19.370'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:23:20.350'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:15.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:16.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:17.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:18.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:19.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:20.350'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:23:21', 'collectDate': '2021-04-06 01:23:20', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.9', 'sensorAt': '2021-04-06 01:23:15.520'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:23:16.420'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:23:17.420'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:23:18.870'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:23:19.370'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:23:20.350'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:15.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:16.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:17.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:18.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:19.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:20.350'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:23:21: send http
2021-04-06 01:23:21: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:23:21: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:21: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:22.008
lastevent: 2021-04-06 01:23:21.993, last ten sensor data: [('2021-04-06 01:23:21.500', 'D+000002.4'), ('2021-04-06 01:23:21.520', 'D+000002.4'), ('2021-04-06 01:23:21.540', 'D+000002.4'), ('2021-04-06 01:23:21.560', 'D+000002.6'), ('2021-04-06 01:23:21.740', 'D+000003.4'), ('2021-04-06 01:23:21.760', 'D+000003.4'), ('2021-04-06 01:23:21.780', 'D+000003.4'), ('2021-04-06 01:23:21.800', 'D+000003.4'), ('2021-04-06 01:23:21.980', 'D+000003.4'), ('2021-04-06 01:23:22.000', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.4, 3.4, 3.4, 3.4, 3.4]
np.array X: [[3.4]
 [3.4]
 [3.4]
 [3.4]
 [3.4]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:23:22.000: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:23:22.000
plc_result: True
sendmessage: 20210406012322000,1,000034,000034
send message to PLC: 2021-04-06 01:23:22.017
time gap: 0:00:00.008324
2021-04-06 01:23:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:22.446
lastevent: 2021-04-06 01:23:22.444, last ten sensor data: [0, 0, 0, ('2021-04-06 01:23:22.020', 'D+000003.4'), ('2021-04-06 01:23:22.040', 'D+000003.4'), ('2021-04-06 01:23:22.200', 'D+000007.6'), ('2021-04-06 01:23:22.230', 'D+000009.2'), ('2021-04-06 01:23:22.250', 'D+000010.2'), ('2021-04-06 01:23:22.270', 'D+000010.6'), ('2021-04-06 01:23:22.290', 'D+000010.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 7.6, 9.2, 10.2, 10.6, 10.2]
np.array X: [[ 3.4]
 [ 7.6]
 [ 9.2]
 [10.2]
 [10.6]
 [10.2]]
revised_weight: 9.9
2021-04-06 01:23:22.290: revising weight finished
revised_weight: 9.9 at 2021-04-06 01:23:22.290
plc_result: True
sendmessage: 20210406012322290,1,000102,000099
send message to PLC: 2021-04-06 01:23:22.453
time gap: 0:00:00.006476
2021-04-06 01:23:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:23:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:24.441
lastevent: 2021-04-06 01:23:24.436, last ten sensor data: [('2021-04-06 01:23:24.020', 'D+000002.2'), ('2021-04-06 01:23:24.040', 'D+000002.2'), ('2021-04-06 01:23:24.060', 'D+000002.4'), ('2021-04-06 01:23:24.080', 'D+000002.4'), ('2021-04-06 01:23:24.100', 'D+000002.2'), ('2021-04-06 01:23:24.250', 'D+000002.6'), ('2021-04-06 01:23:24.270', 'D+000002.8'), ('2021-04-06 01:23:24.290', 'D+000002.8'), ('2021-04-06 01:23:24.310', 'D+000002.6'), ('2021-04-06 01:23:24.330', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.6, 2.8, 2.8, 2.6, 2.8]
np.array X: [[2.2]
 [2.6]
 [2.8]
 [2.8]
 [2.6]
 [2.8]]
revised_weight: 2.7
2021-04-06 01:23:24.330: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:23:24.330
plc_result: True
sendmessage: 20210406012324330,1,000028,000027
send message to PLC: 2021-04-06 01:23:24.447
time gap: 0:00:00.006621
2021-04-06 01:23:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:25.126
lastevent: 2021-04-06 01:23:25.121, last ten sensor data: [('2021-04-06 01:23:24.590', 'D+000003.0'), ('2021-04-06 01:23:24.750', 'D+000002.8'), ('2021-04-06 01:23:24.770', 'D+000003.0'), ('2021-04-06 01:23:24.790', 'D+000003.0'), ('2021-04-06 01:23:24.810', 'D+000003.0'), ('2021-04-06 01:23:24.990', 'D+000002.4'), ('2021-04-06 01:23:25.010', 'D+000002.8'), ('2021-04-06 01:23:25.030', 'D+000002.8'), ('2021-04-06 01:23:25.050', 'D+000003.4'), ('2021-04-06 01:23:25.070', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.4, 2.8, 2.8, 3.4, 4.0]
np.array X: [[3. ]
 [2.4]
 [2.8]
 [2.8]
 [3.4]
 [4. ]]
revised_weight: 3.6
2021-04-06 01:23:25.070: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:23:25.070
plc_result: True
sendmessage: 20210406012325070,1,000040,000036
send message to PLC: 2021-04-06 01:23:25.138
time gap: 0:00:00.012312
2021-04-06 01:23:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:25.862
lastevent: 2021-04-06 01:23:25.859, last ten sensor data: [('2021-04-06 01:23:25.470', 'D+000003.2'), ('2021-04-06 01:23:25.490', 'D+000003.6'), ('2021-04-06 01:23:25.510', 'D+000003.8'), ('2021-04-06 01:23:25.530', 'D+000003.2'), ('2021-04-06 01:23:25.550', 'D+000003.4'), ('2021-04-06 01:23:25.710', 'D+000003.0'), ('2021-04-06 01:23:25.730', 'D+000002.8'), ('2021-04-06 01:23:25.750', 'D+000002.8'), ('2021-04-06 01:23:25.770', 'D+000003.0'), ('2021-04-06 01:23:25.790', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.0, 2.8, 2.8, 3.0, 3.0]
np.array X: [[3.4]
 [3. ]
 [2.8]
 [2.8]
 [3. ]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:23:25.790: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:23:25.790
plc_result: True
sendmessage: 20210406012325790,1,000030,000029
send message to PLC: 2021-04-06 01:23:25.869
time gap: 0:00:00.006536
2021-04-06 01:23:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:26: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:23:26: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:26: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:26: select done
2021-04-06 01:23:26: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:23:26: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:23:26: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:23:26: count: 5 in httpPlcDataSender thread
2021-04-06 01:23:26: D+: 5 in httpPlcDataSender thread
2021-04-06 01:23:26: D-: 0 in httpPlcDataSender thread
2021-04-06 01:23:26: S+: 0 in httpPlcDataSender thread
2021-04-06 01:23:26: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.4', 'sensorAt': '2021-04-06 01:23:22.000'}, {'value': '9.9', 'sensorAt': '2021-04-06 01:23:22.290'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:23:24.330'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:23:25.070'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:23:25.790'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:22.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:22.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:24.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:25.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:25.790'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:23:26', 'collectDate': '2021-04-06 01:23:25', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.4', 'sensorAt': '2021-04-06 01:23:22.000'}, {'value': '9.9', 'sensorAt': '2021-04-06 01:23:22.290'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:23:24.330'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:23:25.070'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:23:25.790'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:22.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:22.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:24.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:25.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:25.790'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:23:26: send http
2021-04-06 01:23:26: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:23:27: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:27: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:28.879
lastevent: 2021-04-06 01:23:28.870, last ten sensor data: [('2021-04-06 01:23:28.410', 'D+000002.0'), ('2021-04-06 01:23:28.430', 'D+000002.0'), ('2021-04-06 01:23:28.450', 'D+000002.0'), ('2021-04-06 01:23:28.470', 'D+000002.0'), ('2021-04-06 01:23:28.490', 'D+000001.6'), ('2021-04-06 01:23:28.660', 'D+000002.4'), ('2021-04-06 01:23:28.680', 'D+000002.2'), ('2021-04-06 01:23:28.700', 'D+000002.8'), ('2021-04-06 01:23:28.720', 'D+000003.0'), ('2021-04-06 01:23:28.740', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 2.4, 2.2, 2.8, 3.0, 2.8]
np.array X: [[1.6]
 [2.4]
 [2.2]
 [2.8]
 [3. ]
 [2.8]]
revised_weight: 2.3
2021-04-06 01:23:28.740: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:23:28.740
plc_result: True
sendmessage: 20210406012328740,1,000028,000023
send message to PLC: 2021-04-06 01:23:28.891
time gap: 0:00:00.012275
2021-04-06 01:23:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:30.099
lastevent: 2021-04-06 01:23:30.088, last ten sensor data: [('2021-04-06 01:23:29.670', 'D+000002.2'), ('2021-04-06 01:23:29.690', 'D+000002.8'), ('2021-04-06 01:23:29.710', 'D+000002.8'), ('2021-04-06 01:23:29.730', 'D+000003.0'), ('2021-04-06 01:23:29.750', 'D+000003.2'), ('2021-04-06 01:23:29.910', 'D+000007.8'), ('2021-04-06 01:23:29.930', 'D+000008.2'), ('2021-04-06 01:23:29.950', 'D+000008.4'), ('2021-04-06 01:23:29.970', 'D+000008.4'), ('2021-04-06 01:23:29.990', 'D+000008.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 7.8, 8.2, 8.4, 8.4, 8.4]
np.array X: [[3.2]
 [7.8]
 [8.2]
 [8.4]
 [8.4]
 [8.4]]
revised_weight: 9.9
2021-04-06 01:23:29.990: revising weight finished
revised_weight: 9.9 at 2021-04-06 01:23:29.990
plc_result: True
sendmessage: 20210406012329990,1,000084,000099
send message to PLC: 2021-04-06 01:23:30.113
time gap: 0:00:00.013114
2021-04-06 01:23:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:32: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:23:32: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:32: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:32: select done
2021-04-06 01:23:32: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:23:32: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:32.351
lastevent: 2021-04-06 01:23:32.347, last ten sensor data: [('2021-04-06 01:23:31.880', 'D+000002.4'), ('2021-04-06 01:23:31.900', 'D+000002.2'), ('2021-04-06 01:23:32.070', 'D+000006.6'), ('2021-04-06 01:23:32.090', 'D+000007.0'), ('2021-04-06 01:23:32.110', 'D+000007.6'), ('2021-04-06 01:23:32.130', 'D+000008.0'), ('2021-04-06 01:23:32.150', 'D+000008.6'), ('2021-04-06 01:23:32.310', 'D+000014.2'), ('2021-04-06 01:23:32.330', 'D+000012.8'), ('2021-04-06 01:23:32.350', 'D+000013.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.6, 8.0, 8.6, 14.2, 12.8, 13.4]
np.array X: [[ 7.6]
 [ 8. ]
 [ 8.6]
 [14.2]
 [12.8]
 [13.4]]
revised_weight: 12.6
2021-04-06 01:23:32.350: revising weight finished
revised_weight: 12.6 at 2021-04-06 01:23:32.350
plc_result: True
sendmessage: 20210406012332350,1,000134,000126
send message to PLC: 2021-04-06 01:23:32.365
time gap: 0:00:00.013912
2021-04-06 01:23:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:32: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:23:32: count: 2 in httpPlcDataSender thread
2021-04-06 01:23:32: D+: 2 in httpPlcDataSender thread
2021-04-06 01:23:32: D-: 0 in httpPlcDataSender thread
2021-04-06 01:23:32: S+: 0 in httpPlcDataSender thread
2021-04-06 01:23:32: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.3', 'sensorAt': '2021-04-06 01:23:28.740'}, {'value': '9.9', 'sensorAt': '2021-04-06 01:23:29.990'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:28.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:29.990'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:23:32', 'collectDate': '2021-04-06 01:23:30', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.3', 'sensorAt': '2021-04-06 01:23:28.740'}, {'value': '9.9', 'sensorAt': '2021-04-06 01:23:29.990'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:28.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:29.990'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:23:32: send http
2021-04-06 01:23:32: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:23:32: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:32: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:33.915
lastevent: 2021-04-06 01:23:33.904, last ten sensor data: [('2021-04-06 01:23:33.540', 'D+000002.8'), ('2021-04-06 01:23:33.560', 'D+000003.2'), ('2021-04-06 01:23:33.580', 'D+000003.4'), ('2021-04-06 01:23:33.600', 'D+000003.6'), ('2021-04-06 01:23:33.620', 'D+000003.8'), ('2021-04-06 01:23:33.780', 'D+000006.0'), ('2021-04-06 01:23:33.800', 'D+000006.6'), ('2021-04-06 01:23:33.820', 'D+000007.4'), ('2021-04-06 01:23:33.840', 'D+000007.8'), ('2021-04-06 01:23:33.860', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 6.0, 6.6, 7.4, 7.8, 7.4]
np.array X: [[3.8]
 [6. ]
 [6.6]
 [7.4]
 [7.8]
 [7.4]]
revised_weight: 7.5
2021-04-06 01:23:33.860: revising weight finished
revised_weight: 7.5 at 2021-04-06 01:23:33.860
plc_result: True
sendmessage: 20210406012333860,1,000074,000075
send message to PLC: 2021-04-06 01:23:33.929
time gap: 0:00:00.013757
2021-04-06 01:23:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:34.715
lastevent: 2021-04-06 01:23:34.707, last ten sensor data: [('2021-04-06 01:23:34.270', 'D+000007.0'), ('2021-04-06 01:23:34.290', 'D+000006.8'), ('2021-04-06 01:23:34.310', 'D+000007.0'), ('2021-04-06 01:23:34.330', 'D+000006.8'), ('2021-04-06 01:23:34.350', 'D+000006.6'), ('2021-04-06 01:23:34.510', 'D+000004.8'), ('2021-04-06 01:23:34.530', 'D+000004.8'), ('2021-04-06 01:23:34.550', 'D+000004.6'), ('2021-04-06 01:23:34.570', 'D+000004.8'), ('2021-04-06 01:23:34.590', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 4.8, 4.8, 4.6, 4.8, 5.0]
np.array X: [[6.6]
 [4.8]
 [4.8]
 [4.6]
 [4.8]
 [5. ]]
revised_weight: 5.0
2021-04-06 01:23:34.590: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:23:34.590
plc_result: True
sendmessage: 20210406012334590,1,000050,000050
send message to PLC: 2021-04-06 01:23:34.744
time gap: 0:00:00.029678
2021-04-06 01:23:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:37.810
2021-04-06 01:23:37: HTTP Send finished in httpPlcDataSender thread
lastevent: 2021-04-06 01:23:37.797, last ten sensor data: [('2021-04-06 01:23:37.320', 'D+000000.8'), ('2021-04-06 01:23:37.340', 'D+000000.6'), ('2021-04-06 01:23:37.360', 'D+000000.8'), ('2021-04-06 01:23:37.380', 'D+000000.4'), ('2021-04-06 01:23:37.560', 'D+000001.4'), ('2021-04-06 01:23:37.580', 'D+000001.8'), ('2021-04-06 01:23:37.600', 'D+000001.6'), ('2021-04-06 01:23:37.620', 'D+000001.6'), ('2021-04-06 01:23:37.640', 'D+000001.6'), ('2021-04-06 01:23:37.800', 'D+000001.8')]
2021-04-06 01:23:37: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 1.8, 1.6, 1.6, 1.6, 1.8]
np.array X: [[1.4]
 [1.8]
 [1.6]
 [1.6]
 [1.6]
 [1.8]]
revised_weight: 1.5
2021-04-06 01:23:37.800: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:23:37.800
plc_result: True
sendmessage: 20210406012337800,1,000018,000015
send message to PLC: 2021-04-06 01:23:37.823
time gap: 0:00:00.013858
2021-04-06 01:23:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:37: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:37: select done
2021-04-06 01:23:37: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:23:37: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:23:38: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:23:38: count: 4 in httpPlcDataSender thread
2021-04-06 01:23:38: D+: 4 in httpPlcDataSender thread
2021-04-06 01:23:38: D-: 0 in httpPlcDataSender thread
2021-04-06 01:23:38: S+: 0 in httpPlcDataSender thread
2021-04-06 01:23:38: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '12.6', 'sensorAt': '2021-04-06 01:23:32.350'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:23:33.860'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:23:34.590'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:23:37.800'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:32.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:33.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:34.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:37.800'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:23:38', 'collectDate': '2021-04-06 01:23:37', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '12.6', 'sensorAt': '2021-04-06 01:23:32.350'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:23:33.860'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:23:34.590'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:23:37.800'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:32.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:33.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:34.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:37.800'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:23:38: send http
2021-04-06 01:23:38: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:23:38: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:38.316
lastevent: 2021-04-06 01:23:38.304, last ten sensor data: [('2021-04-06 01:23:37.880', 'D+000001.8'), ('2021-04-06 01:23:38.060', 'D+000002.4'), ('2021-04-06 01:23:38.080', 'D+000001.8'), ('2021-04-06 01:23:38.100', 'D+000001.2'), ('2021-04-06 01:23:38.120', 'D+000001.8'), ('2021-04-06 01:23:38.210', 'D+000002.0'), ('2021-04-06 01:23:38.230', 'D+000002.8'), ('2021-04-06 01:23:38.280', 'D+000001.4'), ('2021-04-06 01:23:38.310', 'D+000001.8'), ('2021-04-06 01:23:38.330', 'D+000001.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.0, 2.8, 1.4, 1.8, 1.4]
np.array X: [[1.8]
 [2. ]
 [2.8]
 [1.4]
 [1.8]
 [1.4]]
revised_weight: 2.0
2021-04-06 01:23:38.330: revising weight finished
revised_weight: 2.0 at 2021-04-06 01:23:38.330
plc_result: True
sendmessage: 20210406012338330,1,000014,000020
send message to PLC: 2021-04-06 01:23:38.327
time gap: 0:00:00.011092
2021-04-06 01:23:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:38: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:40.589
lastevent: 2021-04-06 01:23:40.575, last ten sensor data: [('2021-04-06 01:23:40.090', 'D+000001.0'), ('2021-04-06 01:23:40.250', 'D+000002.8'), ('2021-04-06 01:23:40.270', 'D+000003.0'), ('2021-04-06 01:23:40.290', 'D+000003.0'), ('2021-04-06 01:23:40.310', 'D+000002.8'), ('2021-04-06 01:23:40.470', 'D+000005.0'), ('2021-04-06 01:23:40.500', 'D+000005.6'), ('2021-04-06 01:23:40.520', 'D+000005.8'), ('2021-04-06 01:23:40.540', 'D+000006.0'), ('2021-04-06 01:23:40.560', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 5.0, 5.6, 5.8, 6.0, 6.4]
np.array X: [[2.8]
 [5. ]
 [5.6]
 [5.8]
 [6. ]
 [6.4]]
revised_weight: 6.5
2021-04-06 01:23:40.560: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:23:40.560
plc_result: True
sendmessage: 20210406012340560,1,000064,000065
send message to PLC: 2021-04-06 01:23:40.600
time gap: 0:00:00.011455
2021-04-06 01:23:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:43: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:23:43: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:43: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:43: select done
2021-04-06 01:23:43: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:23:43: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:23:43: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:23:43: count: 2 in httpPlcDataSender thread
2021-04-06 01:23:43: D+: 2 in httpPlcDataSender thread
2021-04-06 01:23:43: D-: 0 in httpPlcDataSender thread
2021-04-06 01:23:43: S+: 0 in httpPlcDataSender thread
2021-04-06 01:23:43: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.0', 'sensorAt': '2021-04-06 01:23:38.330'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:23:40.560'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:38.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:40.560'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:23:43', 'collectDate': '2021-04-06 01:23:40', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.0', 'sensorAt': '2021-04-06 01:23:38.330'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:23:40.560'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:38.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:40.560'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:43.761
lastevent: 2021-04-06 01:23:43.750, last ten sensor data: [('2021-04-06 01:23:43.210', 'D+000001.0'), ('2021-04-06 01:23:43.230', 'D+000001.0'), ('2021-04-06 01:23:43.250', 'D+000000.8'), ('2021-04-06 01:23:43.410', 'D+000001.4'), ('2021-04-06 01:23:43.440', 'D+000001.2'), ('2021-04-06 01:23:43.460', 'D+000001.0'), ('2021-04-06 01:23:43.480', 'D+000001.2'), ('2021-04-06 01:23:43.700', 'D+000001.6'), ('2021-04-06 01:23:43.720', 'D+000001.6'), ('2021-04-06 01:23:43.740', 'D+000001.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.2, 1.0, 1.2, 1.6, 1.6, 1.2]
np.array X: [[1.2]
 [1. ]
 [1.2]
 [1.6]
 [1.6]
 [1.2]]
revised_weight: 1.4
2021-04-06 01:23:43.740: revising weight finished
revised_weight: 1.4 at 2021-04-06 01:23:43.740
plc_result: True
sendmessage: 20210406012343740,1,000012,000014
send message to PLC: 2021-04-06 01:23:43.769
time gap: 0:00:00.007775
2021-04-06 01:23:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:43: send http
2021-04-06 01:23:43: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:23:43: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:44: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:45.359
lastevent: 2021-04-06 01:23:45.348, last ten sensor data: [('2021-04-06 01:23:44.880', 'D+000001.8'), ('2021-04-06 01:23:44.900', 'D+000001.6'), ('2021-04-06 01:23:44.920', 'D+000001.8'), ('2021-04-06 01:23:44.940', 'D+000001.8'), ('2021-04-06 01:23:44.960', 'D+000001.8'), ('2021-04-06 01:23:45.120', 'D+000007.2'), ('2021-04-06 01:23:45.140', 'D+000006.4'), ('2021-04-06 01:23:45.160', 'D+000006.2'), ('2021-04-06 01:23:45.180', 'D+000007.2'), ('2021-04-06 01:23:45.200', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 7.2, 6.4, 6.2, 7.2, 8.0]
np.array X: [[1.8]
 [7.2]
 [6.4]
 [6.2]
 [7.2]
 [8. ]]
revised_weight: 7.0
2021-04-06 01:23:45.200: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:23:45.200
plc_result: True
sendmessage: 20210406012345200,1,000080,000070
send message to PLC: 2021-04-06 01:23:45.373
time gap: 0:00:00.014130
2021-04-06 01:23:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:46.923
lastevent: 2021-04-06 01:23:46.907, last ten sensor data: [('2021-04-06 01:23:46.590', 'D+000002.0'), ('2021-04-06 01:23:46.610', 'D+000002.4'), ('2021-04-06 01:23:46.630', 'D+000002.2'), ('2021-04-06 01:23:46.650', 'D+000002.0'), ('2021-04-06 01:23:46.670', 'D+000002.2'), ('2021-04-06 01:23:46.840', 'D+000002.4'), ('2021-04-06 01:23:46.860', 'D+000002.4'), ('2021-04-06 01:23:46.880', 'D+000002.4'), ('2021-04-06 01:23:46.900', 'D+000002.6'), ('2021-04-06 01:23:46.920', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.4, 2.4, 2.4, 2.6, 2.4]
np.array X: [[2.2]
 [2.4]
 [2.4]
 [2.4]
 [2.6]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:23:46.920: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:23:46.920
plc_result: True
sendmessage: 20210406012346920,1,000024,000023
send message to PLC: 2021-04-06 01:23:46.935
time gap: 0:00:00.012167
2021-04-06 01:23:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:47.585
lastevent: 2021-04-06 01:23:47.569, last ten sensor data: [('2021-04-06 01:23:47.070', 'D+000002.2'), ('2021-04-06 01:23:47.100', 'D+000001.8'), ('2021-04-06 01:23:47.120', 'D+000001.4'), ('2021-04-06 01:23:47.140', 'D+000001.4'), ('2021-04-06 01:23:47.160', 'D+000001.8'), ('2021-04-06 01:23:47.330', 'D+000001.6'), ('2021-04-06 01:23:47.350', 'D+000001.6'), ('2021-04-06 01:23:47.370', 'D+000001.4'), ('2021-04-06 01:23:47.390', 'D+000001.6'), ('2021-04-06 01:23:47.580', 'D+000001.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 1.6, 1.6, 1.4, 1.6, 1.0]
np.array X: [[1.8]
 [1.6]
 [1.6]
 [1.4]
 [1.6]
 [1. ]]
revised_weight: 1.1
2021-04-06 01:23:47.580: revising weight finished
revised_weight: 1.1 at 2021-04-06 01:23:47.580
plc_result: True
sendmessage: 20210406012347580,1,000010,000011
send message to PLC: 2021-04-06 01:23:47.597
time gap: 0:00:00.012622
2021-04-06 01:23:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:49: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:23:49: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:49: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:49: select done
2021-04-06 01:23:49: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:23:49: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:23:49: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:23:49: count: 4 in httpPlcDataSender thread
2021-04-06 01:23:49: D+: 4 in httpPlcDataSender thread
2021-04-06 01:23:49: D-: 0 in httpPlcDataSender thread
2021-04-06 01:23:49: S+: 0 in httpPlcDataSender thread
2021-04-06 01:23:49: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.4', 'sensorAt': '2021-04-06 01:23:43.740'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:23:45.200'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:23:46.920'}, {'value': '1.1', 'sensorAt': '2021-04-06 01:23:47.580'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:43.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:45.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:46.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:47.580'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:23:49', 'collectDate': '2021-04-06 01:23:47', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '1.4', 'sensorAt': '2021-04-06 01:23:43.740'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:23:45.200'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:23:46.920'}, {'value': '1.1', 'sensorAt': '2021-04-06 01:23:47.580'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:43.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:45.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:46.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:47.580'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:23:49: send http
2021-04-06 01:23:49: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:23:49: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:49: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:51.851
lastevent: 2021-04-06 01:23:51.837, last ten sensor data: [('2021-04-06 01:23:51.460', 'D+000002.2'), ('2021-04-06 01:23:51.480', 'D+000002.2'), ('2021-04-06 01:23:51.500', 'D+000002.4'), ('2021-04-06 01:23:51.520', 'D+000002.2'), ('2021-04-06 01:23:51.540', 'D+000002.2'), ('2021-04-06 01:23:51.700', 'D+000004.6'), ('2021-04-06 01:23:51.720', 'D+000004.6'), ('2021-04-06 01:23:51.740', 'D+000004.8'), ('2021-04-06 01:23:51.760', 'D+000005.0'), ('2021-04-06 01:23:51.780', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 4.6, 4.6, 4.8, 5.0, 5.2]
np.array X: [[2.2]
 [4.6]
 [4.6]
 [4.8]
 [5. ]
 [5.2]]
revised_weight: 4.9
2021-04-06 01:23:51.780: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:23:51.780
plc_result: True
sendmessage: 20210406012351780,1,000052,000049
send message to PLC: 2021-04-06 01:23:51.859
time gap: 0:00:00.008773
2021-04-06 01:23:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:53.683
lastevent: 2021-04-06 01:23:53.667, last ten sensor data: [('2021-04-06 01:23:53.000', 'D+000002.4'), ('2021-04-06 01:23:53.180', 'D+000002.8'), ('2021-04-06 01:23:53.200', 'D+000002.8'), ('2021-04-06 01:23:53.220', 'D+000002.6'), ('2021-04-06 01:23:53.240', 'D+000002.8'), ('2021-04-06 01:23:53.260', 'D+000002.6'), ('2021-04-06 01:23:53.280', 'D+000002.4'), ('2021-04-06 01:23:53.470', 'D+000004.6'), ('2021-04-06 01:23:53.490', 'D+000004.0'), ('2021-04-06 01:23:53.510', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.6, 2.4, 4.6, 4.0, 4.2]
np.array X: [[2.8]
 [2.6]
 [2.4]
 [4.6]
 [4. ]
 [4.2]]
revised_weight: 3.9
2021-04-06 01:23:53.510: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:23:53.510
plc_result: True
sendmessage: 20210406012353510,1,000042,000039
send message to PLC: 2021-04-06 01:23:53.695
time gap: 0:00:00.012114
2021-04-06 01:23:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:54.553
lastevent: 2021-04-06 01:23:54.543, last ten sensor data: [('2021-04-06 01:23:54.180', 'D+000004.0'), ('2021-04-06 01:23:54.200', 'D+000004.4'), ('2021-04-06 01:23:54.220', 'D+000004.6'), ('2021-04-06 01:23:54.240', 'D+000005.2'), ('2021-04-06 01:23:54.260', 'D+000005.2'), ('2021-04-06 01:23:54.420', 'D+000005.4'), ('2021-04-06 01:23:54.440', 'D+000006.2'), ('2021-04-06 01:23:54.460', 'D+000006.4'), ('2021-04-06 01:23:54.480', 'D+000007.0'), ('2021-04-06 01:23:54.500', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.4, 6.2, 6.4, 7.0, 7.2]
np.array X: [[5.2]
 [5.4]
 [6.2]
 [6.4]
 [7. ]
 [7.2]]
revised_weight: 6.6
2021-04-06 01:23:54.500: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:23:54.500
plc_result: True
sendmessage: 20210406012354500,1,000072,000066
send message to PLC: 2021-04-06 01:23:54.567
time gap: 0:00:00.013944
2021-04-06 01:23:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:54: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:23:54: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:54: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:23:54: select done
2021-04-06 01:23:54: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:23:54: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:23:54: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:23:54: count: 3 in httpPlcDataSender thread
2021-04-06 01:23:54: D+: 3 in httpPlcDataSender thread
2021-04-06 01:23:54: D-: 0 in httpPlcDataSender thread
2021-04-06 01:23:54: S+: 0 in httpPlcDataSender thread
2021-04-06 01:23:54: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.9', 'sensorAt': '2021-04-06 01:23:51.780'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:23:53.510'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:23:54.500'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:51.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:53.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:54.500'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:23:54', 'collectDate': '2021-04-06 01:23:54', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.9', 'sensorAt': '2021-04-06 01:23:51.780'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:23:53.510'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:23:54.500'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:51.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:53.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:54.500'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:23:54: send http
2021-04-06 01:23:54: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:23:55: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:23:55: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:23:55.293
lastevent: 2021-04-06 01:23:55.283, last ten sensor data: [('2021-04-06 01:23:54.900', 'D+000007.2'), ('2021-04-06 01:23:54.920', 'D+000007.4'), ('2021-04-06 01:23:54.940', 'D+000007.8'), ('2021-04-06 01:23:54.960', 'D+000007.8'), ('2021-04-06 01:23:54.980', 'D+000007.8'), ('2021-04-06 01:23:55.150', 'D+000006.8'), ('2021-04-06 01:23:55.170', 'D+000006.2'), ('2021-04-06 01:23:55.190', 'D+000006.2'), ('2021-04-06 01:23:55.210', 'D+000006.4'), ('2021-04-06 01:23:55.230', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.8, 6.8, 6.2, 6.2, 6.4, 5.6]
np.array X: [[7.8]
 [6.8]
 [6.2]
 [6.2]
 [6.4]
 [5.6]]
revised_weight: 6.7
2021-04-06 01:23:55.230: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:23:55.230
plc_result: True
sendmessage: 20210406012355230,1,000056,000067
send message to PLC: 2021-04-06 01:23:55.300
time gap: 0:00:00.007078
2021-04-06 01:23:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:56.778
lastevent: 2021-04-06 01:23:56.763, last ten sensor data: [('2021-04-06 01:23:56.390', 'D+000003.4'), ('2021-04-06 01:23:56.410', 'D+000003.6'), ('2021-04-06 01:23:56.430', 'D+000003.8'), ('2021-04-06 01:23:56.450', 'D+000003.8'), ('2021-04-06 01:23:56.610', 'D+000004.8'), ('2021-04-06 01:23:56.630', 'D+000006.2'), ('2021-04-06 01:23:56.650', 'D+000006.2'), ('2021-04-06 01:23:56.670', 'D+000005.4'), ('2021-04-06 01:23:56.690', 'D+000005.4'), ('2021-04-06 01:23:56.710', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 6.2, 6.2, 5.4, 5.4, 5.4]
np.array X: [[4.8]
 [6.2]
 [6.2]
 [5.4]
 [5.4]
 [5.4]]
revised_weight: 5.6
2021-04-06 01:23:56.710: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:23:56.710
plc_result: True
sendmessage: 20210406012356710,1,000054,000056
send message to PLC: 2021-04-06 01:23:56.785
time gap: 0:00:00.007073
2021-04-06 01:23:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:57.546
lastevent: 2021-04-06 01:23:57.540, last ten sensor data: [('2021-04-06 01:23:57.120', 'D+000005.6'), ('2021-04-06 01:23:57.140', 'D+000005.0'), ('2021-04-06 01:23:57.160', 'D+000004.8'), ('2021-04-06 01:23:57.180', 'D+000005.2'), ('2021-04-06 01:23:57.340', 'D+000005.4'), ('2021-04-06 01:23:57.360', 'D+000005.6'), ('2021-04-06 01:23:57.380', 'D+000005.4'), ('2021-04-06 01:23:57.400', 'D+000005.4'), ('2021-04-06 01:23:57.420', 'D+000005.8'), ('2021-04-06 01:23:57.440', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 5.4, 5.4, 5.8, 5.8]
np.array X: [[5.4]
 [5.6]
 [5.4]
 [5.4]
 [5.8]
 [5.8]]
revised_weight: 5.5
2021-04-06 01:23:57.440: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:23:57.440
plc_result: True
sendmessage: 20210406012357440,1,000058,000055
send message to PLC: 2021-04-06 01:23:57.556
time gap: 0:00:00.009922
2021-04-06 01:23:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:58.443
lastevent: 2021-04-06 01:23:58.431, last ten sensor data: [('2021-04-06 01:23:58.100', 'D+000006.0'), ('2021-04-06 01:23:58.120', 'D+000006.0'), ('2021-04-06 01:23:58.140', 'D+000005.6'), ('2021-04-06 01:23:58.160', 'D+000005.6'), ('2021-04-06 01:23:58.180', 'D+000005.2'), ('2021-04-06 01:23:58.330', 'D+000003.4'), ('2021-04-06 01:23:58.350', 'D+000003.4'), ('2021-04-06 01:23:58.370', 'D+000003.2'), ('2021-04-06 01:23:58.390', 'D+000003.2'), ('2021-04-06 01:23:58.410', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 3.4, 3.4, 3.2, 3.2, 3.2]
np.array X: [[5.2]
 [3.4]
 [3.4]
 [3.2]
 [3.2]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:23:58.410: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:23:58.410
plc_result: True
sendmessage: 20210406012358410,1,000032,000031
send message to PLC: 2021-04-06 01:23:58.450
time gap: 0:00:00.006930
2021-04-06 01:23:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:23:59.426
lastevent: 2021-04-06 01:23:59.418, last ten sensor data: [('2021-04-06 01:23:58.870', 'D+000003.6'), ('2021-04-06 01:23:58.890', 'D+000003.8'), ('2021-04-06 01:23:59.070', 'D+000003.2'), ('2021-04-06 01:23:59.090', 'D+000003.4'), ('2021-04-06 01:23:59.110', 'D+000003.6'), ('2021-04-06 01:23:59.130', 'D+000004.0'), ('2021-04-06 01:23:59.310', 'D+000004.4'), ('2021-04-06 01:23:59.330', 'D+000005.0'), ('2021-04-06 01:23:59.350', 'D+000004.8'), ('2021-04-06 01:23:59.370', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 4.4, 5.0, 4.8, 4.4]
np.array X: [[3.6]
 [4. ]
 [4.4]
 [5. ]
 [4.8]
 [4.4]]
revised_weight: 4.5
2021-04-06 01:23:59.370: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:23:59.370
plc_result: True
sendmessage: 20210406012359370,1,000044,000045
send message to PLC: 2021-04-06 01:23:59.433
time gap: 0:00:00.006988
2021-04-06 01:23:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:00.199
2021-04-06 01:24:00: HTTP Send finished in httpPlcDataSender thread
lastevent: 2021-04-06 01:24:00.193, last ten sensor data: [('2021-04-06 01:23:59.630', 'D+000004.8'), ('2021-04-06 01:23:59.800', 'D+000005.0'), ('2021-04-06 01:23:59.820', 'D+000005.0'), ('2021-04-06 01:23:59.840', 'D+000004.8'), ('2021-04-06 01:23:59.860', 'D+000004.8'), ('2021-04-06 01:23:59.880', 'D+000004.8'), ('2021-04-06 01:24:00.030', 'D+000004.4'), ('2021-04-06 01:24:00.060', 'D+000004.2'), ('2021-04-06 01:24:00.080', 'D+000003.8'), ('2021-04-06 01:24:00.100', 'D+000003.6')]
2021-04-06 01:24:00: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.4, 4.2, 3.8, 3.6]
np.array X: [[4.8]
 [4.8]
 [4.4]
 [4.2]
 [3.8]
 [3.6]]
revised_weight: 3.9
2021-04-06 01:24:00.100: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:24:00.100
plc_result: True
sendmessage: 20210406012400100,1,000036,000039
send message to PLC: 2021-04-06 01:24:00.208
time gap: 0:00:00.009052
2021-04-06 01:24:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:00: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:00: select done
2021-04-06 01:24:00: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:24:00: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:24:00: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:24:00: count: 6 in httpPlcDataSender thread
2021-04-06 01:24:00: D+: 6 in httpPlcDataSender thread
2021-04-06 01:24:00: D-: 0 in httpPlcDataSender thread
2021-04-06 01:24:00: S+: 0 in httpPlcDataSender thread
2021-04-06 01:24:00: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.7', 'sensorAt': '2021-04-06 01:23:55.230'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:23:56.710'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:23:57.440'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:23:58.410'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:23:59.370'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:24:00.100'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:55.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:56.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:57.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:58.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:59.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:00.100'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:24:00', 'collectDate': '2021-04-06 01:24:00', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.7', 'sensorAt': '2021-04-06 01:23:55.230'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:23:56.710'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:23:57.440'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:23:58.410'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:23:59.370'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:24:00.100'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:23:55.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:56.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:57.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:58.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:23:59.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:00.100'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:24:00: send http
2021-04-06 01:24:00: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:24:00: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:00.722
lastevent: 2021-04-06 01:24:00.714, last ten sensor data: [0, 0, ('2021-04-06 01:24:00.290', 'D+000004.0'), ('2021-04-06 01:24:00.310', 'D+000004.2'), ('2021-04-06 01:24:00.330', 'D+000004.0'), ('2021-04-06 01:24:00.350', 'D+000004.0'), ('2021-04-06 01:24:00.430', 'D+000004.0'), ('2021-04-06 01:24:00.540', 'D+000005.2'), ('2021-04-06 01:24:00.570', 'D+000005.0'), ('2021-04-06 01:24:00.590', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 4.0, 5.2, 5.0, 5.2]
np.array X: [[4. ]
 [4. ]
 [4. ]
 [5.2]
 [5. ]
 [5.2]]
revised_weight: 5.0
2021-04-06 01:24:00.590: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:24:00.590
plc_result: True
sendmessage: 20210406012400590,1,000052,000050
send message to PLC: 2021-04-06 01:24:00.730
time gap: 0:00:00.007231
2021-04-06 01:24:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:00: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:01.838
lastevent: 2021-04-06 01:24:01.828, last ten sensor data: [('2021-04-06 01:24:01.500', 'D+000004.4'), ('2021-04-06 01:24:01.520', 'D+000004.4'), ('2021-04-06 01:24:01.540', 'D+000003.8'), ('2021-04-06 01:24:01.560', 'D+000004.0'), ('2021-04-06 01:24:01.580', 'D+000004.2'), ('2021-04-06 01:24:01.740', 'D+000006.6'), ('2021-04-06 01:24:01.760', 'D+000006.2'), ('2021-04-06 01:24:01.780', 'D+000005.8'), ('2021-04-06 01:24:01.800', 'D+000005.2'), ('2021-04-06 01:24:01.820', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 6.6, 6.2, 5.8, 5.2, 5.4]
np.array X: [[4.2]
 [6.6]
 [6.2]
 [5.8]
 [5.2]
 [5.4]]
revised_weight: 6.1
2021-04-06 01:24:01.820: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:24:01.820
plc_result: True
sendmessage: 20210406012401820,1,000054,000061
send message to PLC: 2021-04-06 01:24:01.847
time gap: 0:00:00.008644
2021-04-06 01:24:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:02.942
lastevent: 2021-04-06 01:24:02.926, last ten sensor data: [('2021-04-06 01:24:02.470', 'D+000003.2'), ('2021-04-06 01:24:02.490', 'D+000003.0'), ('2021-04-06 01:24:02.510', 'D+000003.0'), ('2021-04-06 01:24:02.530', 'D+000003.0'), ('2021-04-06 01:24:02.670', 'D+000004.6'), ('2021-04-06 01:24:02.690', 'D+000004.6'), ('2021-04-06 01:24:02.710', 'D+000004.6'), ('2021-04-06 01:24:02.730', 'D+000005.4'), ('2021-04-06 01:24:02.750', 'D+000005.4'), ('2021-04-06 01:24:02.770', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 4.6, 5.4, 5.4, 4.6]
np.array X: [[4.6]
 [4.6]
 [4.6]
 [5.4]
 [5.4]
 [4.6]]
revised_weight: 4.7
2021-04-06 01:24:02.770: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:24:02.770
plc_result: True
sendmessage: 20210406012402770,1,000046,000047
send message to PLC: 2021-04-06 01:24:02.950
time gap: 0:00:00.008534
2021-04-06 01:24:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:03.430
lastevent: 2021-04-06 01:24:03.415, last ten sensor data: [0, ('2021-04-06 01:24:02.950', 'D+000005.6'), ('2021-04-06 01:24:02.970', 'D+000005.0'), ('2021-04-06 01:24:02.990', 'D+000005.0'), ('2021-04-06 01:24:03.010', 'D+000005.6'), ('2021-04-06 01:24:03.180', 'D+000006.0'), ('2021-04-06 01:24:03.200', 'D+000005.8'), ('2021-04-06 01:24:03.220', 'D+000005.8'), ('2021-04-06 01:24:03.240', 'D+000005.8'), ('2021-04-06 01:24:03.420', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.0, 5.8, 5.8, 5.8, 4.4]
np.array X: [[5.6]
 [6. ]
 [5.8]
 [5.8]
 [5.8]
 [4.4]]
revised_weight: 5.3
2021-04-06 01:24:03.420: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:24:03.420
plc_result: True
sendmessage: 20210406012403420,1,000044,000053
send message to PLC: 2021-04-06 01:24:03.437
time gap: 0:00:00.006614
2021-04-06 01:24:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:03.950
lastevent: 2021-04-06 01:24:03.932, last ten sensor data: [('2021-04-06 01:24:03.480', 'D+000004.8'), ('2021-04-06 01:24:03.500', 'D+000004.6'), ('2021-04-06 01:24:03.660', 'D+000004.6'), ('2021-04-06 01:24:03.680', 'D+000004.6'), ('2021-04-06 01:24:03.700', 'D+000004.8'), ('2021-04-06 01:24:03.720', 'D+000005.2'), ('2021-04-06 01:24:03.740', 'D+000005.2'), ('2021-04-06 01:24:03.900', 'D+000005.2'), ('2021-04-06 01:24:03.920', 'D+000004.8'), ('2021-04-06 01:24:03.940', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.2, 5.2, 5.2, 4.8, 4.6]
np.array X: [[4.8]
 [5.2]
 [5.2]
 [5.2]
 [4.8]
 [4.6]]
revised_weight: 4.8
2021-04-06 01:24:03.940: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:24:03.940
plc_result: True
sendmessage: 20210406012403940,1,000046,000048
send message to PLC: 2021-04-06 01:24:03.962
time gap: 0:00:00.012253
2021-04-06 01:24:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:04.796
lastevent: 2021-04-06 01:24:04.780, last ten sensor data: [('2021-04-06 01:24:04.400', 'D+000005.2'), ('2021-04-06 01:24:04.420', 'D+000005.2'), ('2021-04-06 01:24:04.440', 'D+000005.0'), ('2021-04-06 01:24:04.460', 'D+000005.2'), ('2021-04-06 01:24:04.480', 'D+000005.0'), ('2021-04-06 01:24:04.620', 'D+000004.8'), ('2021-04-06 01:24:04.650', 'D+000004.4'), ('2021-04-06 01:24:04.670', 'D+000004.4'), ('2021-04-06 01:24:04.690', 'D+000004.4'), ('2021-04-06 01:24:04.710', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.8, 4.4, 4.4, 4.4, 4.8]
np.array X: [[5. ]
 [4.8]
 [4.4]
 [4.4]
 [4.4]
 [4.8]]
revised_weight: 4.7
2021-04-06 01:24:04.710: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:24:04.710
plc_result: True
sendmessage: 20210406012404710,1,000048,000047
send message to PLC: 2021-04-06 01:24:04.809
time gap: 0:00:00.013358
2021-04-06 01:24:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:05: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:24:05: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:05: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:05: select done
2021-04-06 01:24:05: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:24:05: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:24:05: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:24:05: count: 6 in httpPlcDataSender thread
2021-04-06 01:24:05: D+: 6 in httpPlcDataSender thread
2021-04-06 01:24:05: D-: 0 in httpPlcDataSender thread
2021-04-06 01:24:05: S+: 0 in httpPlcDataSender thread
2021-04-06 01:24:05: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.0', 'sensorAt': '2021-04-06 01:24:00.590'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:24:01.820'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:24:02.770'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:24:03.420'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:24:03.940'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:24:04.710'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:00.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:01.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:02.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:03.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:03.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:04.710'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:24:06', 'collectDate': '2021-04-06 01:24:04', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.0', 'sensorAt': '2021-04-06 01:24:00.590'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:24:01.820'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:24:02.770'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:24:03.420'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:24:03.940'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:24:04.710'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:00.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:01.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:02.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:03.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:03.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:04.710'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:24:06: send http
2021-04-06 01:24:06: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:24:06: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:06.311
lastevent: 2021-04-06 01:24:06.303, last ten sensor data: [('2021-04-06 01:24:05.770', 'D+000003.0'), ('2021-04-06 01:24:05.790', 'D+000003.0'), ('2021-04-06 01:24:05.970', 'D+000003.0'), ('2021-04-06 01:24:05.990', 'D+000003.2'), ('2021-04-06 01:24:06.020', 'D+000003.2'), ('2021-04-06 01:24:06.040', 'D+000003.8'), ('2021-04-06 01:24:06.250', 'D+000007.2'), ('2021-04-06 01:24:06.270', 'D+000005.2'), ('2021-04-06 01:24:06.290', 'D+000004.4'), ('2021-04-06 01:24:06.310', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.8, 7.2, 5.2, 4.4, 5.6]
np.array X: [[3.2]
 [3.8]
 [7.2]
 [5.2]
 [4.4]
 [5.6]]
revised_weight: 8.5
2021-04-06 01:24:06.310: revising weight finished
revised_weight: 8.5 at 2021-04-06 01:24:06.310
plc_result: True
sendmessage: 20210406012406310,1,000056,000085
send message to PLC: 2021-04-06 01:24:06.318
time gap: 0:00:00.007467
2021-04-06 01:24:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:06: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:06.691
lastevent: 2021-04-06 01:24:06.683, last ten sensor data: [0, 0, ('2021-04-06 01:24:06.330', 'D+000006.8'), ('2021-04-06 01:24:06.380', 'D+000005.8'), ('2021-04-06 01:24:06.410', 'D+000006.8'), ('2021-04-06 01:24:06.550', 'D+000005.8'), ('2021-04-06 01:24:06.570', 'D+000006.2'), ('2021-04-06 01:24:06.590', 'D+000006.0'), ('2021-04-06 01:24:06.610', 'D+000005.8'), ('2021-04-06 01:24:06.630', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 5.8, 6.2, 6.0, 5.8, 6.0]
np.array X: [[6.8]
 [5.8]
 [6.2]
 [6. ]
 [5.8]
 [6. ]]
revised_weight: 6.1
2021-04-06 01:24:06.630: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:24:06.630
plc_result: True
sendmessage: 20210406012406630,1,000060,000061
send message to PLC: 2021-04-06 01:24:06.698
time gap: 0:00:00.006909
2021-04-06 01:24:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:08.671
lastevent: 2021-04-06 01:24:08.660, last ten sensor data: [('2021-04-06 01:24:08.130', 'D+000002.2'), ('2021-04-06 01:24:08.310', 'D+000002.6'), ('2021-04-06 01:24:08.330', 'D+000002.4'), ('2021-04-06 01:24:08.350', 'D+000002.4'), ('2021-04-06 01:24:08.370', 'D+000003.0'), ('2021-04-06 01:24:08.390', 'D+000003.2'), ('2021-04-06 01:24:08.580', 'D+000004.0'), ('2021-04-06 01:24:08.600', 'D+000005.2'), ('2021-04-06 01:24:08.620', 'D+000006.6'), ('2021-04-06 01:24:08.640', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.2, 4.0, 5.2, 6.6, 7.2]
np.array X: [[3. ]
 [3.2]
 [4. ]
 [5.2]
 [6.6]
 [7.2]]
revised_weight: 5.4
2021-04-06 01:24:08.640: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:24:08.640
plc_result: True
sendmessage: 20210406012408640,1,000072,000054
send message to PLC: 2021-04-06 01:24:08.678
time gap: 0:00:00.007048
2021-04-06 01:24:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:09.348
lastevent: 2021-04-06 01:24:09.334, last ten sensor data: [('2021-04-06 01:24:08.870', 'D+000007.4'), ('2021-04-06 01:24:08.890', 'D+000008.0'), ('2021-04-06 01:24:09.040', 'D+000008.4'), ('2021-04-06 01:24:09.060', 'D+000008.2'), ('2021-04-06 01:24:09.080', 'D+000008.0'), ('2021-04-06 01:24:09.100', 'D+000008.2'), ('2021-04-06 01:24:09.120', 'D+000009.0'), ('2021-04-06 01:24:09.300', 'D+000009.8'), ('2021-04-06 01:24:09.320', 'D+000008.0'), ('2021-04-06 01:24:09.340', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.0, 8.2, 9.0, 9.8, 8.0, 7.6]
np.array X: [[8. ]
 [8.2]
 [9. ]
 [9.8]
 [8. ]
 [7.6]]
revised_weight: 8.2
2021-04-06 01:24:09.340: revising weight finished
revised_weight: 8.2 at 2021-04-06 01:24:09.340
plc_result: True
sendmessage: 20210406012409340,1,000076,000082
send message to PLC: 2021-04-06 01:24:09.355
time gap: 0:00:00.007066
2021-04-06 01:24:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:10.743
lastevent: 2021-04-06 01:24:10.737, last ten sensor data: [('2021-04-06 01:24:10.250', 'D+000003.0'), ('2021-04-06 01:24:10.270', 'D+000003.2'), ('2021-04-06 01:24:10.440', 'D+000003.8'), ('2021-04-06 01:24:10.470', 'D+000003.8'), ('2021-04-06 01:24:10.490', 'D+000003.8'), ('2021-04-06 01:24:10.650', 'D+000003.2'), ('2021-04-06 01:24:10.670', 'D+000003.4'), ('2021-04-06 01:24:10.690', 'D+000003.8'), ('2021-04-06 01:24:10.710', 'D+000003.8'), ('2021-04-06 01:24:10.730', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.2, 3.4, 3.8, 3.8, 3.4]
np.array X: [[3.8]
 [3.2]
 [3.4]
 [3.8]
 [3.8]
 [3.4]]
revised_weight: 3.1
2021-04-06 01:24:10.730: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:24:10.730
plc_result: True
sendmessage: 20210406012410730,1,000034,000031
send message to PLC: 2021-04-06 01:24:10.750
time gap: 0:00:00.006431
2021-04-06 01:24:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:11: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:24:11: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:11: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:11: select done
2021-04-06 01:24:11: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:24:11: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:24:11: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:24:11: count: 5 in httpPlcDataSender thread
2021-04-06 01:24:11: D+: 5 in httpPlcDataSender thread
2021-04-06 01:24:11: D-: 0 in httpPlcDataSender thread
2021-04-06 01:24:11: S+: 0 in httpPlcDataSender thread
2021-04-06 01:24:11: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.5', 'sensorAt': '2021-04-06 01:24:06.310'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:24:06.630'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:24:08.640'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:24:09.340'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:24:10.730'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:06.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:06.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:08.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:09.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:10.730'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:24:11', 'collectDate': '2021-04-06 01:24:10', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.5', 'sensorAt': '2021-04-06 01:24:06.310'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:24:06.630'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:24:08.640'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:24:09.340'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:24:10.730'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:06.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:06.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:08.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:09.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:10.730'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:24:11: send http
2021-04-06 01:24:11: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:24:11: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:11.833
lastevent: 2021-04-06 01:24:11.822, last ten sensor data: [('2021-04-06 01:24:11.440', 'D+000002.4'), ('2021-04-06 01:24:11.460', 'D+000002.4'), ('2021-04-06 01:24:11.480', 'D+000002.4'), ('2021-04-06 01:24:11.590', 'D+000002.4'), ('2021-04-06 01:24:11.610', 'D+000002.4'), ('2021-04-06 01:24:11.640', 'D+000002.8'), ('2021-04-06 01:24:11.660', 'D+000002.8'), ('2021-04-06 01:24:11.680', 'D+000003.0'), ('2021-04-06 01:24:11.700', 'D+000003.2'), ('2021-04-06 01:24:11.720', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.8, 2.8, 3.0, 3.2, 3.2]
np.array X: [[2.4]
 [2.8]
 [2.8]
 [3. ]
 [3.2]
 [3.2]]
revised_weight: 3.2
2021-04-06 01:24:11.720: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:24:11.720
plc_result: True
sendmessage: 20210406012411720,1,000032,000032
send message to PLC: 2021-04-06 01:24:11.840
time gap: 0:00:00.006305
2021-04-06 01:24:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:11: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:12.586
lastevent: 2021-04-06 01:24:12.575, last ten sensor data: [('2021-04-06 01:24:12.120', 'D+000003.2'), ('2021-04-06 01:24:12.150', 'D+000003.0'), ('2021-04-06 01:24:12.170', 'D+000003.2'), ('2021-04-06 01:24:12.190', 'D+000003.0'), ('2021-04-06 01:24:12.210', 'D+000003.0'), ('2021-04-06 01:24:12.370', 'D+000003.0'), ('2021-04-06 01:24:12.390', 'D+000003.0'), ('2021-04-06 01:24:12.410', 'D+000002.8'), ('2021-04-06 01:24:12.430', 'D+000002.6'), ('2021-04-06 01:24:12.450', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 3.0, 2.8, 2.6, 3.0]
np.array X: [[3. ]
 [3. ]
 [3. ]
 [2.8]
 [2.6]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:24:12.450: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:24:12.450
plc_result: True
sendmessage: 20210406012412450,1,000030,000029
send message to PLC: 2021-04-06 01:24:12.592
time gap: 0:00:00.006367
2021-04-06 01:24:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:24:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:14.284
lastevent: 2021-04-06 01:24:14.280, last ten sensor data: [('2021-04-06 01:24:13.830', 'D+000002.0'), ('2021-04-06 01:24:13.850', 'D+000001.8'), ('2021-04-06 01:24:13.870', 'D+000001.8'), ('2021-04-06 01:24:13.890', 'D+000001.8'), ('2021-04-06 01:24:13.910', 'D+000002.2'), ('2021-04-06 01:24:14.070', 'D+000002.2'), ('2021-04-06 01:24:14.090', 'D+000002.6'), ('2021-04-06 01:24:14.110', 'D+000002.6'), ('2021-04-06 01:24:14.130', 'D+000003.0'), ('2021-04-06 01:24:14.150', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.2, 2.6, 2.6, 3.0, 3.2]
np.array X: [[2.2]
 [2.2]
 [2.6]
 [2.6]
 [3. ]
 [3.2]]
revised_weight: 3.0
2021-04-06 01:24:14.150: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:24:14.150
plc_result: True
sendmessage: 20210406012414150,1,000032,000030
send message to PLC: 2021-04-06 01:24:14.290
time gap: 0:00:00.006379
2021-04-06 01:24:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:15: httpScaleDataSender thread Timeout occurred
trigger sensor detected: 2021-04-06 01:24:15.505
lastevent: 2021-04-06 01:24:15.499, last ten sensor data: [('2021-04-06 01:24:15.060', 'D+000002.6'), ('2021-04-06 01:24:15.080', 'D+000002.8'), ('2021-04-06 01:24:15.100', 'D+000002.6'), ('2021-04-06 01:24:15.120', 'D+000002.8'), ('2021-04-06 01:24:15.140', 'D+000002.8'), ('2021-04-06 01:24:15.300', 'D+000005.4'), ('2021-04-06 01:24:15.320', 'D+000005.8'), ('2021-04-06 01:24:15.340', 'D+000006.6'), ('2021-04-06 01:24:15.360', 'D+000006.4'), ('2021-04-06 01:24:15.380', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 5.4, 5.8, 6.6, 6.4, 6.0]
np.array X: [[2.8]
 [5.4]
 [5.8]
 [6.6]
 [6.4]
 [6. ]]
revised_weight: 6.4
2021-04-06 01:24:15.380: revising weight finished
revised_weight: 6.4 at 2021-04-06 01:24:15.380
plc_result: True
sendmessage: 20210406012415380,1,000060,000064
send message to PLC: 2021-04-06 01:24:15.517
time gap: 0:00:00.011854
2021-04-06 01:24:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:15: [13711] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
2021-04-06 01:24:15: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:24:16.288
lastevent: 2021-04-06 01:24:16.280, last ten sensor data: [('2021-04-06 01:24:15.810', 'D+000007.2'), ('2021-04-06 01:24:15.830', 'D+000007.0'), ('2021-04-06 01:24:15.850', 'D+000007.0'), ('2021-04-06 01:24:15.870', 'D+000006.4'), ('2021-04-06 01:24:16.050', 'D+000006.0'), ('2021-04-06 01:24:16.070', 'D+000005.8'), ('2021-04-06 01:24:16.090', 'D+000005.6'), ('2021-04-06 01:24:16.110', 'D+000005.0'), ('2021-04-06 01:24:16.140', 'D+000005.2'), ('2021-04-06 01:24:16.160', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 5.8, 5.6, 5.0, 5.2, 5.4]
np.array X: [[6. ]
 [5.8]
 [5.6]
 [5. ]
 [5.2]
 [5.4]]
revised_weight: 5.6
2021-04-06 01:24:16.160: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:24:16.160
plc_result: True
sendmessage: 20210406012416160,1,000054,000056
send message to PLC: 2021-04-06 01:24:16.301
time gap: 0:00:00.012935
2021-04-06 01:24:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:16: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:24:16: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:17: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:17: select done
2021-04-06 01:24:17: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:24:17: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:24:17: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:24:17: count: 5 in httpPlcDataSender thread
2021-04-06 01:24:17: D+: 5 in httpPlcDataSender thread
2021-04-06 01:24:17: D-: 0 in httpPlcDataSender thread
2021-04-06 01:24:17: S+: 0 in httpPlcDataSender thread
2021-04-06 01:24:17: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.2', 'sensorAt': '2021-04-06 01:24:11.720'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:24:12.450'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:24:14.150'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:24:15.380'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:24:16.160'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:11.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:12.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:14.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:15.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:16.160'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:24:17', 'collectDate': '2021-04-06 01:24:16', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.2', 'sensorAt': '2021-04-06 01:24:11.720'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:24:12.450'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:24:14.150'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:24:15.380'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:24:16.160'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:11.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:12.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:14.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:15.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:16.160'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:24:17: send http
2021-04-06 01:24:17: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:24:17: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:17: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:18.321
lastevent: 2021-04-06 01:24:18.311, last ten sensor data: [('2021-04-06 01:24:17.860', 'D+000002.6'), ('2021-04-06 01:24:17.880', 'D+000002.4'), ('2021-04-06 01:24:17.900', 'D+000002.6'), ('2021-04-06 01:24:18.060', 'D+000002.8'), ('2021-04-06 01:24:18.080', 'D+000002.6'), ('2021-04-06 01:24:18.100', 'D+000002.6'), ('2021-04-06 01:24:18.120', 'D+000003.2'), ('2021-04-06 01:24:18.140', 'D+000003.2'), ('2021-04-06 01:24:18.300', 'D+000003.2'), ('2021-04-06 01:24:18.320', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 3.2, 3.2, 3.2, 2.6]
np.array X: [[2.6]
 [2.6]
 [3.2]
 [3.2]
 [3.2]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:24:18.320: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:24:18.320
plc_result: True
sendmessage: 20210406012418320,1,000026,000025
send message to PLC: 2021-04-06 01:24:18.334
time gap: 0:00:00.012812
2021-04-06 01:24:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:19.234
lastevent: 2021-04-06 01:24:19.227, last ten sensor data: [('2021-04-06 01:24:18.780', 'D+000002.8'), ('2021-04-06 01:24:18.800', 'D+000002.8'), ('2021-04-06 01:24:18.820', 'D+000002.6'), ('2021-04-06 01:24:18.840', 'D+000002.8'), ('2021-04-06 01:24:18.860', 'D+000003.0'), ('2021-04-06 01:24:19.030', 'D+000003.0'), ('2021-04-06 01:24:19.050', 'D+000003.0'), ('2021-04-06 01:24:19.070', 'D+000003.0'), ('2021-04-06 01:24:19.090', 'D+000003.0'), ('2021-04-06 01:24:19.110', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 3.0, 3.0, 3.0, 3.4]
np.array X: [[3. ]
 [3. ]
 [3. ]
 [3. ]
 [3. ]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:24:19.110: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:24:19.110
plc_result: True
sendmessage: 20210406012419110,1,000034,000034
send message to PLC: 2021-04-06 01:24:19.247
time gap: 0:00:00.013379
2021-04-06 01:24:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:20.702
lastevent: 2021-04-06 01:24:20.694, last ten sensor data: [('2021-04-06 01:24:20.090', 'D+000003.0'), ('2021-04-06 01:24:20.250', 'D+000001.6'), ('2021-04-06 01:24:20.270', 'D+000002.6'), ('2021-04-06 01:24:20.290', 'D+000002.2'), ('2021-04-06 01:24:20.310', 'D+000002.6'), ('2021-04-06 01:24:20.490', 'D+000003.0'), ('2021-04-06 01:24:20.510', 'D+000002.8'), ('2021-04-06 01:24:20.530', 'D+000003.0'), ('2021-04-06 01:24:20.550', 'D+000004.0'), ('2021-04-06 01:24:20.570', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.0, 2.8, 3.0, 4.0, 3.8]
np.array X: [[2.6]
 [3. ]
 [2.8]
 [3. ]
 [4. ]
 [3.8]]
revised_weight: 3.9
2021-04-06 01:24:20.570: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:24:20.570
plc_result: True
sendmessage: 20210406012420570,1,000038,000039
send message to PLC: 2021-04-06 01:24:20.715
time gap: 0:00:00.012997
2021-04-06 01:24:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:22: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:24:22: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:22: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:22: select done
2021-04-06 01:24:22: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:24:22: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:24:22: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:24:22: count: 3 in httpPlcDataSender thread
2021-04-06 01:24:22: D+: 3 in httpPlcDataSender thread
2021-04-06 01:24:22: D-: 0 in httpPlcDataSender thread
2021-04-06 01:24:22: S+: 0 in httpPlcDataSender thread
2021-04-06 01:24:22: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.5', 'sensorAt': '2021-04-06 01:24:18.320'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:24:19.110'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:24:20.570'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:18.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:19.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:20.570'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:24:22', 'collectDate': '2021-04-06 01:24:20', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.5', 'sensorAt': '2021-04-06 01:24:18.320'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:24:19.110'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:24:20.570'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:18.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:19.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:20.570'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:22.880
2021-04-06 01:24:22: send http
lastevent: 2021-04-06 01:24:22.876, last ten sensor data: [('2021-04-06 01:24:22.440', 'D+000002.0'), ('2021-04-06 01:24:22.460', 'D+000002.2'), ('2021-04-06 01:24:22.480', 'D+000002.0'), ('2021-04-06 01:24:22.500', 'D+000002.2'), ('2021-04-06 01:24:22.520', 'D+000002.4'), ('2021-04-06 01:24:22.680', 'D+000004.2'), ('2021-04-06 01:24:22.700', 'D+000005.0'), ('2021-04-06 01:24:22.720', 'D+000005.0'), ('2021-04-06 01:24:22.740', 'D+000004.4'), ('2021-04-06 01:24:22.760', 'D+000004.2')]
2021-04-06 01:24:22: response status code: 200
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
list X: [2.4, 4.2, 5.0, 5.0, 4.4, 4.2]
True
np.array X: [[2.4]
 [4.2]
 [5. ]
 [5. ]
 [4.4]
 [4.2]]
revised_weight: 4.4
2021-04-06 01:24:22.760: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:24:22.760
plc_result: True
sendmessage: 20210406012422760,1,000042,000044
send message to PLC: 2021-04-06 01:24:22.917
time gap: 0:00:00.037190
2021-04-06 01:24:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
Backupserver True
2021-04-06 01:24:22: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:23: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:24.899
lastevent: 2021-04-06 01:24:24.894, last ten sensor data: [('2021-04-06 01:24:24.480', 'D+000002.8'), ('2021-04-06 01:24:24.500', 'D+000002.8'), ('2021-04-06 01:24:24.520', 'D+000003.0'), ('2021-04-06 01:24:24.540', 'D+000003.4'), ('2021-04-06 01:24:24.560', 'D+000003.6'), ('2021-04-06 01:24:24.720', 'D+000005.8'), ('2021-04-06 01:24:24.740', 'D+000006.6'), ('2021-04-06 01:24:24.760', 'D+000006.4'), ('2021-04-06 01:24:24.780', 'D+000006.4'), ('2021-04-06 01:24:24.800', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 5.8, 6.6, 6.4, 6.4, 6.6]
np.array X: [[3.6]
 [5.8]
 [6.6]
 [6.4]
 [6.4]
 [6.6]]
revised_weight: 7.2
2021-04-06 01:24:24.800: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:24:24.800
plc_result: True
sendmessage: 20210406012424800,1,000066,000072
send message to PLC: 2021-04-06 01:24:24.910
time gap: 0:00:00.011186
2021-04-06 01:24:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:25.583
lastevent: 2021-04-06 01:24:25.573, last ten sensor data: [('2021-04-06 01:24:25.050', 'D+000007.2'), ('2021-04-06 01:24:25.200', 'D+000007.2'), ('2021-04-06 01:24:25.230', 'D+000007.0'), ('2021-04-06 01:24:25.250', 'D+000006.6'), ('2021-04-06 01:24:25.270', 'D+000006.8'), ('2021-04-06 01:24:25.290', 'D+000007.4'), ('2021-04-06 01:24:25.460', 'D+000007.2'), ('2021-04-06 01:24:25.480', 'D+000006.8'), ('2021-04-06 01:24:25.500', 'D+000006.2'), ('2021-04-06 01:24:25.520', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 7.4, 7.2, 6.8, 6.2, 6.0]
np.array X: [[6.8]
 [7.4]
 [7.2]
 [6.8]
 [6.2]
 [6. ]]
revised_weight: 6.7
2021-04-06 01:24:25.520: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:24:25.520
plc_result: True
sendmessage: 20210406012425520,1,000060,000067
send message to PLC: 2021-04-06 01:24:25.594
time gap: 0:00:00.011113
2021-04-06 01:24:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:27.894
lastevent: 2021-04-06 01:24:27.882, last ten sensor data: [('2021-04-06 01:24:27.560', 'D+000004.4'), ('2021-04-06 01:24:27.580', 'D+000005.0'), ('2021-04-06 01:24:27.600', 'D+000005.0'), ('2021-04-06 01:24:27.620', 'D+000004.4'), ('2021-04-06 01:24:27.640', 'D+000003.8'), ('2021-04-06 01:24:27.790', 'D+000009.0'), ('2021-04-06 01:24:27.810', 'D+000009.4'), ('2021-04-06 01:24:27.830', 'D+000009.2'), ('2021-04-06 01:24:27.850', 'D+000009.0'), ('2021-04-06 01:24:27.870', 'D+000008.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 9.0, 9.4, 9.2, 9.0, 8.8]
np.array X: [[3.8]
 [9. ]
 [9.4]
 [9.2]
 [9. ]
 [8.8]]
revised_weight: 11.0
2021-04-06 01:24:27.870: revising weight finished
revised_weight: 11.0 at 2021-04-06 01:24:27.870
plc_result: True
sendmessage: 20210406012427870,1,000088,000110
send message to PLC: 2021-04-06 01:24:27.905
time gap: 0:00:00.010950
2021-04-06 01:24:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:28: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:24:28: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:28: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:28: select done
2021-04-06 01:24:28: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:24:28: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:24:28: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:24:28: count: 4 in httpPlcDataSender thread
2021-04-06 01:24:28: D+: 4 in httpPlcDataSender thread
2021-04-06 01:24:28: D-: 0 in httpPlcDataSender thread
2021-04-06 01:24:28: S+: 0 in httpPlcDataSender thread
2021-04-06 01:24:28: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.4', 'sensorAt': '2021-04-06 01:24:22.760'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:24:24.800'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:24:25.520'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:24:27.870'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:22.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:24.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:25.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:27.870'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:24:28', 'collectDate': '2021-04-06 01:24:27', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.4', 'sensorAt': '2021-04-06 01:24:22.760'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:24:24.800'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:24:25.520'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:24:27.870'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:22.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:24.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:25.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:27.870'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:24:28: send http
2021-04-06 01:24:28: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:24:28: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:28: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:29.388
lastevent: 2021-04-06 01:24:29.374, last ten sensor data: [('2021-04-06 01:24:28.790', 'D+000001.8'), ('2021-04-06 01:24:28.980', 'D+000002.0'), ('2021-04-06 01:24:29.000', 'D+000001.8'), ('2021-04-06 01:24:29.020', 'D+000001.6'), ('2021-04-06 01:24:29.040', 'D+000002.0'), ('2021-04-06 01:24:29.210', 'D+000002.4'), ('2021-04-06 01:24:29.230', 'D+000002.2'), ('2021-04-06 01:24:29.250', 'D+000002.0'), ('2021-04-06 01:24:29.270', 'D+000002.0'), ('2021-04-06 01:24:29.290', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.4, 2.2, 2.0, 2.0, 2.2]
np.array X: [[2. ]
 [2.4]
 [2.2]
 [2. ]
 [2. ]
 [2.2]]
revised_weight: 2.0
2021-04-06 01:24:29.290: revising weight finished
revised_weight: 2.0 at 2021-04-06 01:24:29.290
plc_result: True
sendmessage: 20210406012429290,1,000022,000020
send message to PLC: 2021-04-06 01:24:29.399
time gap: 0:00:00.011280
2021-04-06 01:24:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:30.762
lastevent: 2021-04-06 01:24:30.753, last ten sensor data: [('2021-04-06 01:24:30.250', 'D+000002.2'), ('2021-04-06 01:24:30.270', 'D+000002.0'), ('2021-04-06 01:24:30.450', 'D+000002.6'), ('2021-04-06 01:24:30.470', 'D+000002.8'), ('2021-04-06 01:24:30.490', 'D+000002.8'), ('2021-04-06 01:24:30.510', 'D+000003.0'), ('2021-04-06 01:24:30.690', 'D+000003.6'), ('2021-04-06 01:24:30.710', 'D+000003.2'), ('2021-04-06 01:24:30.730', 'D+000003.6'), ('2021-04-06 01:24:30.750', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.0, 3.6, 3.2, 3.6, 3.8]
np.array X: [[2.8]
 [3. ]
 [3.6]
 [3.2]
 [3.6]
 [3.8]]
revised_weight: 3.6
2021-04-06 01:24:30.750: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:24:30.750
plc_result: True
sendmessage: 20210406012430750,1,000038,000036
send message to PLC: 2021-04-06 01:24:30.778
time gap: 0:00:00.016021
2021-04-06 01:24:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:32.269
lastevent: 2021-04-06 01:24:32.263, last ten sensor data: [('2021-04-06 01:24:31.730', 'D+000002.8'), ('2021-04-06 01:24:31.890', 'D+000003.0'), ('2021-04-06 01:24:31.920', 'D+000003.2'), ('2021-04-06 01:24:31.940', 'D+000003.4'), ('2021-04-06 01:24:31.960', 'D+000003.2'), ('2021-04-06 01:24:31.980', 'D+000003.4'), ('2021-04-06 01:24:32.160', 'D+000004.6'), ('2021-04-06 01:24:32.180', 'D+000004.6'), ('2021-04-06 01:24:32.200', 'D+000004.6'), ('2021-04-06 01:24:32.220', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 4.6, 4.6, 4.6, 4.8]
np.array X: [[3.2]
 [3.4]
 [4.6]
 [4.6]
 [4.6]
 [4.8]]
revised_weight: 4.5
2021-04-06 01:24:32.220: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:24:32.220
plc_result: True
sendmessage: 20210406012432220,1,000048,000045
send message to PLC: 2021-04-06 01:24:32.281
time gap: 0:00:00.011467
2021-04-06 01:24:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:32.838
lastevent: 2021-04-06 01:24:32.823, last ten sensor data: [('2021-04-06 01:24:32.400', 'D+000004.8'), ('2021-04-06 01:24:32.420', 'D+000005.0'), ('2021-04-06 01:24:32.440', 'D+000005.0'), ('2021-04-06 01:24:32.460', 'D+000004.6'), ('2021-04-06 01:24:32.480', 'D+000004.8'), ('2021-04-06 01:24:32.640', 'D+000006.6'), ('2021-04-06 01:24:32.660', 'D+000006.6'), ('2021-04-06 01:24:32.680', 'D+000006.0'), ('2021-04-06 01:24:32.700', 'D+000005.8'), ('2021-04-06 01:24:32.720', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 6.6, 6.6, 6.0, 5.8, 5.8]
np.array X: [[4.8]
 [6.6]
 [6.6]
 [6. ]
 [5.8]
 [5.8]]
revised_weight: 6.3
2021-04-06 01:24:32.720: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:24:32.720
plc_result: True
sendmessage: 20210406012432720,1,000058,000063
send message to PLC: 2021-04-06 01:24:32.849
time gap: 0:00:00.011659
2021-04-06 01:24:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:33.396
lastevent: 2021-04-06 01:24:33.382, last ten sensor data: [('2021-04-06 01:24:32.940', 'D+000005.0'), ('2021-04-06 01:24:32.960', 'D+000004.6'), ('2021-04-06 01:24:33.120', 'D+000006.0'), ('2021-04-06 01:24:33.140', 'D+000006.2'), ('2021-04-06 01:24:33.160', 'D+000006.4'), ('2021-04-06 01:24:33.180', 'D+000006.4'), ('2021-04-06 01:24:33.200', 'D+000006.2'), ('2021-04-06 01:24:33.220', 'D+000005.8'), ('2021-04-06 01:24:33.370', 'D+000005.2'), ('2021-04-06 01:24:33.390', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.4, 6.2, 5.8, 5.2, 5.0]
np.array X: [[6.4]
 [6.4]
 [6.2]
 [5.8]
 [5.2]
 [5. ]]
revised_weight: 5.8
2021-04-06 01:24:33.390: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:24:33.390
plc_result: True
sendmessage: 20210406012433390,1,000050,000058
send message to PLC: 2021-04-06 01:24:33.408
time gap: 0:00:00.011619
2021-04-06 01:24:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:33: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:24:33: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:33: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:33: select done
2021-04-06 01:24:33: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:24:33: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:24:33: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:24:33: count: 5 in httpPlcDataSender thread
2021-04-06 01:24:33: D+: 5 in httpPlcDataSender thread
2021-04-06 01:24:33: D-: 0 in httpPlcDataSender thread
2021-04-06 01:24:33: S+: 0 in httpPlcDataSender thread
2021-04-06 01:24:33: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.0', 'sensorAt': '2021-04-06 01:24:29.290'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:24:30.750'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:24:32.220'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:24:32.720'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:24:33.390'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:29.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:30.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:32.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:32.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:33.390'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:24:33', 'collectDate': '2021-04-06 01:24:33', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.0', 'sensorAt': '2021-04-06 01:24:29.290'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:24:30.750'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:24:32.220'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:24:32.720'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:24:33.390'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:29.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:30.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:32.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:32.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:33.390'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:24:34: send http
2021-04-06 01:24:34: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:24:34: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:34: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:34.800
lastevent: 2021-04-06 01:24:34.785, last ten sensor data: [('2021-04-06 01:24:34.160', 'D+000003.4'), ('2021-04-06 01:24:34.350', 'D+000003.2'), ('2021-04-06 01:24:34.370', 'D+000002.8'), ('2021-04-06 01:24:34.390', 'D+000002.8'), ('2021-04-06 01:24:34.410', 'D+000003.2'), ('2021-04-06 01:24:34.430', 'D+000003.6'), ('2021-04-06 01:24:34.590', 'D+000005.0'), ('2021-04-06 01:24:34.610', 'D+000005.6'), ('2021-04-06 01:24:34.630', 'D+000006.0'), ('2021-04-06 01:24:34.650', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.6, 5.0, 5.6, 6.0, 6.4]
np.array X: [[3.2]
 [3.6]
 [5. ]
 [5.6]
 [6. ]
 [6.4]]
revised_weight: 5.2
2021-04-06 01:24:34.650: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:24:34.650
plc_result: True
sendmessage: 20210406012434650,1,000064,000052
send message to PLC: 2021-04-06 01:24:34.811
time gap: 0:00:00.011330
2021-04-06 01:24:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:37.288
lastevent: 2021-04-06 01:24:37.274, last ten sensor data: [('2021-04-06 01:24:36.860', 'D+000002.2'), ('2021-04-06 01:24:36.880', 'D+000002.4'), ('2021-04-06 01:24:36.990', 'D+000003.4'), ('2021-04-06 01:24:37.020', 'D+000003.8'), ('2021-04-06 01:24:37.040', 'D+000004.2'), ('2021-04-06 01:24:37.060', 'D+000004.0'), ('2021-04-06 01:24:37.080', 'D+000004.2'), ('2021-04-06 01:24:37.240', 'D+000006.4'), ('2021-04-06 01:24:37.260', 'D+000006.2'), ('2021-04-06 01:24:37.280', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.0, 4.2, 6.4, 6.2, 5.6]
np.array X: [[4.2]
 [4. ]
 [4.2]
 [6.4]
 [6.2]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:24:37.280: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:24:37.280
plc_result: True
sendmessage: 20210406012437280,1,000056,000054
send message to PLC: 2021-04-06 01:24:37.300
time gap: 0:00:00.011523
2021-04-06 01:24:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:39: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:24:39: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:39: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:39: select done
2021-04-06 01:24:39: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:24:39: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:24:39: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:24:39: count: 2 in httpPlcDataSender thread
2021-04-06 01:24:39: D+: 2 in httpPlcDataSender thread
2021-04-06 01:24:39: D-: 0 in httpPlcDataSender thread
2021-04-06 01:24:39: S+: 0 in httpPlcDataSender thread
2021-04-06 01:24:39: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.2', 'sensorAt': '2021-04-06 01:24:34.650'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:24:37.280'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:34.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:37.280'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:24:39', 'collectDate': '2021-04-06 01:24:37', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.2', 'sensorAt': '2021-04-06 01:24:34.650'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:24:37.280'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:34.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:37.280'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:39.664
lastevent: 2021-04-06 01:24:39.649, last ten sensor data: [('2021-04-06 01:24:39.240', 'D+000002.8'), ('2021-04-06 01:24:39.260', 'D+000002.8'), ('2021-04-06 01:24:39.280', 'D+000002.8'), ('2021-04-06 01:24:39.440', 'D+000003.4'), ('2021-04-06 01:24:39.460', 'D+000003.6'), ('2021-04-06 01:24:39.480', 'D+000003.6'), ('2021-04-06 01:24:39.500', 'D+000003.6'), ('2021-04-06 01:24:39.520', 'D+000004.0'), ('2021-04-06 01:24:39.620', 'D+000003.8'), ('2021-04-06 01:24:39.640', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.6, 4.0, 3.8, 4.0]
np.array X: [[3.6]
 [3.6]
 [3.6]
 [4. ]
 [3.8]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:24:39.640: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:24:39.640
plc_result: True
sendmessage: 20210406012439640,1,000040,000040
send message to PLC: 2021-04-06 01:24:39.675
time gap: 0:00:00.011142
2021-04-06 01:24:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:39: send http
2021-04-06 01:24:39: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:24:39: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:40: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:40.360
lastevent: 2021-04-06 01:24:40.349, last ten sensor data: [('2021-04-06 01:24:39.890', 'D+000004.0'), ('2021-04-06 01:24:39.910', 'D+000003.6'), ('2021-04-06 01:24:39.930', 'D+000003.6'), ('2021-04-06 01:24:39.950', 'D+000003.8'), ('2021-04-06 01:24:39.970', 'D+000003.6'), ('2021-04-06 01:24:39.990', 'D+000003.6'), ('2021-04-06 01:24:40.170', 'D+000004.0'), ('2021-04-06 01:24:40.190', 'D+000003.6'), ('2021-04-06 01:24:40.210', 'D+000003.8'), ('2021-04-06 01:24:40.230', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 4.0, 3.6, 3.8, 4.6]
np.array X: [[3.6]
 [3.6]
 [4. ]
 [3.6]
 [3.8]
 [4.6]]
revised_weight: 4.0
2021-04-06 01:24:40.230: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:24:40.230
plc_result: True
sendmessage: 20210406012440230,1,000046,000040
send message to PLC: 2021-04-06 01:24:40.371
time gap: 0:00:00.011187
2021-04-06 01:24:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:40.739
lastevent: 2021-04-06 01:24:40.729, last ten sensor data: [('2021-04-06 01:24:40.380', 'D+000004.2'), ('2021-04-06 01:24:40.420', 'D+000005.0'), ('2021-04-06 01:24:40.440', 'D+000004.4'), ('2021-04-06 01:24:40.460', 'D+000004.4'), ('2021-04-06 01:24:40.480', 'D+000004.4'), ('2021-04-06 01:24:40.650', 'D+000004.4'), ('2021-04-06 01:24:40.670', 'D+000004.2'), ('2021-04-06 01:24:40.690', 'D+000004.2'), ('2021-04-06 01:24:40.710', 'D+000004.2'), ('2021-04-06 01:24:40.730', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 4.2, 4.2, 4.2, 4.4]
np.array X: [[4.4]
 [4.4]
 [4.2]
 [4.2]
 [4.2]
 [4.4]]
revised_weight: 4.4
2021-04-06 01:24:40.730: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:24:40.730
plc_result: True
sendmessage: 20210406012440730,1,000044,000044
send message to PLC: 2021-04-06 01:24:40.750
time gap: 0:00:00.011479
2021-04-06 01:24:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:41.839
lastevent: 2021-04-06 01:24:41.823, last ten sensor data: [('2021-04-06 01:24:41.200', 'D+000002.8'), ('2021-04-06 01:24:41.220', 'D+000003.0'), ('2021-04-06 01:24:41.410', 'D+000003.0'), ('2021-04-06 01:24:41.430', 'D+000003.0'), ('2021-04-06 01:24:41.450', 'D+000003.2'), ('2021-04-06 01:24:41.640', 'D+000006.4'), ('2021-04-06 01:24:41.660', 'D+000007.6'), ('2021-04-06 01:24:41.680', 'D+000008.0'), ('2021-04-06 01:24:41.700', 'D+000007.6'), ('2021-04-06 01:24:41.720', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 6.4, 7.6, 8.0, 7.6, 7.0]
np.array X: [[3.2]
 [6.4]
 [7.6]
 [8. ]
 [7.6]
 [7. ]]
revised_weight: 8.0
2021-04-06 01:24:41.720: revising weight finished
revised_weight: 8.0 at 2021-04-06 01:24:41.720
plc_result: True
sendmessage: 20210406012441720,1,000070,000080
send message to PLC: 2021-04-06 01:24:41.850
time gap: 0:00:00.011870
2021-04-06 01:24:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:45: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:24:45: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:45: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:45: select done
2021-04-06 01:24:45: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:24:45: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:24:45: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:24:45: count: 4 in httpPlcDataSender thread
2021-04-06 01:24:45: D+: 4 in httpPlcDataSender thread
2021-04-06 01:24:45: D-: 0 in httpPlcDataSender thread
2021-04-06 01:24:45: S+: 0 in httpPlcDataSender thread
2021-04-06 01:24:45: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.0', 'sensorAt': '2021-04-06 01:24:39.640'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:24:40.230'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:24:40.730'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:24:41.720'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:39.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:40.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:40.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:41.720'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:24:45', 'collectDate': '2021-04-06 01:24:41', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.0', 'sensorAt': '2021-04-06 01:24:39.640'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:24:40.230'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:24:40.730'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:24:41.720'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:39.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:40.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:40.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:41.720'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:24:45: send http
2021-04-06 01:24:45: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:24:45: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:45: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:24:50: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:24:50: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:24:50: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:50: select done
2021-04-06 01:24:50: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:24:50: No Data remains in httpPlcDataSender thread
2021-04-06 01:24:50: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:24:50: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:24:50: current db filename:  in httpPlcDataSender thread
2021-04-06 01:24:50: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:24:54.004
lastevent: 2021-04-06 01:24:53.990, last ten sensor data: [('2021-04-06 01:24:53.660', 'D+000004.8'), ('2021-04-06 01:24:53.680', 'D+000005.2'), ('2021-04-06 01:24:53.700', 'D+000005.4'), ('2021-04-06 01:24:53.730', 'D+000005.6'), ('2021-04-06 01:24:53.750', 'D+000005.6'), ('2021-04-06 01:24:53.770', 'D+000005.6'), ('2021-04-06 01:24:53.790', 'D+000005.4'), ('2021-04-06 01:24:53.810', 'D+000005.6'), ('2021-04-06 01:24:53.980', 'D+000010.6'), ('2021-04-06 01:24:54.000', 'D+000010.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.6, 5.4, 5.6, 10.6, 10.4]
np.array X: [[ 5.6]
 [ 5.6]
 [ 5.4]
 [ 5.6]
 [10.6]
 [10.4]]
revised_weight: 8.7
2021-04-06 01:24:54.000: revising weight finished
revised_weight: 8.7 at 2021-04-06 01:24:54.000
plc_result: True
sendmessage: 20210406012454000,1,000104,000087
send message to PLC: 2021-04-06 01:24:54.010
time gap: 0:00:00.006194
2021-04-06 01:24:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:54.818
lastevent: 2021-04-06 01:24:54.805, last ten sensor data: [('2021-04-06 01:24:54.280', 'D+000009.4'), ('2021-04-06 01:24:54.300', 'D+000009.4'), ('2021-04-06 01:24:54.470', 'D+000009.4'), ('2021-04-06 01:24:54.490', 'D+000009.2'), ('2021-04-06 01:24:54.510', 'D+000009.0'), ('2021-04-06 01:24:54.530', 'D+000008.6'), ('2021-04-06 01:24:54.720', 'D+000007.0'), ('2021-04-06 01:24:54.740', 'D+000006.6'), ('2021-04-06 01:24:54.760', 'D+000006.6'), ('2021-04-06 01:24:54.780', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.0, 8.6, 7.0, 6.6, 6.6, 7.6]
np.array X: [[9. ]
 [8.6]
 [7. ]
 [6.6]
 [6.6]
 [7.6]]
revised_weight: 7.7
2021-04-06 01:24:54.780: revising weight finished
revised_weight: 7.7 at 2021-04-06 01:24:54.780
plc_result: True
sendmessage: 20210406012454780,1,000076,000077
send message to PLC: 2021-04-06 01:24:54.825
time gap: 0:00:00.006478
2021-04-06 01:24:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:57.272
lastevent: 2021-04-06 01:24:57.259, last ten sensor data: [('2021-04-06 01:24:56.850', 'D+000002.0'), ('2021-04-06 01:24:56.870', 'D+000002.0'), ('2021-04-06 01:24:56.890', 'D+000002.0'), ('2021-04-06 01:24:56.910', 'D+000002.2'), ('2021-04-06 01:24:56.930', 'D+000002.0'), ('2021-04-06 01:24:57.090', 'D+000002.2'), ('2021-04-06 01:24:57.110', 'D+000002.4'), ('2021-04-06 01:24:57.130', 'D+000002.4'), ('2021-04-06 01:24:57.150', 'D+000002.2'), ('2021-04-06 01:24:57.170', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.2, 2.4, 2.4, 2.2, 2.6]
np.array X: [[2. ]
 [2.2]
 [2.4]
 [2.4]
 [2.2]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:24:57.170: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:24:57.170
plc_result: True
sendmessage: 20210406012457170,1,000026,000025
send message to PLC: 2021-04-06 01:24:57.279
time gap: 0:00:00.006711
2021-04-06 01:24:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:58.656
lastevent: 2021-04-06 01:24:58.641, last ten sensor data: [('2021-04-06 01:24:58.040', 'D+000002.2'), ('2021-04-06 01:24:58.200', 'D+000002.2'), ('2021-04-06 01:24:58.220', 'D+000002.2'), ('2021-04-06 01:24:58.240', 'D+000002.4'), ('2021-04-06 01:24:58.260', 'D+000002.6'), ('2021-04-06 01:24:58.450', 'D+000005.0'), ('2021-04-06 01:24:58.470', 'D+000004.8'), ('2021-04-06 01:24:58.490', 'D+000005.8'), ('2021-04-06 01:24:58.510', 'D+000006.4'), ('2021-04-06 01:24:58.530', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 5.0, 4.8, 5.8, 6.4, 7.0]
np.array X: [[2.6]
 [5. ]
 [4.8]
 [5.8]
 [6.4]
 [7. ]]
revised_weight: 5.7
2021-04-06 01:24:58.530: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:24:58.530
plc_result: True
sendmessage: 20210406012458530,1,000070,000057
send message to PLC: 2021-04-06 01:24:58.663
time gap: 0:00:00.006808
2021-04-06 01:24:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:24:59.635
lastevent: 2021-04-06 01:24:59.624, last ten sensor data: [('2021-04-06 01:24:59.170', 'D+000006.0'), ('2021-04-06 01:24:59.190', 'D+000005.8'), ('2021-04-06 01:24:59.210', 'D+000006.2'), ('2021-04-06 01:24:59.230', 'D+000006.2'), ('2021-04-06 01:24:59.250', 'D+000005.4'), ('2021-04-06 01:24:59.270', 'D+000005.0'), ('2021-04-06 01:24:59.430', 'D+000003.8'), ('2021-04-06 01:24:59.450', 'D+000003.6'), ('2021-04-06 01:24:59.470', 'D+000003.6'), ('2021-04-06 01:24:59.490', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.0, 3.8, 3.6, 3.6, 4.0]
np.array X: [[5.4]
 [5. ]
 [3.8]
 [3.6]
 [3.6]
 [4. ]]
revised_weight: 4.4
2021-04-06 01:24:59.490: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:24:59.490
plc_result: True
sendmessage: 20210406012459490,1,000040,000044
send message to PLC: 2021-04-06 01:24:59.641
time gap: 0:00:00.006340
2021-04-06 01:24:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:00.606
lastevent: 2021-04-06 01:25:00.593, last ten sensor data: [('2021-04-06 01:25:00.230', 'D+000004.2'), ('2021-04-06 01:25:00.250', 'D+000004.2'), ('2021-04-06 01:25:00.270', 'D+000004.0'), ('2021-04-06 01:25:00.450', 'D+000004.6'), ('2021-04-06 01:25:00.470', 'D+000005.0'), ('2021-04-06 01:25:00.490', 'D+000004.8'), ('2021-04-06 01:25:00.540', 'D+000004.2'), ('2021-04-06 01:25:00.560', 'D+000004.8'), ('2021-04-06 01:25:00.580', 'D+000004.6'), ('2021-04-06 01:25:00.600', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.8, 4.2, 4.8, 4.6, 4.4]
np.array X: [[5. ]
 [4.8]
 [4.2]
 [4.8]
 [4.6]
 [4.4]]
revised_weight: 4.4
2021-04-06 01:25:00.600: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:25:00.600
plc_result: True
sendmessage: 20210406012500600,1,000044,000044
send message to PLC: 2021-04-06 01:25:00.612
time gap: 0:00:00.006230
2021-04-06 01:25:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:01.269
lastevent: 2021-04-06 01:25:01.253, last ten sensor data: [('2021-04-06 01:25:00.780', 'D+000004.2'), ('2021-04-06 01:25:00.800', 'D+000004.2'), ('2021-04-06 01:25:00.820', 'D+000004.0'), ('2021-04-06 01:25:00.840', 'D+000004.6'), ('2021-04-06 01:25:01.020', 'D+000006.2'), ('2021-04-06 01:25:01.040', 'D+000006.4'), ('2021-04-06 01:25:01.060', 'D+000007.0'), ('2021-04-06 01:25:01.080', 'D+000007.0'), ('2021-04-06 01:25:01.100', 'D+000006.8'), ('2021-04-06 01:25:01.260', 'D+000010.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.4, 7.0, 7.0, 6.8, 10.0]
np.array X: [[ 6.2]
 [ 6.4]
 [ 7. ]
 [ 7. ]
 [ 6.8]
 [10. ]]
revised_weight: 8.2
2021-04-06 01:25:01.260: revising weight finished
revised_weight: 8.2 at 2021-04-06 01:25:01.260
plc_result: True
sendmessage: 20210406012501260,1,000100,000082
send message to PLC: 2021-04-06 01:25:01.276
time gap: 0:00:00.006450
2021-04-06 01:25:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:25:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
2021-04-06 01:25:15: httpScaleDataSender thread Timeout occurred
2021-04-06 01:25:15: [13712] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
2021-04-06 01:25:15: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:25:23.579
lastevent: 2021-04-06 01:25:23.571, last ten sensor data: [('2021-04-06 01:25:23.090', 'S+000002.8'), ('2021-04-06 01:25:23.110', 'S+000002.8'), ('2021-04-06 01:25:23.130', 'S+000002.8'), ('2021-04-06 01:25:23.290', 'D+000005.2'), ('2021-04-06 01:25:23.310', 'D+000004.8'), ('2021-04-06 01:25:23.330', 'D+000004.6'), ('2021-04-06 01:25:23.350', 'D+000004.8'), ('2021-04-06 01:25:23.370', 'D+000005.0'), ('2021-04-06 01:25:23.550', 'D+000005.2'), ('2021-04-06 01:25:23.570', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.6, 4.8, 5.0, 5.2, 5.6]
np.array X: [[4.8]
 [4.6]
 [4.8]
 [5. ]
 [5.2]
 [5.6]]
revised_weight: 5.3
2021-04-06 01:25:23.570: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:25:23.570
plc_result: True
sendmessage: 20210406012523570,1,000056,000053
send message to PLC: 2021-04-06 01:25:23.586
time gap: 0:00:00.006729
2021-04-06 01:25:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:24.633
lastevent: 2021-04-06 01:25:24.620, last ten sensor data: [('2021-04-06 01:25:24.290', 'D+000005.0'), ('2021-04-06 01:25:24.310', 'D+000005.2'), ('2021-04-06 01:25:24.330', 'D+000005.4'), ('2021-04-06 01:25:24.350', 'D+000005.2'), ('2021-04-06 01:25:24.370', 'D+000005.0'), ('2021-04-06 01:25:24.510', 'D+000005.2'), ('2021-04-06 01:25:24.530', 'D+000005.4'), ('2021-04-06 01:25:24.550', 'D+000005.4'), ('2021-04-06 01:25:24.570', 'D+000005.6'), ('2021-04-06 01:25:24.590', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 5.4, 5.4, 5.6, 6.2]
np.array X: [[5. ]
 [5.2]
 [5.4]
 [5.4]
 [5.6]
 [6.2]]
revised_weight: 5.6
2021-04-06 01:25:24.590: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:25:24.590
plc_result: True
sendmessage: 20210406012524590,1,000062,000056
send message to PLC: 2021-04-06 01:25:24.645
time gap: 0:00:00.012403
2021-04-06 01:25:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:26.545
lastevent: 2021-04-06 01:25:26.530, last ten sensor data: [('2021-04-06 01:25:26.040', 'D+000003.6'), ('2021-04-06 01:25:26.060', 'D+000003.6'), ('2021-04-06 01:25:26.240', 'D+000003.8'), ('2021-04-06 01:25:26.260', 'D+000003.6'), ('2021-04-06 01:25:26.280', 'D+000003.8'), ('2021-04-06 01:25:26.300', 'D+000003.8'), ('2021-04-06 01:25:26.490', 'D+000003.6'), ('2021-04-06 01:25:26.510', 'D+000003.6'), ('2021-04-06 01:25:26.530', 'D+000003.6'), ('2021-04-06 01:25:26.550', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 3.6, 3.6, 3.6, 3.4]
np.array X: [[3.8]
 [3.8]
 [3.6]
 [3.6]
 [3.6]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:25:26.550: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:25:26.550
plc_result: True
sendmessage: 20210406012526550,1,000034,000034
send message to PLC: 2021-04-06 01:25:26.557
time gap: 0:00:00.012203
2021-04-06 01:25:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:27.206
lastevent: 2021-04-06 01:25:27.193, last ten sensor data: [0, 0, ('2021-04-06 01:25:26.730', 'D+000003.4'), ('2021-04-06 01:25:26.750', 'D+000003.4'), ('2021-04-06 01:25:26.770', 'D+000003.2'), ('2021-04-06 01:25:26.790', 'D+000003.4'), ('2021-04-06 01:25:26.970', 'D+000003.6'), ('2021-04-06 01:25:26.990', 'D+000004.0'), ('2021-04-06 01:25:27.010', 'D+000004.2'), ('2021-04-06 01:25:27.030', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 3.6, 4.0, 4.2, 4.0]
np.array X: [[3.2]
 [3.4]
 [3.6]
 [4. ]
 [4.2]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:25:27.030: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:25:27.030
plc_result: True
sendmessage: 20210406012527030,1,000040,000040
send message to PLC: 2021-04-06 01:25:27.215
time gap: 0:00:00.009535
2021-04-06 01:25:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:27.631
lastevent: 2021-04-06 01:25:27.616, last ten sensor data: [0, ('2021-04-06 01:25:27.220', 'D+000004.2'), ('2021-04-06 01:25:27.240', 'D+000004.4'), ('2021-04-06 01:25:27.260', 'D+000004.4'), ('2021-04-06 01:25:27.290', 'D+000004.4'), ('2021-04-06 01:25:27.450', 'D+000005.0'), ('2021-04-06 01:25:27.470', 'D+000005.0'), ('2021-04-06 01:25:27.490', 'D+000005.4'), ('2021-04-06 01:25:27.510', 'D+000005.0'), ('2021-04-06 01:25:27.530', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.0, 5.0, 5.4, 5.0, 4.8]
np.array X: [[4.4]
 [5. ]
 [5. ]
 [5.4]
 [5. ]
 [4.8]]
revised_weight: 5.0
2021-04-06 01:25:27.530: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:25:27.530
plc_result: True
sendmessage: 20210406012527530,1,000048,000050
send message to PLC: 2021-04-06 01:25:27.644
time gap: 0:00:00.012408
2021-04-06 01:25:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:28.236
lastevent: 2021-04-06 01:25:28.220, last ten sensor data: [('2021-04-06 01:25:27.790', 'D+000005.4'), ('2021-04-06 01:25:27.940', 'D+000006.2'), ('2021-04-06 01:25:27.960', 'D+000006.4'), ('2021-04-06 01:25:27.980', 'D+000006.8'), ('2021-04-06 01:25:28.000', 'D+000006.8'), ('2021-04-06 01:25:28.020', 'D+000006.4'), ('2021-04-06 01:25:28.170', 'D+000009.6'), ('2021-04-06 01:25:28.190', 'D+000009.6'), ('2021-04-06 01:25:28.210', 'D+000009.6'), ('2021-04-06 01:25:28.230', 'D+000009.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.4, 9.6, 9.6, 9.6, 9.8]
np.array X: [[6.8]
 [6.4]
 [9.6]
 [9.6]
 [9.6]
 [9.8]]
revised_weight: 9.5
2021-04-06 01:25:28.230: revising weight finished
revised_weight: 9.5 at 2021-04-06 01:25:28.230
plc_result: True
sendmessage: 20210406012528230,1,000098,000095
send message to PLC: 2021-04-06 01:25:28.249
time gap: 0:00:00.012865
2021-04-06 01:25:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:28.952
lastevent: 2021-04-06 01:25:28.942, last ten sensor data: [('2021-04-06 01:25:28.450', 'D+000010.0'), ('2021-04-06 01:25:28.470', 'D+000009.8'), ('2021-04-06 01:25:28.490', 'D+000009.6'), ('2021-04-06 01:25:28.510', 'D+000009.6'), ('2021-04-06 01:25:28.680', 'D+000010.4'), ('2021-04-06 01:25:28.700', 'D+000010.2'), ('2021-04-06 01:25:28.720', 'D+000010.2'), ('2021-04-06 01:25:28.740', 'D+000009.6'), ('2021-04-06 01:25:28.920', 'D+000005.6'), ('2021-04-06 01:25:28.940', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [10.4, 10.2, 10.2, 9.6, 5.6, 5.4]
np.array X: [[10.4]
 [10.2]
 [10.2]
 [ 9.6]
 [ 5.6]
 [ 5.4]]
revised_weight: 6.3
2021-04-06 01:25:28.940: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:25:28.940
plc_result: True
sendmessage: 20210406012528940,1,000054,000063
send message to PLC: 2021-04-06 01:25:28.965
time gap: 0:00:00.013416
2021-04-06 01:25:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:29.718
lastevent: 2021-04-06 01:25:29.702, last ten sensor data: [('2021-04-06 01:25:29.220', 'D+000004.8'), ('2021-04-06 01:25:29.410', 'D+000005.8'), ('2021-04-06 01:25:29.430', 'D+000005.8'), ('2021-04-06 01:25:29.450', 'D+000005.8'), ('2021-04-06 01:25:29.470', 'D+000005.4'), ('2021-04-06 01:25:29.490', 'D+000005.2'), ('2021-04-06 01:25:29.640', 'D+000008.2'), ('2021-04-06 01:25:29.670', 'D+000008.0'), ('2021-04-06 01:25:29.690', 'D+000008.0'), ('2021-04-06 01:25:29.710', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.2, 8.2, 8.0, 8.0, 8.0]
np.array X: [[5.4]
 [5.2]
 [8.2]
 [8. ]
 [8. ]
 [8. ]]
revised_weight: 8.0
2021-04-06 01:25:29.710: revising weight finished
revised_weight: 8.0 at 2021-04-06 01:25:29.710
plc_result: True
sendmessage: 20210406012529710,1,000080,000080
send message to PLC: 2021-04-06 01:25:29.731
time gap: 0:00:00.013257
2021-04-06 01:25:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:30.397
lastevent: 2021-04-06 01:25:30.381, last ten sensor data: [('2021-04-06 01:25:29.750', 'D+000008.0'), ('2021-04-06 01:25:29.900', 'D+000008.2'), ('2021-04-06 01:25:29.920', 'D+000008.2'), ('2021-04-06 01:25:29.940', 'D+000008.4'), ('2021-04-06 01:25:29.960', 'D+000008.6'), ('2021-04-06 01:25:30.150', 'D+000011.8'), ('2021-04-06 01:25:30.170', 'D+000011.2'), ('2021-04-06 01:25:30.190', 'D+000010.8'), ('2021-04-06 01:25:30.210', 'D+000010.8'), ('2021-04-06 01:25:30.390', 'D+000010.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 11.8, 11.2, 10.8, 10.8, 10.2]
np.array X: [[ 8.6]
 [11.8]
 [11.2]
 [10.8]
 [10.8]
 [10.2]]
revised_weight: 10.8
2021-04-06 01:25:30.390: revising weight finished
revised_weight: 10.8 at 2021-04-06 01:25:30.390
plc_result: True
sendmessage: 20210406012530390,1,000102,000108
send message to PLC: 2021-04-06 01:25:30.410
time gap: 0:00:00.013002
2021-04-06 01:25:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:30.899
lastevent: 2021-04-06 01:25:30.886, last ten sensor data: [0, 0, ('2021-04-06 01:25:30.410', 'D+000010.6'), ('2021-04-06 01:25:30.430', 'D+000010.6'), ('2021-04-06 01:25:30.450', 'D+000009.6'), ('2021-04-06 01:25:30.630', 'D+000010.6'), ('2021-04-06 01:25:30.650', 'D+000011.2'), ('2021-04-06 01:25:30.670', 'D+000011.4'), ('2021-04-06 01:25:30.690', 'D+000010.8'), ('2021-04-06 01:25:30.880', 'D+000009.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.6, 10.6, 11.2, 11.4, 10.8, 9.8]
np.array X: [[ 9.6]
 [10.6]
 [11.2]
 [11.4]
 [10.8]
 [ 9.8]]
revised_weight: 10.3
2021-04-06 01:25:30.880: revising weight finished
revised_weight: 10.3 at 2021-04-06 01:25:30.880
plc_result: True
sendmessage: 20210406012530880,1,000098,000103
send message to PLC: 2021-04-06 01:25:30.905
time gap: 0:00:00.006545
2021-04-06 01:25:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:32.236
lastevent: 2021-04-06 01:25:32.220, last ten sensor data: [('2021-04-06 01:25:31.690', 'D+000003.0'), ('2021-04-06 01:25:31.860', 'D+000003.6'), ('2021-04-06 01:25:31.880', 'D+000004.0'), ('2021-04-06 01:25:31.900', 'D+000004.2'), ('2021-04-06 01:25:31.920', 'D+000004.6'), ('2021-04-06 01:25:31.940', 'D+000004.6'), ('2021-04-06 01:25:32.020', 'D+000005.2'), ('2021-04-06 01:25:32.040', 'D+000005.6'), ('2021-04-06 01:25:32.060', 'D+000005.6'), ('2021-04-06 01:25:32.080', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 5.2, 5.6, 5.6, 5.6]
np.array X: [[4.6]
 [4.6]
 [5.2]
 [5.6]
 [5.6]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:25:32.080: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:25:32.080
plc_result: True
sendmessage: 20210406012532080,1,000056,000055
send message to PLC: 2021-04-06 01:25:32.248
time gap: 0:00:00.012074
2021-04-06 01:25:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:35.109
lastevent: 2021-04-06 01:25:35.096, last ten sensor data: [('2021-04-06 01:25:34.660', 'D+000001.6'), ('2021-04-06 01:25:34.680', 'D+000001.6'), ('2021-04-06 01:25:34.700', 'D+000001.8'), ('2021-04-06 01:25:34.720', 'D+000001.8'), ('2021-04-06 01:25:34.740', 'D+000002.0'), ('2021-04-06 01:25:34.890', 'D+000004.2'), ('2021-04-06 01:25:34.910', 'D+000004.0'), ('2021-04-06 01:25:34.930', 'D+000004.2'), ('2021-04-06 01:25:34.950', 'D+000005.0'), ('2021-04-06 01:25:34.970', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 4.2, 4.0, 4.2, 5.0, 4.6]
np.array X: [[2. ]
 [4.2]
 [4. ]
 [4.2]
 [5. ]
 [4.6]]
revised_weight: 4.3
2021-04-06 01:25:34.970: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:25:34.970
plc_result: True
sendmessage: 20210406012534970,1,000046,000043
send message to PLC: 2021-04-06 01:25:35.116
time gap: 0:00:00.007094
2021-04-06 01:25:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:37.103
lastevent: 2021-04-06 01:25:37.094, last ten sensor data: [('2021-04-06 01:25:36.600', 'D+000002.4'), ('2021-04-06 01:25:36.620', 'D+000002.4'), ('2021-04-06 01:25:36.640', 'D+000002.2'), ('2021-04-06 01:25:36.660', 'D+000002.4'), ('2021-04-06 01:25:36.680', 'D+000002.6'), ('2021-04-06 01:25:36.850', 'D+000002.6'), ('2021-04-06 01:25:36.870', 'D+000002.6'), ('2021-04-06 01:25:36.890', 'D+000002.4'), ('2021-04-06 01:25:36.910', 'D+000002.4'), ('2021-04-06 01:25:36.930', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 2.6, 2.4, 2.4, 2.8]
np.array X: [[2.6]
 [2.6]
 [2.6]
 [2.4]
 [2.4]
 [2.8]]
revised_weight: 2.7
2021-04-06 01:25:36.930: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:25:36.930
plc_result: True
sendmessage: 20210406012536930,1,000028,000027
send message to PLC: 2021-04-06 01:25:37.110
time gap: 0:00:00.007020
2021-04-06 01:25:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:38.582
lastevent: 2021-04-06 01:25:38.570, last ten sensor data: [('2021-04-06 01:25:38.110', 'D+000002.0'), ('2021-04-06 01:25:38.130', 'D+000002.2'), ('2021-04-06 01:25:38.150', 'D+000002.2'), ('2021-04-06 01:25:38.320', 'D+000002.0'), ('2021-04-06 01:25:38.340', 'D+000002.2'), ('2021-04-06 01:25:38.360', 'D+000002.8'), ('2021-04-06 01:25:38.380', 'D+000002.8'), ('2021-04-06 01:25:38.400', 'D+000002.6'), ('2021-04-06 01:25:38.550', 'D+000002.2'), ('2021-04-06 01:25:38.580', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.8, 2.8, 2.6, 2.2, 2.4]
np.array X: [[2.2]
 [2.8]
 [2.8]
 [2.6]
 [2.2]
 [2.4]]
revised_weight: 2.2
2021-04-06 01:25:38.580: revising weight finished
revised_weight: 2.2 at 2021-04-06 01:25:38.580
plc_result: True
sendmessage: 20210406012538580,1,000024,000022
send message to PLC: 2021-04-06 01:25:38.588
time gap: 0:00:00.006618
2021-04-06 01:25:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:40.957
lastevent: 2021-04-06 01:25:40.949, last ten sensor data: [('2021-04-06 01:25:40.280', 'D+000002.4'), ('2021-04-06 01:25:40.470', 'D+000002.4'), ('2021-04-06 01:25:40.490', 'D+000002.0'), ('2021-04-06 01:25:40.510', 'D+000002.2'), ('2021-04-06 01:25:40.530', 'D+000002.4'), ('2021-04-06 01:25:40.710', 'D+000004.4'), ('2021-04-06 01:25:40.730', 'D+000004.2'), ('2021-04-06 01:25:40.750', 'D+000004.2'), ('2021-04-06 01:25:40.770', 'D+000004.4'), ('2021-04-06 01:25:40.950', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 4.4, 4.2, 4.2, 4.4, 6.8]
np.array X: [[2.4]
 [4.4]
 [4.2]
 [4.2]
 [4.4]
 [6.8]]
revised_weight: 6.1
2021-04-06 01:25:40.950: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:25:40.950
plc_result: True
sendmessage: 20210406012540950,1,000068,000061
send message to PLC: 2021-04-06 01:25:40.964
time gap: 0:00:00.006753
2021-04-06 01:25:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:41.608
lastevent: 2021-04-06 01:25:41.602, last ten sensor data: [('2021-04-06 01:25:41.010', 'D+000006.4'), ('2021-04-06 01:25:41.030', 'D+000006.6'), ('2021-04-06 01:25:41.200', 'D+000007.0'), ('2021-04-06 01:25:41.220', 'D+000006.8'), ('2021-04-06 01:25:41.240', 'D+000006.6'), ('2021-04-06 01:25:41.270', 'D+000007.0'), ('2021-04-06 01:25:41.440', 'D+000014.8'), ('2021-04-06 01:25:41.460', 'D+000015.0'), ('2021-04-06 01:25:41.480', 'D+000015.2'), ('2021-04-06 01:25:41.500', 'D+000018.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 7.0, 14.8, 15.0, 15.2, 18.2]
np.array X: [[ 6.6]
 [ 7. ]
 [14.8]
 [15. ]
 [15.2]
 [18.2]]
revised_weight: 16.2
2021-04-06 01:25:41.500: revising weight finished
revised_weight: 16.2 at 2021-04-06 01:25:41.500
plc_result: False
sendmessage: 20210406012541500,0,000182,000162
send message to PLC: 2021-04-06 01:25:41.615
time gap: 0:00:00.006940
2021-04-06 01:25:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:42.833
lastevent: 2021-04-06 01:25:42.823, last ten sensor data: [('2021-04-06 01:25:42.220', 'D+000004.4'), ('2021-04-06 01:25:42.240', 'D+000004.2'), ('2021-04-06 01:25:42.420', 'D+000004.6'), ('2021-04-06 01:25:42.440', 'D+000004.4'), ('2021-04-06 01:25:42.460', 'D+000004.4'), ('2021-04-06 01:25:42.480', 'D+000004.6'), ('2021-04-06 01:25:42.660', 'D+000005.2'), ('2021-04-06 01:25:42.680', 'D+000005.4'), ('2021-04-06 01:25:42.700', 'D+000005.6'), ('2021-04-06 01:25:42.720', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 5.2, 5.4, 5.6, 5.8]
np.array X: [[4.4]
 [4.6]
 [5.2]
 [5.4]
 [5.6]
 [5.8]]
revised_weight: 5.5
2021-04-06 01:25:42.720: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:25:42.720
plc_result: True
sendmessage: 20210406012542720,1,000058,000055
send message to PLC: 2021-04-06 01:25:42.840
time gap: 0:00:00.007261
2021-04-06 01:25:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:44.109
lastevent: 2021-04-06 01:25:44.095, last ten sensor data: [('2021-04-06 01:25:43.620', 'D+000004.8'), ('2021-04-06 01:25:43.640', 'D+000005.0'), ('2021-04-06 01:25:43.660', 'D+000005.2'), ('2021-04-06 01:25:43.680', 'D+000005.4'), ('2021-04-06 01:25:43.700', 'D+000004.4'), ('2021-04-06 01:25:43.870', 'D+000004.6'), ('2021-04-06 01:25:43.890', 'D+000004.8'), ('2021-04-06 01:25:43.910', 'D+000005.4'), ('2021-04-06 01:25:43.930', 'D+000005.4'), ('2021-04-06 01:25:43.950', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 4.8, 5.4, 5.4, 5.0]
np.array X: [[4.4]
 [4.6]
 [4.8]
 [5.4]
 [5.4]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:25:43.950: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:25:43.950
plc_result: True
sendmessage: 20210406012543950,1,000050,000051
send message to PLC: 2021-04-06 01:25:44.115
time gap: 0:00:00.006420
2021-04-06 01:25:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:44.819
lastevent: 2021-04-06 01:25:44.802, last ten sensor data: [('2021-04-06 01:25:44.170', 'D+000005.6'), ('2021-04-06 01:25:44.190', 'D+000005.4'), ('2021-04-06 01:25:44.370', 'D+000005.4'), ('2021-04-06 01:25:44.390', 'D+000005.4'), ('2021-04-06 01:25:44.410', 'D+000005.6'), ('2021-04-06 01:25:44.430', 'D+000005.2'), ('2021-04-06 01:25:44.620', 'D+000004.6'), ('2021-04-06 01:25:44.640', 'D+000004.8'), ('2021-04-06 01:25:44.660', 'D+000005.0'), ('2021-04-06 01:25:44.680', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.2, 4.6, 4.8, 5.0, 5.0]
np.array X: [[5.6]
 [5.2]
 [4.6]
 [4.8]
 [5. ]
 [5. ]]
revised_weight: 5.2
2021-04-06 01:25:44.680: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:25:44.680
plc_result: True
sendmessage: 20210406012544680,1,000050,000052
send message to PLC: 2021-04-06 01:25:44.831
time gap: 0:00:00.011479
2021-04-06 01:25:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:45.591
lastevent: 2021-04-06 01:25:45.576, last ten sensor data: [('2021-04-06 01:25:45.110', 'D+000004.6'), ('2021-04-06 01:25:45.130', 'D+000004.8'), ('2021-04-06 01:25:45.150', 'D+000004.6'), ('2021-04-06 01:25:45.170', 'D+000004.6'), ('2021-04-06 01:25:45.340', 'D+000005.4'), ('2021-04-06 01:25:45.360', 'D+000005.4'), ('2021-04-06 01:25:45.380', 'D+000005.4'), ('2021-04-06 01:25:45.400', 'D+000005.2'), ('2021-04-06 01:25:45.420', 'D+000004.8'), ('2021-04-06 01:25:45.570', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.4, 5.4, 5.2, 4.8, 5.0]
np.array X: [[5.4]
 [5.4]
 [5.4]
 [5.2]
 [4.8]
 [5. ]]
revised_weight: 5.2
2021-04-06 01:25:45.570: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:25:45.570
plc_result: True
sendmessage: 20210406012545570,1,000050,000052
send message to PLC: 2021-04-06 01:25:45.600
time gap: 0:00:00.008665
2021-04-06 01:25:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:47.049
lastevent: 2021-04-06 01:25:47.034, last ten sensor data: [('2021-04-06 01:25:46.620', 'D+000003.4'), ('2021-04-06 01:25:46.790', 'D+000004.0'), ('2021-04-06 01:25:46.810', 'D+000004.4'), ('2021-04-06 01:25:46.830', 'D+000004.2'), ('2021-04-06 01:25:46.850', 'D+000004.6'), ('2021-04-06 01:25:46.870', 'D+000004.8'), ('2021-04-06 01:25:46.890', 'D+000005.2'), ('2021-04-06 01:25:47.010', 'D+000004.6'), ('2021-04-06 01:25:47.030', 'D+000004.8'), ('2021-04-06 01:25:47.050', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.8, 5.2, 4.6, 4.8, 5.0]
np.array X: [[4.6]
 [4.8]
 [5.2]
 [4.6]
 [4.8]
 [5. ]]
revised_weight: 4.8
2021-04-06 01:25:47.050: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:25:47.050
plc_result: True
sendmessage: 20210406012547050,1,000050,000048
send message to PLC: 2021-04-06 01:25:47.055
time gap: 0:00:00.006407
2021-04-06 01:25:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:47.912
lastevent: 2021-04-06 01:25:47.905, last ten sensor data: [('2021-04-06 01:25:47.310', 'D+000005.0'), ('2021-04-06 01:25:47.330', 'D+000005.2'), ('2021-04-06 01:25:47.510', 'D+000004.2'), ('2021-04-06 01:25:47.530', 'D+000004.0'), ('2021-04-06 01:25:47.550', 'D+000003.8'), ('2021-04-06 01:25:47.570', 'D+000004.0'), ('2021-04-06 01:25:47.760', 'D+000011.0'), ('2021-04-06 01:25:47.780', 'D+000011.2'), ('2021-04-06 01:25:47.800', 'D+000011.0'), ('2021-04-06 01:25:47.820', 'D+000011.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.0, 11.0, 11.2, 11.0, 11.2]
np.array X: [[ 3.8]
 [ 4. ]
 [11. ]
 [11.2]
 [11. ]
 [11.2]]
revised_weight: 11.6
2021-04-06 01:25:47.820: revising weight finished
revised_weight: 11.6 at 2021-04-06 01:25:47.820
plc_result: True
sendmessage: 20210406012547820,1,000112,000116
send message to PLC: 2021-04-06 01:25:47.918
time gap: 0:00:00.006261
2021-04-06 01:25:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:48.640
lastevent: 2021-04-06 01:25:48.632, last ten sensor data: [('2021-04-06 01:25:48.240', 'D+000012.2'), ('2021-04-06 01:25:48.260', 'D+000012.2'), ('2021-04-06 01:25:48.280', 'D+000012.2'), ('2021-04-06 01:25:48.300', 'D+000012.4'), ('2021-04-06 01:25:48.320', 'D+000012.0'), ('2021-04-06 01:25:48.480', 'D+000006.4'), ('2021-04-06 01:25:48.500', 'D+000005.8'), ('2021-04-06 01:25:48.520', 'D+000005.6'), ('2021-04-06 01:25:48.540', 'D+000005.2'), ('2021-04-06 01:25:48.560', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [12.0, 6.4, 5.8, 5.6, 5.2, 5.6]
np.array X: [[12. ]
 [ 6.4]
 [ 5.8]
 [ 5.6]
 [ 5.2]
 [ 5.6]]
revised_weight: 6.5
2021-04-06 01:25:48.560: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:25:48.560
plc_result: True
sendmessage: 20210406012548560,1,000056,000065
send message to PLC: 2021-04-06 01:25:48.646
time gap: 0:00:00.006196
2021-04-06 01:25:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:50.030
lastevent: 2021-04-06 01:25:50.009, last ten sensor data: [('2021-04-06 01:25:49.530', 'D+000003.6'), ('2021-04-06 01:25:49.710', 'D+000003.8'), ('2021-04-06 01:25:49.730', 'D+000003.8'), ('2021-04-06 01:25:49.750', 'D+000004.0'), ('2021-04-06 01:25:49.770', 'D+000003.8'), ('2021-04-06 01:25:49.950', 'D+000006.2'), ('2021-04-06 01:25:49.970', 'D+000006.0'), ('2021-04-06 01:25:49.990', 'D+000006.2'), ('2021-04-06 01:25:50.010', 'D+000007.2'), ('2021-04-06 01:25:50.030', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 6.2, 6.0, 6.2, 7.2, 7.2]
np.array X: [[3.8]
 [6.2]
 [6. ]
 [6.2]
 [7.2]
 [7.2]]
revised_weight: 6.6
2021-04-06 01:25:50.030: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:25:50.030
plc_result: True
sendmessage: 20210406012550030,1,000072,000066
send message to PLC: 2021-04-06 01:25:50.042
time gap: 0:00:00.011897
2021-04-06 01:25:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:50.684
lastevent: 2021-04-06 01:25:50.674, last ten sensor data: [('2021-04-06 01:25:50.190', 'D+000006.2'), ('2021-04-06 01:25:50.210', 'D+000006.0'), ('2021-04-06 01:25:50.230', 'D+000006.0'), ('2021-04-06 01:25:50.250', 'D+000005.8'), ('2021-04-06 01:25:50.270', 'D+000006.0'), ('2021-04-06 01:25:50.450', 'D+000005.6'), ('2021-04-06 01:25:50.470', 'D+000005.6'), ('2021-04-06 01:25:50.490', 'D+000005.8'), ('2021-04-06 01:25:50.510', 'D+000005.6'), ('2021-04-06 01:25:50.670', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 5.6, 5.6, 5.8, 5.6, 7.4]
np.array X: [[6. ]
 [5.6]
 [5.6]
 [5.8]
 [5.6]
 [7.4]]
revised_weight: 6.3
2021-04-06 01:25:50.670: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:25:50.670
plc_result: True
sendmessage: 20210406012550670,1,000074,000063
send message to PLC: 2021-04-06 01:25:50.690
time gap: 0:00:00.006304
2021-04-06 01:25:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:25:50: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db']
2021-04-06 01:25:51: [13084] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_20.db
select_plcdb_filename: b
2021-04-06 01:25:51: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:25:51: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:25:51: select done
2021-04-06 01:25:51: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:25:51: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:25:51: sendjson called, 32 records in httpPlcDataSender thread
2021-04-06 01:25:51: count: 32 in httpPlcDataSender thread
2021-04-06 01:25:51: D+: 32 in httpPlcDataSender thread
2021-04-06 01:25:51: D-: 0 in httpPlcDataSender thread
2021-04-06 01:25:51: S+: 0 in httpPlcDataSender thread
2021-04-06 01:25:51: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.7', 'sensorAt': '2021-04-06 01:24:54.000'}, {'value': '7.7', 'sensorAt': '2021-04-06 01:24:54.780'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:24:57.170'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:24:58.530'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:24:59.490'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:25:00.600'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:25:01.260'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:25:23.570'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:25:24.590'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:25:26.550'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:25:27.030'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:25:27.530'}, {'value': '9.5', 'sensorAt': '2021-04-06 01:25:28.230'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:25:28.940'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:25:29.710'}, {'value': '10.8', 'sensorAt': '2021-04-06 01:25:30.390'}, {'value': '10.3', 'sensorAt': '2021-04-06 01:25:30.880'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:25:32.080'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:25:34.970'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:25:36.930'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:25:38.580'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:25:40.950'}, {'value': '16.2', 'sensorAt': '2021-04-06 01:25:41.500'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:25:42.720'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:25:43.950'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:25:44.680'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:25:45.570'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:25:47.050'}, {'value': '11.6', 'sensorAt': '2021-04-06 01:25:47.820'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:25:48.560'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:25:50.030'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:25:50.670'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:54.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:54.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:57.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:58.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:59.490'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:00.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:01.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:23.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:24.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:26.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:27.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:27.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:28.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:28.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:29.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:30.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:30.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:32.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:34.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:36.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:38.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:40.950'}, {'value': 0, 'sensorAt': '2021-04-06 01:25:41.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:42.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:43.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:44.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:45.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:47.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:47.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:48.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:50.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:50.670'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:25:51', 'collectDate': '2021-04-06 01:25:50', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.7', 'sensorAt': '2021-04-06 01:24:54.000'}, {'value': '7.7', 'sensorAt': '2021-04-06 01:24:54.780'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:24:57.170'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:24:58.530'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:24:59.490'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:25:00.600'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:25:01.260'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:25:23.570'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:25:24.590'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:25:26.550'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:25:27.030'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:25:27.530'}, {'value': '9.5', 'sensorAt': '2021-04-06 01:25:28.230'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:25:28.940'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:25:29.710'}, {'value': '10.8', 'sensorAt': '2021-04-06 01:25:30.390'}, {'value': '10.3', 'sensorAt': '2021-04-06 01:25:30.880'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:25:32.080'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:25:34.970'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:25:36.930'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:25:38.580'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:25:40.950'}, {'value': '16.2', 'sensorAt': '2021-04-06 01:25:41.500'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:25:42.720'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:25:43.950'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:25:44.680'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:25:45.570'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:25:47.050'}, {'value': '11.6', 'sensorAt': '2021-04-06 01:25:47.820'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:25:48.560'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:25:50.030'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:25:50.670'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:24:54.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:54.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:57.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:58.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:24:59.490'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:00.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:01.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:23.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:24.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:26.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:27.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:27.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:28.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:28.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:29.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:30.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:30.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:32.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:34.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:36.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:38.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:40.950'}, {'value': 0, 'sensorAt': '2021-04-06 01:25:41.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:42.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:43.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:44.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:45.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:47.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:47.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:48.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:50.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:50.670'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:25:51: send http
2021-04-06 01:25:51: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:25:51: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:25:51: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:25:52.125
lastevent: 2021-04-06 01:25:52.114, last ten sensor data: [('2021-04-06 01:25:51.620', 'D+000003.4'), ('2021-04-06 01:25:51.780', 'D+000003.6'), ('2021-04-06 01:25:51.800', 'D+000004.0'), ('2021-04-06 01:25:51.820', 'D+000004.0'), ('2021-04-06 01:25:51.840', 'D+000004.8'), ('2021-04-06 01:25:52.030', 'D+000006.8'), ('2021-04-06 01:25:52.050', 'D+000006.8'), ('2021-04-06 01:25:52.070', 'D+000007.2'), ('2021-04-06 01:25:52.090', 'D+000007.2'), ('2021-04-06 01:25:52.110', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 6.8, 6.8, 7.2, 7.2, 6.8]
np.array X: [[4.8]
 [6.8]
 [6.8]
 [7.2]
 [7.2]
 [6.8]]
revised_weight: 6.5
2021-04-06 01:25:52.110: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:25:52.110
plc_result: True
sendmessage: 20210406012552110,1,000068,000065
send message to PLC: 2021-04-06 01:25:52.131
time gap: 0:00:00.006338
2021-04-06 01:25:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:52.679
lastevent: 2021-04-06 01:25:52.665, last ten sensor data: [0, 0, 0, ('2021-04-06 01:25:52.290', 'D+000006.6'), ('2021-04-06 01:25:52.310', 'D+000006.8'), ('2021-04-06 01:25:52.330', 'D+000006.8'), ('2021-04-06 01:25:52.350', 'D+000007.2'), ('2021-04-06 01:25:52.540', 'D+000008.8'), ('2021-04-06 01:25:52.560', 'D+000009.0'), ('2021-04-06 01:25:52.580', 'D+000008.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.8, 7.2, 8.8, 9.0, 8.4]
np.array X: [[6.8]
 [6.8]
 [7.2]
 [8.8]
 [9. ]
 [8.4]]
revised_weight: 8.0
2021-04-06 01:25:52.580: revising weight finished
revised_weight: 8.0 at 2021-04-06 01:25:52.580
plc_result: True
sendmessage: 20210406012552580,1,000084,000080
send message to PLC: 2021-04-06 01:25:52.686
time gap: 0:00:00.006323
2021-04-06 01:25:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:53.415
lastevent: 2021-04-06 01:25:53.400, last ten sensor data: [('2021-04-06 01:25:52.830', 'D+000006.0'), ('2021-04-06 01:25:53.010', 'D+000005.6'), ('2021-04-06 01:25:53.030', 'D+000005.6'), ('2021-04-06 01:25:53.050', 'D+000005.6'), ('2021-04-06 01:25:53.070', 'D+000005.2'), ('2021-04-06 01:25:53.250', 'D+000006.8'), ('2021-04-06 01:25:53.270', 'D+000007.4'), ('2021-04-06 01:25:53.290', 'D+000007.4'), ('2021-04-06 01:25:53.310', 'D+000007.8'), ('2021-04-06 01:25:53.330', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 6.8, 7.4, 7.4, 7.8, 8.0]
np.array X: [[5.2]
 [6.8]
 [7.4]
 [7.4]
 [7.8]
 [8. ]]
revised_weight: 7.4
2021-04-06 01:25:53.330: revising weight finished
revised_weight: 7.4 at 2021-04-06 01:25:53.330
plc_result: True
sendmessage: 20210406012553330,1,000080,000074
send message to PLC: 2021-04-06 01:25:53.421
time gap: 0:00:00.006328
2021-04-06 01:25:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:55.155
lastevent: 2021-04-06 01:25:55.141, last ten sensor data: [('2021-04-06 01:25:54.760', 'D+000003.0'), ('2021-04-06 01:25:54.780', 'D+000002.8'), ('2021-04-06 01:25:54.800', 'D+000003.0'), ('2021-04-06 01:25:54.910', 'D+000004.6'), ('2021-04-06 01:25:54.950', 'D+000005.0'), ('2021-04-06 01:25:54.970', 'D+000004.6'), ('2021-04-06 01:25:54.990', 'D+000005.0'), ('2021-04-06 01:25:55.010', 'D+000005.4'), ('2021-04-06 01:25:55.030', 'D+000005.4'), ('2021-04-06 01:25:55.050', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.6, 5.0, 5.4, 5.4, 5.6]
np.array X: [[5. ]
 [4.6]
 [5. ]
 [5.4]
 [5.4]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:25:55.050: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:25:55.050
plc_result: True
sendmessage: 20210406012555050,1,000056,000054
send message to PLC: 2021-04-06 01:25:55.162
time gap: 0:00:00.006796
2021-04-06 01:25:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:56.233
lastevent: 2021-04-06 01:25:56.217, last ten sensor data: [('2021-04-06 01:25:55.770', 'D+000005.0'), ('2021-04-06 01:25:55.790', 'D+000004.8'), ('2021-04-06 01:25:55.810', 'D+000004.8'), ('2021-04-06 01:25:55.960', 'D+000003.4'), ('2021-04-06 01:25:55.980', 'D+000003.4'), ('2021-04-06 01:25:56.000', 'D+000003.8'), ('2021-04-06 01:25:56.020', 'D+000003.8'), ('2021-04-06 01:25:56.040', 'D+000003.6'), ('2021-04-06 01:25:56.190', 'D+000005.0'), ('2021-04-06 01:25:56.220', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.8, 3.8, 3.6, 5.0, 4.4]
np.array X: [[3.4]
 [3.8]
 [3.8]
 [3.6]
 [5. ]
 [4.4]]
revised_weight: 4.3
2021-04-06 01:25:56.220: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:25:56.220
plc_result: True
sendmessage: 20210406012556220,1,000044,000043
send message to PLC: 2021-04-06 01:25:56.240
time gap: 0:00:00.006838
2021-04-06 01:25:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:25:56: insertdb called
2021-04-06 01:25:56: HTTP Send finished in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
2021-04-06 01:25:56: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:25:56: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:25:56: select done
2021-04-06 01:25:56: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:25:56: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:25:56: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:25:56: count: 5 in httpPlcDataSender thread
2021-04-06 01:25:56: D+: 5 in httpPlcDataSender thread
2021-04-06 01:25:56: D-: 0 in httpPlcDataSender thread
2021-04-06 01:25:56: S+: 0 in httpPlcDataSender thread
2021-04-06 01:25:56: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:25:52.110'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:25:52.580'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:25:53.330'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:25:55.050'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:25:56.220'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:25:52.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:52.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:53.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:55.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:56.220'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:25:56', 'collectDate': '2021-04-06 01:25:56', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:25:52.110'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:25:52.580'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:25:53.330'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:25:55.050'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:25:56.220'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:25:52.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:52.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:53.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:55.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:56.220'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:25:57: send http
2021-04-06 01:25:57: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:25:57: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:25:57: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:25:57.640
lastevent: 2021-04-06 01:25:57.637, last ten sensor data: [('2021-04-06 01:25:57.000', 'D+000003.4'), ('2021-04-06 01:25:57.180', 'D+000003.0'), ('2021-04-06 01:25:57.200', 'D+000003.2'), ('2021-04-06 01:25:57.220', 'D+000003.0'), ('2021-04-06 01:25:57.240', 'D+000003.4'), ('2021-04-06 01:25:57.430', 'D+000004.6'), ('2021-04-06 01:25:57.450', 'D+000005.4'), ('2021-04-06 01:25:57.470', 'D+000005.2'), ('2021-04-06 01:25:57.490', 'D+000004.8'), ('2021-04-06 01:25:57.510', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.6, 5.4, 5.2, 4.8, 5.4]
np.array X: [[3.4]
 [4.6]
 [5.4]
 [5.2]
 [4.8]
 [5.4]]
revised_weight: 5.4
2021-04-06 01:25:57.510: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:25:57.510
plc_result: True
sendmessage: 20210406012557510,1,000054,000054
send message to PLC: 2021-04-06 01:25:57.646
time gap: 0:00:00.006026
2021-04-06 01:25:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:25:58.309
lastevent: 2021-04-06 01:25:58.305, last ten sensor data: [('2021-04-06 01:25:57.730', 'D+000005.6'), ('2021-04-06 01:25:57.910', 'D+000005.2'), ('2021-04-06 01:25:57.930', 'D+000005.0'), ('2021-04-06 01:25:57.950', 'D+000005.2'), ('2021-04-06 01:25:57.970', 'D+000005.4'), ('2021-04-06 01:25:57.990', 'D+000005.4'), ('2021-04-06 01:25:58.170', 'D+000006.4'), ('2021-04-06 01:25:58.190', 'D+000005.6'), ('2021-04-06 01:25:58.210', 'D+000005.4'), ('2021-04-06 01:25:58.230', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.4, 6.4, 5.6, 5.4, 5.6]
np.array X: [[5.4]
 [5.4]
 [6.4]
 [5.6]
 [5.4]
 [5.6]]
revised_weight: 5.7
2021-04-06 01:25:58.230: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:25:58.230
plc_result: True
sendmessage: 20210406012558230,1,000056,000057
send message to PLC: 2021-04-06 01:25:58.324
time gap: 0:00:00.015011
2021-04-06 01:25:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:00.402
lastevent: 2021-04-06 01:26:00.397, last ten sensor data: [('2021-04-06 01:25:59.920', 'D+000002.4'), ('2021-04-06 01:25:59.940', 'D+000002.8'), ('2021-04-06 01:26:00.100', 'D+000003.0'), ('2021-04-06 01:26:00.120', 'D+000003.4'), ('2021-04-06 01:26:00.140', 'D+000004.0'), ('2021-04-06 01:26:00.160', 'D+000004.6'), ('2021-04-06 01:26:00.180', 'D+000004.8'), ('2021-04-06 01:26:00.360', 'D+000008.8'), ('2021-04-06 01:26:00.380', 'D+000006.2'), ('2021-04-06 01:26:00.400', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.6, 4.8, 8.8, 6.2, 5.4]
np.array X: [[4. ]
 [4.6]
 [4.8]
 [8.8]
 [6.2]
 [5.4]]
revised_weight: 6.5
2021-04-06 01:26:00.400: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:26:00.400
plc_result: True
sendmessage: 20210406012600400,1,000054,000065
send message to PLC: 2021-04-06 01:26:00.409
time gap: 0:00:00.007479
2021-04-06 01:26:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:00.847
lastevent: 2021-04-06 01:26:00.837, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:26:00.420', 'D+000007.0'), ('2021-04-06 01:26:00.600', 'D+000009.6'), ('2021-04-06 01:26:00.620', 'D+000008.6'), ('2021-04-06 01:26:00.640', 'D+000008.4'), ('2021-04-06 01:26:00.660', 'D+000008.6'), ('2021-04-06 01:26:00.830', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 9.6, 8.6, 8.4, 8.6, 7.0]
np.array X: [[7. ]
 [9.6]
 [8.6]
 [8.4]
 [8.6]
 [7. ]]
revised_weight: 8.5
2021-04-06 01:26:00.830: revising weight finished
revised_weight: 8.5 at 2021-04-06 01:26:00.830
plc_result: True
sendmessage: 20210406012600830,1,000070,000085
send message to PLC: 2021-04-06 01:26:00.855
time gap: 0:00:00.007464
2021-04-06 01:26:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:02: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:26:02: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:02: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:02: select done
2021-04-06 01:26:02: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:26:02: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:26:02: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:26:02: count: 4 in httpPlcDataSender thread
2021-04-06 01:26:02: D+: 4 in httpPlcDataSender thread
2021-04-06 01:26:02: D-: 0 in httpPlcDataSender thread
2021-04-06 01:26:02: S+: 0 in httpPlcDataSender thread
2021-04-06 01:26:02: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.4', 'sensorAt': '2021-04-06 01:25:57.510'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:25:58.230'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:26:00.400'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:26:00.830'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:25:57.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:58.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:00.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:00.830'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:26:02', 'collectDate': '2021-04-06 01:26:00', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.4', 'sensorAt': '2021-04-06 01:25:57.510'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:25:58.230'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:26:00.400'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:26:00.830'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:25:57.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:25:58.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:00.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:00.830'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:26:02.598
lastevent: 2021-04-06 01:26:02.596, last ten sensor data: [('2021-04-06 01:26:02.110', 'D+000003.2'), ('2021-04-06 01:26:02.130', 'D+000003.2'), ('2021-04-06 01:26:02.310', 'D+000004.0'), ('2021-04-06 01:26:02.330', 'D+000003.8'), ('2021-04-06 01:26:02.350', 'D+000004.2'), ('2021-04-06 01:26:02.370', 'D+000004.2'), ('2021-04-06 01:26:02.550', 'D+000006.0'), ('2021-04-06 01:26:02.570', 'D+000006.4'), ('2021-04-06 01:26:02.590', 'D+000006.2'), ('2021-04-06 01:26:02.610', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 6.0, 6.4, 6.2, 6.0]
np.array X: [[4.2]
 [4.2]
 [6. ]
 [6.4]
 [6.2]
 [6. ]]
revised_weight: 5.7
2021-04-06 01:26:02.610: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:26:02.610
plc_result: True
sendmessage: 20210406012602610,1,000060,000057
send message to PLC: 2021-04-06 01:26:02.606
time gap: 0:00:00.008045
2021-04-06 01:26:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:02: send http
2021-04-06 01:26:02: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:26:02: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:02: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:26:03.323
lastevent: 2021-04-06 01:26:03.314, last ten sensor data: [('2021-04-06 01:26:02.790', 'D+000006.4'), ('2021-04-06 01:26:02.810', 'D+000006.4'), ('2021-04-06 01:26:02.830', 'D+000006.8'), ('2021-04-06 01:26:02.850', 'D+000006.2'), ('2021-04-06 01:26:02.870', 'D+000006.0'), ('2021-04-06 01:26:03.040', 'D+000006.4'), ('2021-04-06 01:26:03.060', 'D+000006.4'), ('2021-04-06 01:26:03.080', 'D+000006.0'), ('2021-04-06 01:26:03.100', 'D+000005.8'), ('2021-04-06 01:26:03.120', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.4, 6.4, 6.0, 5.8, 6.2]
np.array X: [[6. ]
 [6.4]
 [6.4]
 [6. ]
 [5.8]
 [6.2]]
revised_weight: 6.1
2021-04-06 01:26:03.120: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:26:03.120
plc_result: True
sendmessage: 20210406012603120,1,000062,000061
send message to PLC: 2021-04-06 01:26:03.337
time gap: 0:00:00.013806
2021-04-06 01:26:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:05.314
lastevent: 2021-04-06 01:26:05.303, last ten sensor data: [('2021-04-06 01:26:04.710', 'D+000003.0'), ('2021-04-06 01:26:04.890', 'D+000003.2'), ('2021-04-06 01:26:04.910', 'D+000003.2'), ('2021-04-06 01:26:04.930', 'D+000003.2'), ('2021-04-06 01:26:04.950', 'D+000003.4'), ('2021-04-06 01:26:05.130', 'D+000007.0'), ('2021-04-06 01:26:05.150', 'D+000007.6'), ('2021-04-06 01:26:05.170', 'D+000008.8'), ('2021-04-06 01:26:05.190', 'D+000010.4'), ('2021-04-06 01:26:05.210', 'D+000011.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 7.0, 7.6, 8.8, 10.4, 11.4]
np.array X: [[ 3.4]
 [ 7. ]
 [ 7.6]
 [ 8.8]
 [10.4]
 [11.4]]
revised_weight: 9.4
2021-04-06 01:26:05.210: revising weight finished
revised_weight: 9.4 at 2021-04-06 01:26:05.210
plc_result: True
sendmessage: 20210406012605210,1,000114,000094
send message to PLC: 2021-04-06 01:26:05.328
time gap: 0:00:00.013711
2021-04-06 01:26:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:05.814
lastevent: 2021-04-06 01:26:05.808, last ten sensor data: [0, ('2021-04-06 01:26:05.330', 'D+000012.2'), ('2021-04-06 01:26:05.370', 'D+000011.6'), ('2021-04-06 01:26:05.390', 'D+000012.2'), ('2021-04-06 01:26:05.410', 'D+000012.0'), ('2021-04-06 01:26:05.430', 'D+000011.6'), ('2021-04-06 01:26:05.610', 'D+000014.0'), ('2021-04-06 01:26:05.630', 'D+000013.6'), ('2021-04-06 01:26:05.650', 'D+000013.8'), ('2021-04-06 01:26:05.670', 'D+000014.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [12.0, 11.6, 14.0, 13.6, 13.8, 14.6]
np.array X: [[12. ]
 [11.6]
 [14. ]
 [13.6]
 [13.8]
 [14.6]]
revised_weight: 13.8
2021-04-06 01:26:05.670: revising weight finished
revised_weight: 13.8 at 2021-04-06 01:26:05.670
plc_result: True
sendmessage: 20210406012605670,1,000146,000138
send message to PLC: 2021-04-06 01:26:05.826
time gap: 0:00:00.012176
2021-04-06 01:26:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:07: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:26:07: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:07: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:07: select done
2021-04-06 01:26:07: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:26:07: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:26:08: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:26:08: count: 4 in httpPlcDataSender thread
2021-04-06 01:26:08: D+: 4 in httpPlcDataSender thread
2021-04-06 01:26:08: D-: 0 in httpPlcDataSender thread
2021-04-06 01:26:08: S+: 0 in httpPlcDataSender thread
2021-04-06 01:26:08: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.7', 'sensorAt': '2021-04-06 01:26:02.610'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:26:03.120'}, {'value': '9.4', 'sensorAt': '2021-04-06 01:26:05.210'}, {'value': '13.8', 'sensorAt': '2021-04-06 01:26:05.670'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:02.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:03.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:05.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:05.670'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:26:08', 'collectDate': '2021-04-06 01:26:05', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.7', 'sensorAt': '2021-04-06 01:26:02.610'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:26:03.120'}, {'value': '9.4', 'sensorAt': '2021-04-06 01:26:05.210'}, {'value': '13.8', 'sensorAt': '2021-04-06 01:26:05.670'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:02.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:03.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:05.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:05.670'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:26:08: send http
2021-04-06 01:26:08: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:26:08: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:08: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:26:09.529
lastevent: 2021-04-06 01:26:09.523, last ten sensor data: [('2021-04-06 01:26:09.050', 'D+000002.0'), ('2021-04-06 01:26:09.070', 'D+000002.0'), ('2021-04-06 01:26:09.090', 'D+000001.8'), ('2021-04-06 01:26:09.110', 'D+000001.8'), ('2021-04-06 01:26:09.270', 'D+000002.2'), ('2021-04-06 01:26:09.290', 'D+000002.0'), ('2021-04-06 01:26:09.310', 'D+000001.8'), ('2021-04-06 01:26:09.330', 'D+000002.2'), ('2021-04-06 01:26:09.350', 'D+000003.2'), ('2021-04-06 01:26:09.520', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.0, 1.8, 2.2, 3.2, 6.0]
np.array X: [[2.2]
 [2. ]
 [1.8]
 [2.2]
 [3.2]
 [6. ]]
revised_weight: 3.6
2021-04-06 01:26:09.520: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:26:09.520
plc_result: True
sendmessage: 20210406012609520,1,000060,000036
send message to PLC: 2021-04-06 01:26:09.543
time gap: 0:00:00.014086
2021-04-06 01:26:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:11.091
lastevent: 2021-04-06 01:26:11.088, last ten sensor data: [('2021-04-06 01:26:10.760', 'D+000004.0'), ('2021-04-06 01:26:10.780', 'D+000004.2'), ('2021-04-06 01:26:10.800', 'D+000005.4'), ('2021-04-06 01:26:10.820', 'D+000007.6'), ('2021-04-06 01:26:10.970', 'D+000012.6'), ('2021-04-06 01:26:10.990', 'D+000012.4'), ('2021-04-06 01:26:11.010', 'D+000012.4'), ('2021-04-06 01:26:11.030', 'D+000012.2'), ('2021-04-06 01:26:11.050', 'D+000011.8'), ('2021-04-06 01:26:11.070', 'D+000011.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [12.6, 12.4, 12.4, 12.2, 11.8, 11.6]
np.array X: [[12.6]
 [12.4]
 [12.4]
 [12.2]
 [11.8]
 [11.6]]
revised_weight: 12.2
2021-04-06 01:26:11.070: revising weight finished
revised_weight: 12.2 at 2021-04-06 01:26:11.070
plc_result: True
sendmessage: 20210406012611070,1,000116,000122
send message to PLC: 2021-04-06 01:26:11.100
time gap: 0:00:00.008922
2021-04-06 01:26:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:13.366
lastevent: 2021-04-06 01:26:13.355, last ten sensor data: [('2021-04-06 01:26:12.780', 'D+000003.6'), ('2021-04-06 01:26:12.940', 'D+000003.0'), ('2021-04-06 01:26:12.960', 'D+000003.0'), ('2021-04-06 01:26:12.980', 'D+000003.2'), ('2021-04-06 01:26:13.000', 'D+000003.2'), ('2021-04-06 01:26:13.020', 'D+000003.8'), ('2021-04-06 01:26:13.200', 'D+000007.2'), ('2021-04-06 01:26:13.220', 'D+000007.6'), ('2021-04-06 01:26:13.240', 'D+000007.4'), ('2021-04-06 01:26:13.260', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.8, 7.2, 7.6, 7.4, 8.0]
np.array X: [[3.2]
 [3.8]
 [7.2]
 [7.6]
 [7.4]
 [8. ]]
revised_weight: 7.5
2021-04-06 01:26:13.260: revising weight finished
revised_weight: 7.5 at 2021-04-06 01:26:13.260
plc_result: True
sendmessage: 20210406012613260,1,000080,000075
send message to PLC: 2021-04-06 01:26:13.378
time gap: 0:00:00.011653
2021-04-06 01:26:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:13: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:26:13: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:13: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:13: select done
2021-04-06 01:26:13: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:26:13: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:26:13: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:26:13: count: 3 in httpPlcDataSender thread
2021-04-06 01:26:13: D+: 3 in httpPlcDataSender thread
2021-04-06 01:26:13: D-: 0 in httpPlcDataSender thread
2021-04-06 01:26:13: S+: 0 in httpPlcDataSender thread
2021-04-06 01:26:13: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.6', 'sensorAt': '2021-04-06 01:26:09.520'}, {'value': '12.2', 'sensorAt': '2021-04-06 01:26:11.070'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:26:13.260'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:09.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:11.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:13.260'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:26:13', 'collectDate': '2021-04-06 01:26:13', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.6', 'sensorAt': '2021-04-06 01:26:09.520'}, {'value': '12.2', 'sensorAt': '2021-04-06 01:26:11.070'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:26:13.260'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:09.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:11.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:13.260'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:26:13: send http
2021-04-06 01:26:13: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:26:13: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:14: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:26:14.233
lastevent: 2021-04-06 01:26:14.222, last ten sensor data: [('2021-04-06 01:26:13.820', 'D+000008.8'), ('2021-04-06 01:26:13.920', 'D+000007.8'), ('2021-04-06 01:26:13.940', 'D+000008.0'), ('2021-04-06 01:26:13.960', 'D+000008.0'), ('2021-04-06 01:26:13.980', 'D+000008.4'), ('2021-04-06 01:26:14.160', 'D+000008.0'), ('2021-04-06 01:26:14.180', 'D+000007.8'), ('2021-04-06 01:26:14.200', 'D+000007.8'), ('2021-04-06 01:26:14.220', 'D+000007.6'), ('2021-04-06 01:26:14.240', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.4, 8.0, 7.8, 7.8, 7.6, 8.2]
np.array X: [[8.4]
 [8. ]
 [7.8]
 [7.8]
 [7.6]
 [8.2]]
revised_weight: 8.1
2021-04-06 01:26:14.240: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:26:14.240
plc_result: True
sendmessage: 20210406012614240,1,000082,000081
send message to PLC: 2021-04-06 01:26:14.245
time gap: 0:00:00.011970
2021-04-06 01:26:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:15.449
lastevent: 2021-04-06 01:26:15.441, last ten sensor data: [('2021-04-06 01:26:14.970', 'D+000004.6'), ('2021-04-06 01:26:15.120', 'D+000003.8'), ('2021-04-06 01:26:15.140', 'D+000004.0'), ('2021-04-06 01:26:15.160', 'D+000004.2'), ('2021-04-06 01:26:15.180', 'D+000004.2'), ('2021-04-06 01:26:15.200', 'D+000004.6'), ('2021-04-06 01:26:15.380', 'D+000006.6'), ('2021-04-06 01:26:15.400', 'D+000007.0'), ('2021-04-06 01:26:15.420', 'D+000007.8'), ('2021-04-06 01:26:15.440', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.6, 6.6, 7.0, 7.8, 7.8]
np.array X: [[4.2]
 [4.6]
 [6.6]
 [7. ]
 [7.8]
 [7.8]]
revised_weight: 6.7
2021-04-06 01:26:15.440: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:26:15.440
plc_result: True
sendmessage: 20210406012615440,1,000078,000067
send message to PLC: 2021-04-06 01:26:15.461
time gap: 0:00:00.012512
2021-04-06 01:26:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:15: httpScaleDataSender thread Timeout occurred
2021-04-06 01:26:15: [13713] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
2021-04-06 01:26:15: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:26:16.529
lastevent: 2021-04-06 01:26:16.516, last ten sensor data: [('2021-04-06 01:26:15.900', 'D+000007.8'), ('2021-04-06 01:26:15.920', 'D+000007.4'), ('2021-04-06 01:26:16.110', 'D+000005.0'), ('2021-04-06 01:26:16.130', 'D+000004.8'), ('2021-04-06 01:26:16.150', 'D+000004.8'), ('2021-04-06 01:26:16.170', 'D+000004.8'), ('2021-04-06 01:26:16.350', 'D+000004.2'), ('2021-04-06 01:26:16.370', 'D+000003.8'), ('2021-04-06 01:26:16.390', 'D+000003.8'), ('2021-04-06 01:26:16.410', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.2, 3.8, 3.8, 3.8]
np.array X: [[4.8]
 [4.8]
 [4.2]
 [3.8]
 [3.8]
 [3.8]]
revised_weight: 4.3
2021-04-06 01:26:16.410: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:26:16.410
plc_result: True
sendmessage: 20210406012616410,1,000038,000043
send message to PLC: 2021-04-06 01:26:16.547
time gap: 0:00:00.018003
2021-04-06 01:26:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:17.065
lastevent: 2021-04-06 01:26:17.059, last ten sensor data: [0, ('2021-04-06 01:26:16.560', 'D+000004.2'), ('2021-04-06 01:26:16.590', 'D+000004.2'), ('2021-04-06 01:26:16.610', 'D+000004.2'), ('2021-04-06 01:26:16.630', 'D+000004.2'), ('2021-04-06 01:26:16.650', 'D+000003.8'), ('2021-04-06 01:26:16.840', 'D+000004.4'), ('2021-04-06 01:26:16.860', 'D+000004.2'), ('2021-04-06 01:26:16.880', 'D+000003.8'), ('2021-04-06 01:26:16.900', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 3.8, 4.4, 4.2, 3.8, 3.8]
np.array X: [[4.2]
 [3.8]
 [4.4]
 [4.2]
 [3.8]
 [3.8]]
revised_weight: 3.9
2021-04-06 01:26:16.900: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:26:16.900
plc_result: True
sendmessage: 20210406012616900,1,000038,000039
send message to PLC: 2021-04-06 01:26:17.072
time gap: 0:00:00.007150
2021-04-06 01:26:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:18.785
lastevent: 2021-04-06 01:26:18.777, last ten sensor data: [('2021-04-06 01:26:18.340', 'D+000002.0'), ('2021-04-06 01:26:18.360', 'D+000002.0'), ('2021-04-06 01:26:18.380', 'D+000002.2'), ('2021-04-06 01:26:18.540', 'D+000002.2'), ('2021-04-06 01:26:18.560', 'D+000002.2'), ('2021-04-06 01:26:18.580', 'D+000002.0'), ('2021-04-06 01:26:18.600', 'D+000002.4'), ('2021-04-06 01:26:18.620', 'D+000002.2'), ('2021-04-06 01:26:18.640', 'D+000002.4'), ('2021-04-06 01:26:18.780', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.0, 2.4, 2.2, 2.4, 2.2]
np.array X: [[2.2]
 [2. ]
 [2.4]
 [2.2]
 [2.4]
 [2.2]]
revised_weight: 2.0
2021-04-06 01:26:18.780: revising weight finished
revised_weight: 2.0 at 2021-04-06 01:26:18.780
plc_result: True
sendmessage: 20210406012618780,1,000022,000020
send message to PLC: 2021-04-06 01:26:18.798
time gap: 0:00:00.013218
2021-04-06 01:26:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:19: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:26:19: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:19: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:19: select done
2021-04-06 01:26:19: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:26:19: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:26:19: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:26:19: count: 5 in httpPlcDataSender thread
2021-04-06 01:26:19: D+: 5 in httpPlcDataSender thread
2021-04-06 01:26:19: D-: 0 in httpPlcDataSender thread
2021-04-06 01:26:19: S+: 0 in httpPlcDataSender thread
2021-04-06 01:26:19: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.1', 'sensorAt': '2021-04-06 01:26:14.240'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:26:15.440'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:26:16.410'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:26:16.900'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:26:18.780'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:14.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:15.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:16.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:16.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:18.780'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:26:19', 'collectDate': '2021-04-06 01:26:18', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.1', 'sensorAt': '2021-04-06 01:26:14.240'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:26:15.440'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:26:16.410'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:26:16.900'}, {'value': '2.0', 'sensorAt': '2021-04-06 01:26:18.780'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:14.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:15.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:16.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:16.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:18.780'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:26:19: send http
2021-04-06 01:26:19: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:26:19: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:19: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:26:21.079
lastevent: 2021-04-06 01:26:21.064, last ten sensor data: [('2021-04-06 01:26:20.570', 'D+000002.2'), ('2021-04-06 01:26:20.730', 'D+000002.6'), ('2021-04-06 01:26:20.760', 'D+000003.0'), ('2021-04-06 01:26:20.780', 'D+000004.0'), ('2021-04-06 01:26:20.800', 'D+000004.4'), ('2021-04-06 01:26:20.980', 'D+000007.4'), ('2021-04-06 01:26:21.000', 'D+000008.8'), ('2021-04-06 01:26:21.020', 'D+000009.0'), ('2021-04-06 01:26:21.040', 'D+000007.8'), ('2021-04-06 01:26:21.060', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 7.4, 8.8, 9.0, 7.8, 6.6]
np.array X: [[4.4]
 [7.4]
 [8.8]
 [9. ]
 [7.8]
 [6.6]]
revised_weight: 7.8
2021-04-06 01:26:21.060: revising weight finished
revised_weight: 7.8 at 2021-04-06 01:26:21.060
plc_result: True
sendmessage: 20210406012621060,1,000066,000078
send message to PLC: 2021-04-06 01:26:21.092
time gap: 0:00:00.012954
2021-04-06 01:26:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:21.731
lastevent: 2021-04-06 01:26:21.720, last ten sensor data: [('2021-04-06 01:26:21.100', 'D+000009.8'), ('2021-04-06 01:26:21.240', 'D+000010.2'), ('2021-04-06 01:26:21.260', 'D+000010.2'), ('2021-04-06 01:26:21.280', 'D+000011.0'), ('2021-04-06 01:26:21.300', 'D+000012.0'), ('2021-04-06 01:26:21.480', 'D+000008.2'), ('2021-04-06 01:26:21.500', 'D+000008.4'), ('2021-04-06 01:26:21.520', 'D+000008.4'), ('2021-04-06 01:26:21.540', 'D+000008.0'), ('2021-04-06 01:26:21.720', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [12.0, 8.2, 8.4, 8.4, 8.0, 6.6]
np.array X: [[12. ]
 [ 8.2]
 [ 8.4]
 [ 8.4]
 [ 8. ]
 [ 6.6]]
revised_weight: 8.4
2021-04-06 01:26:21.720: revising weight finished
revised_weight: 8.4 at 2021-04-06 01:26:21.720
plc_result: True
sendmessage: 20210406012621720,1,000066,000084
send message to PLC: 2021-04-06 01:26:21.742
time gap: 0:00:00.011438
2021-04-06 01:26:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:22.969
lastevent: 2021-04-06 01:26:22.961, last ten sensor data: [('2021-04-06 01:26:22.490', 'D+000004.2'), ('2021-04-06 01:26:22.510', 'D+000004.0'), ('2021-04-06 01:26:22.530', 'D+000004.2'), ('2021-04-06 01:26:22.690', 'D+000005.0'), ('2021-04-06 01:26:22.710', 'D+000005.0'), ('2021-04-06 01:26:22.730', 'D+000005.0'), ('2021-04-06 01:26:22.750', 'D+000005.2'), ('2021-04-06 01:26:22.770', 'D+000005.0'), ('2021-04-06 01:26:22.950', 'D+000005.2'), ('2021-04-06 01:26:22.970', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 5.2, 5.0, 5.2, 5.2]
np.array X: [[5. ]
 [5. ]
 [5.2]
 [5. ]
 [5.2]
 [5.2]]
revised_weight: 5.1
2021-04-06 01:26:22.970: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:26:22.970
plc_result: True
sendmessage: 20210406012622970,1,000052,000051
send message to PLC: 2021-04-06 01:26:22.989
time gap: 0:00:00.020351
2021-04-06 01:26:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:24.209
lastevent: 2021-04-06 01:26:24.198, last ten sensor data: [('2021-04-06 01:26:23.740', 'D+000003.6'), ('2021-04-06 01:26:23.760', 'D+000003.4'), ('2021-04-06 01:26:23.910', 'D+000004.6'), ('2021-04-06 01:26:23.940', 'D+000005.2'), ('2021-04-06 01:26:23.960', 'D+000005.4'), ('2021-04-06 01:26:23.980', 'D+000005.2'), ('2021-04-06 01:26:24.000', 'D+000005.8'), ('2021-04-06 01:26:24.160', 'D+000009.0'), ('2021-04-06 01:26:24.180', 'D+000009.2'), ('2021-04-06 01:26:24.200', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.2, 5.8, 9.0, 9.2, 7.4]
np.array X: [[5.4]
 [5.2]
 [5.8]
 [9. ]
 [9.2]
 [7.4]]
revised_weight: 7.2
2021-04-06 01:26:24.200: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:26:24.200
plc_result: True
sendmessage: 20210406012624200,1,000074,000072
send message to PLC: 2021-04-06 01:26:24.221
time gap: 0:00:00.011974
2021-04-06 01:26:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:24: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:26:24: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:24: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:24: select done
2021-04-06 01:26:24: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:26:24: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:26:24: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:26:24: count: 4 in httpPlcDataSender thread
2021-04-06 01:26:24: D+: 4 in httpPlcDataSender thread
2021-04-06 01:26:24: D-: 0 in httpPlcDataSender thread
2021-04-06 01:26:24: S+: 0 in httpPlcDataSender thread
2021-04-06 01:26:24: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.8', 'sensorAt': '2021-04-06 01:26:21.060'}, {'value': '8.4', 'sensorAt': '2021-04-06 01:26:21.720'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:26:22.970'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:26:24.200'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:21.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:21.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:22.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:24.200'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:26:24', 'collectDate': '2021-04-06 01:26:24', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.8', 'sensorAt': '2021-04-06 01:26:21.060'}, {'value': '8.4', 'sensorAt': '2021-04-06 01:26:21.720'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:26:22.970'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:26:24.200'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:21.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:21.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:22.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:24.200'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:26:24: send http
2021-04-06 01:26:24: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:26:25.070
lastevent: 2021-04-06 01:26:25.056, last ten sensor data: [('2021-04-06 01:26:24.540', 'D+000007.8'), ('2021-04-06 01:26:24.680', 'D+000004.8'), ('2021-04-06 01:26:24.720', 'D+000005.0'), ('2021-04-06 01:26:24.740', 'D+000004.8'), ('2021-04-06 01:26:24.760', 'D+000004.4'), ('2021-04-06 01:26:24.780', 'D+000004.0'), ('2021-04-06 01:26:24.950', 'D+000003.6'), ('2021-04-06 01:26:24.970', 'D+000003.6'), ('2021-04-06 01:26:25.010', 'D+000004.4'), ('2021-04-06 01:26:25.030', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.0, 3.6, 3.6, 4.4, 3.6]
np.array X: [[4.4]
 [4. ]
 [3.6]
 [3.6]
 [4.4]
 [3.6]]
revised_weight: 3.9
2021-04-06 01:26:25.030: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:26:25.030
plc_result: True
sendmessage: 20210406012625030,1,000036,000039
send message to PLC: 2021-04-06 01:26:25.077
time gap: 0:00:00.007345
2021-04-06 01:26:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
Backupserver True
2021-04-06 01:26:25: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:25: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:26:25.446
lastevent: 2021-04-06 01:26:25.441, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:26:25.200', 'D+000004.2'), ('2021-04-06 01:26:25.220', 'D+000004.0'), ('2021-04-06 01:26:25.240', 'D+000004.2'), ('2021-04-06 01:26:25.260', 'D+000004.2'), ('2021-04-06 01:26:25.440', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 4.2, 4.0, 4.2, 4.2, 4.8]
np.array X: [[0. ]
 [4.2]
 [4. ]
 [4.2]
 [4.2]
 [4.8]]
revised_weight: 4.2
2021-04-06 01:26:25.440: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:26:25.440
plc_result: True
sendmessage: 20210406012625440,1,000048,000042
send message to PLC: 2021-04-06 01:26:25.453
time gap: 0:00:00.007248
2021-04-06 01:26:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:26.102
lastevent: 2021-04-06 01:26:26.094, last ten sensor data: [('2021-04-06 01:26:25.670', 'D+000004.2'), ('2021-04-06 01:26:25.690', 'D+000004.2'), ('2021-04-06 01:26:25.710', 'D+000004.2'), ('2021-04-06 01:26:25.730', 'D+000003.8'), ('2021-04-06 01:26:25.750', 'D+000003.8'), ('2021-04-06 01:26:25.930', 'D+000004.2'), ('2021-04-06 01:26:25.950', 'D+000004.2'), ('2021-04-06 01:26:25.970', 'D+000004.6'), ('2021-04-06 01:26:25.990', 'D+000004.8'), ('2021-04-06 01:26:26.010', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.2, 4.2, 4.6, 4.8, 4.8]
np.array X: [[3.8]
 [4.2]
 [4.2]
 [4.6]
 [4.8]
 [4.8]]
revised_weight: 4.7
2021-04-06 01:26:26.010: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:26:26.010
plc_result: True
sendmessage: 20210406012626010,1,000048,000047
send message to PLC: 2021-04-06 01:26:26.109
time gap: 0:00:00.007243
2021-04-06 01:26:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:27.334
lastevent: 2021-04-06 01:26:27.317, last ten sensor data: [('2021-04-06 01:26:26.910', 'D+000002.6'), ('2021-04-06 01:26:26.930', 'D+000002.4'), ('2021-04-06 01:26:26.950', 'D+000002.6'), ('2021-04-06 01:26:26.970', 'D+000002.8'), ('2021-04-06 01:26:26.990', 'D+000002.8'), ('2021-04-06 01:26:27.150', 'D+000004.0'), ('2021-04-06 01:26:27.170', 'D+000004.2'), ('2021-04-06 01:26:27.190', 'D+000004.0'), ('2021-04-06 01:26:27.210', 'D+000003.8'), ('2021-04-06 01:26:27.230', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 4.0, 4.2, 4.0, 3.8, 4.0]
np.array X: [[2.8]
 [4. ]
 [4.2]
 [4. ]
 [3.8]
 [4. ]]
revised_weight: 4.2
2021-04-06 01:26:27.230: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:26:27.230
plc_result: True
sendmessage: 20210406012627230,1,000040,000042
send message to PLC: 2021-04-06 01:26:27.345
time gap: 0:00:00.011149
2021-04-06 01:26:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:28.529
lastevent: 2021-04-06 01:26:28.513, last ten sensor data: [('2021-04-06 01:26:27.960', 'D+000003.6'), ('2021-04-06 01:26:28.120', 'D+000003.2'), ('2021-04-06 01:26:28.140', 'D+000003.0'), ('2021-04-06 01:26:28.160', 'D+000003.0'), ('2021-04-06 01:26:28.180', 'D+000003.0'), ('2021-04-06 01:26:28.200', 'D+000003.2'), ('2021-04-06 01:26:28.380', 'D+000005.6'), ('2021-04-06 01:26:28.400', 'D+000004.4'), ('2021-04-06 01:26:28.420', 'D+000004.6'), ('2021-04-06 01:26:28.440', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.2, 5.6, 4.4, 4.6, 7.0]
np.array X: [[3. ]
 [3.2]
 [5.6]
 [4.4]
 [4.6]
 [7. ]]
revised_weight: 6.8
2021-04-06 01:26:28.440: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:26:28.440
plc_result: True
sendmessage: 20210406012628440,1,000070,000068
send message to PLC: 2021-04-06 01:26:28.540
time gap: 0:00:00.011269
2021-04-06 01:26:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:29.137
lastevent: 2021-04-06 01:26:29.132, last ten sensor data: [('2021-04-06 01:26:28.660', 'D+000006.0'), ('2021-04-06 01:26:28.680', 'D+000006.0'), ('2021-04-06 01:26:28.860', 'D+000006.2'), ('2021-04-06 01:26:28.880', 'D+000005.8'), ('2021-04-06 01:26:28.900', 'D+000005.2'), ('2021-04-06 01:26:28.920', 'D+000005.8'), ('2021-04-06 01:26:28.940', 'D+000006.2'), ('2021-04-06 01:26:29.100', 'D+000005.6'), ('2021-04-06 01:26:29.120', 'D+000006.0'), ('2021-04-06 01:26:29.140', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.8, 6.2, 5.6, 6.0, 5.8]
np.array X: [[5.2]
 [5.8]
 [6.2]
 [5.6]
 [6. ]
 [5.8]]
revised_weight: 5.5
2021-04-06 01:26:29.140: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:26:29.140
plc_result: True
sendmessage: 20210406012629140,1,000058,000055
send message to PLC: 2021-04-06 01:26:29.146
time gap: 0:00:00.008881
2021-04-06 01:26:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:30: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:26:30: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:30: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:30: select done
2021-04-06 01:26:30: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:26:30: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:26:30.427
2021-04-06 01:26:30: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:26:30: count: 6 in httpPlcDataSender thread
2021-04-06 01:26:30: D+: 6 in httpPlcDataSender thread
2021-04-06 01:26:30: D-: 0 in httpPlcDataSender thread
2021-04-06 01:26:30: S+: 0 in httpPlcDataSender thread
2021-04-06 01:26:30: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.9', 'sensorAt': '2021-04-06 01:26:25.030'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:26:25.440'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:26:26.010'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:26:27.230'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:26:28.440'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:26:29.140'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:25.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:25.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:26.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:27.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:28.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:29.140'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:26:30', 'collectDate': '2021-04-06 01:26:29', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.9', 'sensorAt': '2021-04-06 01:26:25.030'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:26:25.440'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:26:26.010'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:26:27.230'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:26:28.440'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:26:29.140'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:25.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:25.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:26.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:27.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:28.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:29.140'}]}]} in httpPlcDataSender thread
lastevent: 2021-04-06 01:26:30.415, last ten sensor data: [('2021-04-06 01:26:29.890', 'D+000004.8'), ('2021-04-06 01:26:29.910', 'D+000005.0'), ('2021-04-06 01:26:30.090', 'D+000004.6'), ('2021-04-06 01:26:30.110', 'D+000004.4'), ('2021-04-06 01:26:30.130', 'D+000004.6'), ('2021-04-06 01:26:30.150', 'D+000004.4'), ('2021-04-06 01:26:30.330', 'D+000004.0'), ('2021-04-06 01:26:30.350', 'D+000004.2'), ('2021-04-06 01:26:30.370', 'D+000004.2'), ('2021-04-06 01:26:30.390', 'D+000004.0')]
True in httpPlcDataSender thread
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.4, 4.0, 4.2, 4.2, 4.0]
np.array X: [[4.6]
 [4.4]
 [4. ]
 [4.2]
 [4.2]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:26:30.390: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:26:30.390
plc_result: True
sendmessage: 20210406012630390,1,000040,000040
send message to PLC: 2021-04-06 01:26:30.445
time gap: 0:00:00.017792
2021-04-06 01:26:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:30: send http
2021-04-06 01:26:30: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:26:30: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:30: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:26:31.154
lastevent: 2021-04-06 01:26:31.141, last ten sensor data: [('2021-04-06 01:26:30.810', 'D+000005.0'), ('2021-04-06 01:26:30.830', 'D+000004.6'), ('2021-04-06 01:26:30.850', 'D+000004.4'), ('2021-04-06 01:26:30.870', 'D+000004.6'), ('2021-04-06 01:26:30.890', 'D+000004.6'), ('2021-04-06 01:26:31.060', 'D+000004.6'), ('2021-04-06 01:26:31.080', 'D+000004.8'), ('2021-04-06 01:26:31.100', 'D+000004.2'), ('2021-04-06 01:26:31.120', 'D+000004.4'), ('2021-04-06 01:26:31.140', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 4.8, 4.2, 4.4, 4.2]
np.array X: [[4.6]
 [4.6]
 [4.8]
 [4.2]
 [4.4]
 [4.2]]
revised_weight: 4.5
2021-04-06 01:26:31.140: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:26:31.140
plc_result: True
sendmessage: 20210406012631140,1,000042,000045
send message to PLC: 2021-04-06 01:26:31.162
time gap: 0:00:00.007561
2021-04-06 01:26:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:35: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:26:35: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:35: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:35: select done
2021-04-06 01:26:35: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:26:35: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:26:36: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:26:36: count: 2 in httpPlcDataSender thread
2021-04-06 01:26:36: D+: 2 in httpPlcDataSender thread
2021-04-06 01:26:36: D-: 0 in httpPlcDataSender thread
2021-04-06 01:26:36: S+: 0 in httpPlcDataSender thread
2021-04-06 01:26:36: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.0', 'sensorAt': '2021-04-06 01:26:30.390'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:26:31.140'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:30.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:31.140'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:26:36', 'collectDate': '2021-04-06 01:26:31', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.0', 'sensorAt': '2021-04-06 01:26:30.390'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:26:31.140'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:30.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:31.140'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:26:36: send http
2021-04-06 01:26:36: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:26:36: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:36: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:26:41: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:26:41: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:26:41: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:41: select done
2021-04-06 01:26:41: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:26:41: No Data remains in httpPlcDataSender thread
2021-04-06 01:26:41: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:26:41: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:26:41: current db filename:  in httpPlcDataSender thread
2021-04-06 01:26:41: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:26:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:50.000
lastevent: 2021-04-06 01:26:49.999, last ten sensor data: [('2021-04-06 01:26:49.500', 'D+000003.0'), ('2021-04-06 01:26:49.660', 'D+000003.2'), ('2021-04-06 01:26:49.680', 'D+000003.2'), ('2021-04-06 01:26:49.700', 'D+000003.2'), ('2021-04-06 01:26:49.720', 'D+000003.2'), ('2021-04-06 01:26:49.740', 'D+000003.2'), ('2021-04-06 01:26:49.910', 'D+000003.6'), ('2021-04-06 01:26:49.930', 'D+000003.6'), ('2021-04-06 01:26:49.950', 'D+000003.6'), ('2021-04-06 01:26:49.970', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.6, 3.6, 3.6, 3.4]
np.array X: [[3.2]
 [3.2]
 [3.6]
 [3.6]
 [3.6]
 [3.4]]
revised_weight: 3.3
2021-04-06 01:26:49.970: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:26:49.970
plc_result: True
sendmessage: 20210406012649970,1,000034,000033
send message to PLC: 2021-04-06 01:26:50.011
time gap: 0:00:00.011257
2021-04-06 01:26:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:51.003
lastevent: 2021-04-06 01:26:50.996, last ten sensor data: [('2021-04-06 01:26:50.500', 'D+000002.4'), ('2021-04-06 01:26:50.520', 'D+000002.6'), ('2021-04-06 01:26:50.700', 'D+000005.4'), ('2021-04-06 01:26:50.720', 'D+000005.4'), ('2021-04-06 01:26:50.740', 'D+000005.6'), ('2021-04-06 01:26:50.760', 'D+000006.0'), ('2021-04-06 01:26:50.940', 'D+000007.4'), ('2021-04-06 01:26:50.960', 'D+000008.6'), ('2021-04-06 01:26:50.980', 'D+000008.8'), ('2021-04-06 01:26:51.000', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.0, 7.4, 8.6, 8.8, 7.8]
np.array X: [[5.6]
 [6. ]
 [7.4]
 [8.6]
 [8.8]
 [7.8]]
revised_weight: 7.2
2021-04-06 01:26:51.000: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:26:51.000
plc_result: True
sendmessage: 20210406012651000,1,000078,000072
send message to PLC: 2021-04-06 01:26:51.015
time gap: 0:00:00.011182
2021-04-06 01:26:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:52.172
lastevent: 2021-04-06 01:26:52.169, last ten sensor data: [('2021-04-06 01:26:51.680', 'D+000003.6'), ('2021-04-06 01:26:51.730', 'D+000003.8'), ('2021-04-06 01:26:51.750', 'D+000003.6'), ('2021-04-06 01:26:51.770', 'D+000003.8'), ('2021-04-06 01:26:51.790', 'D+000003.6'), ('2021-04-06 01:26:51.810', 'D+000003.8'), ('2021-04-06 01:26:52.080', 'D+000012.6'), ('2021-04-06 01:26:52.100', 'D+000011.8'), ('2021-04-06 01:26:52.120', 'D+000010.4'), ('2021-04-06 01:26:52.140', 'D+000010.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.8, 12.6, 11.8, 10.4, 10.2]
np.array X: [[ 3.6]
 [ 3.8]
 [12.6]
 [11.8]
 [10.4]
 [10.2]]
revised_weight: 11.2
2021-04-06 01:26:52.140: revising weight finished
revised_weight: 11.2 at 2021-04-06 01:26:52.140
plc_result: True
sendmessage: 20210406012652140,1,000102,000112
send message to PLC: 2021-04-06 01:26:52.183
time gap: 0:00:00.011384
2021-04-06 01:26:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:53.198
lastevent: 2021-04-06 01:26:53.187, last ten sensor data: [('2021-04-06 01:26:52.900', 'D+000004.6'), ('2021-04-06 01:26:52.920', 'D+000004.4'), ('2021-04-06 01:26:52.940', 'D+000004.2'), ('2021-04-06 01:26:52.960', 'D+000004.4'), ('2021-04-06 01:26:52.980', 'D+000005.0'), ('2021-04-06 01:26:53.130', 'D+000005.2'), ('2021-04-06 01:26:53.150', 'D+000005.6'), ('2021-04-06 01:26:53.170', 'D+000006.0'), ('2021-04-06 01:26:53.190', 'D+000006.4'), ('2021-04-06 01:26:53.210', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 5.6, 6.0, 6.4, 6.6]
np.array X: [[5. ]
 [5.2]
 [5.6]
 [6. ]
 [6.4]
 [6.6]]
revised_weight: 6.2
2021-04-06 01:26:53.210: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:26:53.210
plc_result: True
sendmessage: 20210406012653210,1,000066,000062
send message to PLC: 2021-04-06 01:26:53.213
time gap: 0:00:00.015126
2021-04-06 01:26:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:54.190
lastevent: 2021-04-06 01:26:54.188, last ten sensor data: [('2021-04-06 01:26:53.680', 'D+000006.8'), ('2021-04-06 01:26:53.700', 'D+000007.0'), ('2021-04-06 01:26:53.880', 'D+000007.0'), ('2021-04-06 01:26:53.900', 'D+000007.4'), ('2021-04-06 01:26:53.920', 'D+000007.0'), ('2021-04-06 01:26:53.940', 'D+000006.2'), ('2021-04-06 01:26:54.120', 'D+000011.8'), ('2021-04-06 01:26:54.140', 'D+000010.2'), ('2021-04-06 01:26:54.160', 'D+000010.4'), ('2021-04-06 01:26:54.180', 'D+000011.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 6.2, 11.8, 10.2, 10.4, 11.4]
np.array X: [[ 7. ]
 [ 6.2]
 [11.8]
 [10.2]
 [10.4]
 [11.4]]
revised_weight: 11.1
2021-04-06 01:26:54.180: revising weight finished
revised_weight: 11.1 at 2021-04-06 01:26:54.180
plc_result: True
sendmessage: 20210406012654180,1,000114,000111
send message to PLC: 2021-04-06 01:26:54.203
time gap: 0:00:00.013041
2021-04-06 01:26:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:55.701
lastevent: 2021-04-06 01:26:55.693, last ten sensor data: [('2021-04-06 01:26:55.220', 'D+000003.8'), ('2021-04-06 01:26:55.240', 'D+000003.8'), ('2021-04-06 01:26:55.260', 'D+000003.6'), ('2021-04-06 01:26:55.280', 'D+000003.6'), ('2021-04-06 01:26:55.440', 'D+000004.0'), ('2021-04-06 01:26:55.460', 'D+000003.8'), ('2021-04-06 01:26:55.480', 'D+000004.0'), ('2021-04-06 01:26:55.500', 'D+000004.4'), ('2021-04-06 01:26:55.520', 'D+000004.8'), ('2021-04-06 01:26:55.690', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.8, 4.0, 4.4, 4.8, 4.6]
np.array X: [[4. ]
 [3.8]
 [4. ]
 [4.4]
 [4.8]
 [4.6]]
revised_weight: 4.5
2021-04-06 01:26:55.690: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:26:55.690
plc_result: True
sendmessage: 20210406012655690,1,000046,000045
send message to PLC: 2021-04-06 01:26:55.714
time gap: 0:00:00.013681
2021-04-06 01:26:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:56.454
lastevent: 2021-04-06 01:26:56.443, last ten sensor data: [('2021-04-06 01:26:55.950', 'D+000004.2'), ('2021-04-06 01:26:55.970', 'D+000004.2'), ('2021-04-06 01:26:55.990', 'D+000004.2'), ('2021-04-06 01:26:56.010', 'D+000003.8'), ('2021-04-06 01:26:56.190', 'D+000004.4'), ('2021-04-06 01:26:56.210', 'D+000005.4'), ('2021-04-06 01:26:56.230', 'D+000005.4'), ('2021-04-06 01:26:56.250', 'D+000004.8'), ('2021-04-06 01:26:56.430', 'D+000009.0'), ('2021-04-06 01:26:56.450', 'D+000008.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.4, 5.4, 4.8, 9.0, 8.4]
np.array X: [[4.4]
 [5.4]
 [5.4]
 [4.8]
 [9. ]
 [8.4]]
revised_weight: 7.2
2021-04-06 01:26:56.450: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:26:56.450
plc_result: True
sendmessage: 20210406012656450,1,000084,000072
send message to PLC: 2021-04-06 01:26:56.467
time gap: 0:00:00.013552
2021-04-06 01:26:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:57.211
lastevent: 2021-04-06 01:26:57.205, last ten sensor data: [('2021-04-06 01:26:56.740', 'D+000009.4'), ('2021-04-06 01:26:56.760', 'D+000008.8'), ('2021-04-06 01:26:56.910', 'D+000009.8'), ('2021-04-06 01:26:56.940', 'D+000009.2'), ('2021-04-06 01:26:56.960', 'D+000008.2'), ('2021-04-06 01:26:56.980', 'D+000007.8'), ('2021-04-06 01:26:57.160', 'D+000005.6'), ('2021-04-06 01:26:57.180', 'D+000006.0'), ('2021-04-06 01:26:57.200', 'D+000007.8'), ('2021-04-06 01:26:57.220', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 7.8, 5.6, 6.0, 7.8, 7.0]
np.array X: [[8.2]
 [7.8]
 [5.6]
 [6. ]
 [7.8]
 [7. ]]
revised_weight: 7.9
2021-04-06 01:26:57.220: revising weight finished
revised_weight: 7.9 at 2021-04-06 01:26:57.220
plc_result: True
sendmessage: 20210406012657220,1,000070,000079
send message to PLC: 2021-04-06 01:26:57.225
time gap: 0:00:00.013162
2021-04-06 01:26:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:57.774
lastevent: 2021-04-06 01:26:57.767, last ten sensor data: [('2021-04-06 01:26:57.400', 'D+000007.6'), ('2021-04-06 01:26:57.420', 'D+000007.4'), ('2021-04-06 01:26:57.440', 'D+000007.8'), ('2021-04-06 01:26:57.460', 'D+000008.4'), ('2021-04-06 01:26:57.480', 'D+000008.6'), ('2021-04-06 01:26:57.660', 'D+000008.0'), ('2021-04-06 01:26:57.690', 'D+000006.8'), ('2021-04-06 01:26:57.710', 'D+000006.8'), ('2021-04-06 01:26:57.730', 'D+000008.2'), ('2021-04-06 01:26:57.750', 'D+000008.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 8.0, 6.8, 6.8, 8.2, 8.8]
np.array X: [[8.6]
 [8. ]
 [6.8]
 [6.8]
 [8.2]
 [8.8]]
revised_weight: 8.1
2021-04-06 01:26:57.750: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:26:57.750
plc_result: True
sendmessage: 20210406012657750,1,000088,000081
send message to PLC: 2021-04-06 01:26:57.787
time gap: 0:00:00.013195
2021-04-06 01:26:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:26:58.641
lastevent: 2021-04-06 01:26:58.637, last ten sensor data: [('2021-04-06 01:26:57.970', 'D+000007.0'), ('2021-04-06 01:26:57.990', 'D+000007.2'), ('2021-04-06 01:26:58.170', 'D+000006.4'), ('2021-04-06 01:26:58.190', 'D+000006.8'), ('2021-04-06 01:26:58.210', 'D+000005.6'), ('2021-04-06 01:26:58.230', 'D+000005.6'), ('2021-04-06 01:26:58.410', 'D+000005.4'), ('2021-04-06 01:26:58.430', 'D+000005.8'), ('2021-04-06 01:26:58.450', 'D+000005.8'), ('2021-04-06 01:26:58.470', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.6, 5.4, 5.8, 5.8, 6.2]
np.array X: [[5.6]
 [5.6]
 [5.4]
 [5.8]
 [5.8]
 [6.2]]
revised_weight: 5.9
2021-04-06 01:26:58.470: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:26:58.470
plc_result: True
sendmessage: 20210406012658470,1,000062,000059
send message to PLC: 2021-04-06 01:26:58.654
time gap: 0:00:00.013133
2021-04-06 01:26:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:01.583
lastevent: 2021-04-06 01:27:01.577, last ten sensor data: [('2021-04-06 01:27:01.080', 'D+000001.6'), ('2021-04-06 01:27:01.240', 'D+000002.2'), ('2021-04-06 01:27:01.260', 'D+000002.4'), ('2021-04-06 01:27:01.280', 'D+000002.4'), ('2021-04-06 01:27:01.300', 'D+000002.4'), ('2021-04-06 01:27:01.320', 'D+000003.0'), ('2021-04-06 01:27:01.490', 'D+000004.8'), ('2021-04-06 01:27:01.520', 'D+000005.2'), ('2021-04-06 01:27:01.540', 'D+000005.6'), ('2021-04-06 01:27:01.560', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 3.0, 4.8, 5.2, 5.6, 6.2]
np.array X: [[2.4]
 [3. ]
 [4.8]
 [5.2]
 [5.6]
 [6.2]]
revised_weight: 5.3
2021-04-06 01:27:01.560: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:27:01.560
plc_result: True
sendmessage: 20210406012701560,1,000062,000053
send message to PLC: 2021-04-06 01:27:01.602
time gap: 0:00:00.019181
2021-04-06 01:27:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:02.840
lastevent: 2021-04-06 01:27:02.835, last ten sensor data: [('2021-04-06 01:27:02.190', 'D+000004.0'), ('2021-04-06 01:27:02.370', 'D+000002.8'), ('2021-04-06 01:27:02.390', 'D+000002.8'), ('2021-04-06 01:27:02.410', 'D+000002.6'), ('2021-04-06 01:27:02.430', 'D+000002.6'), ('2021-04-06 01:27:02.600', 'D+000004.2'), ('2021-04-06 01:27:02.630', 'D+000004.4'), ('2021-04-06 01:27:02.650', 'D+000004.6'), ('2021-04-06 01:27:02.670', 'D+000004.8'), ('2021-04-06 01:27:02.690', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 4.2, 4.4, 4.6, 4.8, 4.8]
np.array X: [[2.6]
 [4.2]
 [4.4]
 [4.6]
 [4.8]
 [4.8]]
revised_weight: 4.4
2021-04-06 01:27:02.690: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:27:02.690
plc_result: True
sendmessage: 20210406012702690,1,000048,000044
send message to PLC: 2021-04-06 01:27:02.854
time gap: 0:00:00.013588
2021-04-06 01:27:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:03.295
lastevent: 2021-04-06 01:27:03.289, last ten sensor data: [0, ('2021-04-06 01:27:02.860', 'D+000005.6'), ('2021-04-06 01:27:02.880', 'D+000006.8'), ('2021-04-06 01:27:02.900', 'D+000005.8'), ('2021-04-06 01:27:02.920', 'D+000005.8'), ('2021-04-06 01:27:03.080', 'D+000006.2'), ('2021-04-06 01:27:03.100', 'D+000006.0'), ('2021-04-06 01:27:03.120', 'D+000005.6'), ('2021-04-06 01:27:03.140', 'D+000005.4'), ('2021-04-06 01:27:03.160', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.2, 6.0, 5.6, 5.4, 5.6]
np.array X: [[5.8]
 [6.2]
 [6. ]
 [5.6]
 [5.4]
 [5.6]]
revised_weight: 5.8
2021-04-06 01:27:03.160: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:27:03.160
plc_result: True
sendmessage: 20210406012703160,1,000056,000058
send message to PLC: 2021-04-06 01:27:03.311
time gap: 0:00:00.016387
2021-04-06 01:27:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:04.840
lastevent: 2021-04-06 01:27:04.832, last ten sensor data: [('2021-04-06 01:27:04.350', 'D+000003.0'), ('2021-04-06 01:27:04.370', 'D+000002.8'), ('2021-04-06 01:27:04.400', 'D+000002.8'), ('2021-04-06 01:27:04.560', 'D+000003.6'), ('2021-04-06 01:27:04.580', 'D+000003.4'), ('2021-04-06 01:27:04.600', 'D+000003.8'), ('2021-04-06 01:27:04.620', 'D+000005.2'), ('2021-04-06 01:27:04.800', 'D+000007.6'), ('2021-04-06 01:27:04.820', 'D+000007.0'), ('2021-04-06 01:27:04.840', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.8, 5.2, 7.6, 7.0, 6.4]
np.array X: [[3.4]
 [3.8]
 [5.2]
 [7.6]
 [7. ]
 [6.4]]
revised_weight: 5.9
2021-04-06 01:27:04.840: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:27:04.840
plc_result: True
sendmessage: 20210406012704840,1,000064,000059
send message to PLC: 2021-04-06 01:27:04.852
time gap: 0:00:00.011657
2021-04-06 01:27:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:05.927
lastevent: 2021-04-06 01:27:05.920, last ten sensor data: [('2021-04-06 01:27:05.370', 'D+000005.0'), ('2021-04-06 01:27:05.530', 'D+000002.2'), ('2021-04-06 01:27:05.550', 'D+000002.4'), ('2021-04-06 01:27:05.570', 'D+000002.2'), ('2021-04-06 01:27:05.590', 'D+000002.2'), ('2021-04-06 01:27:05.610', 'D+000002.2'), ('2021-04-06 01:27:05.790', 'D+000003.0'), ('2021-04-06 01:27:05.810', 'D+000003.2'), ('2021-04-06 01:27:05.830', 'D+000003.2'), ('2021-04-06 01:27:05.850', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.2, 3.0, 3.2, 3.2, 2.2]
np.array X: [[2.2]
 [2.2]
 [3. ]
 [3.2]
 [3.2]
 [2.2]]
revised_weight: 2.4
2021-04-06 01:27:05.850: revising weight finished
revised_weight: 2.4 at 2021-04-06 01:27:05.850
plc_result: True
sendmessage: 20210406012705850,1,000022,000024
send message to PLC: 2021-04-06 01:27:05.939
time gap: 0:00:00.011709
2021-04-06 01:27:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:08.217
lastevent: 2021-04-06 01:27:08.212, last ten sensor data: [('2021-04-06 01:27:07.740', 'D+000002.6'), ('2021-04-06 01:27:07.760', 'D+000002.6'), ('2021-04-06 01:27:07.780', 'D+000002.4'), ('2021-04-06 01:27:07.800', 'D+000002.4'), ('2021-04-06 01:27:07.980', 'D+000005.0'), ('2021-04-06 01:27:08.130', 'D+000007.2'), ('2021-04-06 01:27:08.150', 'D+000007.6'), ('2021-04-06 01:27:08.170', 'D+000007.4'), ('2021-04-06 01:27:08.190', 'D+000007.4'), ('2021-04-06 01:27:08.210', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 7.2, 7.6, 7.4, 7.4, 7.6]
np.array X: [[5. ]
 [7.2]
 [7.6]
 [7.4]
 [7.4]
 [7.6]]
revised_weight: 7.6
2021-04-06 01:27:08.210: revising weight finished
revised_weight: 7.6 at 2021-04-06 01:27:08.210
plc_result: True
sendmessage: 20210406012708210,1,000076,000076
send message to PLC: 2021-04-06 01:27:08.229
time gap: 0:00:00.011688
2021-04-06 01:27:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:09.126
lastevent: 2021-04-06 01:27:09.110, last ten sensor data: [('2021-04-06 01:27:08.640', 'D+000007.8'), ('2021-04-06 01:27:08.660', 'D+000007.4'), ('2021-04-06 01:27:08.680', 'D+000007.4'), ('2021-04-06 01:27:08.700', 'D+000007.4'), ('2021-04-06 01:27:08.860', 'D+000007.0'), ('2021-04-06 01:27:08.880', 'D+000006.8'), ('2021-04-06 01:27:08.900', 'D+000007.0'), ('2021-04-06 01:27:08.920', 'D+000007.2'), ('2021-04-06 01:27:08.940', 'D+000007.6'), ('2021-04-06 01:27:08.960', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 6.8, 7.0, 7.2, 7.6, 7.4]
np.array X: [[7. ]
 [6.8]
 [7. ]
 [7.2]
 [7.6]
 [7.4]]
revised_weight: 7.2
2021-04-06 01:27:08.960: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:27:08.960
plc_result: True
sendmessage: 20210406012708960,1,000074,000072
send message to PLC: 2021-04-06 01:27:09.137
time gap: 0:00:00.011020
2021-04-06 01:27:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:10.751
lastevent: 2021-04-06 01:27:10.740, last ten sensor data: [('2021-04-06 01:27:10.180', 'D+000002.4'), ('2021-04-06 01:27:10.200', 'D+000002.6'), ('2021-04-06 01:27:10.380', 'D+000002.8'), ('2021-04-06 01:27:10.400', 'D+000002.6'), ('2021-04-06 01:27:10.420', 'D+000002.6'), ('2021-04-06 01:27:10.440', 'D+000003.4'), ('2021-04-06 01:27:10.620', 'D+000003.0'), ('2021-04-06 01:27:10.640', 'D+000003.0'), ('2021-04-06 01:27:10.660', 'D+000002.8'), ('2021-04-06 01:27:10.680', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.4, 3.0, 3.0, 2.8, 2.6]
np.array X: [[2.6]
 [3.4]
 [3. ]
 [3. ]
 [2.8]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:27:10.680: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:27:10.680
plc_result: True
sendmessage: 20210406012710680,1,000026,000025
send message to PLC: 2021-04-06 01:27:10.762
time gap: 0:00:00.011461
2021-04-06 01:27:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:12.669
lastevent: 2021-04-06 01:27:12.656, last ten sensor data: [('2021-04-06 01:27:12.170', 'D+000002.6'), ('2021-04-06 01:27:12.190', 'D+000002.6'), ('2021-04-06 01:27:12.210', 'D+000002.2'), ('2021-04-06 01:27:12.380', 'D+000002.6'), ('2021-04-06 01:27:12.400', 'D+000002.8'), ('2021-04-06 01:27:12.420', 'D+000002.8'), ('2021-04-06 01:27:12.440', 'D+000002.6'), ('2021-04-06 01:27:12.630', 'D+000003.8'), ('2021-04-06 01:27:12.650', 'D+000003.8'), ('2021-04-06 01:27:12.670', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 2.6, 3.8, 3.8, 3.8]
np.array X: [[2.8]
 [2.8]
 [2.6]
 [3.8]
 [3.8]
 [3.8]]
revised_weight: 3.4
2021-04-06 01:27:12.670: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:27:12.670
plc_result: True
sendmessage: 20210406012712670,1,000038,000034
send message to PLC: 2021-04-06 01:27:12.680
time gap: 0:00:00.011329
2021-04-06 01:27:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:14.575
lastevent: 2021-04-06 01:27:14.560, last ten sensor data: [('2021-04-06 01:27:13.900', 'D+000003.2'), ('2021-04-06 01:27:13.920', 'D+000003.2'), ('2021-04-06 01:27:14.100', 'D+000003.4'), ('2021-04-06 01:27:14.120', 'D+000003.2'), ('2021-04-06 01:27:14.140', 'D+000003.2'), ('2021-04-06 01:27:14.160', 'D+000003.0'), ('2021-04-06 01:27:14.340', 'D+000007.8'), ('2021-04-06 01:27:14.360', 'D+000007.6'), ('2021-04-06 01:27:14.380', 'D+000007.6'), ('2021-04-06 01:27:14.400', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.0, 7.8, 7.6, 7.6, 8.0]
np.array X: [[3.2]
 [3. ]
 [7.8]
 [7.6]
 [7.6]
 [8. ]]
revised_weight: 8.5
2021-04-06 01:27:14.400: revising weight finished
revised_weight: 8.5 at 2021-04-06 01:27:14.400
plc_result: True
sendmessage: 20210406012714400,1,000080,000085
send message to PLC: 2021-04-06 01:27:14.586
time gap: 0:00:00.011368
2021-04-06 01:27:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:27:15: httpScaleDataSender thread Timeout occurred
2021-04-06 01:27:15: [13714] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
2021-04-06 01:27:15: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:27:16.638
lastevent: 2021-04-06 01:27:16.628, last ten sensor data: [('2021-04-06 01:27:16.110', 'D+000003.2'), ('2021-04-06 01:27:16.130', 'D+000003.2'), ('2021-04-06 01:27:16.290', 'D+000004.4'), ('2021-04-06 01:27:16.310', 'D+000005.2'), ('2021-04-06 01:27:16.330', 'D+000005.4'), ('2021-04-06 01:27:16.350', 'D+000005.2'), ('2021-04-06 01:27:16.530', 'D+000008.6'), ('2021-04-06 01:27:16.550', 'D+000008.0'), ('2021-04-06 01:27:16.570', 'D+000007.4'), ('2021-04-06 01:27:16.590', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.2, 8.6, 8.0, 7.4, 8.0]
np.array X: [[5.4]
 [5.2]
 [8.6]
 [8. ]
 [7.4]
 [8. ]]
revised_weight: 8.5
2021-04-06 01:27:16.590: revising weight finished
revised_weight: 8.5 at 2021-04-06 01:27:16.590
plc_result: True
sendmessage: 20210406012716590,1,000080,000085
send message to PLC: 2021-04-06 01:27:16.649
time gap: 0:00:00.011353
2021-04-06 01:27:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:18.355
lastevent: 2021-04-06 01:27:18.339, last ten sensor data: [('2021-04-06 01:27:17.820', 'D+000004.2'), ('2021-04-06 01:27:18.000', 'D+000005.2'), ('2021-04-06 01:27:18.020', 'D+000006.4'), ('2021-04-06 01:27:18.040', 'D+000007.4'), ('2021-04-06 01:27:18.060', 'D+000008.2'), ('2021-04-06 01:27:18.230', 'D+000016.0'), ('2021-04-06 01:27:18.250', 'D+000018.2'), ('2021-04-06 01:27:18.270', 'D+000018.0'), ('2021-04-06 01:27:18.290', 'D+000018.8'), ('2021-04-06 01:27:18.310', 'D+000019.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 16.0, 18.2, 18.0, 18.8, 19.0]
np.array X: [[ 8.2]
 [16. ]
 [18.2]
 [18. ]
 [18.8]
 [19. ]]
revised_weight: 18.3
2021-04-06 01:27:18.310: revising weight finished
revised_weight: 18.3 at 2021-04-06 01:27:18.310
plc_result: False
sendmessage: 20210406012718310,0,000190,000183
send message to PLC: 2021-04-06 01:27:18.367
time gap: 0:00:00.011270
2021-04-06 01:27:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:19.457
lastevent: 2021-04-06 01:27:19.441, last ten sensor data: [('2021-04-06 01:27:18.990', 'D+000004.2'), ('2021-04-06 01:27:19.010', 'D+000003.8'), ('2021-04-06 01:27:19.030', 'D+000003.6'), ('2021-04-06 01:27:19.050', 'D+000003.4'), ('2021-04-06 01:27:19.210', 'D+000005.6'), ('2021-04-06 01:27:19.230', 'D+000005.6'), ('2021-04-06 01:27:19.250', 'D+000005.6'), ('2021-04-06 01:27:19.270', 'D+000005.4'), ('2021-04-06 01:27:19.290', 'D+000005.8'), ('2021-04-06 01:27:19.310', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.6, 5.6, 5.4, 5.8, 6.0]
np.array X: [[5.6]
 [5.6]
 [5.6]
 [5.4]
 [5.8]
 [6. ]]
revised_weight: 5.6
2021-04-06 01:27:19.310: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:27:19.310
plc_result: True
sendmessage: 20210406012719310,1,000060,000056
send message to PLC: 2021-04-06 01:27:19.469
time gap: 0:00:00.011286
2021-04-06 01:27:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:23.265
lastevent: 2021-04-06 01:27:23.258, last ten sensor data: [('2021-04-06 01:27:22.780', 'D+000001.4'), ('2021-04-06 01:27:22.800', 'D+000001.6'), ('2021-04-06 01:27:22.820', 'D+000001.4'), ('2021-04-06 01:27:22.980', 'D+000005.2'), ('2021-04-06 01:27:23.000', 'D+000004.8'), ('2021-04-06 01:27:23.020', 'D+000004.6'), ('2021-04-06 01:27:23.040', 'D+000005.2'), ('2021-04-06 01:27:23.220', 'D+000010.8'), ('2021-04-06 01:27:23.240', 'D+000012.0'), ('2021-04-06 01:27:23.260', 'D+000011.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.6, 5.2, 10.8, 12.0, 11.6]
np.array X: [[ 4.8]
 [ 4.6]
 [ 5.2]
 [10.8]
 [12. ]
 [11.6]]
revised_weight: 9.3
2021-04-06 01:27:23.260: revising weight finished
revised_weight: 9.3 at 2021-04-06 01:27:23.260
plc_result: True
sendmessage: 20210406012723260,1,000116,000093
send message to PLC: 2021-04-06 01:27:23.271
time gap: 0:00:00.006449
2021-04-06 01:27:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:24.876
lastevent: 2021-04-06 01:27:24.866, last ten sensor data: [('2021-04-06 01:27:24.240', 'D+000002.2'), ('2021-04-06 01:27:24.260', 'D+000002.2'), ('2021-04-06 01:27:24.450', 'D+000001.8'), ('2021-04-06 01:27:24.470', 'D+000002.2'), ('2021-04-06 01:27:24.490', 'D+000002.2'), ('2021-04-06 01:27:24.510', 'D+000002.4'), ('2021-04-06 01:27:24.690', 'D+000003.0'), ('2021-04-06 01:27:24.710', 'D+000002.8'), ('2021-04-06 01:27:24.730', 'D+000002.4'), ('2021-04-06 01:27:24.750', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.4, 3.0, 2.8, 2.4, 3.0]
np.array X: [[2.2]
 [2.4]
 [3. ]
 [2.8]
 [2.4]
 [3. ]]
revised_weight: 3.0
2021-04-06 01:27:24.750: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:27:24.750
plc_result: True
sendmessage: 20210406012724750,1,000030,000030
send message to PLC: 2021-04-06 01:27:24.887
time gap: 0:00:00.010452
2021-04-06 01:27:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:25.666
lastevent: 2021-04-06 01:27:25.649, last ten sensor data: [('2021-04-06 01:27:25.180', 'D+000002.4'), ('2021-04-06 01:27:25.200', 'D+000002.6'), ('2021-04-06 01:27:25.220', 'D+000002.4'), ('2021-04-06 01:27:25.240', 'D+000002.4'), ('2021-04-06 01:27:25.260', 'D+000002.4'), ('2021-04-06 01:27:25.410', 'D+000002.6'), ('2021-04-06 01:27:25.440', 'D+000002.8'), ('2021-04-06 01:27:25.460', 'D+000003.2'), ('2021-04-06 01:27:25.480', 'D+000003.2'), ('2021-04-06 01:27:25.500', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.6, 2.8, 3.2, 3.2, 3.0]
np.array X: [[2.4]
 [2.6]
 [2.8]
 [3.2]
 [3.2]
 [3. ]]
revised_weight: 2.8
2021-04-06 01:27:25.500: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:27:25.500
plc_result: True
sendmessage: 20210406012725500,1,000030,000028
send message to PLC: 2021-04-06 01:27:25.677
time gap: 0:00:00.011602
2021-04-06 01:27:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:26.293
lastevent: 2021-04-06 01:27:26.281, last ten sensor data: [('2021-04-06 01:27:25.740', 'D+000003.0'), ('2021-04-06 01:27:25.900', 'D+000002.8'), ('2021-04-06 01:27:25.920', 'D+000003.0'), ('2021-04-06 01:27:25.940', 'D+000002.6'), ('2021-04-06 01:27:25.960', 'D+000002.6'), ('2021-04-06 01:27:25.980', 'D+000002.2'), ('2021-04-06 01:27:26.160', 'D+000003.4'), ('2021-04-06 01:27:26.180', 'D+000003.4'), ('2021-04-06 01:27:26.200', 'D+000003.2'), ('2021-04-06 01:27:26.220', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.2, 3.4, 3.4, 3.2, 3.0]
np.array X: [[2.6]
 [2.2]
 [3.4]
 [3.4]
 [3.2]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:27:26.220: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:27:26.220
plc_result: True
sendmessage: 20210406012726220,1,000030,000029
send message to PLC: 2021-04-06 01:27:26.299
time gap: 0:00:00.006661
2021-04-06 01:27:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:27.387
lastevent: 2021-04-06 01:27:27.369, last ten sensor data: [('2021-04-06 01:27:26.910', 'D+000003.2'), ('2021-04-06 01:27:26.930', 'D+000003.0'), ('2021-04-06 01:27:26.950', 'D+000003.2'), ('2021-04-06 01:27:26.970', 'D+000003.0'), ('2021-04-06 01:27:27.120', 'D+000004.6'), ('2021-04-06 01:27:27.140', 'D+000004.0'), ('2021-04-06 01:27:27.160', 'D+000004.4'), ('2021-04-06 01:27:27.180', 'D+000005.2'), ('2021-04-06 01:27:27.200', 'D+000004.8'), ('2021-04-06 01:27:27.370', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.0, 4.4, 5.2, 4.8, 4.8]
np.array X: [[4.6]
 [4. ]
 [4.4]
 [5.2]
 [4.8]
 [4.8]]
revised_weight: 4.5
2021-04-06 01:27:27.370: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:27:27.370
plc_result: True
sendmessage: 20210406012727370,1,000048,000045
send message to PLC: 2021-04-06 01:27:27.399
time gap: 0:00:00.011954
2021-04-06 01:27:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:28.048
lastevent: 2021-04-06 01:27:28.035, last ten sensor data: [('2021-04-06 01:27:27.440', 'D+000004.8'), ('2021-04-06 01:27:27.460', 'D+000005.0'), ('2021-04-06 01:27:27.630', 'D+000004.8'), ('2021-04-06 01:27:27.650', 'D+000004.6'), ('2021-04-06 01:27:27.670', 'D+000004.4'), ('2021-04-06 01:27:27.690', 'D+000004.4'), ('2021-04-06 01:27:27.870', 'D+000004.2'), ('2021-04-06 01:27:27.890', 'D+000003.8'), ('2021-04-06 01:27:27.910', 'D+000004.0'), ('2021-04-06 01:27:27.930', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 4.2, 3.8, 4.0, 4.2]
np.array X: [[4.4]
 [4.4]
 [4.2]
 [3.8]
 [4. ]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:27:27.930: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:27:27.930
plc_result: True
sendmessage: 20210406012727930,1,000042,000043
send message to PLC: 2021-04-06 01:27:28.054
time gap: 0:00:00.006438
2021-04-06 01:27:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:29.248
lastevent: 2021-04-06 01:27:29.228, last ten sensor data: [('2021-04-06 01:27:28.680', 'D+000003.6'), ('2021-04-06 01:27:28.860', 'D+000003.2'), ('2021-04-06 01:27:28.880', 'D+000003.2'), ('2021-04-06 01:27:28.900', 'D+000003.2'), ('2021-04-06 01:27:28.920', 'D+000003.6'), ('2021-04-06 01:27:28.940', 'D+000003.4'), ('2021-04-06 01:27:29.110', 'D+000003.0'), ('2021-04-06 01:27:29.130', 'D+000003.4'), ('2021-04-06 01:27:29.150', 'D+000003.6'), ('2021-04-06 01:27:29.170', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.4, 3.0, 3.4, 3.6, 3.4]
np.array X: [[3.6]
 [3.4]
 [3. ]
 [3.4]
 [3.6]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:27:29.170: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:27:29.170
plc_result: True
sendmessage: 20210406012729170,1,000034,000034
send message to PLC: 2021-04-06 01:27:29.260
time gap: 0:00:00.011942
2021-04-06 01:27:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:30.214
lastevent: 2021-04-06 01:27:30.208, last ten sensor data: [('2021-04-06 01:27:29.630', 'D+000002.8'), ('2021-04-06 01:27:29.650', 'D+000003.0'), ('2021-04-06 01:27:29.670', 'D+000003.2'), ('2021-04-06 01:27:29.820', 'D+000002.8'), ('2021-04-06 01:27:29.850', 'D+000003.4'), ('2021-04-06 01:27:29.870', 'D+000003.2'), ('2021-04-06 01:27:29.890', 'D+000003.2'), ('2021-04-06 01:27:29.910', 'D+000003.6'), ('2021-04-06 01:27:30.070', 'D+000003.8'), ('2021-04-06 01:27:30.090', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.2, 3.2, 3.6, 3.8, 3.6]
np.array X: [[3.4]
 [3.2]
 [3.2]
 [3.6]
 [3.8]
 [3.6]]
revised_weight: 3.5
2021-04-06 01:27:30.090: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:27:30.090
plc_result: True
sendmessage: 20210406012730090,1,000036,000035
send message to PLC: 2021-04-06 01:27:30.221
time gap: 0:00:00.006636
2021-04-06 01:27:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:30.642
lastevent: 2021-04-06 01:27:30.632, last ten sensor data: [0, ('2021-04-06 01:27:30.270', 'D+000004.8'), ('2021-04-06 01:27:30.290', 'D+000005.0'), ('2021-04-06 01:27:30.310', 'D+000005.0'), ('2021-04-06 01:27:30.330', 'D+000004.8'), ('2021-04-06 01:27:30.490', 'D+000006.0'), ('2021-04-06 01:27:30.510', 'D+000006.0'), ('2021-04-06 01:27:30.530', 'D+000004.8'), ('2021-04-06 01:27:30.550', 'D+000005.2'), ('2021-04-06 01:27:30.570', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 6.0, 6.0, 4.8, 5.2, 6.2]
np.array X: [[4.8]
 [6. ]
 [6. ]
 [4.8]
 [5.2]
 [6.2]]
revised_weight: 5.5
2021-04-06 01:27:30.570: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:27:30.570
plc_result: True
sendmessage: 20210406012730570,1,000062,000055
send message to PLC: 2021-04-06 01:27:30.648
time gap: 0:00:00.006665
2021-04-06 01:27:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:31.601
lastevent: 2021-04-06 01:27:31.588, last ten sensor data: [('2021-04-06 01:27:30.930', 'D+000005.0'), ('2021-04-06 01:27:31.100', 'D+000003.8'), ('2021-04-06 01:27:31.120', 'D+000003.6'), ('2021-04-06 01:27:31.140', 'D+000003.8'), ('2021-04-06 01:27:31.160', 'D+000003.6'), ('2021-04-06 01:27:31.340', 'D+000004.8'), ('2021-04-06 01:27:31.360', 'D+000005.0'), ('2021-04-06 01:27:31.380', 'D+000005.0'), ('2021-04-06 01:27:31.400', 'D+000005.4'), ('2021-04-06 01:27:31.590', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.8, 5.0, 5.0, 5.4, 5.8]
np.array X: [[3.6]
 [4.8]
 [5. ]
 [5. ]
 [5.4]
 [5.8]]
revised_weight: 5.3
2021-04-06 01:27:31.590: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:27:31.590
plc_result: True
sendmessage: 20210406012731590,1,000058,000053
send message to PLC: 2021-04-06 01:27:31.607
time gap: 0:00:00.006341
2021-04-06 01:27:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:32.339
lastevent: 2021-04-06 01:27:32.327, last ten sensor data: [('2021-04-06 01:27:31.900', 'D+000005.4'), ('2021-04-06 01:27:31.920', 'D+000005.4'), ('2021-04-06 01:27:32.060', 'D+000005.0'), ('2021-04-06 01:27:32.080', 'D+000004.8'), ('2021-04-06 01:27:32.100', 'D+000004.4'), ('2021-04-06 01:27:32.120', 'D+000004.8'), ('2021-04-06 01:27:32.140', 'D+000004.8'), ('2021-04-06 01:27:32.160', 'D+000004.6'), ('2021-04-06 01:27:32.310', 'D+000004.2'), ('2021-04-06 01:27:32.330', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.8, 4.8, 4.6, 4.2, 3.8]
np.array X: [[4.4]
 [4.8]
 [4.8]
 [4.6]
 [4.2]
 [3.8]]
revised_weight: 4.0
2021-04-06 01:27:32.330: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:27:32.330
plc_result: True
sendmessage: 20210406012732330,1,000038,000040
send message to PLC: 2021-04-06 01:27:32.345
time gap: 0:00:00.006256
2021-04-06 01:27:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:32.910
lastevent: 2021-04-06 01:27:32.903, last ten sensor data: [('2021-04-06 01:27:32.390', 'D+000004.0'), ('2021-04-06 01:27:32.570', 'D+000004.2'), ('2021-04-06 01:27:32.590', 'D+000004.2'), ('2021-04-06 01:27:32.610', 'D+000004.4'), ('2021-04-06 01:27:32.630', 'D+000005.6'), ('2021-04-06 01:27:32.790', 'D+000007.6'), ('2021-04-06 01:27:32.820', 'D+000007.4'), ('2021-04-06 01:27:32.840', 'D+000009.8'), ('2021-04-06 01:27:32.860', 'D+000011.0'), ('2021-04-06 01:27:32.880', 'D+000008.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 7.6, 7.4, 9.8, 11.0, 8.6]
np.array X: [[ 5.6]
 [ 7.6]
 [ 7.4]
 [ 9.8]
 [11. ]
 [ 8.6]]
revised_weight: 8.3
2021-04-06 01:27:32.880: revising weight finished
revised_weight: 8.3 at 2021-04-06 01:27:32.880
plc_result: True
sendmessage: 20210406012732880,1,000086,000083
send message to PLC: 2021-04-06 01:27:32.917
time gap: 0:00:00.006663
2021-04-06 01:27:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:33.827
lastevent: 2021-04-06 01:27:33.814, last ten sensor data: [('2021-04-06 01:27:33.390', 'D+000004.8'), ('2021-04-06 01:27:33.530', 'D+000005.2'), ('2021-04-06 01:27:33.550', 'D+000005.4'), ('2021-04-06 01:27:33.570', 'D+000005.6'), ('2021-04-06 01:27:33.590', 'D+000006.2'), ('2021-04-06 01:27:33.610', 'D+000006.6'), ('2021-04-06 01:27:33.770', 'D+000008.8'), ('2021-04-06 01:27:33.790', 'D+000008.4'), ('2021-04-06 01:27:33.810', 'D+000008.2'), ('2021-04-06 01:27:33.830', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.6, 8.8, 8.4, 8.2, 8.2]
np.array X: [[6.2]
 [6.6]
 [8.8]
 [8.4]
 [8.2]
 [8.2]]
revised_weight: 8.3
2021-04-06 01:27:33.830: revising weight finished
revised_weight: 8.3 at 2021-04-06 01:27:33.830
plc_result: True
sendmessage: 20210406012733830,1,000082,000083
send message to PLC: 2021-04-06 01:27:33.833
time gap: 0:00:00.005981
2021-04-06 01:27:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:34.363
lastevent: 2021-04-06 01:27:34.356, last ten sensor data: [('2021-04-06 01:27:34.030', 'D+000008.6'), ('2021-04-06 01:27:34.050', 'D+000008.6'), ('2021-04-06 01:27:34.070', 'D+000008.8'), ('2021-04-06 01:27:34.090', 'D+000008.6'), ('2021-04-06 01:27:34.110', 'D+000008.4'), ('2021-04-06 01:27:34.270', 'D+000006.8'), ('2021-04-06 01:27:34.290', 'D+000006.6'), ('2021-04-06 01:27:34.310', 'D+000006.8'), ('2021-04-06 01:27:34.330', 'D+000006.8'), ('2021-04-06 01:27:34.350', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.4, 6.8, 6.6, 6.8, 6.8, 6.0]
np.array X: [[8.4]
 [6.8]
 [6.6]
 [6.8]
 [6.8]
 [6. ]]
revised_weight: 6.9
2021-04-06 01:27:34.350: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:27:34.350
plc_result: True
sendmessage: 20210406012734350,1,000060,000069
send message to PLC: 2021-04-06 01:27:34.369
time gap: 0:00:00.006321
2021-04-06 01:27:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:35.233
lastevent: 2021-04-06 01:27:35.218, last ten sensor data: [('2021-04-06 01:27:34.730', 'D+000003.8'), ('2021-04-06 01:27:34.900', 'D+000003.8'), ('2021-04-06 01:27:34.920', 'D+000003.8'), ('2021-04-06 01:27:34.940', 'D+000004.0'), ('2021-04-06 01:27:34.960', 'D+000004.0'), ('2021-04-06 01:27:34.980', 'D+000003.8'), ('2021-04-06 01:27:35.120', 'D+000004.2'), ('2021-04-06 01:27:35.140', 'D+000004.0'), ('2021-04-06 01:27:35.160', 'D+000004.2'), ('2021-04-06 01:27:35.180', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.8, 4.2, 4.0, 4.2, 3.8]
np.array X: [[4. ]
 [3.8]
 [4.2]
 [4. ]
 [4.2]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:27:35.180: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:27:35.180
plc_result: True
sendmessage: 20210406012735180,1,000038,000038
send message to PLC: 2021-04-06 01:27:35.239
time gap: 0:00:00.006281
2021-04-06 01:27:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:36.434
lastevent: 2021-04-06 01:27:36.424, last ten sensor data: [('2021-04-06 01:27:36.070', 'D+000002.8'), ('2021-04-06 01:27:36.090', 'D+000002.8'), ('2021-04-06 01:27:36.110', 'D+000003.2'), ('2021-04-06 01:27:36.130', 'D+000003.2'), ('2021-04-06 01:27:36.150', 'D+000003.0'), ('2021-04-06 01:27:36.310', 'D+000003.2'), ('2021-04-06 01:27:36.330', 'D+000003.2'), ('2021-04-06 01:27:36.350', 'D+000003.0'), ('2021-04-06 01:27:36.370', 'D+000003.0'), ('2021-04-06 01:27:36.390', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.2, 3.2, 3.0, 3.0, 3.4]
np.array X: [[3. ]
 [3.2]
 [3.2]
 [3. ]
 [3. ]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:27:36.390: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:27:36.390
plc_result: True
sendmessage: 20210406012736390,1,000034,000034
send message to PLC: 2021-04-06 01:27:36.441
time gap: 0:00:00.006627
2021-04-06 01:27:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:37.254
lastevent: 2021-04-06 01:27:37.239, last ten sensor data: [('2021-04-06 01:27:36.790', 'D+000002.8'), ('2021-04-06 01:27:36.810', 'D+000003.0'), ('2021-04-06 01:27:36.830', 'D+000003.2'), ('2021-04-06 01:27:36.850', 'D+000003.2'), ('2021-04-06 01:27:36.870', 'D+000002.8'), ('2021-04-06 01:27:37.040', 'D+000003.6'), ('2021-04-06 01:27:37.060', 'D+000003.8'), ('2021-04-06 01:27:37.080', 'D+000003.8'), ('2021-04-06 01:27:37.100', 'D+000004.0'), ('2021-04-06 01:27:37.130', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.6, 3.8, 3.8, 4.0, 4.0]
np.array X: [[2.8]
 [3.6]
 [3.8]
 [3.8]
 [4. ]
 [4. ]]
revised_weight: 3.9
2021-04-06 01:27:37.130: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:27:37.130
plc_result: True
sendmessage: 20210406012737130,1,000040,000039
send message to PLC: 2021-04-06 01:27:37.261
time gap: 0:00:00.006547
2021-04-06 01:27:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:37.907
lastevent: 2021-04-06 01:27:37.891, last ten sensor data: [('2021-04-06 01:27:37.580', 'D+000004.6'), ('2021-04-06 01:27:37.600', 'D+000004.4'), ('2021-04-06 01:27:37.630', 'D+000004.6'), ('2021-04-06 01:27:37.650', 'D+000004.6'), ('2021-04-06 01:27:37.670', 'D+000004.4'), ('2021-04-06 01:27:37.690', 'D+000004.4'), ('2021-04-06 01:27:37.710', 'D+000004.4'), ('2021-04-06 01:27:37.860', 'D+000005.6'), ('2021-04-06 01:27:37.890', 'D+000005.2'), ('2021-04-06 01:27:37.910', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 4.4, 5.6, 5.2, 5.6]
np.array X: [[4.4]
 [4.4]
 [4.4]
 [5.6]
 [5.2]
 [5.6]]
revised_weight: 5.6
2021-04-06 01:27:37.910: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:27:37.910
plc_result: True
sendmessage: 20210406012737910,1,000056,000056
send message to PLC: 2021-04-06 01:27:37.914
time gap: 0:00:00.006474
2021-04-06 01:27:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:38.478
lastevent: 2021-04-06 01:27:38.470, last ten sensor data: [('2021-04-06 01:27:37.950', 'D+000005.0'), ('2021-04-06 01:27:38.110', 'D+000005.6'), ('2021-04-06 01:27:38.130', 'D+000005.6'), ('2021-04-06 01:27:38.150', 'D+000005.8'), ('2021-04-06 01:27:38.170', 'D+000006.0'), ('2021-04-06 01:27:38.190', 'D+000006.0'), ('2021-04-06 01:27:38.360', 'D+000007.8'), ('2021-04-06 01:27:38.380', 'D+000007.8'), ('2021-04-06 01:27:38.400', 'D+000006.8'), ('2021-04-06 01:27:38.420', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.0, 7.8, 7.8, 6.8, 6.4]
np.array X: [[6. ]
 [6. ]
 [7.8]
 [7.8]
 [6.8]
 [6.4]]
revised_weight: 7.1
2021-04-06 01:27:38.420: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:27:38.420
plc_result: True
sendmessage: 20210406012738420,1,000064,000071
send message to PLC: 2021-04-06 01:27:38.484
time gap: 0:00:00.006382
2021-04-06 01:27:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:38.870
lastevent: 2021-04-06 01:27:38.854, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:27:38.610', 'D+000006.0'), ('2021-04-06 01:27:38.630', 'D+000005.8'), ('2021-04-06 01:27:38.650', 'D+000005.8'), ('2021-04-06 01:27:38.670', 'D+000005.8'), ('2021-04-06 01:27:38.840', 'D+000004.6'), ('2021-04-06 01:27:38.860', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 5.8, 5.8, 5.8, 4.6, 4.4]
np.array X: [[6. ]
 [5.8]
 [5.8]
 [5.8]
 [4.6]
 [4.4]]
revised_weight: 5.0
2021-04-06 01:27:38.860: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:27:38.860
plc_result: True
sendmessage: 20210406012738860,1,000044,000050
send message to PLC: 2021-04-06 01:27:38.876
time gap: 0:00:00.006249
2021-04-06 01:27:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:39.269
lastevent: 2021-04-06 01:27:39.253, last ten sensor data: [0, 0, ('2021-04-06 01:27:38.880', 'D+000004.6'), ('2021-04-06 01:27:38.900', 'D+000004.6'), ('2021-04-06 01:27:38.920', 'D+000004.6'), ('2021-04-06 01:27:39.100', 'D+000004.0'), ('2021-04-06 01:27:39.120', 'D+000003.8'), ('2021-04-06 01:27:39.140', 'D+000004.0'), ('2021-04-06 01:27:39.160', 'D+000004.0'), ('2021-04-06 01:27:39.180', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.0, 3.8, 4.0, 4.0, 3.8]
np.array X: [[4.6]
 [4. ]
 [3.8]
 [4. ]
 [4. ]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:27:39.180: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:27:39.180
plc_result: True
sendmessage: 20210406012739180,1,000038,000038
send message to PLC: 2021-04-06 01:27:39.275
time gap: 0:00:00.006271
2021-04-06 01:27:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:27:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:27:41.179
lastevent: 2021-04-06 01:27:41.175, last ten sensor data: [('2021-04-06 01:27:40.810', 'D+000002.6'), ('2021-04-06 01:27:40.830', 'D+000003.0'), ('2021-04-06 01:27:40.850', 'D+000004.0'), ('2021-04-06 01:27:40.870', 'D+000004.2'), ('2021-04-06 01:27:41.030', 'D+000006.0'), ('2021-04-06 01:27:41.050', 'D+000006.2'), ('2021-04-06 01:27:41.070', 'D+000006.6'), ('2021-04-06 01:27:41.090', 'D+000007.2'), ('2021-04-06 01:27:41.110', 'D+000007.2'), ('2021-04-06 01:27:41.130', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.2, 6.6, 7.2, 7.2, 7.4]
np.array X: [[6. ]
 [6.2]
 [6.6]
 [7.2]
 [7.2]
 [7.4]]
revised_weight: 7.2
2021-04-06 01:27:41.130: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:27:41.130
plc_result: True
sendmessage: 20210406012741130,1,000074,000072
send message to PLC: 2021-04-06 01:27:41.190
time gap: 0:00:00.011111
2021-04-06 01:27:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:27:41: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db']
2021-04-06 01:27:41: [13085] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_20.db
select_plcdb_filename: b
2021-04-06 01:27:41: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:27:41.946
lastevent: 2021-04-06 01:27:41.937, last ten sensor data: [('2021-04-06 01:27:41.510', 'D+000007.2'), ('2021-04-06 01:27:41.550', 'D+000007.2'), ('2021-04-06 01:27:41.570', 'D+000007.2'), ('2021-04-06 01:27:41.590', 'D+000007.0'), ('2021-04-06 01:27:41.610', 'D+000007.0'), ('2021-04-06 01:27:41.770', 'D+000006.0'), ('2021-04-06 01:27:41.790', 'D+000006.0'), ('2021-04-06 01:27:41.810', 'D+000005.2'), ('2021-04-06 01:27:41.830', 'D+000004.6'), ('2021-04-06 01:27:41.850', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 6.0, 6.0, 5.2, 4.6, 5.0]
np.array X: [[7. ]
 [6. ]
 [6. ]
 [5.2]
 [4.6]
 [5. ]]
revised_weight: 5.7
2021-04-06 01:27:41.850: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:27:41.850
plc_result: True
sendmessage: 20210406012741850,1,000050,000057
send message to PLC: 2021-04-06 01:27:41.954
time gap: 0:00:00.008185
2021-04-06 01:27:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:27:41: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:27:41: select done
2021-04-06 01:27:41: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:27:41: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:27:42: sendjson called, 46 records in httpPlcDataSender thread
2021-04-06 01:27:42: count: 46 in httpPlcDataSender thread
2021-04-06 01:27:42: D+: 46 in httpPlcDataSender thread
2021-04-06 01:27:42: D-: 0 in httpPlcDataSender thread
2021-04-06 01:27:42: S+: 0 in httpPlcDataSender thread
2021-04-06 01:27:42: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:26:49.970'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:26:51.000'}, {'value': '11.2', 'sensorAt': '2021-04-06 01:26:52.140'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:26:53.210'}, {'value': '11.1', 'sensorAt': '2021-04-06 01:26:54.180'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:26:55.690'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:26:56.450'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:26:57.220'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:26:57.750'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:26:58.470'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:27:01.560'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:27:02.690'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:27:03.160'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:27:04.840'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:27:05.850'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:27:08.210'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:27:08.960'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:27:10.680'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:27:12.670'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:27:14.400'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:27:16.590'}, {'value': '18.3', 'sensorAt': '2021-04-06 01:27:18.310'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:27:19.310'}, {'value': '9.3', 'sensorAt': '2021-04-06 01:27:23.260'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:27:24.750'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:27:25.500'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:27:26.220'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:27:27.370'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:27:27.930'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:27:29.170'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:27:30.090'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:27:30.570'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:27:31.590'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:27:32.330'}, {'value': '8.3', 'sensorAt': '2021-04-06 01:27:32.880'}, {'value': '8.3', 'sensorAt': '2021-04-06 01:27:33.830'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:27:34.350'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:27:35.180'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:27:36.390'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:27:37.130'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:27:37.910'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:27:38.420'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:27:38.860'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:27:39.180'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:27:41.130'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:27:41.850'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:49.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:51.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:52.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:53.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:54.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:55.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:56.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:57.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:57.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:58.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:01.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:02.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:03.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:04.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:05.850'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:08.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:08.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:10.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:12.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:14.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:16.590'}, {'value': 0, 'sensorAt': '2021-04-06 01:27:18.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:19.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:23.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:24.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:25.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:26.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:27.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:27.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:29.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:30.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:30.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:31.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:32.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:32.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:33.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:34.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:35.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:36.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:37.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:37.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:38.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:38.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:39.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:41.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:41.850'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:27:42', 'collectDate': '2021-04-06 01:27:41', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:26:49.970'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:26:51.000'}, {'value': '11.2', 'sensorAt': '2021-04-06 01:26:52.140'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:26:53.210'}, {'value': '11.1', 'sensorAt': '2021-04-06 01:26:54.180'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:26:55.690'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:26:56.450'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:26:57.220'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:26:57.750'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:26:58.470'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:27:01.560'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:27:02.690'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:27:03.160'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:27:04.840'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:27:05.850'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:27:08.210'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:27:08.960'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:27:10.680'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:27:12.670'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:27:14.400'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:27:16.590'}, {'value': '18.3', 'sensorAt': '2021-04-06 01:27:18.310'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:27:19.310'}, {'value': '9.3', 'sensorAt': '2021-04-06 01:27:23.260'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:27:24.750'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:27:25.500'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:27:26.220'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:27:27.370'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:27:27.930'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:27:29.170'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:27:30.090'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:27:30.570'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:27:31.590'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:27:32.330'}, {'value': '8.3', 'sensorAt': '2021-04-06 01:27:32.880'}, {'value': '8.3', 'sensorAt': '2021-04-06 01:27:33.830'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:27:34.350'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:27:35.180'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:27:36.390'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:27:37.130'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:27:37.910'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:27:38.420'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:27:38.860'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:27:39.180'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:27:41.130'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:27:41.850'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:26:49.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:51.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:52.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:53.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:54.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:55.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:56.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:57.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:57.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:26:58.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:01.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:02.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:03.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:04.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:05.850'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:08.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:08.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:10.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:12.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:14.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:16.590'}, {'value': 0, 'sensorAt': '2021-04-06 01:27:18.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:19.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:23.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:24.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:25.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:26.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:27.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:27.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:29.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:30.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:30.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:31.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:32.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:32.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:33.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:34.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:35.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:36.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:37.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:37.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:38.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:38.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:39.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:41.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:27:41.850'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:27:42: send http
2021-04-06 01:27:42: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:27:42: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:27:42.498
lastevent: 2021-04-06 01:27:42.487, last ten sensor data: [('2021-04-06 01:27:42.070', 'D+000003.6'), ('2021-04-06 01:27:42.090', 'D+000003.6'), ('2021-04-06 01:27:42.110', 'D+000003.8'), ('2021-04-06 01:27:42.130', 'D+000003.8'), ('2021-04-06 01:27:42.150', 'D+000003.4'), ('2021-04-06 01:27:42.320', 'D+000003.0'), ('2021-04-06 01:27:42.340', 'D+000003.0'), ('2021-04-06 01:27:42.360', 'D+000003.0'), ('2021-04-06 01:27:42.380', 'D+000003.2'), ('2021-04-06 01:27:42.400', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.0, 3.0, 3.0, 3.2, 3.4]
np.array X: [[3.4]
 [3. ]
 [3. ]
 [3. ]
 [3.2]
 [3.4]]
revised_weight: 3.3
2021-04-06 01:27:42.400: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:27:42.400
plc_result: True
sendmessage: 20210406012742400,1,000034,000033
send message to PLC: 2021-04-06 01:27:42.505
time gap: 0:00:00.006854
2021-04-06 01:27:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:27:42: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:27:47: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:27:47: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:27:47: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:27:47: select done
2021-04-06 01:27:47: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:27:47: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:27:47: sendjson called, 1 records in httpPlcDataSender thread
2021-04-06 01:27:47: count: 1 in httpPlcDataSender thread
2021-04-06 01:27:47: D+: 1 in httpPlcDataSender thread
2021-04-06 01:27:47: D-: 0 in httpPlcDataSender thread
2021-04-06 01:27:47: S+: 0 in httpPlcDataSender thread
2021-04-06 01:27:47: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:27:42.400'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:27:42.400'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:27:47', 'collectDate': '2021-04-06 01:27:42', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:27:42.400'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:27:42.400'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:27:47: send http
2021-04-06 01:27:47: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:27:48: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:27:48: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:27:53: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:27:53: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:27:53: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:27:53: select done
2021-04-06 01:27:53: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:27:53: No Data remains in httpPlcDataSender thread
2021-04-06 01:27:53: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:27:53: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:27:53: current db filename:  in httpPlcDataSender thread
2021-04-06 01:27:53: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:28:15: httpScaleDataSender thread Timeout occurred
2021-04-06 01:28:15: [13715] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
2021-04-06 01:28:15: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:28:17.556
lastevent: 2021-04-06 01:28:17.541, last ten sensor data: [('2021-04-06 01:28:16.980', 'D+000003.0'), ('2021-04-06 01:28:17.160', 'D+000003.6'), ('2021-04-06 01:28:17.180', 'D+000004.0'), ('2021-04-06 01:28:17.200', 'D+000004.2'), ('2021-04-06 01:28:17.220', 'D+000004.6'), ('2021-04-06 01:28:17.240', 'D+000004.6'), ('2021-04-06 01:28:17.500', 'D+000007.8'), ('2021-04-06 01:28:17.520', 'D+000007.8'), ('2021-04-06 01:28:17.540', 'D+000008.2'), ('2021-04-06 01:28:17.560', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 7.8, 7.8, 8.2, 8.0]
np.array X: [[4.6]
 [4.6]
 [7.8]
 [7.8]
 [8.2]
 [8. ]]
revised_weight: 7.3
2021-04-06 01:28:17.560: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:28:17.560
plc_result: True
sendmessage: 20210406012817560,1,000080,000073
send message to PLC: 2021-04-06 01:28:17.562
time gap: 0:00:00.006516
2021-04-06 01:28:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:18.310
lastevent: 2021-04-06 01:28:18.295, last ten sensor data: [('2021-04-06 01:28:17.800', 'D+000007.4'), ('2021-04-06 01:28:17.820', 'D+000007.4'), ('2021-04-06 01:28:17.990', 'D+000007.2'), ('2021-04-06 01:28:18.010', 'D+000007.0'), ('2021-04-06 01:28:18.030', 'D+000006.6'), ('2021-04-06 01:28:18.200', 'D+000005.8'), ('2021-04-06 01:28:18.220', 'D+000005.2'), ('2021-04-06 01:28:18.240', 'D+000005.2'), ('2021-04-06 01:28:18.260', 'D+000005.2'), ('2021-04-06 01:28:18.300', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 5.8, 5.2, 5.2, 5.2, 4.8]
np.array X: [[6.6]
 [5.8]
 [5.2]
 [5.2]
 [5.2]
 [4.8]]
revised_weight: 5.5
2021-04-06 01:28:18.300: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:28:18.300
plc_result: True
sendmessage: 20210406012818300,1,000048,000055
send message to PLC: 2021-04-06 01:28:18.322
time gap: 0:00:00.011760
2021-04-06 01:28:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:19.146
lastevent: 2021-04-06 01:28:19.129, last ten sensor data: [('2021-04-06 01:28:18.680', 'D+000005.0'), ('2021-04-06 01:28:18.700', 'D+000005.0'), ('2021-04-06 01:28:18.720', 'D+000004.8'), ('2021-04-06 01:28:18.740', 'D+000004.8'), ('2021-04-06 01:28:18.760', 'D+000004.8'), ('2021-04-06 01:28:18.940', 'D+000003.6'), ('2021-04-06 01:28:18.960', 'D+000003.8'), ('2021-04-06 01:28:18.980', 'D+000003.8'), ('2021-04-06 01:28:19.000', 'D+000003.8'), ('2021-04-06 01:28:19.020', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 3.6, 3.8, 3.8, 3.8, 3.8]
np.array X: [[4.8]
 [3.6]
 [3.8]
 [3.8]
 [3.8]
 [3.8]]
revised_weight: 3.4
2021-04-06 01:28:19.020: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:28:19.020
plc_result: True
sendmessage: 20210406012819020,1,000038,000034
send message to PLC: 2021-04-06 01:28:19.158
time gap: 0:00:00.011211
2021-04-06 01:28:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:20.993
lastevent: 2021-04-06 01:28:20.978, last ten sensor data: [('2021-04-06 01:28:20.450', 'D+000002.4'), ('2021-04-06 01:28:20.640', 'D+000003.4'), ('2021-04-06 01:28:20.660', 'D+000004.6'), ('2021-04-06 01:28:20.680', 'D+000005.0'), ('2021-04-06 01:28:20.700', 'D+000004.6'), ('2021-04-06 01:28:20.880', 'D+000006.4'), ('2021-04-06 01:28:20.900', 'D+000006.8'), ('2021-04-06 01:28:20.920', 'D+000007.0'), ('2021-04-06 01:28:20.940', 'D+000007.4'), ('2021-04-06 01:28:20.960', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 6.4, 6.8, 7.0, 7.4, 7.4]
np.array X: [[4.6]
 [6.4]
 [6.8]
 [7. ]
 [7.4]
 [7.4]]
revised_weight: 7.1
2021-04-06 01:28:20.960: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:28:20.960
plc_result: True
sendmessage: 20210406012820960,1,000074,000071
send message to PLC: 2021-04-06 01:28:20.999
time gap: 0:00:00.006379
2021-04-06 01:28:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:22.219
lastevent: 2021-04-06 01:28:22.205, last ten sensor data: [('2021-04-06 01:28:21.860', 'D+000003.4'), ('2021-04-06 01:28:21.880', 'D+000003.2'), ('2021-04-06 01:28:21.900', 'D+000003.2'), ('2021-04-06 01:28:21.920', 'D+000003.6'), ('2021-04-06 01:28:21.940', 'D+000003.4'), ('2021-04-06 01:28:22.100', 'D+000004.4'), ('2021-04-06 01:28:22.120', 'D+000004.2'), ('2021-04-06 01:28:22.140', 'D+000004.6'), ('2021-04-06 01:28:22.160', 'D+000004.4'), ('2021-04-06 01:28:22.180', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.4, 4.2, 4.6, 4.4, 4.8]
np.array X: [[3.4]
 [4.4]
 [4.2]
 [4.6]
 [4.4]
 [4.8]]
revised_weight: 4.0
2021-04-06 01:28:22.180: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:28:22.180
plc_result: True
sendmessage: 20210406012822180,1,000048,000040
send message to PLC: 2021-04-06 01:28:22.225
time gap: 0:00:00.005931
2021-04-06 01:28:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:22.954
lastevent: 2021-04-06 01:28:22.939, last ten sensor data: [('2021-04-06 01:28:22.600', 'D+000004.8'), ('2021-04-06 01:28:22.620', 'D+000005.2'), ('2021-04-06 01:28:22.640', 'D+000005.2'), ('2021-04-06 01:28:22.660', 'D+000004.8'), ('2021-04-06 01:28:22.680', 'D+000004.6'), ('2021-04-06 01:28:22.830', 'D+000004.4'), ('2021-04-06 01:28:22.850', 'D+000004.6'), ('2021-04-06 01:28:22.870', 'D+000004.8'), ('2021-04-06 01:28:22.890', 'D+000004.8'), ('2021-04-06 01:28:22.910', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.4, 4.6, 4.8, 4.8, 4.6]
np.array X: [[4.6]
 [4.4]
 [4.6]
 [4.8]
 [4.8]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:28:22.910: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:28:22.910
plc_result: True
sendmessage: 20210406012822910,1,000046,000046
send message to PLC: 2021-04-06 01:28:22.961
time gap: 0:00:00.006401
2021-04-06 01:28:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:23.658
lastevent: 2021-04-06 01:28:23.643, last ten sensor data: [('2021-04-06 01:28:23.330', 'D+000005.4'), ('2021-04-06 01:28:23.350', 'D+000005.8'), ('2021-04-06 01:28:23.370', 'D+000006.4'), ('2021-04-06 01:28:23.390', 'D+000006.4'), ('2021-04-06 01:28:23.410', 'D+000006.0'), ('2021-04-06 01:28:23.580', 'D+000008.8'), ('2021-04-06 01:28:23.600', 'D+000008.8'), ('2021-04-06 01:28:23.620', 'D+000008.6'), ('2021-04-06 01:28:23.640', 'D+000008.0'), ('2021-04-06 01:28:23.660', 'D+000009.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 8.8, 8.8, 8.6, 8.0, 9.0]
np.array X: [[6. ]
 [8.8]
 [8.8]
 [8.6]
 [8. ]
 [9. ]]
revised_weight: 9.4
2021-04-06 01:28:23.660: revising weight finished
revised_weight: 9.4 at 2021-04-06 01:28:23.660
plc_result: True
sendmessage: 20210406012823660,1,000090,000094
send message to PLC: 2021-04-06 01:28:23.664
time gap: 0:00:00.006013
2021-04-06 01:28:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:24.543
lastevent: 2021-04-06 01:28:24.534, last ten sensor data: [('2021-04-06 01:28:24.290', 'D+000009.4'), ('2021-04-06 01:28:24.310', 'D+000009.8'), ('2021-04-06 01:28:24.330', 'D+000010.0'), ('2021-04-06 01:28:24.350', 'D+000010.0'), ('2021-04-06 01:28:24.370', 'D+000009.8'), ('2021-04-06 01:28:24.390', 'D+000009.2'), ('2021-04-06 01:28:24.470', 'D+000011.0'), ('2021-04-06 01:28:24.490', 'D+000011.4'), ('2021-04-06 01:28:24.510', 'D+000011.2'), ('2021-04-06 01:28:24.530', 'D+000011.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.8, 9.2, 11.0, 11.4, 11.2, 11.0]
np.array X: [[ 9.8]
 [ 9.2]
 [11. ]
 [11.4]
 [11.2]
 [11. ]]
revised_weight: 10.4
2021-04-06 01:28:24.530: revising weight finished
revised_weight: 10.4 at 2021-04-06 01:28:24.530
plc_result: True
sendmessage: 20210406012824530,1,000110,000104
send message to PLC: 2021-04-06 01:28:24.549
time gap: 0:00:00.006120
2021-04-06 01:28:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:25.175
lastevent: 2021-04-06 01:28:25.160, last ten sensor data: [0, ('2021-04-06 01:28:24.720', 'D+000011.4'), ('2021-04-06 01:28:24.740', 'D+000011.4'), ('2021-04-06 01:28:24.760', 'D+000011.2'), ('2021-04-06 01:28:24.780', 'D+000011.2'), ('2021-04-06 01:28:24.960', 'D+000014.6'), ('2021-04-06 01:28:24.980', 'D+000014.2'), ('2021-04-06 01:28:25.000', 'D+000013.4'), ('2021-04-06 01:28:25.020', 'D+000012.0'), ('2021-04-06 01:28:25.040', 'D+000010.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [11.2, 14.6, 14.2, 13.4, 12.0, 10.4]
np.array X: [[11.2]
 [14.6]
 [14.2]
 [13.4]
 [12. ]
 [10.4]]
revised_weight: 12.4
2021-04-06 01:28:25.040: revising weight finished
revised_weight: 12.4 at 2021-04-06 01:28:25.040
plc_result: True
sendmessage: 20210406012825040,1,000104,000124
send message to PLC: 2021-04-06 01:28:25.182
time gap: 0:00:00.006280
2021-04-06 01:28:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:26.424
lastevent: 2021-04-06 01:28:26.417, last ten sensor data: [('2021-04-06 01:28:25.940', 'D+000009.8'), ('2021-04-06 01:28:25.960', 'D+000010.0'), ('2021-04-06 01:28:25.980', 'D+000009.8'), ('2021-04-06 01:28:26.140', 'D+000008.0'), ('2021-04-06 01:28:26.160', 'D+000008.2'), ('2021-04-06 01:28:26.180', 'D+000008.0'), ('2021-04-06 01:28:26.200', 'D+000007.8'), ('2021-04-06 01:28:26.220', 'D+000008.2'), ('2021-04-06 01:28:26.400', 'D+000008.2'), ('2021-04-06 01:28:26.420', 'D+000009.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 8.0, 7.8, 8.2, 8.2, 9.6]
np.array X: [[8.2]
 [8. ]
 [7.8]
 [8.2]
 [8.2]
 [9.6]]
revised_weight: 8.5
2021-04-06 01:28:26.420: revising weight finished
revised_weight: 8.5 at 2021-04-06 01:28:26.420
plc_result: True
sendmessage: 20210406012826420,1,000096,000085
send message to PLC: 2021-04-06 01:28:26.431
time gap: 0:00:00.006497
2021-04-06 01:28:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:27.810
lastevent: 2021-04-06 01:28:27.795, last ten sensor data: [('2021-04-06 01:28:27.380', 'D+000003.8'), ('2021-04-06 01:28:27.400', 'D+000003.8'), ('2021-04-06 01:28:27.420', 'D+000004.0'), ('2021-04-06 01:28:27.440', 'D+000004.0'), ('2021-04-06 01:28:27.620', 'D+000004.4'), ('2021-04-06 01:28:27.640', 'D+000004.6'), ('2021-04-06 01:28:27.660', 'D+000004.4'), ('2021-04-06 01:28:27.680', 'D+000004.2'), ('2021-04-06 01:28:27.700', 'D+000004.0'), ('2021-04-06 01:28:27.720', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 4.4, 4.2, 4.0, 3.8]
np.array X: [[4.4]
 [4.6]
 [4.4]
 [4.2]
 [4. ]
 [3.8]]
revised_weight: 4.0
2021-04-06 01:28:27.720: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:28:27.720
plc_result: True
sendmessage: 20210406012827720,1,000038,000040
send message to PLC: 2021-04-06 01:28:27.816
time gap: 0:00:00.006132
2021-04-06 01:28:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:28.187
lastevent: 2021-04-06 01:28:28.166, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:28:27.890', 'D+000004.4'), ('2021-04-06 01:28:27.910', 'D+000004.4'), ('2021-04-06 01:28:27.930', 'D+000004.6'), ('2021-04-06 01:28:27.950', 'D+000004.2'), ('2021-04-06 01:28:28.150', 'D+000004.4'), ('2021-04-06 01:28:28.170', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 4.6, 4.2, 4.4, 4.0]
np.array X: [[4.4]
 [4.4]
 [4.6]
 [4.2]
 [4.4]
 [4. ]]
revised_weight: 4.2
2021-04-06 01:28:28.170: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:28:28.170
plc_result: True
sendmessage: 20210406012828170,1,000040,000042
send message to PLC: 2021-04-06 01:28:28.199
time gap: 0:00:00.011818
2021-04-06 01:28:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:28.716
lastevent: 2021-04-06 01:28:28.708, last ten sensor data: [('2021-04-06 01:28:28.370', 'D+000004.0'), ('2021-04-06 01:28:28.390', 'D+000004.0'), ('2021-04-06 01:28:28.410', 'D+000004.0'), ('2021-04-06 01:28:28.430', 'D+000003.8'), ('2021-04-06 01:28:28.450', 'D+000003.8'), ('2021-04-06 01:28:28.620', 'D+000003.6'), ('2021-04-06 01:28:28.640', 'D+000004.2'), ('2021-04-06 01:28:28.660', 'D+000004.0'), ('2021-04-06 01:28:28.680', 'D+000003.6'), ('2021-04-06 01:28:28.700', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.6, 4.2, 4.0, 3.6, 3.6]
np.array X: [[3.8]
 [3.6]
 [4.2]
 [4. ]
 [3.6]
 [3.6]]
revised_weight: 3.7
2021-04-06 01:28:28.700: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:28:28.700
plc_result: True
sendmessage: 20210406012828700,1,000036,000037
send message to PLC: 2021-04-06 01:28:28.722
time gap: 0:00:00.006240
2021-04-06 01:28:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:29.116
lastevent: 2021-04-06 01:28:29.108, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:28:28.860', 'D+000003.6'), ('2021-04-06 01:28:28.880', 'D+000003.6'), ('2021-04-06 01:28:28.900', 'D+000004.2'), ('2021-04-06 01:28:28.920', 'D+000004.2'), ('2021-04-06 01:28:29.090', 'D+000004.0'), ('2021-04-06 01:28:29.110', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 4.2, 4.2, 4.0, 4.2]
np.array X: [[3.6]
 [3.6]
 [4.2]
 [4.2]
 [4. ]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:28:29.110: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:28:29.110
plc_result: True
sendmessage: 20210406012829110,1,000042,000042
send message to PLC: 2021-04-06 01:28:29.122
time gap: 0:00:00.006076
2021-04-06 01:28:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:28:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:30.038
lastevent: 2021-04-06 01:28:30.035, last ten sensor data: [('2021-04-06 01:28:29.600', 'D+000003.6'), ('2021-04-06 01:28:29.620', 'D+000003.6'), ('2021-04-06 01:28:29.640', 'D+000003.6'), ('2021-04-06 01:28:29.660', 'D+000003.4'), ('2021-04-06 01:28:29.780', 'D+000004.8'), ('2021-04-06 01:28:29.830', 'D+000005.2'), ('2021-04-06 01:28:29.850', 'D+000004.6'), ('2021-04-06 01:28:29.870', 'D+000005.4'), ('2021-04-06 01:28:29.890', 'D+000005.4'), ('2021-04-06 01:28:29.910', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.2, 4.6, 5.4, 5.4, 5.6]
np.array X: [[4.8]
 [5.2]
 [4.6]
 [5.4]
 [5.4]
 [5.6]]
revised_weight: 5.1
2021-04-06 01:28:29.910: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:28:29.910
plc_result: True
sendmessage: 20210406012829910,1,000056,000051
send message to PLC: 2021-04-06 01:28:30.044
time gap: 0:00:00.006084
2021-04-06 01:28:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:31.162
lastevent: 2021-04-06 01:28:31.154, last ten sensor data: [('2021-04-06 01:28:30.800', 'D+000003.6'), ('2021-04-06 01:28:30.820', 'D+000003.4'), ('2021-04-06 01:28:30.840', 'D+000003.4'), ('2021-04-06 01:28:30.860', 'D+000004.0'), ('2021-04-06 01:28:30.880', 'D+000004.0'), ('2021-04-06 01:28:30.900', 'D+000004.2'), ('2021-04-06 01:28:31.040', 'D+000007.0'), ('2021-04-06 01:28:31.070', 'D+000007.6'), ('2021-04-06 01:28:31.090', 'D+000007.8'), ('2021-04-06 01:28:31.110', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 7.0, 7.6, 7.8, 8.0]
np.array X: [[4. ]
 [4.2]
 [7. ]
 [7.6]
 [7.8]
 [8. ]]
revised_weight: 7.0
2021-04-06 01:28:31.110: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:28:31.110
plc_result: True
sendmessage: 20210406012831110,1,000080,000070
send message to PLC: 2021-04-06 01:28:31.173
time gap: 0:00:00.011099
2021-04-06 01:28:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:31.967
lastevent: 2021-04-06 01:28:31.958, last ten sensor data: [('2021-04-06 01:28:31.360', 'D+000008.6'), ('2021-04-06 01:28:31.380', 'D+000007.6'), ('2021-04-06 01:28:31.550', 'D+000008.2'), ('2021-04-06 01:28:31.570', 'D+000008.0'), ('2021-04-06 01:28:31.590', 'D+000008.0'), ('2021-04-06 01:28:31.610', 'D+000007.6'), ('2021-04-06 01:28:31.790', 'D+000007.6'), ('2021-04-06 01:28:31.810', 'D+000008.2'), ('2021-04-06 01:28:31.830', 'D+000008.0'), ('2021-04-06 01:28:31.850', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.0, 7.6, 7.6, 8.2, 8.0, 8.2]
np.array X: [[8. ]
 [7.6]
 [7.6]
 [8.2]
 [8. ]
 [8.2]]
revised_weight: 7.9
2021-04-06 01:28:31.850: revising weight finished
revised_weight: 7.9 at 2021-04-06 01:28:31.850
plc_result: True
sendmessage: 20210406012831850,1,000082,000079
send message to PLC: 2021-04-06 01:28:31.978
time gap: 0:00:00.011446
2021-04-06 01:28:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:34.348
lastevent: 2021-04-06 01:28:34.338, last ten sensor data: [('2021-04-06 01:28:33.730', 'D+000002.6'), ('2021-04-06 01:28:33.750', 'D+000002.4'), ('2021-04-06 01:28:33.920', 'D+000002.4'), ('2021-04-06 01:28:33.940', 'D+000002.2'), ('2021-04-06 01:28:33.960', 'D+000002.0'), ('2021-04-06 01:28:33.980', 'D+000002.0'), ('2021-04-06 01:28:34.160', 'D+000004.0'), ('2021-04-06 01:28:34.180', 'D+000004.4'), ('2021-04-06 01:28:34.200', 'D+000004.6'), ('2021-04-06 01:28:34.220', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.0, 4.0, 4.4, 4.6, 4.8]
np.array X: [[2. ]
 [2. ]
 [4. ]
 [4.4]
 [4.6]
 [4.8]]
revised_weight: 4.3
2021-04-06 01:28:34.220: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:28:34.220
plc_result: True
sendmessage: 20210406012834220,1,000048,000043
send message to PLC: 2021-04-06 01:28:34.367
time gap: 0:00:00.018629
2021-04-06 01:28:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:36.192
lastevent: 2021-04-06 01:28:36.183, last ten sensor data: [('2021-04-06 01:28:35.700', 'D+000003.0'), ('2021-04-06 01:28:35.860', 'D+000003.8'), ('2021-04-06 01:28:35.880', 'D+000003.8'), ('2021-04-06 01:28:35.900', 'D+000004.0'), ('2021-04-06 01:28:35.920', 'D+000004.2'), ('2021-04-06 01:28:35.940', 'D+000004.2'), ('2021-04-06 01:28:36.110', 'D+000004.0'), ('2021-04-06 01:28:36.130', 'D+000004.8'), ('2021-04-06 01:28:36.150', 'D+000004.8'), ('2021-04-06 01:28:36.170', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 4.0, 4.8, 4.8, 4.2]
np.array X: [[4.2]
 [4.2]
 [4. ]
 [4.8]
 [4.8]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:28:36.170: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:28:36.170
plc_result: True
sendmessage: 20210406012836170,1,000042,000043
send message to PLC: 2021-04-06 01:28:36.204
time gap: 0:00:00.011698
2021-04-06 01:28:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:36.838
lastevent: 2021-04-06 01:28:36.828, last ten sensor data: [('2021-04-06 01:28:36.370', 'D+000003.6'), ('2021-04-06 01:28:36.390', 'D+000003.8'), ('2021-04-06 01:28:36.410', 'D+000004.2'), ('2021-04-06 01:28:36.430', 'D+000004.2'), ('2021-04-06 01:28:36.590', 'D+000005.0'), ('2021-04-06 01:28:36.610', 'D+000005.0'), ('2021-04-06 01:28:36.630', 'D+000005.0'), ('2021-04-06 01:28:36.650', 'D+000005.0'), ('2021-04-06 01:28:36.670', 'D+000005.2'), ('2021-04-06 01:28:36.690', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 5.0, 5.0, 5.2, 5.8]
np.array X: [[5. ]
 [5. ]
 [5. ]
 [5. ]
 [5.2]
 [5.8]]
revised_weight: 5.3
2021-04-06 01:28:36.690: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:28:36.690
plc_result: True
sendmessage: 20210406012836690,1,000058,000053
send message to PLC: 2021-04-06 01:28:36.849
time gap: 0:00:00.011390
2021-04-06 01:28:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:28:37.704
lastevent: 2021-04-06 01:28:37.698, last ten sensor data: [('2021-04-06 01:28:37.170', 'D+000005.6'), ('2021-04-06 01:28:37.330', 'D+000003.4'), ('2021-04-06 01:28:37.350', 'D+000003.6'), ('2021-04-06 01:28:37.370', 'D+000003.6'), ('2021-04-06 01:28:37.390', 'D+000003.6'), ('2021-04-06 01:28:37.410', 'D+000004.2'), ('2021-04-06 01:28:37.590', 'D+000005.0'), ('2021-04-06 01:28:37.610', 'D+000007.0'), ('2021-04-06 01:28:37.630', 'D+000007.2'), ('2021-04-06 01:28:37.650', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.2, 5.0, 7.0, 7.2, 5.2]
np.array X: [[3.6]
 [4.2]
 [5. ]
 [7. ]
 [7.2]
 [5.2]]
revised_weight: 5.5
2021-04-06 01:28:37.650: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:28:37.650
plc_result: True
sendmessage: 20210406012837650,1,000052,000055
send message to PLC: 2021-04-06 01:28:37.716
time gap: 0:00:00.011054
2021-04-06 01:28:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:28:53: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db']
2021-04-06 01:28:53: [13086] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_20.db
select_plcdb_filename: b
2021-04-06 01:28:53: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:28:53: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:28:53: select done
2021-04-06 01:28:53: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:28:53: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:28:53: sendjson called, 21 records in httpPlcDataSender thread
2021-04-06 01:28:53: count: 21 in httpPlcDataSender thread
2021-04-06 01:28:53: D+: 21 in httpPlcDataSender thread
2021-04-06 01:28:53: D-: 0 in httpPlcDataSender thread
2021-04-06 01:28:53: S+: 0 in httpPlcDataSender thread
2021-04-06 01:28:53: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.3', 'sensorAt': '2021-04-06 01:28:17.560'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:28:18.300'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:28:19.020'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:28:20.960'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:28:22.180'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:28:22.910'}, {'value': '9.4', 'sensorAt': '2021-04-06 01:28:23.660'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:28:24.530'}, {'value': '12.4', 'sensorAt': '2021-04-06 01:28:25.040'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:28:26.420'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:28:27.720'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:28:28.170'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:28:28.700'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:28:29.110'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:28:29.910'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:28:31.110'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:28:31.850'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:28:34.220'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:28:36.170'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:28:36.690'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:28:37.650'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:28:17.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:18.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:19.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:20.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:22.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:22.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:23.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:24.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:25.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:26.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:27.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:28.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:28.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:29.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:29.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:31.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:31.850'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:34.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:36.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:36.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:37.650'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:28:53', 'collectDate': '2021-04-06 01:28:37', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.3', 'sensorAt': '2021-04-06 01:28:17.560'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:28:18.300'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:28:19.020'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:28:20.960'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:28:22.180'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:28:22.910'}, {'value': '9.4', 'sensorAt': '2021-04-06 01:28:23.660'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:28:24.530'}, {'value': '12.4', 'sensorAt': '2021-04-06 01:28:25.040'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:28:26.420'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:28:27.720'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:28:28.170'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:28:28.700'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:28:29.110'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:28:29.910'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:28:31.110'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:28:31.850'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:28:34.220'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:28:36.170'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:28:36.690'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:28:37.650'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:28:17.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:18.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:19.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:20.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:22.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:22.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:23.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:24.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:25.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:26.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:27.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:28.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:28.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:29.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:29.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:31.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:31.850'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:34.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:36.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:36.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:28:37.650'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:28:53: send http
2021-04-06 01:28:53: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:28:54: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:28:54: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:28:59: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:28:59: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:28:59: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:28:59: select done
2021-04-06 01:28:59: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:28:59: No Data remains in httpPlcDataSender thread
2021-04-06 01:28:59: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:28:59: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:28:59: current db filename:  in httpPlcDataSender thread
2021-04-06 01:28:59: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:29:03.647
lastevent: 2021-04-06 01:29:03.633, last ten sensor data: [('2021-04-06 01:29:03.040', 'D+000002.8'), ('2021-04-06 01:29:03.220', 'D+000002.6'), ('2021-04-06 01:29:03.260', 'D+000002.8'), ('2021-04-06 01:29:03.280', 'D+000002.8'), ('2021-04-06 01:29:03.300', 'D+000003.0'), ('2021-04-06 01:29:03.320', 'D+000002.6'), ('2021-04-06 01:29:03.500', 'D+000004.4'), ('2021-04-06 01:29:03.520', 'D+000004.8'), ('2021-04-06 01:29:03.540', 'D+000004.4'), ('2021-04-06 01:29:03.560', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.6, 4.4, 4.8, 4.4, 4.2]
np.array X: [[3. ]
 [2.6]
 [4.4]
 [4.8]
 [4.4]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:29:03.560: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:29:03.560
plc_result: True
sendmessage: 20210406012903560,1,000042,000043
send message to PLC: 2021-04-06 01:29:03.658
time gap: 0:00:00.010612
2021-04-06 01:29:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:04.447
lastevent: 2021-04-06 01:29:04.440, last ten sensor data: [('2021-04-06 01:29:04.000', 'D+000004.2'), ('2021-04-06 01:29:04.020', 'D+000004.0'), ('2021-04-06 01:29:04.040', 'D+000004.0'), ('2021-04-06 01:29:04.060', 'D+000003.8'), ('2021-04-06 01:29:04.080', 'D+000003.8'), ('2021-04-06 01:29:04.220', 'D+000005.0'), ('2021-04-06 01:29:04.250', 'D+000005.0'), ('2021-04-06 01:29:04.270', 'D+000005.2'), ('2021-04-06 01:29:04.290', 'D+000005.4'), ('2021-04-06 01:29:04.310', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.0, 5.0, 5.2, 5.4, 5.0]
np.array X: [[3.8]
 [5. ]
 [5. ]
 [5.2]
 [5.4]
 [5. ]]
revised_weight: 4.7
2021-04-06 01:29:04.310: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:29:04.310
plc_result: True
sendmessage: 20210406012904310,1,000050,000047
send message to PLC: 2021-04-06 01:29:04.454
time gap: 0:00:00.007269
2021-04-06 01:29:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:05.488
lastevent: 2021-04-06 01:29:05.473, last ten sensor data: [('2021-04-06 01:29:05.010', 'D+000003.8'), ('2021-04-06 01:29:05.030', 'D+000004.2'), ('2021-04-06 01:29:05.050', 'D+000004.0'), ('2021-04-06 01:29:05.220', 'D+000005.2'), ('2021-04-06 01:29:05.240', 'D+000005.6'), ('2021-04-06 01:29:05.260', 'D+000005.8'), ('2021-04-06 01:29:05.280', 'D+000005.8'), ('2021-04-06 01:29:05.300', 'D+000005.8'), ('2021-04-06 01:29:05.450', 'D+000006.4'), ('2021-04-06 01:29:05.470', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.8, 5.8, 5.8, 6.4, 7.0]
np.array X: [[5.6]
 [5.8]
 [5.8]
 [5.8]
 [6.4]
 [7. ]]
revised_weight: 6.2
2021-04-06 01:29:05.470: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:29:05.470
plc_result: True
sendmessage: 20210406012905470,1,000070,000062
send message to PLC: 2021-04-06 01:29:05.495
time gap: 0:00:00.007491
2021-04-06 01:29:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:06.597
lastevent: 2021-04-06 01:29:06.590, last ten sensor data: [('2021-04-06 01:29:06.090', 'D+000004.4'), ('2021-04-06 01:29:06.230', 'D+000005.0'), ('2021-04-06 01:29:06.260', 'D+000005.0'), ('2021-04-06 01:29:06.280', 'D+000005.4'), ('2021-04-06 01:29:06.300', 'D+000005.2'), ('2021-04-06 01:29:06.320', 'D+000005.0'), ('2021-04-06 01:29:06.510', 'D+000006.4'), ('2021-04-06 01:29:06.530', 'D+000005.6'), ('2021-04-06 01:29:06.550', 'D+000005.4'), ('2021-04-06 01:29:06.570', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.0, 6.4, 5.6, 5.4, 5.4]
np.array X: [[5.2]
 [5. ]
 [6.4]
 [5.6]
 [5.4]
 [5.4]]
revised_weight: 5.7
2021-04-06 01:29:06.570: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:29:06.570
plc_result: True
sendmessage: 20210406012906570,1,000054,000057
send message to PLC: 2021-04-06 01:29:06.604
time gap: 0:00:00.007116
2021-04-06 01:29:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:08.240
lastevent: 2021-04-06 01:29:08.226, last ten sensor data: [('2021-04-06 01:29:07.730', 'D+000003.2'), ('2021-04-06 01:29:07.750', 'D+000003.4'), ('2021-04-06 01:29:07.770', 'D+000003.2'), ('2021-04-06 01:29:07.790', 'D+000003.2'), ('2021-04-06 01:29:07.960', 'D+000003.6'), ('2021-04-06 01:29:07.980', 'D+000003.6'), ('2021-04-06 01:29:08.000', 'D+000003.4'), ('2021-04-06 01:29:08.020', 'D+000003.4'), ('2021-04-06 01:29:08.210', 'D+000004.0'), ('2021-04-06 01:29:08.230', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.4, 3.4, 4.0, 3.8]
np.array X: [[3.6]
 [3.6]
 [3.4]
 [3.4]
 [4. ]
 [3.8]]
revised_weight: 3.9
2021-04-06 01:29:08.230: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:29:08.230
plc_result: True
sendmessage: 20210406012908230,1,000038,000039
send message to PLC: 2021-04-06 01:29:08.247
time gap: 0:00:00.006510
2021-04-06 01:29:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:09.171
lastevent: 2021-04-06 01:29:09.163, last ten sensor data: [('2021-04-06 01:29:08.690', 'D+000003.4'), ('2021-04-06 01:29:08.710', 'D+000003.4'), ('2021-04-06 01:29:08.730', 'D+000003.2'), ('2021-04-06 01:29:08.750', 'D+000003.2'), ('2021-04-06 01:29:08.770', 'D+000003.2'), ('2021-04-06 01:29:08.950', 'D+000003.6'), ('2021-04-06 01:29:08.970', 'D+000003.6'), ('2021-04-06 01:29:08.990', 'D+000003.8'), ('2021-04-06 01:29:09.010', 'D+000003.6'), ('2021-04-06 01:29:09.030', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.6, 3.6, 3.8, 3.6, 3.8]
np.array X: [[3.2]
 [3.6]
 [3.6]
 [3.8]
 [3.6]
 [3.8]]
revised_weight: 3.9
2021-04-06 01:29:09.030: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:29:09.030
plc_result: True
sendmessage: 20210406012909030,1,000038,000039
send message to PLC: 2021-04-06 01:29:09.177
time gap: 0:00:00.006393
2021-04-06 01:29:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:09.747
lastevent: 2021-04-06 01:29:09.736, last ten sensor data: [('2021-04-06 01:29:09.260', 'D+000004.6'), ('2021-04-06 01:29:09.430', 'D+000005.8'), ('2021-04-06 01:29:09.450', 'D+000005.4'), ('2021-04-06 01:29:09.470', 'D+000005.4'), ('2021-04-06 01:29:09.490', 'D+000005.4'), ('2021-04-06 01:29:09.670', 'D+000006.6'), ('2021-04-06 01:29:09.690', 'D+000007.0'), ('2021-04-06 01:29:09.710', 'D+000007.0'), ('2021-04-06 01:29:09.730', 'D+000006.6'), ('2021-04-06 01:29:09.750', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 6.6, 7.0, 7.0, 6.6, 6.2]
np.array X: [[5.4]
 [6.6]
 [7. ]
 [7. ]
 [6.6]
 [6.2]]
revised_weight: 6.5
2021-04-06 01:29:09.750: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:29:09.750
plc_result: True
sendmessage: 20210406012909750,1,000062,000065
send message to PLC: 2021-04-06 01:29:09.759
time gap: 0:00:00.011563
2021-04-06 01:29:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:10.903
lastevent: 2021-04-06 01:29:10.896, last ten sensor data: [('2021-04-06 01:29:10.430', 'D+000005.0'), ('2021-04-06 01:29:10.450', 'D+000004.4'), ('2021-04-06 01:29:10.470', 'D+000005.6'), ('2021-04-06 01:29:10.490', 'D+000006.2'), ('2021-04-06 01:29:10.670', 'D+000006.0'), ('2021-04-06 01:29:10.690', 'D+000006.0'), ('2021-04-06 01:29:10.710', 'D+000006.2'), ('2021-04-06 01:29:10.730', 'D+000006.4'), ('2021-04-06 01:29:10.750', 'D+000006.6'), ('2021-04-06 01:29:10.880', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.0, 6.2, 6.4, 6.6, 6.2]
np.array X: [[6. ]
 [6. ]
 [6.2]
 [6.4]
 [6.6]
 [6.2]]
revised_weight: 6.1
2021-04-06 01:29:10.880: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:29:10.880
plc_result: True
sendmessage: 20210406012910880,1,000062,000061
send message to PLC: 2021-04-06 01:29:10.909
time gap: 0:00:00.006116
2021-04-06 01:29:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:11.335
lastevent: 2021-04-06 01:29:11.320, last ten sensor data: [0, ('2021-04-06 01:29:10.910', 'D+000006.0'), ('2021-04-06 01:29:10.930', 'D+000006.2'), ('2021-04-06 01:29:10.950', 'D+000006.8'), ('2021-04-06 01:29:10.970', 'D+000006.6'), ('2021-04-06 01:29:11.140', 'D+000007.6'), ('2021-04-06 01:29:11.160', 'D+000007.2'), ('2021-04-06 01:29:11.180', 'D+000006.6'), ('2021-04-06 01:29:11.200', 'D+000007.0'), ('2021-04-06 01:29:11.220', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 7.6, 7.2, 6.6, 7.0, 7.8]
np.array X: [[6.6]
 [7.6]
 [7.2]
 [6.6]
 [7. ]
 [7.8]]
revised_weight: 6.7
2021-04-06 01:29:11.220: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:29:11.220
plc_result: True
sendmessage: 20210406012911220,1,000078,000067
send message to PLC: 2021-04-06 01:29:11.341
time gap: 0:00:00.006305
2021-04-06 01:29:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:12.550
lastevent: 2021-04-06 01:29:12.538, last ten sensor data: [('2021-04-06 01:29:11.990', 'D+000003.0'), ('2021-04-06 01:29:12.150', 'D+000003.6'), ('2021-04-06 01:29:12.170', 'D+000003.4'), ('2021-04-06 01:29:12.190', 'D+000003.6'), ('2021-04-06 01:29:12.210', 'D+000003.8'), ('2021-04-06 01:29:12.230', 'D+000004.0'), ('2021-04-06 01:29:12.410', 'D+000008.0'), ('2021-04-06 01:29:12.430', 'D+000008.0'), ('2021-04-06 01:29:12.450', 'D+000008.2'), ('2021-04-06 01:29:12.470', 'D+000009.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.0, 8.0, 8.0, 8.2, 9.0]
np.array X: [[3.8]
 [4. ]
 [8. ]
 [8. ]
 [8.2]
 [9. ]]
revised_weight: 8.3
2021-04-06 01:29:12.470: revising weight finished
revised_weight: 8.3 at 2021-04-06 01:29:12.470
plc_result: True
sendmessage: 20210406012912470,1,000090,000083
send message to PLC: 2021-04-06 01:29:12.556
time gap: 0:00:00.006285
2021-04-06 01:29:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:13.901
lastevent: 2021-04-06 01:29:13.886, last ten sensor data: [('2021-04-06 01:29:13.420', 'D+000002.6'), ('2021-04-06 01:29:13.440', 'D+000002.6'), ('2021-04-06 01:29:13.460', 'D+000002.8'), ('2021-04-06 01:29:13.620', 'D+000002.6'), ('2021-04-06 01:29:13.640', 'D+000003.0'), ('2021-04-06 01:29:13.660', 'D+000002.8'), ('2021-04-06 01:29:13.680', 'D+000002.8'), ('2021-04-06 01:29:13.860', 'D+000003.6'), ('2021-04-06 01:29:13.880', 'D+000003.2'), ('2021-04-06 01:29:13.900', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 2.8, 3.6, 3.2, 3.2]
np.array X: [[3. ]
 [2.8]
 [2.8]
 [3.6]
 [3.2]
 [3.2]]
revised_weight: 2.9
2021-04-06 01:29:13.900: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:29:13.900
plc_result: True
sendmessage: 20210406012913900,1,000032,000029
send message to PLC: 2021-04-06 01:29:13.907
time gap: 0:00:00.006144
2021-04-06 01:29:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:14.942
lastevent: 2021-04-06 01:29:14.926, last ten sensor data: [('2021-04-06 01:29:14.430', 'D+000002.8'), ('2021-04-06 01:29:14.590', 'D+000002.8'), ('2021-04-06 01:29:14.610', 'D+000003.0'), ('2021-04-06 01:29:14.630', 'D+000003.0'), ('2021-04-06 01:29:14.650', 'D+000003.2'), ('2021-04-06 01:29:14.670', 'D+000003.4'), ('2021-04-06 01:29:14.840', 'D+000003.2'), ('2021-04-06 01:29:14.860', 'D+000003.2'), ('2021-04-06 01:29:14.880', 'D+000003.4'), ('2021-04-06 01:29:14.900', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.4, 3.2, 3.2, 3.4, 3.6]
np.array X: [[3.2]
 [3.4]
 [3.2]
 [3.2]
 [3.4]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:29:14.900: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:29:14.900
plc_result: True
sendmessage: 20210406012914900,1,000036,000036
send message to PLC: 2021-04-06 01:29:14.948
time gap: 0:00:00.006217
2021-04-06 01:29:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:29:15: httpScaleDataSender thread Timeout occurred
2021-04-06 01:29:15: [13716] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
2021-04-06 01:29:15: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:29:16.082
lastevent: 2021-04-06 01:29:16.072, last ten sensor data: [('2021-04-06 01:29:15.630', 'D+000002.4'), ('2021-04-06 01:29:15.650', 'D+000002.2'), ('2021-04-06 01:29:15.670', 'D+000002.0'), ('2021-04-06 01:29:15.810', 'D+000003.0'), ('2021-04-06 01:29:15.830', 'D+000003.2'), ('2021-04-06 01:29:15.850', 'D+000003.2'), ('2021-04-06 01:29:15.870', 'D+000003.6'), ('2021-04-06 01:29:15.890', 'D+000003.6'), ('2021-04-06 01:29:16.060', 'D+000004.6'), ('2021-04-06 01:29:16.080', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.6, 3.6, 4.6, 3.8]
np.array X: [[3.2]
 [3.2]
 [3.6]
 [3.6]
 [4.6]
 [3.8]]
revised_weight: 3.7
2021-04-06 01:29:16.080: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:29:16.080
plc_result: True
sendmessage: 20210406012916080,1,000038,000037
send message to PLC: 2021-04-06 01:29:16.089
time gap: 0:00:00.006971
2021-04-06 01:29:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:16.881
lastevent: 2021-04-06 01:29:16.866, last ten sensor data: [('2021-04-06 01:29:16.560', 'D+000002.8'), ('2021-04-06 01:29:16.580', 'D+000003.4'), ('2021-04-06 01:29:16.600', 'D+000003.2'), ('2021-04-06 01:29:16.620', 'D+000002.8'), ('2021-04-06 01:29:16.640', 'D+000002.8'), ('2021-04-06 01:29:16.790', 'D+000003.0'), ('2021-04-06 01:29:16.810', 'D+000002.0'), ('2021-04-06 01:29:16.830', 'D+000002.0'), ('2021-04-06 01:29:16.850', 'D+000002.6'), ('2021-04-06 01:29:16.870', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.0, 2.0, 2.0, 2.6, 2.8]
np.array X: [[2.8]
 [3. ]
 [2. ]
 [2. ]
 [2.6]
 [2.8]]
revised_weight: 2.7
2021-04-06 01:29:16.870: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:29:16.870
plc_result: True
sendmessage: 20210406012916870,1,000028,000027
send message to PLC: 2021-04-06 01:29:16.888
time gap: 0:00:00.006331
2021-04-06 01:29:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:17.283
lastevent: 2021-04-06 01:29:17.262, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:29:17.030', 'D+000003.0'), ('2021-04-06 01:29:17.050', 'D+000002.8'), ('2021-04-06 01:29:17.070', 'D+000002.8'), ('2021-04-06 01:29:17.090', 'D+000002.6'), ('2021-04-06 01:29:17.110', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 3.0, 2.8, 2.8, 2.6, 3.2]
np.array X: [[0. ]
 [3. ]
 [2.8]
 [2.8]
 [2.6]
 [3.2]]
revised_weight: 1.5
2021-04-06 01:29:17.110: revising weight finished
revised_weight: 1.5 at 2021-04-06 01:29:17.110
plc_result: True
sendmessage: 20210406012917110,1,000032,000015
send message to PLC: 2021-04-06 01:29:17.296
time gap: 0:00:00.012222
2021-04-06 01:29:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:19.215
lastevent: 2021-04-06 01:29:19.203, last ten sensor data: [('2021-04-06 01:29:18.760', 'D+000002.2'), ('2021-04-06 01:29:18.780', 'D+000002.0'), ('2021-04-06 01:29:18.800', 'D+000002.0'), ('2021-04-06 01:29:18.820', 'D+000002.2'), ('2021-04-06 01:29:18.980', 'D+000002.8'), ('2021-04-06 01:29:19.000', 'D+000002.8'), ('2021-04-06 01:29:19.020', 'D+000002.6'), ('2021-04-06 01:29:19.040', 'D+000002.8'), ('2021-04-06 01:29:19.060', 'D+000002.6'), ('2021-04-06 01:29:19.080', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 2.6, 2.8, 2.6, 2.4]
np.array X: [[2.8]
 [2.8]
 [2.6]
 [2.8]
 [2.6]
 [2.4]]
revised_weight: 2.2
2021-04-06 01:29:19.080: revising weight finished
revised_weight: 2.2 at 2021-04-06 01:29:19.080
plc_result: True
sendmessage: 20210406012919080,1,000024,000022
send message to PLC: 2021-04-06 01:29:19.222
time gap: 0:00:00.006358
2021-04-06 01:29:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:29:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:20.412
lastevent: 2021-04-06 01:29:20.411, last ten sensor data: [('2021-04-06 01:29:19.920', 'D+000003.0'), ('2021-04-06 01:29:19.940', 'D+000003.4'), ('2021-04-06 01:29:19.960', 'D+000003.2'), ('2021-04-06 01:29:19.980', 'D+000003.0'), ('2021-04-06 01:29:20.150', 'D+000004.4'), ('2021-04-06 01:29:20.170', 'D+000004.4'), ('2021-04-06 01:29:20.190', 'D+000004.6'), ('2021-04-06 01:29:20.210', 'D+000004.4'), ('2021-04-06 01:29:20.390', 'D+000005.4'), ('2021-04-06 01:29:20.410', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 4.6, 4.4, 5.4, 4.6]
np.array X: [[4.4]
 [4.4]
 [4.6]
 [4.4]
 [5.4]
 [4.6]]
revised_weight: 4.8
2021-04-06 01:29:20.410: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:29:20.410
plc_result: True
sendmessage: 20210406012920410,1,000046,000048
send message to PLC: 2021-04-06 01:29:20.418
time gap: 0:00:00.006129
2021-04-06 01:29:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:20.780
lastevent: 2021-04-06 01:29:20.779, last ten sensor data: [0, 0, 0, ('2021-04-06 01:29:20.430', 'D+000004.8'), ('2021-04-06 01:29:20.450', 'D+000005.6'), ('2021-04-06 01:29:20.630', 'D+000005.0'), ('2021-04-06 01:29:20.650', 'D+000006.0'), ('2021-04-06 01:29:20.670', 'D+000005.6'), ('2021-04-06 01:29:20.690', 'D+000005.0'), ('2021-04-06 01:29:20.710', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.0, 6.0, 5.6, 5.0, 5.4]
np.array X: [[5.6]
 [5. ]
 [6. ]
 [5.6]
 [5. ]
 [5.4]]
revised_weight: 5.6
2021-04-06 01:29:20.710: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:29:20.710
plc_result: True
sendmessage: 20210406012920710,1,000054,000056
send message to PLC: 2021-04-06 01:29:20.791
time gap: 0:00:00.011165
2021-04-06 01:29:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:23.588
lastevent: 2021-04-06 01:29:23.585, last ten sensor data: [('2021-04-06 01:29:23.140', 'D+000001.8'), ('2021-04-06 01:29:23.160', 'D+000001.8'), ('2021-04-06 01:29:23.180', 'D+000001.6'), ('2021-04-06 01:29:23.200', 'D+000001.8'), ('2021-04-06 01:29:23.220', 'D+000002.0'), ('2021-04-06 01:29:23.380', 'D+000004.2'), ('2021-04-06 01:29:23.400', 'D+000004.2'), ('2021-04-06 01:29:23.420', 'D+000004.2'), ('2021-04-06 01:29:23.440', 'D+000004.4'), ('2021-04-06 01:29:23.460', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 4.2, 4.2, 4.2, 4.4, 4.4]
np.array X: [[2. ]
 [4.2]
 [4.2]
 [4.2]
 [4.4]
 [4.4]]
revised_weight: 4.1
2021-04-06 01:29:23.460: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:29:23.460
plc_result: True
sendmessage: 20210406012923460,1,000044,000041
send message to PLC: 2021-04-06 01:29:23.599
time gap: 0:00:00.011255
2021-04-06 01:29:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:24.710
lastevent: 2021-04-06 01:29:24.707, last ten sensor data: [('2021-04-06 01:29:24.370', 'D+000003.8'), ('2021-04-06 01:29:24.390', 'D+000003.6'), ('2021-04-06 01:29:24.410', 'D+000004.2'), ('2021-04-06 01:29:24.430', 'D+000004.0'), ('2021-04-06 01:29:24.450', 'D+000003.8'), ('2021-04-06 01:29:24.590', 'D+000005.8'), ('2021-04-06 01:29:24.610', 'D+000005.4'), ('2021-04-06 01:29:24.630', 'D+000005.0'), ('2021-04-06 01:29:24.650', 'D+000004.8'), ('2021-04-06 01:29:24.670', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.8, 5.4, 5.0, 4.8, 5.8]
np.array X: [[3.8]
 [5.8]
 [5.4]
 [5. ]
 [4.8]
 [5.8]]
revised_weight: 5.7
2021-04-06 01:29:24.670: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:29:24.670
plc_result: True
sendmessage: 20210406012924670,1,000058,000057
send message to PLC: 2021-04-06 01:29:24.721
time gap: 0:00:00.011112
2021-04-06 01:29:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:25.687
lastevent: 2021-04-06 01:29:25.680, last ten sensor data: [('2021-04-06 01:29:25.330', 'D+000004.2'), ('2021-04-06 01:29:25.350', 'D+000004.2'), ('2021-04-06 01:29:25.370', 'D+000003.8'), ('2021-04-06 01:29:25.390', 'D+000003.8'), ('2021-04-06 01:29:25.410', 'D+000003.8'), ('2021-04-06 01:29:25.580', 'D+000004.8'), ('2021-04-06 01:29:25.600', 'D+000006.6'), ('2021-04-06 01:29:25.620', 'D+000006.6'), ('2021-04-06 01:29:25.640', 'D+000004.8'), ('2021-04-06 01:29:25.660', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.8, 6.6, 6.6, 4.8, 4.4]
np.array X: [[3.8]
 [4.8]
 [6.6]
 [6.6]
 [4.8]
 [4.4]]
revised_weight: 5.1
2021-04-06 01:29:25.660: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:29:25.660
plc_result: True
sendmessage: 20210406012925660,1,000044,000051
send message to PLC: 2021-04-06 01:29:25.698
time gap: 0:00:00.011249
2021-04-06 01:29:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:27.567
lastevent: 2021-04-06 01:29:27.565, last ten sensor data: [('2021-04-06 01:29:27.060', 'D+000003.0'), ('2021-04-06 01:29:27.080', 'D+000002.6'), ('2021-04-06 01:29:27.100', 'D+000002.6'), ('2021-04-06 01:29:27.120', 'D+000003.0'), ('2021-04-06 01:29:27.290', 'D+000002.4'), ('2021-04-06 01:29:27.310', 'D+000002.8'), ('2021-04-06 01:29:27.330', 'D+000002.8'), ('2021-04-06 01:29:27.350', 'D+000002.6'), ('2021-04-06 01:29:27.370', 'D+000002.8'), ('2021-04-06 01:29:27.530', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.8, 2.8, 2.6, 2.8, 2.8]
np.array X: [[2.4]
 [2.8]
 [2.8]
 [2.6]
 [2.8]
 [2.8]]
revised_weight: 2.8
2021-04-06 01:29:27.530: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:29:27.530
plc_result: True
sendmessage: 20210406012927530,1,000028,000028
send message to PLC: 2021-04-06 01:29:27.579
time gap: 0:00:00.011541
2021-04-06 01:29:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:28.420
lastevent: 2021-04-06 01:29:28.410, last ten sensor data: [('2021-04-06 01:29:27.800', 'D+000004.4'), ('2021-04-06 01:29:27.980', 'D+000003.8'), ('2021-04-06 01:29:28.000', 'D+000003.8'), ('2021-04-06 01:29:28.020', 'D+000004.2'), ('2021-04-06 01:29:28.040', 'D+000004.8'), ('2021-04-06 01:29:28.230', 'D+000005.4'), ('2021-04-06 01:29:28.250', 'D+000005.0'), ('2021-04-06 01:29:28.270', 'D+000005.0'), ('2021-04-06 01:29:28.290', 'D+000005.4'), ('2021-04-06 01:29:28.310', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.4, 5.0, 5.0, 5.4, 5.6]
np.array X: [[4.8]
 [5.4]
 [5. ]
 [5. ]
 [5.4]
 [5.6]]
revised_weight: 5.1
2021-04-06 01:29:28.310: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:29:28.310
plc_result: True
sendmessage: 20210406012928310,1,000056,000051
send message to PLC: 2021-04-06 01:29:28.432
time gap: 0:00:00.011303
2021-04-06 01:29:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:29.466
lastevent: 2021-04-06 01:29:29.460, last ten sensor data: [('2021-04-06 01:29:29.000', 'D+000003.2'), ('2021-04-06 01:29:29.020', 'D+000003.4'), ('2021-04-06 01:29:29.040', 'D+000003.4'), ('2021-04-06 01:29:29.180', 'D+000004.0'), ('2021-04-06 01:29:29.220', 'D+000004.2'), ('2021-04-06 01:29:29.240', 'D+000004.4'), ('2021-04-06 01:29:29.260', 'D+000004.4'), ('2021-04-06 01:29:29.280', 'D+000004.4'), ('2021-04-06 01:29:29.440', 'D+000004.8'), ('2021-04-06 01:29:29.460', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.4, 4.4, 4.4, 4.8, 4.6]
np.array X: [[4.2]
 [4.4]
 [4.4]
 [4.4]
 [4.8]
 [4.6]]
revised_weight: 4.7
2021-04-06 01:29:29.460: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:29:29.460
plc_result: True
sendmessage: 20210406012929460,1,000046,000047
send message to PLC: 2021-04-06 01:29:29.478
time gap: 0:00:00.011919
2021-04-06 01:29:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:30.291
lastevent: 2021-04-06 01:29:30.279, last ten sensor data: [('2021-04-06 01:29:29.940', 'D+000003.2'), ('2021-04-06 01:29:29.960', 'D+000003.2'), ('2021-04-06 01:29:29.980', 'D+000003.4'), ('2021-04-06 01:29:30.000', 'D+000003.4'), ('2021-04-06 01:29:30.020', 'D+000003.8'), ('2021-04-06 01:29:30.170', 'D+000005.8'), ('2021-04-06 01:29:30.190', 'D+000006.2'), ('2021-04-06 01:29:30.210', 'D+000005.0'), ('2021-04-06 01:29:30.230', 'D+000003.4'), ('2021-04-06 01:29:30.250', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.8, 6.2, 5.0, 3.4, 3.8]
np.array X: [[3.8]
 [5.8]
 [6.2]
 [5. ]
 [3.4]
 [3.8]]
revised_weight: 4.2
2021-04-06 01:29:30.250: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:29:30.250
plc_result: True
sendmessage: 20210406012930250,1,000038,000042
send message to PLC: 2021-04-06 01:29:30.302
time gap: 0:00:00.011168
2021-04-06 01:29:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:30.687
lastevent: 2021-04-06 01:29:30.679, last ten sensor data: [('2021-04-06 01:29:30.370', 'D+000005.8'), ('2021-04-06 01:29:30.390', 'D+000005.8'), ('2021-04-06 01:29:30.410', 'D+000005.8'), ('2021-04-06 01:29:30.430', 'D+000005.6'), ('2021-04-06 01:29:30.450', 'D+000005.6'), ('2021-04-06 01:29:30.590', 'D+000005.0'), ('2021-04-06 01:29:30.630', 'D+000005.4'), ('2021-04-06 01:29:30.650', 'D+000004.8'), ('2021-04-06 01:29:30.670', 'D+000004.8'), ('2021-04-06 01:29:30.690', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.0, 5.4, 4.8, 4.8, 4.8]
np.array X: [[5.6]
 [5. ]
 [5.4]
 [4.8]
 [4.8]
 [4.8]]
revised_weight: 5.2
2021-04-06 01:29:30.690: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:29:30.690
plc_result: True
sendmessage: 20210406012930690,1,000048,000052
send message to PLC: 2021-04-06 01:29:30.699
time gap: 0:00:00.011256
2021-04-06 01:29:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:31.412
lastevent: 2021-04-06 01:29:31.407, last ten sensor data: [('2021-04-06 01:29:31.100', 'D+000003.2'), ('2021-04-06 01:29:31.120', 'D+000003.0'), ('2021-04-06 01:29:31.140', 'D+000002.8'), ('2021-04-06 01:29:31.160', 'D+000003.2'), ('2021-04-06 01:29:31.180', 'D+000003.0'), ('2021-04-06 01:29:31.340', 'D+000003.6'), ('2021-04-06 01:29:31.360', 'D+000003.4'), ('2021-04-06 01:29:31.380', 'D+000003.6'), ('2021-04-06 01:29:31.400', 'D+000003.2'), ('2021-04-06 01:29:31.420', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.6, 3.4, 3.6, 3.2, 3.2]
np.array X: [[3. ]
 [3.6]
 [3.4]
 [3.6]
 [3.2]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:29:31.420: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:29:31.420
plc_result: True
sendmessage: 20210406012931420,1,000032,000031
send message to PLC: 2021-04-06 01:29:31.423
time gap: 0:00:00.011023
2021-04-06 01:29:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:32.813
lastevent: 2021-04-06 01:29:32.801, last ten sensor data: [('2021-04-06 01:29:32.130', 'D+000002.8'), ('2021-04-06 01:29:32.150', 'D+000003.2'), ('2021-04-06 01:29:32.320', 'D+000002.8'), ('2021-04-06 01:29:32.340', 'D+000002.8'), ('2021-04-06 01:29:32.360', 'D+000002.6'), ('2021-04-06 01:29:32.380', 'D+000002.8'), ('2021-04-06 01:29:32.580', 'D+000004.4'), ('2021-04-06 01:29:32.600', 'D+000004.8'), ('2021-04-06 01:29:32.620', 'D+000004.6'), ('2021-04-06 01:29:32.640', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.8, 4.4, 4.8, 4.6, 4.2]
np.array X: [[2.6]
 [2.8]
 [4.4]
 [4.8]
 [4.6]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:29:32.640: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:29:32.640
plc_result: True
sendmessage: 20210406012932640,1,000042,000042
send message to PLC: 2021-04-06 01:29:32.828
time gap: 0:00:00.014869
2021-04-06 01:29:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:33.291
lastevent: 2021-04-06 01:29:33.284, last ten sensor data: [0, ('2021-04-06 01:29:32.830', 'D+000004.0'), ('2021-04-06 01:29:32.850', 'D+000005.4'), ('2021-04-06 01:29:32.870', 'D+000005.2'), ('2021-04-06 01:29:32.890', 'D+000005.2'), ('2021-04-06 01:29:33.050', 'D+000006.6'), ('2021-04-06 01:29:33.070', 'D+000006.4'), ('2021-04-06 01:29:33.090', 'D+000006.4'), ('2021-04-06 01:29:33.110', 'D+000006.2'), ('2021-04-06 01:29:33.130', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 6.6, 6.4, 6.4, 6.2, 6.2]
np.array X: [[5.2]
 [6.6]
 [6.4]
 [6.4]
 [6.2]
 [6.2]]
revised_weight: 6.1
2021-04-06 01:29:33.130: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:29:33.130
plc_result: True
sendmessage: 20210406012933130,1,000062,000061
send message to PLC: 2021-04-06 01:29:33.297
time gap: 0:00:00.006236
2021-04-06 01:29:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:33.891
lastevent: 2021-04-06 01:29:33.880, last ten sensor data: [('2021-04-06 01:29:33.370', 'D+000004.6'), ('2021-04-06 01:29:33.390', 'D+000004.6'), ('2021-04-06 01:29:33.550', 'D+000005.0'), ('2021-04-06 01:29:33.570', 'D+000005.2'), ('2021-04-06 01:29:33.590', 'D+000005.2'), ('2021-04-06 01:29:33.610', 'D+000005.4'), ('2021-04-06 01:29:33.800', 'D+000005.8'), ('2021-04-06 01:29:33.820', 'D+000005.8'), ('2021-04-06 01:29:33.840', 'D+000005.8'), ('2021-04-06 01:29:33.860', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.4, 5.8, 5.8, 5.8, 6.0]
np.array X: [[5.2]
 [5.4]
 [5.8]
 [5.8]
 [5.8]
 [6. ]]
revised_weight: 5.8
2021-04-06 01:29:33.860: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:29:33.860
plc_result: True
sendmessage: 20210406012933860,1,000060,000058
send message to PLC: 2021-04-06 01:29:33.902
time gap: 0:00:00.011168
2021-04-06 01:29:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:36.202
lastevent: 2021-04-06 01:29:36.195, last ten sensor data: [('2021-04-06 01:29:35.750', 'D+000002.0'), ('2021-04-06 01:29:35.770', 'D+000002.2'), ('2021-04-06 01:29:35.790', 'D+000002.0'), ('2021-04-06 01:29:35.810', 'D+000002.2'), ('2021-04-06 01:29:35.980', 'D+000004.0'), ('2021-04-06 01:29:36.000', 'D+000004.2'), ('2021-04-06 01:29:36.020', 'D+000004.2'), ('2021-04-06 01:29:36.040', 'D+000004.4'), ('2021-04-06 01:29:36.060', 'D+000004.6'), ('2021-04-06 01:29:36.080', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 4.2, 4.4, 4.6, 4.6]
np.array X: [[4. ]
 [4.2]
 [4.2]
 [4.4]
 [4.6]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:29:36.080: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:29:36.080
plc_result: True
sendmessage: 20210406012936080,1,000046,000046
send message to PLC: 2021-04-06 01:29:36.213
time gap: 0:00:00.011251
2021-04-06 01:29:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:38.002
lastevent: 2021-04-06 01:29:37.989, last ten sensor data: [('2021-04-06 01:29:37.520', 'D+000002.4'), ('2021-04-06 01:29:37.680', 'D+000003.0'), ('2021-04-06 01:29:37.700', 'D+000003.6'), ('2021-04-06 01:29:37.720', 'D+000003.8'), ('2021-04-06 01:29:37.740', 'D+000003.6'), ('2021-04-06 01:29:37.930', 'D+000003.6'), ('2021-04-06 01:29:37.950', 'D+000003.8'), ('2021-04-06 01:29:37.970', 'D+000004.0'), ('2021-04-06 01:29:37.990', 'D+000003.8'), ('2021-04-06 01:29:38.010', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.8, 4.0, 3.8, 3.4]
np.array X: [[3.6]
 [3.6]
 [3.8]
 [4. ]
 [3.8]
 [3.4]]
revised_weight: 3.3
2021-04-06 01:29:38.010: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:29:38.010
plc_result: True
sendmessage: 20210406012938010,1,000034,000033
send message to PLC: 2021-04-06 01:29:38.013
time gap: 0:00:00.011246
2021-04-06 01:29:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:39.341
lastevent: 2021-04-06 01:29:39.327, last ten sensor data: [('2021-04-06 01:29:38.730', 'D+000002.4'), ('2021-04-06 01:29:38.910', 'D+000002.4'), ('2021-04-06 01:29:38.930', 'D+000002.4'), ('2021-04-06 01:29:38.950', 'D+000002.6'), ('2021-04-06 01:29:38.970', 'D+000002.8'), ('2021-04-06 01:29:38.990', 'D+000002.8'), ('2021-04-06 01:29:39.240', 'D+000008.2'), ('2021-04-06 01:29:39.260', 'D+000007.6'), ('2021-04-06 01:29:39.280', 'D+000007.8'), ('2021-04-06 01:29:39.300', 'D+000008.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 8.2, 7.6, 7.8, 8.6]
np.array X: [[2.8]
 [2.8]
 [8.2]
 [7.6]
 [7.8]
 [8.6]]
revised_weight: 9.3
2021-04-06 01:29:39.300: revising weight finished
revised_weight: 9.3 at 2021-04-06 01:29:39.300
plc_result: True
sendmessage: 20210406012939300,1,000086,000093
send message to PLC: 2021-04-06 01:29:39.352
time gap: 0:00:00.011038
2021-04-06 01:29:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:41.997
lastevent: 2021-04-06 01:29:41.982, last ten sensor data: [('2021-04-06 01:29:41.500', 'D+000001.6'), ('2021-04-06 01:29:41.520', 'D+000001.4'), ('2021-04-06 01:29:41.540', 'D+000001.4'), ('2021-04-06 01:29:41.710', 'D+000003.0'), ('2021-04-06 01:29:41.730', 'D+000003.0'), ('2021-04-06 01:29:41.750', 'D+000002.8'), ('2021-04-06 01:29:41.770', 'D+000002.8'), ('2021-04-06 01:29:41.790', 'D+000003.4'), ('2021-04-06 01:29:41.970', 'D+000004.6'), ('2021-04-06 01:29:41.990', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 2.8, 3.4, 4.6, 5.2]
np.array X: [[3. ]
 [2.8]
 [2.8]
 [3.4]
 [4.6]
 [5.2]]
revised_weight: 4.2
2021-04-06 01:29:41.990: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:29:41.990
plc_result: True
sendmessage: 20210406012941990,1,000052,000042
send message to PLC: 2021-04-06 01:29:42.008
time gap: 0:00:00.011068
2021-04-06 01:29:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:42.711
lastevent: 2021-04-06 01:29:42.696, last ten sensor data: [('2021-04-06 01:29:42.250', 'D+000004.6'), ('2021-04-06 01:29:42.270', 'D+000004.8'), ('2021-04-06 01:29:42.290', 'D+000005.0'), ('2021-04-06 01:29:42.450', 'D+000004.4'), ('2021-04-06 01:29:42.470', 'D+000004.2'), ('2021-04-06 01:29:42.490', 'D+000004.2'), ('2021-04-06 01:29:42.510', 'D+000003.8'), ('2021-04-06 01:29:42.530', 'D+000003.8'), ('2021-04-06 01:29:42.680', 'D+000002.8'), ('2021-04-06 01:29:42.700', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 3.8, 3.8, 2.8, 3.4]
np.array X: [[4.2]
 [4.2]
 [3.8]
 [3.8]
 [2.8]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:29:42.700: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:29:42.700
plc_result: True
sendmessage: 20210406012942700,1,000034,000034
send message to PLC: 2021-04-06 01:29:42.728
time gap: 0:00:00.016699
2021-04-06 01:29:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:43.690
lastevent: 2021-04-06 01:29:43.677, last ten sensor data: [('2021-04-06 01:29:43.220', 'D+000002.8'), ('2021-04-06 01:29:43.240', 'D+000003.0'), ('2021-04-06 01:29:43.260', 'D+000003.4'), ('2021-04-06 01:29:43.400', 'D+000003.2'), ('2021-04-06 01:29:43.440', 'D+000003.6'), ('2021-04-06 01:29:43.460', 'D+000003.4'), ('2021-04-06 01:29:43.480', 'D+000003.6'), ('2021-04-06 01:29:43.500', 'D+000003.6'), ('2021-04-06 01:29:43.660', 'D+000003.0'), ('2021-04-06 01:29:43.680', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.4, 3.6, 3.6, 3.0, 3.2]
np.array X: [[3.6]
 [3.4]
 [3.6]
 [3.6]
 [3. ]
 [3.2]]
revised_weight: 3.0
2021-04-06 01:29:43.680: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:29:43.680
plc_result: True
sendmessage: 20210406012943680,1,000032,000030
send message to PLC: 2021-04-06 01:29:43.703
time gap: 0:00:00.012801
2021-04-06 01:29:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:44.270
lastevent: 2021-04-06 01:29:44.257, last ten sensor data: [('2021-04-06 01:29:43.910', 'D+000003.2'), ('2021-04-06 01:29:43.930', 'D+000003.0'), ('2021-04-06 01:29:43.980', 'D+000003.4'), ('2021-04-06 01:29:44.000', 'D+000003.2'), ('2021-04-06 01:29:44.020', 'D+000003.0'), ('2021-04-06 01:29:44.040', 'D+000003.0'), ('2021-04-06 01:29:44.220', 'D+000002.6'), ('2021-04-06 01:29:44.240', 'D+000003.0'), ('2021-04-06 01:29:44.260', 'D+000003.4'), ('2021-04-06 01:29:44.280', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 2.6, 3.0, 3.4, 3.6]
np.array X: [[3. ]
 [3. ]
 [2.6]
 [3. ]
 [3.4]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:29:44.280: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:29:44.280
plc_result: True
sendmessage: 20210406012944280,1,000036,000036
send message to PLC: 2021-04-06 01:29:44.283
time gap: 0:00:00.013062
2021-04-06 01:29:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:45.375
lastevent: 2021-04-06 01:29:45.359, last ten sensor data: [('2021-04-06 01:29:44.950', 'D+000002.4'), ('2021-04-06 01:29:44.970', 'D+000002.0'), ('2021-04-06 01:29:44.990', 'D+000002.6'), ('2021-04-06 01:29:45.010', 'D+000002.8'), ('2021-04-06 01:29:45.030', 'D+000002.6'), ('2021-04-06 01:29:45.170', 'D+000002.6'), ('2021-04-06 01:29:45.200', 'D+000002.8'), ('2021-04-06 01:29:45.220', 'D+000002.8'), ('2021-04-06 01:29:45.240', 'D+000002.8'), ('2021-04-06 01:29:45.260', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 2.8, 2.8, 2.8, 3.0]
np.array X: [[2.6]
 [2.6]
 [2.8]
 [2.8]
 [2.8]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:29:45.260: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:29:45.260
plc_result: True
sendmessage: 20210406012945260,1,000030,000029
send message to PLC: 2021-04-06 01:29:45.388
time gap: 0:00:00.012737
2021-04-06 01:29:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:46.473
lastevent: 2021-04-06 01:29:46.470, last ten sensor data: [('2021-04-06 01:29:45.990', 'D+000002.6'), ('2021-04-06 01:29:46.010', 'D+000003.0'), ('2021-04-06 01:29:46.160', 'D+000004.4'), ('2021-04-06 01:29:46.180', 'D+000003.2'), ('2021-04-06 01:29:46.200', 'D+000004.2'), ('2021-04-06 01:29:46.220', 'D+000007.2'), ('2021-04-06 01:29:46.240', 'D+000007.6'), ('2021-04-06 01:29:46.420', 'D+000006.8'), ('2021-04-06 01:29:46.440', 'D+000007.0'), ('2021-04-06 01:29:46.460', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 7.2, 7.6, 6.8, 7.0, 8.2]
np.array X: [[4.2]
 [7.2]
 [7.6]
 [6.8]
 [7. ]
 [8.2]]
revised_weight: 8.6
2021-04-06 01:29:46.460: revising weight finished
revised_weight: 8.6 at 2021-04-06 01:29:46.460
plc_result: True
sendmessage: 20210406012946460,1,000082,000086
send message to PLC: 2021-04-06 01:29:46.486
time gap: 0:00:00.012703
2021-04-06 01:29:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:47.111
lastevent: 2021-04-06 01:29:47.105, last ten sensor data: [('2021-04-06 01:29:46.500', 'D+000007.4'), ('2021-04-06 01:29:46.650', 'D+000008.0'), ('2021-04-06 01:29:46.680', 'D+000007.0'), ('2021-04-06 01:29:46.700', 'D+000008.0'), ('2021-04-06 01:29:46.720', 'D+000008.4'), ('2021-04-06 01:29:46.740', 'D+000008.2'), ('2021-04-06 01:29:46.910', 'D+000008.2'), ('2021-04-06 01:29:46.930', 'D+000007.4'), ('2021-04-06 01:29:46.950', 'D+000007.4'), ('2021-04-06 01:29:46.970', 'D+000009.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.4, 8.2, 8.2, 7.4, 7.4, 9.0]
np.array X: [[8.4]
 [8.2]
 [8.2]
 [7.4]
 [7.4]
 [9. ]]
revised_weight: 8.0
2021-04-06 01:29:46.970: revising weight finished
revised_weight: 8.0 at 2021-04-06 01:29:46.970
plc_result: True
sendmessage: 20210406012946970,1,000090,000080
send message to PLC: 2021-04-06 01:29:47.118
time gap: 0:00:00.006627
2021-04-06 01:29:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:48.516
lastevent: 2021-04-06 01:29:48.505, last ten sensor data: [('2021-04-06 01:29:48.050', 'D+000004.0'), ('2021-04-06 01:29:48.070', 'D+000004.4'), ('2021-04-06 01:29:48.090', 'D+000004.4'), ('2021-04-06 01:29:48.110', 'D+000004.4'), ('2021-04-06 01:29:48.130', 'D+000004.4'), ('2021-04-06 01:29:48.310', 'D+000005.2'), ('2021-04-06 01:29:48.330', 'D+000005.2'), ('2021-04-06 01:29:48.350', 'D+000005.2'), ('2021-04-06 01:29:48.370', 'D+000005.6'), ('2021-04-06 01:29:48.390', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.2, 5.2, 5.2, 5.6, 6.2]
np.array X: [[4.4]
 [5.2]
 [5.2]
 [5.2]
 [5.6]
 [6.2]]
revised_weight: 5.4
2021-04-06 01:29:48.390: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:29:48.390
plc_result: True
sendmessage: 20210406012948390,1,000062,000054
send message to PLC: 2021-04-06 01:29:48.528
time gap: 0:00:00.012612
2021-04-06 01:29:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:49.146
lastevent: 2021-04-06 01:29:49.132, last ten sensor data: [('2021-04-06 01:29:48.630', 'D+000006.0'), ('2021-04-06 01:29:48.800', 'D+000005.8'), ('2021-04-06 01:29:48.820', 'D+000005.6'), ('2021-04-06 01:29:48.840', 'D+000005.6'), ('2021-04-06 01:29:48.860', 'D+000005.8'), ('2021-04-06 01:29:49.040', 'D+000005.2'), ('2021-04-06 01:29:49.060', 'D+000005.4'), ('2021-04-06 01:29:49.080', 'D+000005.4'), ('2021-04-06 01:29:49.100', 'D+000005.0'), ('2021-04-06 01:29:49.120', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.2, 5.4, 5.4, 5.0, 4.6]
np.array X: [[5.8]
 [5.2]
 [5.4]
 [5.4]
 [5. ]
 [4.6]]
revised_weight: 5.0
2021-04-06 01:29:49.120: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:29:49.120
plc_result: True
sendmessage: 20210406012949120,1,000046,000050
send message to PLC: 2021-04-06 01:29:49.157
time gap: 0:00:00.011495
2021-04-06 01:29:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:49.719
lastevent: 2021-04-06 01:29:49.712, last ten sensor data: [('2021-04-06 01:29:49.290', 'D+000004.8'), ('2021-04-06 01:29:49.310', 'D+000004.6'), ('2021-04-06 01:29:49.330', 'D+000004.8'), ('2021-04-06 01:29:49.350', 'D+000005.0'), ('2021-04-06 01:29:49.370', 'D+000004.8'), ('2021-04-06 01:29:49.520', 'D+000004.8'), ('2021-04-06 01:29:49.540', 'D+000004.4'), ('2021-04-06 01:29:49.560', 'D+000004.4'), ('2021-04-06 01:29:49.580', 'D+000004.4'), ('2021-04-06 01:29:49.600', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.4, 4.4, 4.4, 4.6]
np.array X: [[4.8]
 [4.8]
 [4.4]
 [4.4]
 [4.4]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:29:49.600: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:29:49.600
plc_result: True
sendmessage: 20210406012949600,1,000046,000046
send message to PLC: 2021-04-06 01:29:49.725
time gap: 0:00:00.006649
2021-04-06 01:29:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:50.381
lastevent: 2021-04-06 01:29:50.364, last ten sensor data: [('2021-04-06 01:29:49.860', 'D+000004.0'), ('2021-04-06 01:29:50.020', 'D+000004.0'), ('2021-04-06 01:29:50.040', 'D+000004.0'), ('2021-04-06 01:29:50.060', 'D+000004.0'), ('2021-04-06 01:29:50.080', 'D+000004.0'), ('2021-04-06 01:29:50.100', 'D+000004.2'), ('2021-04-06 01:29:50.270', 'D+000003.8'), ('2021-04-06 01:29:50.290', 'D+000003.6'), ('2021-04-06 01:29:50.310', 'D+000004.0'), ('2021-04-06 01:29:50.330', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 3.8, 3.6, 4.0, 4.2]
np.array X: [[4. ]
 [4.2]
 [3.8]
 [3.6]
 [4. ]
 [4.2]]
revised_weight: 4.1
2021-04-06 01:29:50.330: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:29:50.330
plc_result: True
sendmessage: 20210406012950330,1,000042,000041
send message to PLC: 2021-04-06 01:29:50.388
time gap: 0:00:00.006735
2021-04-06 01:29:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:51.797
lastevent: 2021-04-06 01:29:51.790, last ten sensor data: [('2021-04-06 01:29:51.320', 'D+000003.0'), ('2021-04-06 01:29:51.490', 'D+000003.2'), ('2021-04-06 01:29:51.510', 'D+000003.0'), ('2021-04-06 01:29:51.530', 'D+000003.2'), ('2021-04-06 01:29:51.550', 'D+000003.2'), ('2021-04-06 01:29:51.570', 'D+000003.0'), ('2021-04-06 01:29:51.740', 'D+000003.8'), ('2021-04-06 01:29:51.760', 'D+000003.8'), ('2021-04-06 01:29:51.780', 'D+000003.6'), ('2021-04-06 01:29:51.800', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.0, 3.8, 3.8, 3.6, 3.6]
np.array X: [[3.2]
 [3. ]
 [3.8]
 [3.8]
 [3.6]
 [3.6]]
revised_weight: 3.5
2021-04-06 01:29:51.800: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:29:51.800
plc_result: True
sendmessage: 20210406012951800,1,000036,000035
send message to PLC: 2021-04-06 01:29:51.804
time gap: 0:00:00.006652
2021-04-06 01:29:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:53.453
lastevent: 2021-04-06 01:29:53.443, last ten sensor data: [('2021-04-06 01:29:52.960', 'D+000003.6'), ('2021-04-06 01:29:52.980', 'D+000003.4'), ('2021-04-06 01:29:53.000', 'D+000003.6'), ('2021-04-06 01:29:53.020', 'D+000003.6'), ('2021-04-06 01:29:53.040', 'D+000003.2'), ('2021-04-06 01:29:53.180', 'D+000006.4'), ('2021-04-06 01:29:53.210', 'D+000006.8'), ('2021-04-06 01:29:53.230', 'D+000006.2'), ('2021-04-06 01:29:53.250', 'D+000006.0'), ('2021-04-06 01:29:53.270', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 6.4, 6.8, 6.2, 6.0, 6.6]
np.array X: [[3.2]
 [6.4]
 [6.8]
 [6.2]
 [6. ]
 [6.6]]
revised_weight: 7.5
2021-04-06 01:29:53.270: revising weight finished
revised_weight: 7.5 at 2021-04-06 01:29:53.270
plc_result: True
sendmessage: 20210406012953270,1,000066,000075
send message to PLC: 2021-04-06 01:29:53.460
time gap: 0:00:00.006934
2021-04-06 01:29:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:55.978
lastevent: 2021-04-06 01:29:55.965, last ten sensor data: [('2021-04-06 01:29:55.210', 'D+000002.8'), ('2021-04-06 01:29:55.230', 'D+000002.6'), ('2021-04-06 01:29:55.410', 'D+000002.4'), ('2021-04-06 01:29:55.430', 'D+000002.6'), ('2021-04-06 01:29:55.450', 'D+000002.4'), ('2021-04-06 01:29:55.470', 'D+000002.4'), ('2021-04-06 01:29:55.740', 'D+000004.0'), ('2021-04-06 01:29:55.760', 'D+000003.6'), ('2021-04-06 01:29:55.780', 'D+000004.0'), ('2021-04-06 01:29:55.800', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 4.0, 3.6, 4.0, 4.8]
np.array X: [[2.4]
 [2.4]
 [4. ]
 [3.6]
 [4. ]
 [4.8]]
revised_weight: 4.2
2021-04-06 01:29:55.800: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:29:55.800
plc_result: True
sendmessage: 20210406012955800,1,000048,000042
send message to PLC: 2021-04-06 01:29:55.991
time gap: 0:00:00.013083
2021-04-06 01:29:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:29:57.947
lastevent: 2021-04-06 01:29:57.932, last ten sensor data: [('2021-04-06 01:29:57.490', 'D+000002.2'), ('2021-04-06 01:29:57.510', 'D+000002.0'), ('2021-04-06 01:29:57.530', 'D+000002.2'), ('2021-04-06 01:29:57.550', 'D+000002.0'), ('2021-04-06 01:29:57.710', 'D+000001.6'), ('2021-04-06 01:29:57.730', 'D+000002.0'), ('2021-04-06 01:29:57.750', 'D+000002.2'), ('2021-04-06 01:29:57.770', 'D+000002.2'), ('2021-04-06 01:29:57.790', 'D+000001.8'), ('2021-04-06 01:29:57.930', 'D+000002.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 2.0, 2.2, 2.2, 1.8, 2.0]
np.array X: [[1.6]
 [2. ]
 [2.2]
 [2.2]
 [1.8]
 [2. ]]
revised_weight: 1.8
2021-04-06 01:29:57.930: revising weight finished
revised_weight: 1.8 at 2021-04-06 01:29:57.930
plc_result: True
sendmessage: 20210406012957930,1,000020,000018
send message to PLC: 2021-04-06 01:29:57.953
time gap: 0:00:00.006191
2021-04-06 01:29:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:29:59: httpPlcDataSender thread Timeout occurred
trigger sensor detected: 2021-04-06 01:29:59.645
lastevent: 2021-04-06 01:29:59.632, last ten sensor data: [('2021-04-06 01:29:59.060', 'D+000001.8'), ('2021-04-06 01:29:59.240', 'D+000001.6'), ('2021-04-06 01:29:59.260', 'D+000001.8'), ('2021-04-06 01:29:59.280', 'D+000001.8'), ('2021-04-06 01:29:59.300', 'D+000001.8'), ('2021-04-06 01:29:59.480', 'D+000002.4'), ('2021-04-06 01:29:59.500', 'D+000002.2'), ('2021-04-06 01:29:59.520', 'D+000002.2'), ('2021-04-06 01:29:59.540', 'D+000002.4'), ('2021-04-06 01:29:59.560', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.4, 2.2, 2.2, 2.4, 2.4]
np.array X: [[1.8]
 [2.4]
 [2.2]
 [2.2]
 [2.4]
 [2.4]]
revised_weight: 2.4
2021-04-06 01:29:59.560: revising weight finished
revised_weight: 2.4 at 2021-04-06 01:29:59.560
plc_result: True
sendmessage: 20210406012959560,1,000024,000024
send message to PLC: 2021-04-06 01:29:59.666
time gap: 0:00:00.021051
2021-04-06 01:29:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db']
2021-04-06 01:29:59: [13087] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_20.db
select_plcdb_filename: b
2021-04-06 01:29:59: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:29:59: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:29:59: select done
2021-04-06 01:29:59: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:29:59: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:29:59: sendjson called, 49 records in httpPlcDataSender thread
2021-04-06 01:29:59: count: 49 in httpPlcDataSender thread
2021-04-06 01:29:59: D+: 49 in httpPlcDataSender thread
2021-04-06 01:29:59: D-: 0 in httpPlcDataSender thread
2021-04-06 01:29:59: S+: 0 in httpPlcDataSender thread
2021-04-06 01:29:59: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.3', 'sensorAt': '2021-04-06 01:29:03.560'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:29:04.310'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:29:05.470'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:29:06.570'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:29:08.230'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:29:09.030'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:29:09.750'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:29:10.880'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:29:11.220'}, {'value': '8.3', 'sensorAt': '2021-04-06 01:29:12.470'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:29:13.900'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:29:14.900'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:29:16.080'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:29:16.870'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:29:17.110'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:29:19.080'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:29:20.410'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:29:20.710'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:29:23.460'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:29:24.670'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:29:25.660'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:29:27.530'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:29:28.310'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:29:29.460'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:29:30.250'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:29:30.690'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:29:31.420'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:29:32.640'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:29:33.130'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:29:33.860'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:29:36.080'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:29:38.010'}, {'value': '9.3', 'sensorAt': '2021-04-06 01:29:39.300'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:29:41.990'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:29:42.700'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:29:43.680'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:29:44.280'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:29:45.260'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:29:46.460'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:29:46.970'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:29:48.390'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:29:49.120'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:29:49.600'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:29:50.330'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:29:51.800'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:29:53.270'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:29:55.800'}, {'value': '1.8', 'sensorAt': '2021-04-06 01:29:57.930'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:29:59.560'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:29:03.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:04.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:05.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:06.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:08.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:09.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:09.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:10.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:11.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:12.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:13.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:14.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:16.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:16.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:17.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:19.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:20.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:20.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:23.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:24.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:25.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:27.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:28.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:29.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:30.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:30.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:31.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:32.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:33.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:33.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:36.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:38.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:39.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:41.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:42.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:43.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:44.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:45.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:46.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:46.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:48.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:49.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:49.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:50.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:51.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:53.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:55.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:57.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:59.560'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:29:59', 'collectDate': '2021-04-06 01:29:59', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.3', 'sensorAt': '2021-04-06 01:29:03.560'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:29:04.310'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:29:05.470'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:29:06.570'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:29:08.230'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:29:09.030'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:29:09.750'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:29:10.880'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:29:11.220'}, {'value': '8.3', 'sensorAt': '2021-04-06 01:29:12.470'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:29:13.900'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:29:14.900'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:29:16.080'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:29:16.870'}, {'value': '1.5', 'sensorAt': '2021-04-06 01:29:17.110'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:29:19.080'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:29:20.410'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:29:20.710'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:29:23.460'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:29:24.670'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:29:25.660'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:29:27.530'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:29:28.310'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:29:29.460'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:29:30.250'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:29:30.690'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:29:31.420'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:29:32.640'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:29:33.130'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:29:33.860'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:29:36.080'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:29:38.010'}, {'value': '9.3', 'sensorAt': '2021-04-06 01:29:39.300'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:29:41.990'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:29:42.700'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:29:43.680'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:29:44.280'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:29:45.260'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:29:46.460'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:29:46.970'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:29:48.390'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:29:49.120'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:29:49.600'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:29:50.330'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:29:51.800'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:29:53.270'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:29:55.800'}, {'value': '1.8', 'sensorAt': '2021-04-06 01:29:57.930'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:29:59.560'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:29:03.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:04.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:05.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:06.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:08.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:09.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:09.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:10.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:11.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:12.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:13.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:14.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:16.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:16.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:17.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:19.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:20.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:20.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:23.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:24.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:25.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:27.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:28.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:29.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:30.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:30.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:31.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:32.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:33.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:33.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:36.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:38.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:39.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:41.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:42.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:43.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:44.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:45.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:46.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:46.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:48.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:49.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:49.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:50.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:51.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:53.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:55.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:57.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:29:59.560'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
1[790]: datalist_to_store size: 790
2021-04-06 01:30:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
trigger sensor detected: 2021-04-06 01:30:00.068
lastevent: 2021-04-06 01:30:00.067, last ten sensor data: [('2021-04-06 01:29:59.750', 'D+000002.8'), ('2021-04-06 01:29:59.770', 'D+000003.0'), ('2021-04-06 01:29:59.790', 'D+000002.6'), ('2021-04-06 01:29:59.810', 'D+000003.0'), ('2021-04-06 01:29:59.920', 'D+000003.4'), ('2021-04-06 01:29:59.960', 'D+000003.0'), ('2021-04-06 01:29:59.980', 'D+000003.8'), ('2021-04-06 01:30:00.000', 'D+000003.4'), ('2021-04-06 01:30:00.020', 'D+000003.0'), ('2021-04-06 01:30:00.040', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.0, 3.8, 3.4, 3.0, 3.0]
np.array X: [[3.4]
 [3. ]
 [3.8]
 [3.4]
 [3. ]
 [3. ]]
2021-04-06 01:30:00: send http
revised_weight: 3.0
2021-04-06 01:30:00: response status code: 200
2021-04-06 01:30:00.040: revising weight finished
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
revised_weight: 3.0 at 2021-04-06 01:30:00.040
True
plc_result: True
sendmessage: 20210406013000040,1,000030,000030
send message to PLC: 2021-04-06 01:30:00.085
time gap: 0:00:00.016267
current_plcdb_name: plcdata2021-04-06_01_30.db
2021-04-06 01:30:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
Backupserver True
2021-04-06 01:30:00: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:00: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:00.941
lastevent: 2021-04-06 01:30:00.938, last ten sensor data: [('2021-04-06 01:30:00.320', 'D+000003.0'), ('2021-04-06 01:30:00.490', 'D+000003.0'), ('2021-04-06 01:30:00.510', 'D+000003.0'), ('2021-04-06 01:30:00.530', 'D+000003.2'), ('2021-04-06 01:30:00.550', 'D+000003.0'), ('2021-04-06 01:30:00.570', 'D+000003.2'), ('2021-04-06 01:30:00.740', 'D+000003.8'), ('2021-04-06 01:30:00.760', 'D+000004.0'), ('2021-04-06 01:30:00.780', 'D+000004.2'), ('2021-04-06 01:30:00.800', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.2, 3.8, 4.0, 4.2, 4.2]
np.array X: [[3. ]
 [3.2]
 [3.8]
 [4. ]
 [4.2]
 [4.2]]
revised_weight: 4.1
2021-04-06 01:30:00.800: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:30:00.800
plc_result: True
sendmessage: 20210406013000800,1,000042,000041
send message to PLC: 2021-04-06 01:30:00.954
time gap: 0:00:00.012924
2021-04-06 01:30:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:01.308
lastevent: 2021-04-06 01:30:01.300, last ten sensor data: [('2021-04-06 01:30:00.980', 'D+000004.0'), ('2021-04-06 01:30:01.000', 'D+000004.2'), ('2021-04-06 01:30:01.020', 'D+000004.6'), ('2021-04-06 01:30:01.040', 'D+000004.6'), ('2021-04-06 01:30:01.060', 'D+000004.6'), ('2021-04-06 01:30:01.220', 'D+000004.0'), ('2021-04-06 01:30:01.240', 'D+000004.0'), ('2021-04-06 01:30:01.260', 'D+000004.0'), ('2021-04-06 01:30:01.280', 'D+000004.0'), ('2021-04-06 01:30:01.300', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.0, 4.0, 4.0, 4.0, 4.0]
np.array X: [[4.6]
 [4. ]
 [4. ]
 [4. ]
 [4. ]
 [4. ]]
revised_weight: 3.9
2021-04-06 01:30:01.300: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:30:01.300
plc_result: True
sendmessage: 20210406013001300,1,000040,000039
send message to PLC: 2021-04-06 01:30:01.315
time gap: 0:00:00.006366
2021-04-06 01:30:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:02.217
lastevent: 2021-04-06 01:30:02.216, last ten sensor data: [('2021-04-06 01:30:01.740', 'D+000003.2'), ('2021-04-06 01:30:01.760', 'D+000003.8'), ('2021-04-06 01:30:01.780', 'D+000004.0'), ('2021-04-06 01:30:01.960', 'D+000004.0'), ('2021-04-06 01:30:01.980', 'D+000004.0'), ('2021-04-06 01:30:02.000', 'D+000004.2'), ('2021-04-06 01:30:02.020', 'D+000004.4'), ('2021-04-06 01:30:02.040', 'D+000004.8'), ('2021-04-06 01:30:02.180', 'D+000004.6'), ('2021-04-06 01:30:02.210', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 4.4, 4.8, 4.6, 4.8]
np.array X: [[4. ]
 [4.2]
 [4.4]
 [4.8]
 [4.6]
 [4.8]]
revised_weight: 4.7
2021-04-06 01:30:02.210: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:30:02.210
plc_result: True
sendmessage: 20210406013002210,1,000048,000047
send message to PLC: 2021-04-06 01:30:02.229
time gap: 0:00:00.012129
2021-04-06 01:30:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:02.580
lastevent: 2021-04-06 01:30:02.571, last ten sensor data: [0, 0, 0, ('2021-04-06 01:30:02.230', 'D+000004.6'), ('2021-04-06 01:30:02.250', 'D+000004.4'), ('2021-04-06 01:30:02.270', 'D+000005.0'), ('2021-04-06 01:30:02.450', 'D+000003.8'), ('2021-04-06 01:30:02.470', 'D+000004.6'), ('2021-04-06 01:30:02.490', 'D+000004.8'), ('2021-04-06 01:30:02.510', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.0, 3.8, 4.6, 4.8, 4.2]
np.array X: [[4.4]
 [5. ]
 [3.8]
 [4.6]
 [4.8]
 [4.2]]
revised_weight: 4.4
2021-04-06 01:30:02.510: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:30:02.510
plc_result: True
sendmessage: 20210406013002510,1,000042,000044
send message to PLC: 2021-04-06 01:30:02.592
time gap: 0:00:00.011513
2021-04-06 01:30:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:03.947
lastevent: 2021-04-06 01:30:03.939, last ten sensor data: [('2021-04-06 01:30:03.490', 'D+000002.8'), ('2021-04-06 01:30:03.650', 'D+000003.4'), ('2021-04-06 01:30:03.670', 'D+000003.2'), ('2021-04-06 01:30:03.690', 'D+000003.0'), ('2021-04-06 01:30:03.710', 'D+000003.2'), ('2021-04-06 01:30:03.730', 'D+000003.0'), ('2021-04-06 01:30:03.890', 'D+000003.2'), ('2021-04-06 01:30:03.910', 'D+000003.2'), ('2021-04-06 01:30:03.930', 'D+000003.4'), ('2021-04-06 01:30:03.950', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.0, 3.2, 3.2, 3.4, 3.4]
np.array X: [[3.2]
 [3. ]
 [3.2]
 [3.2]
 [3.4]
 [3.4]]
revised_weight: 3.3
2021-04-06 01:30:03.950: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:30:03.950
plc_result: True
sendmessage: 20210406013003950,1,000034,000033
send message to PLC: 2021-04-06 01:30:03.959
time gap: 0:00:00.011953
2021-04-06 01:30:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:04.343
lastevent: 2021-04-06 01:30:04.333, last ten sensor data: [0, 0, 0, ('2021-04-06 01:30:03.970', 'D+000003.4'), ('2021-04-06 01:30:03.990', 'D+000003.4'), ('2021-04-06 01:30:04.150', 'D+000004.2'), ('2021-04-06 01:30:04.170', 'D+000004.2'), ('2021-04-06 01:30:04.190', 'D+000003.4'), ('2021-04-06 01:30:04.210', 'D+000003.0'), ('2021-04-06 01:30:04.230', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.2, 4.2, 3.4, 3.0, 3.4]
np.array X: [[3.4]
 [4.2]
 [4.2]
 [3.4]
 [3. ]
 [3.4]]
revised_weight: 3.6
2021-04-06 01:30:04.230: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:30:04.230
plc_result: True
sendmessage: 20210406013004230,1,000034,000036
send message to PLC: 2021-04-06 01:30:04.357
time gap: 0:00:00.013941
2021-04-06 01:30:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:05: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:30:05: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:05: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:30:05: select done
2021-04-06 01:30:05: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:30:05: No Data remains in httpPlcDataSender thread
2021-04-06 01:30:05: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_20.db
2021-04-06 01:30:05: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db']
2021-04-06 01:30:05: current db filename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_30.db
select_plcdb_filename: b
2021-04-06 01:30:05: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:05: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:05: select done
2021-04-06 01:30:05: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:30:05: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:30:05: sendjson called, 7 records in httpPlcDataSender thread
2021-04-06 01:30:05: count: 7 in httpPlcDataSender thread
2021-04-06 01:30:05: D+: 7 in httpPlcDataSender thread
2021-04-06 01:30:05: D-: 0 in httpPlcDataSender thread
2021-04-06 01:30:05: S+: 0 in httpPlcDataSender thread
2021-04-06 01:30:05: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.0', 'sensorAt': '2021-04-06 01:30:00.040'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:30:00.800'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:30:01.300'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:30:02.210'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:30:02.510'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:30:03.950'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:30:04.230'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:00.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:00.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:01.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:02.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:02.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:03.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:04.230'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:30:05', 'collectDate': '2021-04-06 01:30:04', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.0', 'sensorAt': '2021-04-06 01:30:00.040'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:30:00.800'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:30:01.300'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:30:02.210'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:30:02.510'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:30:03.950'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:30:04.230'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:00.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:00.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:01.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:02.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:02.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:03.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:04.230'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:30:06: send http
2021-04-06 01:30:06: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:30:06: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:06: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:06.683
lastevent: 2021-04-06 01:30:06.678, last ten sensor data: [('2021-04-06 01:30:06.160', 'D+000002.2'), ('2021-04-06 01:30:06.180', 'D+000002.4'), ('2021-04-06 01:30:06.360', 'D+000002.8'), ('2021-04-06 01:30:06.380', 'D+000002.6'), ('2021-04-06 01:30:06.400', 'D+000002.6'), ('2021-04-06 01:30:06.420', 'D+000002.4'), ('2021-04-06 01:30:06.590', 'D+000003.8'), ('2021-04-06 01:30:06.610', 'D+000004.0'), ('2021-04-06 01:30:06.630', 'D+000004.0'), ('2021-04-06 01:30:06.650', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.4, 3.8, 4.0, 4.0, 4.4]
np.array X: [[2.6]
 [2.4]
 [3.8]
 [4. ]
 [4. ]
 [4.4]]
revised_weight: 3.9
2021-04-06 01:30:06.650: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:30:06.650
plc_result: True
sendmessage: 20210406013006650,1,000044,000039
send message to PLC: 2021-04-06 01:30:06.696
time gap: 0:00:00.013043
2021-04-06 01:30:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:07.238
lastevent: 2021-04-06 01:30:07.231, last ten sensor data: [('2021-04-06 01:30:06.830', 'D+000004.2'), ('2021-04-06 01:30:06.850', 'D+000004.2'), ('2021-04-06 01:30:06.870', 'D+000004.6'), ('2021-04-06 01:30:06.890', 'D+000004.6'), ('2021-04-06 01:30:06.910', 'D+000004.6'), ('2021-04-06 01:30:07.070', 'D+000006.4'), ('2021-04-06 01:30:07.090', 'D+000006.4'), ('2021-04-06 01:30:07.110', 'D+000006.2'), ('2021-04-06 01:30:07.130', 'D+000007.0'), ('2021-04-06 01:30:07.150', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 6.4, 6.4, 6.2, 7.0, 7.2]
np.array X: [[4.6]
 [6.4]
 [6.4]
 [6.2]
 [7. ]
 [7.2]]
revised_weight: 6.6
2021-04-06 01:30:07.150: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:30:07.150
plc_result: True
sendmessage: 20210406013007150,1,000072,000066
send message to PLC: 2021-04-06 01:30:07.251
time gap: 0:00:00.013329
2021-04-06 01:30:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:09.763
lastevent: 2021-04-06 01:30:09.751, last ten sensor data: [('2021-04-06 01:30:09.300', 'D+000002.6'), ('2021-04-06 01:30:09.320', 'D+000002.6'), ('2021-04-06 01:30:09.340', 'D+000002.4'), ('2021-04-06 01:30:09.360', 'D+000002.6'), ('2021-04-06 01:30:09.500', 'D+000003.4'), ('2021-04-06 01:30:09.540', 'D+000003.8'), ('2021-04-06 01:30:09.560', 'D+000004.0'), ('2021-04-06 01:30:09.580', 'D+000004.2'), ('2021-04-06 01:30:09.600', 'D+000004.2'), ('2021-04-06 01:30:09.760', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.8, 4.0, 4.2, 4.2, 4.4]
np.array X: [[3.4]
 [3.8]
 [4. ]
 [4.2]
 [4.2]
 [4.4]]
revised_weight: 4.3
2021-04-06 01:30:09.760: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:30:09.760
plc_result: True
sendmessage: 20210406013009760,1,000044,000043
send message to PLC: 2021-04-06 01:30:09.774
time gap: 0:00:00.011893
2021-04-06 01:30:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:11: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:30:11: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:11: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:11: select done
2021-04-06 01:30:11: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:30:11: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:11.424
lastevent: 2021-04-06 01:30:11.421, last ten sensor data: [('2021-04-06 01:30:10.970', 'D+000003.4'), ('2021-04-06 01:30:10.990', 'D+000003.6'), ('2021-04-06 01:30:11.010', 'D+000003.4'), ('2021-04-06 01:30:11.030', 'D+000003.4'), ('2021-04-06 01:30:11.050', 'D+000003.6'), ('2021-04-06 01:30:11.070', 'D+000003.4'), ('2021-04-06 01:30:11.230', 'D+000005.4'), ('2021-04-06 01:30:11.250', 'D+000005.6'), ('2021-04-06 01:30:11.270', 'D+000006.8'), ('2021-04-06 01:30:11.290', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.4, 5.4, 5.6, 6.8, 7.6]
np.array X: [[3.6]
 [3.4]
 [5.4]
 [5.6]
 [6.8]
 [7.6]]
revised_weight: 6.4
2021-04-06 01:30:11.290: revising weight finished
revised_weight: 6.4 at 2021-04-06 01:30:11.290
plc_result: True
sendmessage: 20210406013011290,1,000076,000064
send message to PLC: 2021-04-06 01:30:11.435
time gap: 0:00:00.011340
2021-04-06 01:30:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:11: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:30:11: count: 3 in httpPlcDataSender thread
2021-04-06 01:30:11: D+: 3 in httpPlcDataSender thread
2021-04-06 01:30:11: D-: 0 in httpPlcDataSender thread
2021-04-06 01:30:11: S+: 0 in httpPlcDataSender thread
2021-04-06 01:30:11: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.9', 'sensorAt': '2021-04-06 01:30:06.650'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:30:07.150'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:30:09.760'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:06.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:07.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:09.760'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:30:11', 'collectDate': '2021-04-06 01:30:09', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.9', 'sensorAt': '2021-04-06 01:30:06.650'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:30:07.150'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:30:09.760'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:06.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:07.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:09.760'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:30:11: send http
2021-04-06 01:30:11: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:30:11: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:11: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:13.138
lastevent: 2021-04-06 01:30:13.134, last ten sensor data: [('2021-04-06 01:30:12.680', 'D+000003.8'), ('2021-04-06 01:30:12.710', 'D+000003.8'), ('2021-04-06 01:30:12.730', 'D+000004.0'), ('2021-04-06 01:30:12.750', 'D+000004.2'), ('2021-04-06 01:30:12.770', 'D+000004.4'), ('2021-04-06 01:30:12.940', 'D+000006.4'), ('2021-04-06 01:30:12.960', 'D+000006.4'), ('2021-04-06 01:30:12.980', 'D+000006.8'), ('2021-04-06 01:30:13.000', 'D+000006.8'), ('2021-04-06 01:30:13.020', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 6.4, 6.4, 6.8, 6.8, 7.2]
np.array X: [[4.4]
 [6.4]
 [6.4]
 [6.8]
 [6.8]
 [7.2]]
revised_weight: 6.7
2021-04-06 01:30:13.020: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:30:13.020
plc_result: True
sendmessage: 20210406013013020,1,000072,000067
send message to PLC: 2021-04-06 01:30:13.151
time gap: 0:00:00.012941
2021-04-06 01:30:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:13.849
lastevent: 2021-04-06 01:30:13.836, last ten sensor data: [('2021-04-06 01:30:13.430', 'D+000007.4'), ('2021-04-06 01:30:13.450', 'D+000007.2'), ('2021-04-06 01:30:13.470', 'D+000007.2'), ('2021-04-06 01:30:13.490', 'D+000007.2'), ('2021-04-06 01:30:13.510', 'D+000007.2'), ('2021-04-06 01:30:13.670', 'D+000007.0'), ('2021-04-06 01:30:13.690', 'D+000006.6'), ('2021-04-06 01:30:13.710', 'D+000006.6'), ('2021-04-06 01:30:13.730', 'D+000006.2'), ('2021-04-06 01:30:13.750', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 7.0, 6.6, 6.6, 6.2, 5.6]
np.array X: [[7.2]
 [7. ]
 [6.6]
 [6.6]
 [6.2]
 [5.6]]
revised_weight: 6.7
2021-04-06 01:30:13.750: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:30:13.750
plc_result: True
sendmessage: 20210406013013750,1,000056,000067
send message to PLC: 2021-04-06 01:30:13.861
time gap: 0:00:00.012189
2021-04-06 01:30:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:14.130
lastevent: 2021-04-06 01:30:14.123, last ten sensor data: [0, 0, 0, ('2021-04-06 01:30:13.860', 'D+000005.6'), ('2021-04-06 01:30:13.910', 'D+000004.4'), ('2021-04-06 01:30:13.930', 'D+000004.6'), ('2021-04-06 01:30:13.950', 'D+000005.0'), ('2021-04-06 01:30:13.970', 'D+000005.2'), ('2021-04-06 01:30:13.990', 'D+000004.8'), ('2021-04-06 01:30:14.010', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 5.0, 5.2, 4.8, 4.2]
np.array X: [[4.4]
 [4.6]
 [5. ]
 [5.2]
 [4.8]
 [4.2]]
revised_weight: 4.5
2021-04-06 01:30:14.010: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:30:14.010
plc_result: True
sendmessage: 20210406013014010,1,000042,000045
send message to PLC: 2021-04-06 01:30:14.137
time gap: 0:00:00.007356
2021-04-06 01:30:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:15: httpScaleDataSender thread Timeout occurred
2021-04-06 01:30:15: [13717] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_20.db in httpScaleDataSender thread
2021-04-06 01:30:15: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:30:15: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
2021-04-06 01:30:16: select done
2021-04-06 01:30:16: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:30:16: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:30:16: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:30:16: count: 3000 in httpScaleDataSender thread
2021-04-06 01:30:16: D+: 2997 in httpScaleDataSender thread
2021-04-06 01:30:16: D-: 3 in httpScaleDataSender thread
2021-04-06 01:30:16: S+: 0 in httpScaleDataSender thread
2021-04-06 01:30:16: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:30:16.839
lastevent: 2021-04-06 01:30:16.825, last ten sensor data: [('2021-04-06 01:30:16.370', 'D+000002.2'), ('2021-04-06 01:30:16.390', 'D+000002.2'), ('2021-04-06 01:30:16.410', 'D+000002.2'), ('2021-04-06 01:30:16.430', 'D+000002.0'), ('2021-04-06 01:30:16.600', 'D+000003.4'), ('2021-04-06 01:30:16.620', 'D+000003.6'), ('2021-04-06 01:30:16.640', 'D+000004.2'), ('2021-04-06 01:30:16.660', 'D+000004.4'), ('2021-04-06 01:30:16.680', 'D+000005.0'), ('2021-04-06 01:30:16.820', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 4.2, 4.4, 5.0, 6.6]
np.array X: [[3.4]
 [3.6]
 [4.2]
 [4.4]
 [5. ]
 [6.6]]
revised_weight: 5.0
2021-04-06 01:30:16.820: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:30:16.820
plc_result: True
sendmessage: 20210406013016820,1,000066,000050
send message to PLC: 2021-04-06 01:30:16.853
time gap: 0:00:00.013510
2021-04-06 01:30:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:16: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:30:16: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:16: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:16: select done
2021-04-06 01:30:16: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:30:16: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:30:17: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:30:17: count: 5 in httpPlcDataSender thread
2021-04-06 01:30:17: D+: 5 in httpPlcDataSender thread
2021-04-06 01:30:17: D-: 0 in httpPlcDataSender thread
2021-04-06 01:30:17: S+: 0 in httpPlcDataSender thread
2021-04-06 01:30:17: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.4', 'sensorAt': '2021-04-06 01:30:11.290'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:30:13.020'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:30:13.750'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:30:14.010'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:30:16.820'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:11.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:13.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:13.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:14.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:16.820'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:30:17', 'collectDate': '2021-04-06 01:30:16', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.4', 'sensorAt': '2021-04-06 01:30:11.290'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:30:13.020'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:30:13.750'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:30:14.010'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:30:16.820'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:11.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:13.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:13.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:14.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:16.820'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:30:17: send http
2021-04-06 01:30:17: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:30:17: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:17: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:17.925
lastevent: 2021-04-06 01:30:17.915, last ten sensor data: [('2021-04-06 01:30:17.610', 'D+000005.0'), ('2021-04-06 01:30:17.630', 'D+000006.0'), ('2021-04-06 01:30:17.650', 'D+000006.4'), ('2021-04-06 01:30:17.670', 'D+000006.0'), ('2021-04-06 01:30:17.810', 'D+000006.4'), ('2021-04-06 01:30:17.830', 'D+000008.8'), ('2021-04-06 01:30:17.850', 'D+000009.6'), ('2021-04-06 01:30:17.870', 'D+000008.8'), ('2021-04-06 01:30:17.890', 'D+000008.6'), ('2021-04-06 01:30:17.910', 'D+000009.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 8.8, 9.6, 8.8, 8.6, 9.4]
np.array X: [[6.4]
 [8.8]
 [9.6]
 [8.8]
 [8.6]
 [9.4]]
revised_weight: 9.2
2021-04-06 01:30:17.910: revising weight finished
revised_weight: 9.2 at 2021-04-06 01:30:17.910
plc_result: True
sendmessage: 20210406013017910,1,000094,000092
send message to PLC: 2021-04-06 01:30:17.937
time gap: 0:00:00.011719
2021-04-06 01:30:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:18: send http
2021-04-06 01:30:18: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:30:18: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:30:18: got 'update query' results  in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:30:19.648
lastevent: 2021-04-06 01:30:19.636, last ten sensor data: [('2021-04-06 01:30:19.280', 'D+000003.6'), ('2021-04-06 01:30:19.300', 'D+000004.0'), ('2021-04-06 01:30:19.320', 'D+000004.2'), ('2021-04-06 01:30:19.340', 'D+000004.2'), ('2021-04-06 01:30:19.360', 'D+000004.2'), ('2021-04-06 01:30:19.520', 'D+000005.0'), ('2021-04-06 01:30:19.540', 'D+000005.4'), ('2021-04-06 01:30:19.560', 'D+000005.4'), ('2021-04-06 01:30:19.580', 'D+000005.8'), ('2021-04-06 01:30:19.600', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.0, 5.4, 5.4, 5.8, 4.8]
np.array X: [[4.2]
 [5. ]
 [5.4]
 [5.4]
 [5.8]
 [4.8]]
revised_weight: 5.0
2021-04-06 01:30:19.600: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:30:19.600
plc_result: True
sendmessage: 20210406013019600,1,000048,000050
send message to PLC: 2021-04-06 01:30:19.661
time gap: 0:00:00.012308
2021-04-06 01:30:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:21.789
lastevent: 2021-04-06 01:30:21.774, last ten sensor data: [('2021-04-06 01:30:21.320', 'D+000002.4'), ('2021-04-06 01:30:21.340', 'D+000002.6'), ('2021-04-06 01:30:21.360', 'D+000002.6'), ('2021-04-06 01:30:21.380', 'D+000002.6'), ('2021-04-06 01:30:21.550', 'D+000005.2'), ('2021-04-06 01:30:21.570', 'D+000005.6'), ('2021-04-06 01:30:21.590', 'D+000006.4'), ('2021-04-06 01:30:21.610', 'D+000006.6'), ('2021-04-06 01:30:21.630', 'D+000006.4'), ('2021-04-06 01:30:21.780', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.6, 6.4, 6.6, 6.4, 4.4]
np.array X: [[5.2]
 [5.6]
 [6.4]
 [6.6]
 [6.4]
 [4.4]]
revised_weight: 5.4
2021-04-06 01:30:21.780: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:30:21.780
plc_result: True
sendmessage: 20210406013021780,1,000044,000054
send message to PLC: 2021-04-06 01:30:21.801
time gap: 0:00:00.011913
2021-04-06 01:30:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:22.444
lastevent: 2021-04-06 01:30:22.432, last ten sensor data: [('2021-04-06 01:30:21.860', 'D+000007.0'), ('2021-04-06 01:30:22.030', 'D+000007.2'), ('2021-04-06 01:30:22.050', 'D+000007.0'), ('2021-04-06 01:30:22.070', 'D+000007.0'), ('2021-04-06 01:30:22.090', 'D+000007.4'), ('2021-04-06 01:30:22.110', 'D+000007.4'), ('2021-04-06 01:30:22.280', 'D+000004.2'), ('2021-04-06 01:30:22.300', 'D+000003.6'), ('2021-04-06 01:30:22.320', 'D+000003.8'), ('2021-04-06 01:30:22.340', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 7.4, 4.2, 3.6, 3.8, 5.4]
np.array X: [[7.4]
 [7.4]
 [4.2]
 [3.6]
 [3.8]
 [5.4]]
revised_weight: 4.8
2021-04-06 01:30:22.340: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:30:22.340
plc_result: True
sendmessage: 20210406013022340,1,000054,000048
send message to PLC: 2021-04-06 01:30:22.463
time gap: 0:00:00.019049
2021-04-06 01:30:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:22: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:30:22: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:22: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:22: select done
2021-04-06 01:30:22: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:30:22: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:30:22: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:30:22: count: 4 in httpPlcDataSender thread
2021-04-06 01:30:22: D+: 4 in httpPlcDataSender thread
2021-04-06 01:30:22: D-: 0 in httpPlcDataSender thread
2021-04-06 01:30:22: S+: 0 in httpPlcDataSender thread
2021-04-06 01:30:22: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.2', 'sensorAt': '2021-04-06 01:30:17.910'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:30:19.600'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:30:21.780'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:30:22.340'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:17.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:19.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:21.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:22.340'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:30:22', 'collectDate': '2021-04-06 01:30:22', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.2', 'sensorAt': '2021-04-06 01:30:17.910'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:30:19.600'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:30:21.780'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:30:22.340'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:17.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:19.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:21.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:22.340'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:23.047
lastevent: 2021-04-06 01:30:23.034, last ten sensor data: [('2021-04-06 01:30:22.780', 'D+000003.8'), ('2021-04-06 01:30:22.800', 'D+000004.0'), ('2021-04-06 01:30:22.820', 'D+000004.0'), ('2021-04-06 01:30:22.840', 'D+000003.4'), ('2021-04-06 01:30:22.860', 'D+000003.0'), ('2021-04-06 01:30:22.960', 'D+000002.8'), ('2021-04-06 01:30:22.980', 'D+000003.0'), ('2021-04-06 01:30:23.000', 'D+000003.0'), ('2021-04-06 01:30:23.020', 'D+000002.8'), ('2021-04-06 01:30:23.040', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 3.0, 3.0, 2.8, 2.8]
np.array X: [[3. ]
 [2.8]
 [3. ]
 [3. ]
 [2.8]
 [2.8]]
revised_weight: 2.6
2021-04-06 01:30:23.040: revising weight finished
revised_weight: 2.6 at 2021-04-06 01:30:23.040
plc_result: True
sendmessage: 20210406013023040,1,000028,000026
send message to PLC: 2021-04-06 01:30:23.053
time gap: 0:00:00.006207
2021-04-06 01:30:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:23: send http
2021-04-06 01:30:23: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:30:23: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:23: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:25.218
lastevent: 2021-04-06 01:30:25.203, last ten sensor data: [('2021-04-06 01:30:24.690', 'D+000002.2'), ('2021-04-06 01:30:24.850', 'D+000002.4'), ('2021-04-06 01:30:24.870', 'D+000002.4'), ('2021-04-06 01:30:24.890', 'D+000002.4'), ('2021-04-06 01:30:24.910', 'D+000002.6'), ('2021-04-06 01:30:24.930', 'D+000002.6'), ('2021-04-06 01:30:25.100', 'D+000005.2'), ('2021-04-06 01:30:25.120', 'D+000005.8'), ('2021-04-06 01:30:25.140', 'D+000005.8'), ('2021-04-06 01:30:25.160', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 5.2, 5.8, 5.8, 6.2]
np.array X: [[2.6]
 [2.6]
 [5.2]
 [5.8]
 [5.8]
 [6.2]]
revised_weight: 5.6
2021-04-06 01:30:25.160: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:30:25.160
plc_result: True
sendmessage: 20210406013025160,1,000062,000056
send message to PLC: 2021-04-06 01:30:25.231
time gap: 0:00:00.012448
2021-04-06 01:30:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:26.342
lastevent: 2021-04-06 01:30:26.329, last ten sensor data: [('2021-04-06 01:30:25.880', 'D+000004.6'), ('2021-04-06 01:30:25.900', 'D+000004.4'), ('2021-04-06 01:30:25.920', 'D+000004.2'), ('2021-04-06 01:30:26.070', 'D+000004.0'), ('2021-04-06 01:30:26.090', 'D+000003.8'), ('2021-04-06 01:30:26.110', 'D+000003.8'), ('2021-04-06 01:30:26.130', 'D+000004.2'), ('2021-04-06 01:30:26.150', 'D+000004.0'), ('2021-04-06 01:30:26.320', 'D+000004.2'), ('2021-04-06 01:30:26.340', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 4.2, 4.0, 4.2, 4.6]
np.array X: [[3.8]
 [3.8]
 [4.2]
 [4. ]
 [4.2]
 [4.6]]
revised_weight: 4.4
2021-04-06 01:30:26.340: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:30:26.340
plc_result: True
sendmessage: 20210406013026340,1,000046,000044
send message to PLC: 2021-04-06 01:30:26.349
time gap: 0:00:00.006903
2021-04-06 01:30:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:26.658
lastevent: 2021-04-06 01:30:26.649, last ten sensor data: [0, 0, 0, ('2021-04-06 01:30:26.360', 'D+000004.2'), ('2021-04-06 01:30:26.380', 'D+000004.2'), ('2021-04-06 01:30:26.400', 'D+000004.8'), ('2021-04-06 01:30:26.540', 'D+000004.4'), ('2021-04-06 01:30:26.580', 'D+000004.8'), ('2021-04-06 01:30:26.600', 'D+000004.6'), ('2021-04-06 01:30:26.620', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.8, 4.4, 4.8, 4.6, 4.4]
np.array X: [[4.2]
 [4.8]
 [4.4]
 [4.8]
 [4.6]
 [4.4]]
revised_weight: 4.5
2021-04-06 01:30:26.620: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:30:26.620
plc_result: True
sendmessage: 20210406013026620,1,000044,000045
send message to PLC: 2021-04-06 01:30:26.665
time gap: 0:00:00.007032
2021-04-06 01:30:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:28: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:30:28: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:28: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:28: select done
2021-04-06 01:30:28: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:30:28: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:30:28: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:30:28: count: 4 in httpPlcDataSender thread
2021-04-06 01:30:28: D+: 4 in httpPlcDataSender thread
2021-04-06 01:30:28: D-: 0 in httpPlcDataSender thread
2021-04-06 01:30:28: S+: 0 in httpPlcDataSender thread
2021-04-06 01:30:28: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.6', 'sensorAt': '2021-04-06 01:30:23.040'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:30:25.160'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:30:26.340'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:30:26.620'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:23.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:25.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:26.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:26.620'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:30:28', 'collectDate': '2021-04-06 01:30:26', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.6', 'sensorAt': '2021-04-06 01:30:23.040'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:30:25.160'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:30:26.340'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:30:26.620'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:23.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:25.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:26.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:26.620'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:30:28: send http
2021-04-06 01:30:28: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:30:28: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:30:28: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:30:28.734
lastevent: 2021-04-06 01:30:28.729, last ten sensor data: [('2021-04-06 01:30:28.410', 'D+000001.8'), ('2021-04-06 01:30:28.430', 'D+000001.6'), ('2021-04-06 01:30:28.450', 'D+000001.8'), ('2021-04-06 01:30:28.470', 'D+000001.6'), ('2021-04-06 01:30:28.580', 'D+000001.6'), ('2021-04-06 01:30:28.600', 'D+000002.0'), ('2021-04-06 01:30:28.640', 'D+000002.6'), ('2021-04-06 01:30:28.660', 'D+000002.6'), ('2021-04-06 01:30:28.680', 'D+000002.4'), ('2021-04-06 01:30:28.700', 'D+000002.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 2.0, 2.6, 2.6, 2.4, 2.2]
np.array X: [[1.6]
 [2. ]
 [2.6]
 [2.6]
 [2.4]
 [2.2]]
revised_weight: 2.2
2021-04-06 01:30:28.700: revising weight finished
revised_weight: 2.2 at 2021-04-06 01:30:28.700
plc_result: True
sendmessage: 20210406013028700,1,000022,000022
send message to PLC: 2021-04-06 01:30:28.741
time gap: 0:00:00.007063
2021-04-06 01:30:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
Backupserver True
2021-04-06 01:30:28: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:28: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
2021-04-06 01:30:28: select done
2021-04-06 01:30:28: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:30:28: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:30:28: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:30:28: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:30:28: count: 3000 in httpScaleDataSender thread
2021-04-06 01:30:28: D+: 2892 in httpScaleDataSender thread
2021-04-06 01:30:29: D-: 0 in httpScaleDataSender thread
2021-04-06 01:30:29: S+: 108 in httpScaleDataSender thread
2021-04-06 01:30:29: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:30:30.668
lastevent: 2021-04-06 01:30:30.651, last ten sensor data: [('2021-04-06 01:30:30.180', 'D+000002.0'), ('2021-04-06 01:30:30.350', 'D+000002.6'), ('2021-04-06 01:30:30.370', 'D+000002.4'), ('2021-04-06 01:30:30.390', 'D+000002.2'), ('2021-04-06 01:30:30.410', 'D+000002.4'), ('2021-04-06 01:30:30.580', 'D+000002.8'), ('2021-04-06 01:30:30.600', 'D+000002.8'), ('2021-04-06 01:30:30.620', 'D+000002.6'), ('2021-04-06 01:30:30.640', 'D+000002.6'), ('2021-04-06 01:30:30.660', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.8, 2.8, 2.6, 2.6, 2.6]
np.array X: [[2.4]
 [2.8]
 [2.8]
 [2.6]
 [2.6]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:30:30.660: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:30:30.660
plc_result: True
sendmessage: 20210406013030660,1,000026,000025
send message to PLC: 2021-04-06 01:30:30.679
time gap: 0:00:00.011272
2021-04-06 01:30:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:31.186
lastevent: 2021-04-06 01:30:31.173, last ten sensor data: [0, ('2021-04-06 01:30:30.800', 'D+000003.0'), ('2021-04-06 01:30:30.820', 'D+000003.2'), ('2021-04-06 01:30:30.840', 'D+000003.2'), ('2021-04-06 01:30:30.860', 'D+000003.8'), ('2021-04-06 01:30:30.880', 'D+000003.6'), ('2021-04-06 01:30:31.050', 'D+000004.0'), ('2021-04-06 01:30:31.070', 'D+000004.2'), ('2021-04-06 01:30:31.090', 'D+000004.4'), ('2021-04-06 01:30:31.110', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.6, 4.0, 4.2, 4.4, 3.8]
np.array X: [[3.8]
 [3.6]
 [4. ]
 [4.2]
 [4.4]
 [3.8]]
revised_weight: 3.6
2021-04-06 01:30:31.110: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:30:31.110
plc_result: True
sendmessage: 20210406013031110,1,000038,000036
send message to PLC: 2021-04-06 01:30:31.193
time gap: 0:00:00.006417
2021-04-06 01:30:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:31: send http
2021-04-06 01:30:31: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:30:31: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:30:32: got 'update query' results  in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:30:33.046
lastevent: 2021-04-06 01:30:33.028, last ten sensor data: [('2021-04-06 01:30:32.550', 'D+000003.0'), ('2021-04-06 01:30:32.570', 'D+000002.8'), ('2021-04-06 01:30:32.590', 'D+000002.6'), ('2021-04-06 01:30:32.610', 'D+000002.6'), ('2021-04-06 01:30:32.760', 'D+000003.4'), ('2021-04-06 01:30:32.780', 'D+000003.2'), ('2021-04-06 01:30:32.800', 'D+000003.2'), ('2021-04-06 01:30:32.820', 'D+000003.4'), ('2021-04-06 01:30:33.010', 'D+000004.8'), ('2021-04-06 01:30:33.030', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, ('2021-04-06 01:30:33.050', 'D+000004.6')]
list X: [3.4, 3.2, 3.2, 3.4, 4.8, 4.8]
np.array X: [[3.4]
 [3.2]
 [3.2]
 [3.4]
 [4.8]
 [4.8]]
revised_weight: 4.5
2021-04-06 01:30:33.030: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:30:33.030
plc_result: True
sendmessage: 20210406013033030,1,000048,000045
send message to PLC: 2021-04-06 01:30:33.064
time gap: 0:00:00.018143
2021-04-06 01:30:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:33.664
lastevent: 2021-04-06 01:30:33.650, last ten sensor data: [('2021-04-06 01:30:33.090', 'D+000004.2'), ('2021-04-06 01:30:33.230', 'D+000004.8'), ('2021-04-06 01:30:33.260', 'D+000005.0'), ('2021-04-06 01:30:33.280', 'D+000005.2'), ('2021-04-06 01:30:33.300', 'D+000005.4'), ('2021-04-06 01:30:33.320', 'D+000006.0'), ('2021-04-06 01:30:33.490', 'D+000007.4'), ('2021-04-06 01:30:33.510', 'D+000007.6'), ('2021-04-06 01:30:33.530', 'D+000007.6'), ('2021-04-06 01:30:33.550', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 6.0, 7.4, 7.6, 7.6, 7.6]
np.array X: [[5.4]
 [6. ]
 [7.4]
 [7.6]
 [7.6]
 [7.6]]
revised_weight: 7.2
2021-04-06 01:30:33.550: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:30:33.550
plc_result: True
sendmessage: 20210406013033550,1,000076,000072
send message to PLC: 2021-04-06 01:30:33.670
time gap: 0:00:00.006581
2021-04-06 01:30:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:33: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:30:33: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:34: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:34: select done
2021-04-06 01:30:34: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:30:34: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:30:34: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:30:34: count: 5 in httpPlcDataSender thread
2021-04-06 01:30:34: D+: 5 in httpPlcDataSender thread
2021-04-06 01:30:34: D-: 0 in httpPlcDataSender thread
2021-04-06 01:30:34: S+: 0 in httpPlcDataSender thread
2021-04-06 01:30:34: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.2', 'sensorAt': '2021-04-06 01:30:28.700'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:30:30.660'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:30:31.110'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:30:33.030'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:30:33.550'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:28.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:30.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:31.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:33.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:33.550'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:30:34', 'collectDate': '2021-04-06 01:30:33', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.2', 'sensorAt': '2021-04-06 01:30:28.700'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:30:30.660'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:30:31.110'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:30:33.030'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:30:33.550'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:28.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:30.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:31.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:33.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:33.550'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:30:34: send http
2021-04-06 01:30:34: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:30:34: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:34: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:35.069
lastevent: 2021-04-06 01:30:35.055, last ten sensor data: [('2021-04-06 01:30:34.700', 'D+000003.0'), ('2021-04-06 01:30:34.720', 'D+000003.0'), ('2021-04-06 01:30:34.740', 'D+000003.0'), ('2021-04-06 01:30:34.760', 'D+000003.2'), ('2021-04-06 01:30:34.780', 'D+000003.2'), ('2021-04-06 01:30:34.940', 'D+000004.2'), ('2021-04-06 01:30:34.960', 'D+000004.4'), ('2021-04-06 01:30:34.980', 'D+000004.4'), ('2021-04-06 01:30:35.000', 'D+000004.0'), ('2021-04-06 01:30:35.020', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 4.2, 4.4, 4.4, 4.0, 4.0]
np.array X: [[3.2]
 [4.2]
 [4.4]
 [4.4]
 [4. ]
 [4. ]]
revised_weight: 4.1
2021-04-06 01:30:35.020: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:30:35.020
plc_result: True
sendmessage: 20210406013035020,1,000040,000041
send message to PLC: 2021-04-06 01:30:35.076
time gap: 0:00:00.006527
2021-04-06 01:30:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:37.150
lastevent: 2021-04-06 01:30:37.143, last ten sensor data: [('2021-04-06 01:30:36.510', 'D+000002.8'), ('2021-04-06 01:30:36.670', 'D+000002.8'), ('2021-04-06 01:30:36.690', 'D+000002.8'), ('2021-04-06 01:30:36.710', 'D+000002.6'), ('2021-04-06 01:30:36.730', 'D+000002.8'), ('2021-04-06 01:30:36.890', 'D+000004.0'), ('2021-04-06 01:30:36.930', 'D+000003.8'), ('2021-04-06 01:30:36.950', 'D+000004.2'), ('2021-04-06 01:30:36.970', 'D+000004.4'), ('2021-04-06 01:30:36.990', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 4.0, 3.8, 4.2, 4.4, 5.0]
np.array X: [[2.8]
 [4. ]
 [3.8]
 [4.2]
 [4.4]
 [5. ]]
revised_weight: 4.3
2021-04-06 01:30:36.990: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:30:36.990
plc_result: True
sendmessage: 20210406013036990,1,000050,000043
send message to PLC: 2021-04-06 01:30:37.157
time gap: 0:00:00.006645
2021-04-06 01:30:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:38.151
lastevent: 2021-04-06 01:30:38.141, last ten sensor data: [('2021-04-06 01:30:37.640', 'D+000006.2'), ('2021-04-06 01:30:37.660', 'D+000005.6'), ('2021-04-06 01:30:37.680', 'D+000005.4'), ('2021-04-06 01:30:37.700', 'D+000005.4'), ('2021-04-06 01:30:37.880', 'D+000004.0'), ('2021-04-06 01:30:37.900', 'D+000003.2'), ('2021-04-06 01:30:37.920', 'D+000003.6'), ('2021-04-06 01:30:37.940', 'D+000004.2'), ('2021-04-06 01:30:37.960', 'D+000004.2'), ('2021-04-06 01:30:38.140', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.2, 3.6, 4.2, 4.2, 4.6]
np.array X: [[4. ]
 [3.2]
 [3.6]
 [4.2]
 [4.2]
 [4.6]]
revised_weight: 4.2
2021-04-06 01:30:38.140: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:30:38.140
plc_result: True
sendmessage: 20210406013038140,1,000046,000042
send message to PLC: 2021-04-06 01:30:38.158
time gap: 0:00:00.006610
2021-04-06 01:30:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:39: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:30:39: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:39: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:39: select done
2021-04-06 01:30:39: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:30:39: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:30:39: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:30:39: count: 3 in httpPlcDataSender thread
2021-04-06 01:30:39: D+: 3 in httpPlcDataSender thread
2021-04-06 01:30:39: D-: 0 in httpPlcDataSender thread
2021-04-06 01:30:39: S+: 0 in httpPlcDataSender thread
2021-04-06 01:30:39: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:30:35.020'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:30:36.990'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:30:38.140'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:35.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:36.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:38.140'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:30:39', 'collectDate': '2021-04-06 01:30:38', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:30:35.020'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:30:36.990'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:30:38.140'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:35.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:36.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:38.140'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:39.927
lastevent: 2021-04-06 01:30:39.912, last ten sensor data: [('2021-04-06 01:30:39.540', 'D+000002.4'), ('2021-04-06 01:30:39.560', 'D+000002.4'), ('2021-04-06 01:30:39.580', 'D+000002.2'), ('2021-04-06 01:30:39.600', 'D+000002.4'), ('2021-04-06 01:30:39.620', 'D+000002.4'), ('2021-04-06 01:30:39.770', 'D+000002.2'), ('2021-04-06 01:30:39.790', 'D+000002.4'), ('2021-04-06 01:30:39.810', 'D+000002.6'), ('2021-04-06 01:30:39.830', 'D+000002.4'), ('2021-04-06 01:30:39.850', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.2, 2.4, 2.6, 2.4, 2.4]
np.array X: [[2.4]
 [2.2]
 [2.4]
 [2.6]
 [2.4]
 [2.4]]
revised_weight: 2.1
2021-04-06 01:30:39.850: revising weight finished
revised_weight: 2.1 at 2021-04-06 01:30:39.850
plc_result: True
sendmessage: 20210406013039850,1,000024,000021
send message to PLC: 2021-04-06 01:30:39.933
time gap: 0:00:00.006380
2021-04-06 01:30:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:39: send http
2021-04-06 01:30:39: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:30:40: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:40: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:40.753
lastevent: 2021-04-06 01:30:40.737, last ten sensor data: [('2021-04-06 01:30:40.090', 'D+000002.2'), ('2021-04-06 01:30:40.110', 'D+000002.0'), ('2021-04-06 01:30:40.290', 'D+000002.0'), ('2021-04-06 01:30:40.310', 'D+000001.8'), ('2021-04-06 01:30:40.330', 'D+000001.8'), ('2021-04-06 01:30:40.350', 'D+000002.2'), ('2021-04-06 01:30:40.520', 'D+000002.6'), ('2021-04-06 01:30:40.540', 'D+000002.4'), ('2021-04-06 01:30:40.560', 'D+000002.4'), ('2021-04-06 01:30:40.580', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 2.2, 2.6, 2.4, 2.4, 2.6]
np.array X: [[1.8]
 [2.2]
 [2.6]
 [2.4]
 [2.4]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:30:40.580: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:30:40.580
plc_result: True
sendmessage: 20210406013040580,1,000026,000025
send message to PLC: 2021-04-06 01:30:40.759
time gap: 0:00:00.006350
2021-04-06 01:30:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:42: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:30:42: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:30:42.350
lastevent: 2021-04-06 01:30:42.341, last ten sensor data: [('2021-04-06 01:30:41.970', 'D+000003.0'), ('2021-04-06 01:30:42.000', 'D+000002.4'), ('2021-04-06 01:30:42.020', 'D+000002.2'), ('2021-04-06 01:30:42.040', 'D+000002.2'), ('2021-04-06 01:30:42.060', 'D+000003.0'), ('2021-04-06 01:30:42.220', 'D+000003.6'), ('2021-04-06 01:30:42.240', 'D+000004.4'), ('2021-04-06 01:30:42.260', 'D+000006.6'), ('2021-04-06 01:30:42.280', 'D+000006.0'), ('2021-04-06 01:30:42.300', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.6, 4.4, 6.6, 6.0, 3.4]
np.array X: [[3. ]
 [3.6]
 [4.4]
 [6.6]
 [6. ]
 [3.4]]
revised_weight: 4.9
2021-04-06 01:30:42.300: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:30:42.300
plc_result: True
sendmessage: 20210406013042300,1,000034,000049
send message to PLC: 2021-04-06 01:30:42.357
time gap: 0:00:00.006713
2021-04-06 01:30:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:42: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
2021-04-06 01:30:42: select done
2021-04-06 01:30:42: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:30:42: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:30:42: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:30:42: count: 3000 in httpScaleDataSender thread
2021-04-06 01:30:42: D+: 2516 in httpScaleDataSender thread
2021-04-06 01:30:42: D-: 0 in httpScaleDataSender thread
2021-04-06 01:30:42: S+: 484 in httpScaleDataSender thread
2021-04-06 01:30:42: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:30:43.081
lastevent: 2021-04-06 01:30:43.072, last ten sensor data: [('2021-04-06 01:30:42.710', 'D+000004.4'), ('2021-04-06 01:30:42.730', 'D+000003.8'), ('2021-04-06 01:30:42.750', 'D+000004.8'), ('2021-04-06 01:30:42.770', 'D+000004.6'), ('2021-04-06 01:30:42.790', 'D+000004.2'), ('2021-04-06 01:30:42.950', 'D+000005.2'), ('2021-04-06 01:30:42.970', 'D+000004.8'), ('2021-04-06 01:30:42.990', 'D+000004.6'), ('2021-04-06 01:30:43.010', 'D+000004.8'), ('2021-04-06 01:30:43.030', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.2, 4.8, 4.6, 4.8, 5.6]
np.array X: [[4.2]
 [5.2]
 [4.8]
 [4.6]
 [4.8]
 [5.6]]
revised_weight: 4.9
2021-04-06 01:30:43.030: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:30:43.030
plc_result: True
sendmessage: 20210406013043030,1,000056,000049
send message to PLC: 2021-04-06 01:30:43.088
time gap: 0:00:00.006959
2021-04-06 01:30:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:44.088
lastevent: 2021-04-06 01:30:44.078, last ten sensor data: [('2021-04-06 01:30:43.480', 'D+000005.0'), ('2021-04-06 01:30:43.500', 'D+000004.6'), ('2021-04-06 01:30:43.690', 'D+000003.8'), ('2021-04-06 01:30:43.710', 'D+000003.8'), ('2021-04-06 01:30:43.730', 'D+000003.6'), ('2021-04-06 01:30:43.750', 'D+000003.8'), ('2021-04-06 01:30:43.940', 'D+000004.4'), ('2021-04-06 01:30:43.960', 'D+000004.6'), ('2021-04-06 01:30:43.980', 'D+000004.6'), ('2021-04-06 01:30:44.000', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.8, 4.4, 4.6, 4.6, 4.2]
np.array X: [[3.6]
 [3.8]
 [4.4]
 [4.6]
 [4.6]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:30:44.000: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:30:44.000
plc_result: True
sendmessage: 20210406013044000,1,000042,000043
send message to PLC: 2021-04-06 01:30:44.101
time gap: 0:00:00.012641
2021-04-06 01:30:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:44.907
lastevent: 2021-04-06 01:30:44.901, last ten sensor data: [('2021-04-06 01:30:44.280', 'D+000004.2'), ('2021-04-06 01:30:44.430', 'D+000004.0'), ('2021-04-06 01:30:44.450', 'D+000004.0'), ('2021-04-06 01:30:44.470', 'D+000004.2'), ('2021-04-06 01:30:44.490', 'D+000003.8'), ('2021-04-06 01:30:44.750', 'D+000003.0'), ('2021-04-06 01:30:44.770', 'D+000003.2'), ('2021-04-06 01:30:44.790', 'D+000003.0'), ('2021-04-06 01:30:44.810', 'D+000003.0'), ('2021-04-06 01:30:44.830', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.0, 3.2, 3.0, 3.0, 3.2]
np.array X: [[3.8]
 [3. ]
 [3.2]
 [3. ]
 [3. ]
 [3.2]]
revised_weight: 3.0
2021-04-06 01:30:44.830: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:30:44.830
plc_result: True
sendmessage: 20210406013044830,1,000032,000030
send message to PLC: 2021-04-06 01:30:44.914
time gap: 0:00:00.006778
2021-04-06 01:30:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:45: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:30:45: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:45: send http
2021-04-06 01:30:45: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:30:45: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:30:45: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:45: select done
2021-04-06 01:30:45: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:30:45: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:30:45: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:30:45: count: 6 in httpPlcDataSender thread
2021-04-06 01:30:45: D+: 6 in httpPlcDataSender thread
2021-04-06 01:30:45: D-: 0 in httpPlcDataSender thread
2021-04-06 01:30:45: S+: 0 in httpPlcDataSender thread
2021-04-06 01:30:45: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.1', 'sensorAt': '2021-04-06 01:30:39.850'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:30:40.580'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:30:42.300'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:30:43.030'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:30:44.000'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:30:44.830'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:39.850'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:40.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:42.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:43.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:44.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:44.830'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:30:45', 'collectDate': '2021-04-06 01:30:44', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '2.1', 'sensorAt': '2021-04-06 01:30:39.850'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:30:40.580'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:30:42.300'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:30:43.030'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:30:44.000'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:30:44.830'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:39.850'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:40.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:42.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:43.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:44.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:44.830'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:30:45: send http
2021-04-06 01:30:45: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:30:45: got 'update query' results  in httpScaleDataSender thread
Backupserver True
2021-04-06 01:30:45: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:45: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:46.006
lastevent: 2021-04-06 01:30:45.994, last ten sensor data: [('2021-04-06 01:30:45.510', 'D+000003.2'), ('2021-04-06 01:30:45.680', 'D+000003.2'), ('2021-04-06 01:30:45.700', 'D+000003.2'), ('2021-04-06 01:30:45.720', 'D+000003.2'), ('2021-04-06 01:30:45.740', 'D+000003.0'), ('2021-04-06 01:30:45.910', 'D+000003.6'), ('2021-04-06 01:30:45.930', 'D+000003.6'), ('2021-04-06 01:30:45.950', 'D+000003.8'), ('2021-04-06 01:30:45.970', 'D+000003.6'), ('2021-04-06 01:30:45.990', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.6, 3.6, 3.8, 3.6, 3.4]
np.array X: [[3. ]
 [3.6]
 [3.6]
 [3.8]
 [3.6]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:30:45.990: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:30:45.990
plc_result: True
sendmessage: 20210406013045990,1,000034,000034
send message to PLC: 2021-04-06 01:30:46.013
time gap: 0:00:00.006663
2021-04-06 01:30:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:47.515
lastevent: 2021-04-06 01:30:47.494, last ten sensor data: [('2021-04-06 01:30:47.160', 'D+000003.4'), ('2021-04-06 01:30:47.180', 'D+000003.2'), ('2021-04-06 01:30:47.200', 'D+000003.4'), ('2021-04-06 01:30:47.220', 'D+000003.0'), ('2021-04-06 01:30:47.360', 'D+000004.8'), ('2021-04-06 01:30:47.390', 'D+000005.4'), ('2021-04-06 01:30:47.410', 'D+000005.8'), ('2021-04-06 01:30:47.430', 'D+000005.8'), ('2021-04-06 01:30:47.450', 'D+000006.4'), ('2021-04-06 01:30:47.470', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.4, 5.8, 5.8, 6.4, 7.6]
np.array X: [[4.8]
 [5.4]
 [5.8]
 [5.8]
 [6.4]
 [7.6]]
revised_weight: 6.7
2021-04-06 01:30:47.470: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:30:47.470
plc_result: True
sendmessage: 20210406013047470,1,000076,000067
send message to PLC: 2021-04-06 01:30:47.522
time gap: 0:00:00.006898
2021-04-06 01:30:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:48.719
lastevent: 2021-04-06 01:30:48.703, last ten sensor data: [('2021-04-06 01:30:48.390', 'D+000006.6'), ('2021-04-06 01:30:48.410', 'D+000005.2'), ('2021-04-06 01:30:48.430', 'D+000005.0'), ('2021-04-06 01:30:48.450', 'D+000007.2'), ('2021-04-06 01:30:48.590', 'D+000008.2'), ('2021-04-06 01:30:48.610', 'D+000008.2'), ('2021-04-06 01:30:48.630', 'D+000008.0'), ('2021-04-06 01:30:48.650', 'D+000008.0'), ('2021-04-06 01:30:48.670', 'D+000008.4'), ('2021-04-06 01:30:48.690', 'D+000008.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 8.2, 8.0, 8.0, 8.4, 8.6]
np.array X: [[8.2]
 [8.2]
 [8. ]
 [8. ]
 [8.4]
 [8.6]]
revised_weight: 8.1
2021-04-06 01:30:48.690: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:30:48.690
plc_result: True
sendmessage: 20210406013048690,1,000086,000081
send message to PLC: 2021-04-06 01:30:48.725
time gap: 0:00:00.006217
2021-04-06 01:30:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:30:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:50.070
lastevent: 2021-04-06 01:30:49.330, last ten sensor data: [('2021-04-06 01:30:49.640', 'D+000005.8'), ('2021-04-06 01:30:49.660', 'D+000006.2'), ('2021-04-06 01:30:49.680', 'D+000006.2'), ('2021-04-06 01:30:49.700', 'D+000005.8'), ('2021-04-06 01:30:49.720', 'D+000005.4'), ('2021-04-06 01:30:49.880', 'D+000004.0'), ('2021-04-06 01:30:49.900', 'D+000004.4'), ('2021-04-06 01:30:49.920', 'D+000004.6'), ('2021-04-06 01:30:49.940', 'D+000004.0'), ('2021-04-06 01:30:49.960', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 4.0, 4.4, 4.6, 4.0, 3.4]
np.array X: [[5.4]
 [4. ]
 [4.4]
 [4.6]
 [4. ]
 [3.4]]
revised_weight: 3.5
2021-04-06 01:30:49.960: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:30:49.960
plc_result: True
sendmessage: 20210406013049960,1,000034,000035
send message to PLC: 2021-04-06 01:30:50.082
time gap: 0:00:00.011795
2021-04-06 01:30:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:50: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:30:50: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:50: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:50: select done
2021-04-06 01:30:50: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:30:50: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:30:50: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:30:50: count: 4 in httpPlcDataSender thread
2021-04-06 01:30:50: D+: 4 in httpPlcDataSender thread
2021-04-06 01:30:50: D-: 0 in httpPlcDataSender thread
2021-04-06 01:30:50: S+: 0 in httpPlcDataSender thread
2021-04-06 01:30:50: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.4', 'sensorAt': '2021-04-06 01:30:45.990'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:30:47.470'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:30:48.690'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:30:49.960'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:45.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:47.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:48.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:49.960'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:30:50', 'collectDate': '2021-04-06 01:30:49', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.4', 'sensorAt': '2021-04-06 01:30:45.990'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:30:47.470'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:30:48.690'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:30:49.960'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:45.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:47.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:48.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:49.960'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:30:51: send http
2021-04-06 01:30:51: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:30:51: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:51.250
lastevent: 2021-04-06 01:30:51.246, last ten sensor data: [('2021-04-06 01:30:50.690', 'D+000003.4'), ('2021-04-06 01:30:50.860', 'D+000003.0'), ('2021-04-06 01:30:50.880', 'D+000003.0'), ('2021-04-06 01:30:50.900', 'D+000003.4'), ('2021-04-06 01:30:50.920', 'D+000003.8'), ('2021-04-06 01:30:50.970', 'D+000006.0'), ('2021-04-06 01:30:51.110', 'D+000008.0'), ('2021-04-06 01:30:51.130', 'D+000008.8'), ('2021-04-06 01:30:51.150', 'D+000010.2'), ('2021-04-06 01:30:51.170', 'D+000010.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 6.0, 8.0, 8.8, 10.2, 10.8]
np.array X: [[ 3.8]
 [ 6. ]
 [ 8. ]
 [ 8.8]
 [10.2]
 [10.8]]
revised_weight: 9.1
2021-04-06 01:30:51.170: revising weight finished
revised_weight: 9.1 at 2021-04-06 01:30:51.170
plc_result: True
sendmessage: 20210406013051170,1,000108,000091
send message to PLC: 2021-04-06 01:30:51.262
time gap: 0:00:00.011286
2021-04-06 01:30:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:51: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:30:51.845
lastevent: 2021-04-06 01:30:51.840, last ten sensor data: [('2021-04-06 01:30:51.350', 'D+000010.0'), ('2021-04-06 01:30:51.370', 'D+000010.2'), ('2021-04-06 01:30:51.390', 'D+000010.0'), ('2021-04-06 01:30:51.410', 'D+000010.0'), ('2021-04-06 01:30:51.590', 'D+000009.6'), ('2021-04-06 01:30:51.610', 'D+000009.8'), ('2021-04-06 01:30:51.630', 'D+000009.8'), ('2021-04-06 01:30:51.650', 'D+000009.0'), ('2021-04-06 01:30:51.670', 'D+000008.4'), ('2021-04-06 01:30:51.830', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.6, 9.8, 9.8, 9.0, 8.4, 4.4]
np.array X: [[9.6]
 [9.8]
 [9.8]
 [9. ]
 [8.4]
 [4.4]]
revised_weight: 9.7
2021-04-06 01:30:51.830: revising weight finished
revised_weight: 9.7 at 2021-04-06 01:30:51.830
plc_result: True
sendmessage: 20210406013051830,1,000044,000097
send message to PLC: 2021-04-06 01:30:51.857
time gap: 0:00:00.011781
2021-04-06 01:30:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:53.601
lastevent: 2021-04-06 01:30:53.593, last ten sensor data: [('2021-04-06 01:30:53.140', 'D+000003.0'), ('2021-04-06 01:30:53.270', 'D+000003.0'), ('2021-04-06 01:30:53.300', 'D+000003.4'), ('2021-04-06 01:30:53.320', 'D+000003.6'), ('2021-04-06 01:30:53.340', 'D+000003.6'), ('2021-04-06 01:30:53.360', 'D+000004.0'), ('2021-04-06 01:30:53.530', 'D+000003.4'), ('2021-04-06 01:30:53.550', 'D+000004.2'), ('2021-04-06 01:30:53.570', 'D+000004.4'), ('2021-04-06 01:30:53.590', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 3.4, 4.2, 4.4, 4.2]
np.array X: [[3.6]
 [4. ]
 [3.4]
 [4.2]
 [4.4]
 [4.2]]
revised_weight: 3.8
2021-04-06 01:30:53.590: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:30:53.590
plc_result: True
sendmessage: 20210406013053590,1,000042,000038
send message to PLC: 2021-04-06 01:30:53.628
time gap: 0:00:00.026392
2021-04-06 01:30:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:53.987
lastevent: 2021-04-06 01:30:53.980, last ten sensor data: [0, 0, 0, ('2021-04-06 01:30:53.640', 'D+000004.2'), ('2021-04-06 01:30:53.660', 'D+000004.4'), ('2021-04-06 01:30:53.780', 'D+000004.0'), ('2021-04-06 01:30:53.800', 'D+000003.8'), ('2021-04-06 01:30:53.820', 'D+000003.6'), ('2021-04-06 01:30:53.840', 'D+000003.6'), ('2021-04-06 01:30:53.860', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.0, 3.8, 3.6, 3.6, 3.8]
np.array X: [[4.4]
 [4. ]
 [3.8]
 [3.6]
 [3.6]
 [3.8]]
revised_weight: 3.9
2021-04-06 01:30:53.860: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:30:53.860
plc_result: True
sendmessage: 20210406013053860,1,000038,000039
send message to PLC: 2021-04-06 01:30:53.998
time gap: 0:00:00.011405
2021-04-06 01:30:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:55.135
lastevent: 2021-04-06 01:30:55.133, last ten sensor data: [('2021-04-06 01:30:54.600', 'D+000003.8'), ('2021-04-06 01:30:54.760', 'D+000003.8'), ('2021-04-06 01:30:54.780', 'D+000004.0'), ('2021-04-06 01:30:54.800', 'D+000004.6'), ('2021-04-06 01:30:54.820', 'D+000004.6'), ('2021-04-06 01:30:54.840', 'D+000005.0'), ('2021-04-06 01:30:55.010', 'D+000006.4'), ('2021-04-06 01:30:55.030', 'D+000006.2'), ('2021-04-06 01:30:55.050', 'D+000006.2'), ('2021-04-06 01:30:55.070', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.0, 6.4, 6.2, 6.2, 7.8]
np.array X: [[4.6]
 [5. ]
 [6.4]
 [6.2]
 [6.2]
 [7.8]]
revised_weight: 6.8
2021-04-06 01:30:55.070: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:30:55.070
plc_result: True
sendmessage: 20210406013055070,1,000078,000068
send message to PLC: 2021-04-06 01:30:55.147
time gap: 0:00:00.011647
2021-04-06 01:30:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:55: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:30:55: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:30:55: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
2021-04-06 01:30:55: select done
2021-04-06 01:30:55: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:30:55: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:30:55: sendjson called, 2790 records in httpScaleDataSender thread
2021-04-06 01:30:55: count: 2790 in httpScaleDataSender thread
2021-04-06 01:30:55: D+: 1868 in httpScaleDataSender thread
2021-04-06 01:30:55: D-: 0 in httpScaleDataSender thread
2021-04-06 01:30:55: S+: 922 in httpScaleDataSender thread
2021-04-06 01:30:55: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:30:56.000
lastevent: 2021-04-06 01:30:55.996, last ten sensor data: [('2021-04-06 01:30:55.570', 'D+000007.2'), ('2021-04-06 01:30:55.730', 'D+000006.4'), ('2021-04-06 01:30:55.750', 'D+000006.2'), ('2021-04-06 01:30:55.770', 'D+000006.0'), ('2021-04-06 01:30:55.790', 'D+000006.2'), ('2021-04-06 01:30:55.810', 'D+000006.0'), ('2021-04-06 01:30:55.910', 'D+000004.8'), ('2021-04-06 01:30:55.930', 'D+000006.2'), ('2021-04-06 01:30:55.970', 'D+000005.6'), ('2021-04-06 01:30:55.990', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.0, 4.8, 6.2, 5.6, 4.6]
np.array X: [[6.2]
 [6. ]
 [4.8]
 [6.2]
 [5.6]
 [4.6]]
revised_weight: 5.2
2021-04-06 01:30:55.990: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:30:55.990
plc_result: True
sendmessage: 20210406013055990,1,000046,000052
send message to PLC: 2021-04-06 01:30:56.007
time gap: 0:00:00.006752
2021-04-06 01:30:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:56: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:30:56: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:56: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:30:56: select done
2021-04-06 01:30:56: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:30:56: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:30:56: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:30:56: count: 6 in httpPlcDataSender thread
2021-04-06 01:30:56: D+: 6 in httpPlcDataSender thread
2021-04-06 01:30:56: D-: 0 in httpPlcDataSender thread
2021-04-06 01:30:56: S+: 0 in httpPlcDataSender thread
2021-04-06 01:30:56: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.1', 'sensorAt': '2021-04-06 01:30:51.170'}, {'value': '9.7', 'sensorAt': '2021-04-06 01:30:51.830'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:30:53.590'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:30:53.860'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:30:55.070'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:30:55.990'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:51.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:51.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:53.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:53.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:55.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:55.990'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:30:56', 'collectDate': '2021-04-06 01:30:55', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.1', 'sensorAt': '2021-04-06 01:30:51.170'}, {'value': '9.7', 'sensorAt': '2021-04-06 01:30:51.830'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:30:53.590'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:30:53.860'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:30:55.070'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:30:55.990'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:51.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:51.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:53.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:53.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:55.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:55.990'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:30:56: send http
2021-04-06 01:30:56: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:30:56: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:30:57: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:30:57: send http
2021-04-06 01:30:57: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:30:57: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:30:57: got 'update query' results  in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:30:57.723
lastevent: 2021-04-06 01:30:57.719, last ten sensor data: [('2021-04-06 01:30:57.320', 'D+000003.0'), ('2021-04-06 01:30:57.340', 'D+000003.4'), ('2021-04-06 01:30:57.360', 'D+000003.6'), ('2021-04-06 01:30:57.380', 'D+000003.6'), ('2021-04-06 01:30:57.400', 'D+000003.8'), ('2021-04-06 01:30:57.560', 'D+000004.2'), ('2021-04-06 01:30:57.580', 'D+000005.0'), ('2021-04-06 01:30:57.600', 'D+000004.8'), ('2021-04-06 01:30:57.620', 'D+000005.0'), ('2021-04-06 01:30:57.640', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.2, 5.0, 4.8, 5.0, 5.2]
np.array X: [[3.8]
 [4.2]
 [5. ]
 [4.8]
 [5. ]
 [5.2]]
revised_weight: 4.8
2021-04-06 01:30:57.640: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:30:57.640
plc_result: True
sendmessage: 20210406013057640,1,000052,000048
send message to PLC: 2021-04-06 01:30:57.729
time gap: 0:00:00.006521
2021-04-06 01:30:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:30:59.662
lastevent: 2021-04-06 01:30:59.651, last ten sensor data: [('2021-04-06 01:30:59.200', 'D+000002.4'), ('2021-04-06 01:30:59.360', 'D+000004.0'), ('2021-04-06 01:30:59.380', 'D+000004.2'), ('2021-04-06 01:30:59.400', 'D+000004.4'), ('2021-04-06 01:30:59.420', 'D+000004.2'), ('2021-04-06 01:30:59.440', 'D+000004.2'), ('2021-04-06 01:30:59.600', 'D+000005.8'), ('2021-04-06 01:30:59.620', 'D+000005.8'), ('2021-04-06 01:30:59.640', 'D+000005.2'), ('2021-04-06 01:30:59.660', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 5.8, 5.8, 5.2, 5.2]
np.array X: [[4.2]
 [4.2]
 [5.8]
 [5.8]
 [5.2]
 [5.2]]
revised_weight: 5.5
2021-04-06 01:30:59.660: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:30:59.660
plc_result: True
sendmessage: 20210406013059660,1,000052,000055
send message to PLC: 2021-04-06 01:30:59.673
time gap: 0:00:00.011444
2021-04-06 01:30:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:00.461
lastevent: 2021-04-06 01:31:00.454, last ten sensor data: [('2021-04-06 01:31:00.080', 'D+000004.0'), ('2021-04-06 01:31:00.110', 'D+000004.2'), ('2021-04-06 01:31:00.130', 'D+000004.0'), ('2021-04-06 01:31:00.150', 'D+000003.8'), ('2021-04-06 01:31:00.170', 'D+000004.0'), ('2021-04-06 01:31:00.340', 'D+000002.8'), ('2021-04-06 01:31:00.360', 'D+000002.6'), ('2021-04-06 01:31:00.380', 'D+000003.0'), ('2021-04-06 01:31:00.400', 'D+000003.4'), ('2021-04-06 01:31:00.420', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 2.8, 2.6, 3.0, 3.4, 3.6]
np.array X: [[4. ]
 [2.8]
 [2.6]
 [3. ]
 [3.4]
 [3.6]]
revised_weight: 3.2
2021-04-06 01:31:00.420: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:31:00.420
plc_result: True
sendmessage: 20210406013100420,1,000036,000032
send message to PLC: 2021-04-06 01:31:00.473
time gap: 0:00:00.011364
2021-04-06 01:31:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:01.825
lastevent: 2021-04-06 01:31:01.813, last ten sensor data: [('2021-04-06 01:31:01.350', 'D+000002.4'), ('2021-04-06 01:31:01.370', 'D+000002.6'), ('2021-04-06 01:31:01.390', 'D+000002.8'), ('2021-04-06 01:31:01.410', 'D+000002.8'), ('2021-04-06 01:31:01.550', 'D+000004.0'), ('2021-04-06 01:31:01.590', 'D+000004.0'), ('2021-04-06 01:31:01.610', 'D+000004.0'), ('2021-04-06 01:31:01.630', 'D+000004.0'), ('2021-04-06 01:31:01.810', 'D+000004.4'), ('2021-04-06 01:31:01.830', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 4.0, 4.0, 4.4, 4.6]
np.array X: [[4. ]
 [4. ]
 [4. ]
 [4. ]
 [4.4]
 [4.6]]
revised_weight: 4.5
2021-04-06 01:31:01.830: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:31:01.830
plc_result: True
sendmessage: 20210406013101830,1,000046,000045
send message to PLC: 2021-04-06 01:31:01.836
time gap: 0:00:00.011277
2021-04-06 01:31:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:02: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:31:02: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:02: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:02: select done
2021-04-06 01:31:02: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:31:02: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:31:02: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:31:02: count: 4 in httpPlcDataSender thread
2021-04-06 01:31:02: D+: 4 in httpPlcDataSender thread
2021-04-06 01:31:02: D-: 0 in httpPlcDataSender thread
2021-04-06 01:31:02: S+: 0 in httpPlcDataSender thread
2021-04-06 01:31:02: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:30:57.640'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:30:59.660'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:31:00.420'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:31:01.830'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:57.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:59.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:00.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:01.830'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:31:02', 'collectDate': '2021-04-06 01:31:01', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:30:57.640'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:30:59.660'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:31:00.420'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:31:01.830'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:30:57.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:30:59.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:00.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:01.830'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:31:02.339
lastevent: 2021-04-06 01:31:02.330, last ten sensor data: [0, ('2021-04-06 01:31:01.850', 'D+000005.0'), ('2021-04-06 01:31:01.870', 'D+000004.6'), ('2021-04-06 01:31:01.890', 'D+000004.4'), ('2021-04-06 01:31:02.060', 'D+000004.8'), ('2021-04-06 01:31:02.080', 'D+000005.2'), ('2021-04-06 01:31:02.100', 'D+000005.4'), ('2021-04-06 01:31:02.120', 'D+000005.6'), ('2021-04-06 01:31:02.310', 'D+000005.2'), ('2021-04-06 01:31:02.330', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.2, 5.4, 5.6, 5.2, 4.8]
np.array X: [[4.8]
 [5.2]
 [5.4]
 [5.6]
 [5.2]
 [4.8]]
revised_weight: 5.1
2021-04-06 01:31:02.330: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:31:02.330
plc_result: True
sendmessage: 20210406013102330,1,000048,000051
send message to PLC: 2021-04-06 01:31:02.351
time gap: 0:00:00.011490
2021-04-06 01:31:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:02: send http
2021-04-06 01:31:02: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:31:02: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:02: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:31:03.248
lastevent: 2021-04-06 01:31:03.236, last ten sensor data: [('2021-04-06 01:31:02.600', 'D+000004.2'), ('2021-04-06 01:31:02.620', 'D+000004.2'), ('2021-04-06 01:31:02.800', 'D+000004.2'), ('2021-04-06 01:31:02.820', 'D+000004.0'), ('2021-04-06 01:31:02.840', 'D+000003.8'), ('2021-04-06 01:31:02.860', 'D+000003.6'), ('2021-04-06 01:31:03.040', 'D+000004.4'), ('2021-04-06 01:31:03.060', 'D+000004.6'), ('2021-04-06 01:31:03.080', 'D+000004.6'), ('2021-04-06 01:31:03.100', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.6, 4.4, 4.6, 4.6, 4.6]
np.array X: [[3.8]
 [3.6]
 [4.4]
 [4.6]
 [4.6]
 [4.6]]
revised_weight: 4.5
2021-04-06 01:31:03.100: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:31:03.100
plc_result: True
sendmessage: 20210406013103100,1,000046,000045
send message to PLC: 2021-04-06 01:31:03.259
time gap: 0:00:00.011000
2021-04-06 01:31:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:03.737
lastevent: 2021-04-06 01:31:03.725, last ten sensor data: [0, ('2021-04-06 01:31:03.300', 'D+000005.0'), ('2021-04-06 01:31:03.320', 'D+000005.0'), ('2021-04-06 01:31:03.340', 'D+000005.2'), ('2021-04-06 01:31:03.370', 'D+000005.4'), ('2021-04-06 01:31:03.530', 'D+000005.2'), ('2021-04-06 01:31:03.550', 'D+000005.0'), ('2021-04-06 01:31:03.570', 'D+000004.8'), ('2021-04-06 01:31:03.590', 'D+000005.0'), ('2021-04-06 01:31:03.610', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.2, 5.0, 4.8, 5.0, 5.0]
np.array X: [[5.4]
 [5.2]
 [5. ]
 [4.8]
 [5. ]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:31:03.610: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:31:03.610
plc_result: True
sendmessage: 20210406013103610,1,000050,000051
send message to PLC: 2021-04-06 01:31:03.749
time gap: 0:00:00.011243
2021-04-06 01:31:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:05.687
lastevent: 2021-04-06 01:31:05.674, last ten sensor data: [('2021-04-06 01:31:05.260', 'D+000002.2'), ('2021-04-06 01:31:05.280', 'D+000002.2'), ('2021-04-06 01:31:05.300', 'D+000002.4'), ('2021-04-06 01:31:05.320', 'D+000002.6'), ('2021-04-06 01:31:05.480', 'D+000003.8'), ('2021-04-06 01:31:05.500', 'D+000004.0'), ('2021-04-06 01:31:05.520', 'D+000004.0'), ('2021-04-06 01:31:05.540', 'D+000003.8'), ('2021-04-06 01:31:05.560', 'D+000003.4'), ('2021-04-06 01:31:05.580', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.0, 4.0, 3.8, 3.4, 3.4]
np.array X: [[3.8]
 [4. ]
 [4. ]
 [3.8]
 [3.4]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:31:05.580: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:31:05.580
plc_result: True
sendmessage: 20210406013105580,1,000034,000034
send message to PLC: 2021-04-06 01:31:05.699
time gap: 0:00:00.011399
2021-04-06 01:31:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:07.305
lastevent: 2021-04-06 01:31:07.292, last ten sensor data: [('2021-04-06 01:31:06.790', 'D+000003.0'), ('2021-04-06 01:31:06.960', 'D+000003.4'), ('2021-04-06 01:31:06.980', 'D+000003.6'), ('2021-04-06 01:31:07.000', 'D+000003.6'), ('2021-04-06 01:31:07.030', 'D+000004.0'), ('2021-04-06 01:31:07.190', 'D+000006.8'), ('2021-04-06 01:31:07.210', 'D+000005.2'), ('2021-04-06 01:31:07.230', 'D+000003.6'), ('2021-04-06 01:31:07.250', 'D+000004.2'), ('2021-04-06 01:31:07.270', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 6.8, 5.2, 3.6, 4.2, 5.6]
np.array X: [[4. ]
 [6.8]
 [5.2]
 [3.6]
 [4.2]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:31:07.270: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:31:07.270
plc_result: True
sendmessage: 20210406013107270,1,000056,000054
send message to PLC: 2021-04-06 01:31:07.316
time gap: 0:00:00.011457
2021-04-06 01:31:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:07: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:31:07: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:31:07: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
2021-04-06 01:31:07: select done
2021-04-06 01:31:07: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:31:07: No Data remains in httpScaleDataSender thread
2021-04-06 01:31:07: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpScaleDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_20.db
2021-04-06 01:31:07: HTTPSThreadState.STATE_DONE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:31:07.680
lastevent: 2021-04-06 01:31:07.671, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:31:07.320', 'D+000005.0'), ('2021-04-06 01:31:07.450', 'D+000005.8'), ('2021-04-06 01:31:07.470', 'D+000006.0'), ('2021-04-06 01:31:07.490', 'D+000006.0'), ('2021-04-06 01:31:07.510', 'D+000005.6'), ('2021-04-06 01:31:07.530', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.8, 6.0, 6.0, 5.6, 5.4]
np.array X: [[5. ]
 [5.8]
 [6. ]
 [6. ]
 [5.6]
 [5.4]]
revised_weight: 5.6
2021-04-06 01:31:07.530: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:31:07.530
plc_result: True
sendmessage: 20210406013107530,1,000054,000056
send message to PLC: 2021-04-06 01:31:07.697
time gap: 0:00:00.016520
2021-04-06 01:31:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
['/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db']
2021-04-06 01:31:07: current db filename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
2021-04-06 01:31:07: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2021-04-06 01:31:07: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:31:07: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:07: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:07: select done
2021-04-06 01:31:07: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:31:07: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:31:08: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:31:08: count: 6 in httpPlcDataSender thread
2021-04-06 01:31:08: D+: 6 in httpPlcDataSender thread
2021-04-06 01:31:08: D-: 0 in httpPlcDataSender thread
2021-04-06 01:31:08: S+: 0 in httpPlcDataSender thread
2021-04-06 01:31:08: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.1', 'sensorAt': '2021-04-06 01:31:02.330'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:31:03.100'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:31:03.610'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:31:05.580'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:31:07.270'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:31:07.530'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:02.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:03.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:03.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:05.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:07.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:07.530'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:31:08', 'collectDate': '2021-04-06 01:31:07', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.1', 'sensorAt': '2021-04-06 01:31:02.330'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:31:03.100'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:31:03.610'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:31:05.580'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:31:07.270'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:31:07.530'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:02.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:03.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:03.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:05.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:07.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:07.530'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:31:08: send http
2021-04-06 01:31:08: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:31:08: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:08: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:31:08.840
lastevent: 2021-04-06 01:31:08.826, last ten sensor data: [('2021-04-06 01:31:08.230', 'D+000003.2'), ('2021-04-06 01:31:08.420', 'D+000003.4'), ('2021-04-06 01:31:08.440', 'D+000003.8'), ('2021-04-06 01:31:08.460', 'D+000003.8'), ('2021-04-06 01:31:08.480', 'D+000003.6'), ('2021-04-06 01:31:08.670', 'D+000005.2'), ('2021-04-06 01:31:08.690', 'D+000005.0'), ('2021-04-06 01:31:08.710', 'D+000004.8'), ('2021-04-06 01:31:08.730', 'D+000005.0'), ('2021-04-06 01:31:08.750', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 5.2, 5.0, 4.8, 5.0, 5.2]
np.array X: [[3.6]
 [5.2]
 [5. ]
 [4.8]
 [5. ]
 [5.2]]
revised_weight: 4.5
2021-04-06 01:31:08.750: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:31:08.750
plc_result: True
sendmessage: 20210406013108750,1,000052,000045
send message to PLC: 2021-04-06 01:31:08.854
time gap: 0:00:00.013250
2021-04-06 01:31:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:09.833
lastevent: 2021-04-06 01:31:09.818, last ten sensor data: [('2021-04-06 01:31:09.380', 'D+000003.2'), ('2021-04-06 01:31:09.400', 'D+000003.0'), ('2021-04-06 01:31:09.420', 'D+000003.2'), ('2021-04-06 01:31:09.440', 'D+000003.2'), ('2021-04-06 01:31:09.460', 'D+000003.0'), ('2021-04-06 01:31:09.640', 'D+000005.0'), ('2021-04-06 01:31:09.660', 'D+000004.8'), ('2021-04-06 01:31:09.680', 'D+000004.6'), ('2021-04-06 01:31:09.700', 'D+000004.4'), ('2021-04-06 01:31:09.720', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 5.0, 4.8, 4.6, 4.4, 4.0]
np.array X: [[3. ]
 [5. ]
 [4.8]
 [4.6]
 [4.4]
 [4. ]]
revised_weight: 4.7
2021-04-06 01:31:09.720: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:31:09.720
plc_result: True
sendmessage: 20210406013109720,1,000040,000047
send message to PLC: 2021-04-06 01:31:09.846
time gap: 0:00:00.012455
2021-04-06 01:31:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:10.754
lastevent: 2021-04-06 01:31:10.741, last ten sensor data: [('2021-04-06 01:31:10.200', 'D+000004.2'), ('2021-04-06 01:31:10.370', 'D+000004.2'), ('2021-04-06 01:31:10.390', 'D+000004.8'), ('2021-04-06 01:31:10.410', 'D+000005.2'), ('2021-04-06 01:31:10.430', 'D+000006.0'), ('2021-04-06 01:31:10.450', 'D+000006.4'), ('2021-04-06 01:31:10.610', 'D+000007.8'), ('2021-04-06 01:31:10.630', 'D+000008.4'), ('2021-04-06 01:31:10.650', 'D+000009.0'), ('2021-04-06 01:31:10.670', 'D+000010.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.4, 7.8, 8.4, 9.0, 10.8]
np.array X: [[ 6. ]
 [ 6.4]
 [ 7.8]
 [ 8.4]
 [ 9. ]
 [10.8]]
revised_weight: 9.2
2021-04-06 01:31:10.670: revising weight finished
revised_weight: 9.2 at 2021-04-06 01:31:10.670
plc_result: True
sendmessage: 20210406013110670,1,000108,000092
send message to PLC: 2021-04-06 01:31:10.766
time gap: 0:00:00.012403
2021-04-06 01:31:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:13: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:31:13: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:13: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:13: select done
2021-04-06 01:31:13: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:31:13: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:31:13: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:31:13: count: 3 in httpPlcDataSender thread
2021-04-06 01:31:13: D+: 3 in httpPlcDataSender thread
2021-04-06 01:31:13: D-: 0 in httpPlcDataSender thread
2021-04-06 01:31:13: S+: 0 in httpPlcDataSender thread
2021-04-06 01:31:13: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:31:08.750'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:31:09.720'}, {'value': '9.2', 'sensorAt': '2021-04-06 01:31:10.670'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:08.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:09.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:10.670'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:31:13', 'collectDate': '2021-04-06 01:31:10', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:31:08.750'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:31:09.720'}, {'value': '9.2', 'sensorAt': '2021-04-06 01:31:10.670'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:08.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:09.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:10.670'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:31:13: send http
2021-04-06 01:31:13: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:31:13: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:14: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:31:17.250
lastevent: 2021-04-06 01:31:17.235, last ten sensor data: [('2021-04-06 01:31:16.790', 'D+000003.2'), ('2021-04-06 01:31:16.810', 'D+000003.2'), ('2021-04-06 01:31:16.830', 'D+000003.6'), ('2021-04-06 01:31:16.850', 'D+000003.4'), ('2021-04-06 01:31:16.920', 'D+000003.6'), ('2021-04-06 01:31:16.940', 'D+000003.8'), ('2021-04-06 01:31:17.110', 'D+000004.2'), ('2021-04-06 01:31:17.130', 'D+000004.0'), ('2021-04-06 01:31:17.150', 'D+000005.0'), ('2021-04-06 01:31:17.170', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.8, 4.2, 4.0, 5.0, 5.8]
np.array X: [[3.6]
 [3.8]
 [4.2]
 [4. ]
 [5. ]
 [5.8]]
revised_weight: 4.9
2021-04-06 01:31:17.170: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:31:17.170
plc_result: True
sendmessage: 20210406013117170,1,000058,000049
send message to PLC: 2021-04-06 01:31:17.265
time gap: 0:00:00.015708
2021-04-06 01:31:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:17.812
lastevent: 2021-04-06 01:31:17.803, last ten sensor data: [('2021-04-06 01:31:17.300', 'D+000005.0'), ('2021-04-06 01:31:17.360', 'D+000004.8'), ('2021-04-06 01:31:17.380', 'D+000004.8'), ('2021-04-06 01:31:17.400', 'D+000005.0'), ('2021-04-06 01:31:17.420', 'D+000004.8'), ('2021-04-06 01:31:17.600', 'D+000005.0'), ('2021-04-06 01:31:17.620', 'D+000005.4'), ('2021-04-06 01:31:17.640', 'D+000005.4'), ('2021-04-06 01:31:17.660', 'D+000005.6'), ('2021-04-06 01:31:17.680', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.0, 5.4, 5.4, 5.6, 5.2]
np.array X: [[4.8]
 [5. ]
 [5.4]
 [5.4]
 [5.6]
 [5.2]]
revised_weight: 5.2
2021-04-06 01:31:17.680: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:31:17.680
plc_result: True
sendmessage: 20210406013117680,1,000052,000052
send message to PLC: 2021-04-06 01:31:17.818
time gap: 0:00:00.006739
2021-04-06 01:31:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:18.282
lastevent: 2021-04-06 01:31:18.271, last ten sensor data: [('2021-04-06 01:31:17.860', 'D+000004.8'), ('2021-04-06 01:31:17.880', 'D+000005.4'), ('2021-04-06 01:31:17.900', 'D+000005.6'), ('2021-04-06 01:31:17.920', 'D+000005.2'), ('2021-04-06 01:31:17.940', 'D+000005.2'), ('2021-04-06 01:31:18.090', 'D+000007.0'), ('2021-04-06 01:31:18.110', 'D+000006.8'), ('2021-04-06 01:31:18.130', 'D+000006.8'), ('2021-04-06 01:31:18.150', 'D+000007.6'), ('2021-04-06 01:31:18.170', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 7.0, 6.8, 6.8, 7.6, 7.6]
np.array X: [[5.2]
 [7. ]
 [6.8]
 [6.8]
 [7.6]
 [7.6]]
revised_weight: 6.6
2021-04-06 01:31:18.170: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:31:18.170
plc_result: True
sendmessage: 20210406013118170,1,000076,000066
send message to PLC: 2021-04-06 01:31:18.288
time gap: 0:00:00.006769
2021-04-06 01:31:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:19: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:31:19: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:19: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:19: select done
2021-04-06 01:31:19: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:31:19: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:31:19: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:31:19: count: 3 in httpPlcDataSender thread
2021-04-06 01:31:19: D+: 3 in httpPlcDataSender thread
2021-04-06 01:31:19: D-: 0 in httpPlcDataSender thread
2021-04-06 01:31:19: S+: 0 in httpPlcDataSender thread
2021-04-06 01:31:19: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.9', 'sensorAt': '2021-04-06 01:31:17.170'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:31:17.680'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:31:18.170'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:17.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:17.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:18.170'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:31:19', 'collectDate': '2021-04-06 01:31:18', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.9', 'sensorAt': '2021-04-06 01:31:17.170'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:31:17.680'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:31:18.170'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:17.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:17.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:18.170'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:31:19: send http
2021-04-06 01:31:19: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:31:19: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:19: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:31:20.196
lastevent: 2021-04-06 01:31:20.178, last ten sensor data: [('2021-04-06 01:31:19.670', 'D+000003.0'), ('2021-04-06 01:31:19.850', 'D+000004.2'), ('2021-04-06 01:31:19.870', 'D+000004.0'), ('2021-04-06 01:31:19.890', 'D+000003.8'), ('2021-04-06 01:31:19.910', 'D+000003.8'), ('2021-04-06 01:31:20.080', 'D+000004.0'), ('2021-04-06 01:31:20.100', 'D+000004.0'), ('2021-04-06 01:31:20.120', 'D+000005.0'), ('2021-04-06 01:31:20.140', 'D+000005.4'), ('2021-04-06 01:31:20.160', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.0, 4.0, 5.0, 5.4, 5.0]
np.array X: [[3.8]
 [4. ]
 [4. ]
 [5. ]
 [5.4]
 [5. ]]
revised_weight: 4.6
2021-04-06 01:31:20.160: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:31:20.160
plc_result: True
sendmessage: 20210406013120160,1,000050,000046
send message to PLC: 2021-04-06 01:31:20.207
time gap: 0:00:00.011212
2021-04-06 01:31:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:21.545
lastevent: 2021-04-06 01:31:21.532, last ten sensor data: [('2021-04-06 01:31:21.070', 'D+000002.4'), ('2021-04-06 01:31:21.090', 'D+000002.4'), ('2021-04-06 01:31:21.110', 'D+000002.8'), ('2021-04-06 01:31:21.130', 'D+000002.8'), ('2021-04-06 01:31:21.290', 'D+000004.6'), ('2021-04-06 01:31:21.310', 'D+000004.4'), ('2021-04-06 01:31:21.330', 'D+000004.4'), ('2021-04-06 01:31:21.350', 'D+000004.2'), ('2021-04-06 01:31:21.370', 'D+000004.4'), ('2021-04-06 01:31:21.540', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.4, 4.4, 4.2, 4.4, 5.2]
np.array X: [[4.6]
 [4.4]
 [4.4]
 [4.2]
 [4.4]
 [5.2]]
revised_weight: 4.6
2021-04-06 01:31:21.540: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:31:21.540
plc_result: True
sendmessage: 20210406013121540,1,000052,000046
send message to PLC: 2021-04-06 01:31:21.551
time gap: 0:00:00.006401
2021-04-06 01:31:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:22.726
lastevent: 2021-04-06 01:31:22.709, last ten sensor data: [('2021-04-06 01:31:22.090', 'D+000005.2'), ('2021-04-06 01:31:22.260', 'D+000004.0'), ('2021-04-06 01:31:22.280', 'D+000003.4'), ('2021-04-06 01:31:22.300', 'D+000003.4'), ('2021-04-06 01:31:22.320', 'D+000003.6'), ('2021-04-06 01:31:22.340', 'D+000003.6'), ('2021-04-06 01:31:22.520', 'D+000007.4'), ('2021-04-06 01:31:22.540', 'D+000008.0'), ('2021-04-06 01:31:22.560', 'D+000007.6'), ('2021-04-06 01:31:22.580', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 7.4, 8.0, 7.6, 6.8]
np.array X: [[3.6]
 [3.6]
 [7.4]
 [8. ]
 [7.6]
 [6.8]]
revised_weight: 6.8
2021-04-06 01:31:22.580: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:31:22.580
plc_result: True
sendmessage: 20210406013122580,1,000068,000068
send message to PLC: 2021-04-06 01:31:22.738
time gap: 0:00:00.011894
2021-04-06 01:31:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:23.758
lastevent: 2021-04-06 01:31:23.748, last ten sensor data: [('2021-04-06 01:31:23.170', 'D+000004.6'), ('2021-04-06 01:31:23.340', 'D+000004.4'), ('2021-04-06 01:31:23.360', 'D+000004.6'), ('2021-04-06 01:31:23.380', 'D+000004.4'), ('2021-04-06 01:31:23.420', 'D+000005.4'), ('2021-04-06 01:31:23.570', 'D+000006.6'), ('2021-04-06 01:31:23.590', 'D+000006.6'), ('2021-04-06 01:31:23.610', 'D+000006.8'), ('2021-04-06 01:31:23.630', 'D+000007.8'), ('2021-04-06 01:31:23.650', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 6.6, 6.6, 6.8, 7.8, 8.2]
np.array X: [[5.4]
 [6.6]
 [6.6]
 [6.8]
 [7.8]
 [8.2]]
revised_weight: 7.5
2021-04-06 01:31:23.650: revising weight finished
revised_weight: 7.5 at 2021-04-06 01:31:23.650
plc_result: True
sendmessage: 20210406013123650,1,000082,000075
send message to PLC: 2021-04-06 01:31:23.770
time gap: 0:00:00.011741
2021-04-06 01:31:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:24: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:31:24: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:24: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:24: select done
2021-04-06 01:31:24: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:31:24: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:31:24: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:31:24: count: 4 in httpPlcDataSender thread
2021-04-06 01:31:24: D+: 4 in httpPlcDataSender thread
2021-04-06 01:31:24: D-: 0 in httpPlcDataSender thread
2021-04-06 01:31:24: S+: 0 in httpPlcDataSender thread
2021-04-06 01:31:24: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.6', 'sensorAt': '2021-04-06 01:31:20.160'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:31:21.540'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:31:22.580'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:31:23.650'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:20.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:21.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:22.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:23.650'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:31:24', 'collectDate': '2021-04-06 01:31:23', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.6', 'sensorAt': '2021-04-06 01:31:20.160'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:31:21.540'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:31:22.580'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:31:23.650'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:20.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:21.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:22.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:23.650'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:31:25.053
lastevent: 2021-04-06 01:31:25.036, last ten sensor data: [('2021-04-06 01:31:24.590', 'D+000004.2'), ('2021-04-06 01:31:24.610', 'D+000004.2'), ('2021-04-06 01:31:24.630', 'D+000004.2'), ('2021-04-06 01:31:24.740', 'D+000005.2'), ('2021-04-06 01:31:24.800', 'D+000007.4'), ('2021-04-06 01:31:24.820', 'D+000007.8'), ('2021-04-06 01:31:24.860', 'D+000007.8'), ('2021-04-06 01:31:24.880', 'D+000008.2'), ('2021-04-06 01:31:24.900', 'D+000008.2'), ('2021-04-06 01:31:25.040', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 7.8, 7.8, 8.2, 8.2, 7.6]
np.array X: [[7.4]
 [7.8]
 [7.8]
 [8.2]
 [8.2]
 [7.6]]
revised_weight: 7.5
2021-04-06 01:31:25.040: revising weight finished
revised_weight: 7.5 at 2021-04-06 01:31:25.040
plc_result: True
sendmessage: 20210406013125040,1,000076,000075
send message to PLC: 2021-04-06 01:31:25.065
time gap: 0:00:00.011666
2021-04-06 01:31:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:25.531
lastevent: 2021-04-06 01:31:25.524, last ten sensor data: [0, 0, ('2021-04-06 01:31:25.070', 'D+000008.2'), ('2021-04-06 01:31:25.090', 'D+000008.6'), ('2021-04-06 01:31:25.110', 'D+000009.6'), ('2021-04-06 01:31:25.280', 'D+000011.6'), ('2021-04-06 01:31:25.300', 'D+000012.2'), ('2021-04-06 01:31:25.320', 'D+000012.6'), ('2021-04-06 01:31:25.340', 'D+000011.8'), ('2021-04-06 01:31:25.360', 'D+000011.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.6, 11.6, 12.2, 12.6, 11.8, 11.4]
np.array X: [[ 9.6]
 [11.6]
 [12.2]
 [12.6]
 [11.8]
 [11.4]]
revised_weight: 11.4
2021-04-06 01:31:25.360: revising weight finished
revised_weight: 11.4 at 2021-04-06 01:31:25.360
plc_result: True
sendmessage: 20210406013125360,1,000114,000114
send message to PLC: 2021-04-06 01:31:25.537
time gap: 0:00:00.006482
2021-04-06 01:31:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:26.013
lastevent: 2021-04-06 01:31:26.002, last ten sensor data: [('2021-04-06 01:31:25.540', 'D+000008.4'), ('2021-04-06 01:31:25.560', 'D+000008.4'), ('2021-04-06 01:31:25.580', 'D+000007.8'), ('2021-04-06 01:31:25.600', 'D+000008.2'), ('2021-04-06 01:31:25.620', 'D+000008.6'), ('2021-04-06 01:31:25.760', 'D+000008.0'), ('2021-04-06 01:31:25.800', 'D+000008.2'), ('2021-04-06 01:31:25.820', 'D+000008.2'), ('2021-04-06 01:31:25.840', 'D+000008.4'), ('2021-04-06 01:31:25.860', 'D+000008.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 8.0, 8.2, 8.2, 8.4, 8.4]
np.array X: [[8.6]
 [8. ]
 [8.2]
 [8.2]
 [8.4]
 [8.4]]
revised_weight: 8.2
2021-04-06 01:31:25.860: revising weight finished
revised_weight: 8.2 at 2021-04-06 01:31:25.860
plc_result: True
sendmessage: 20210406013125860,1,000084,000082
send message to PLC: 2021-04-06 01:31:26.019
time gap: 0:00:00.006356
2021-04-06 01:31:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:26: send http
2021-04-06 01:31:26: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:31:26: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:26: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:31:31: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:31:31: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:31: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:31: select done
2021-04-06 01:31:31: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:31:31: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:31:31: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:31:31: count: 3 in httpPlcDataSender thread
2021-04-06 01:31:31: D+: 3 in httpPlcDataSender thread
2021-04-06 01:31:31: D-: 0 in httpPlcDataSender thread
2021-04-06 01:31:31: S+: 0 in httpPlcDataSender thread
2021-04-06 01:31:31: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.5', 'sensorAt': '2021-04-06 01:31:25.040'}, {'value': '11.4', 'sensorAt': '2021-04-06 01:31:25.360'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:31:25.860'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:25.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:25.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:25.860'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:31:31', 'collectDate': '2021-04-06 01:31:26', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.5', 'sensorAt': '2021-04-06 01:31:25.040'}, {'value': '11.4', 'sensorAt': '2021-04-06 01:31:25.360'}, {'value': '8.2', 'sensorAt': '2021-04-06 01:31:25.860'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:25.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:25.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:25.860'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:31:31: send http
2021-04-06 01:31:31: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:31:31: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:31: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:31:36: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:31:36: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:31:36: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:36: select done
2021-04-06 01:31:36: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:31:36: No Data remains in httpPlcDataSender thread
2021-04-06 01:31:36: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:31:37: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:31:37: current db filename:  in httpPlcDataSender thread
2021-04-06 01:31:37: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:31:39.817
lastevent: 2021-04-06 01:31:39.805, last ten sensor data: [('2021-04-06 01:31:39.180', 'D+000002.2'), ('2021-04-06 01:31:39.350', 'D+000002.8'), ('2021-04-06 01:31:39.370', 'D+000002.6'), ('2021-04-06 01:31:39.390', 'D+000002.6'), ('2021-04-06 01:31:39.410', 'D+000002.8'), ('2021-04-06 01:31:39.590', 'D+000004.8'), ('2021-04-06 01:31:39.610', 'D+000005.2'), ('2021-04-06 01:31:39.630', 'D+000005.0'), ('2021-04-06 01:31:39.650', 'D+000004.8'), ('2021-04-06 01:31:39.670', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 4.8, 5.2, 5.0, 4.8, 5.0]
np.array X: [[2.8]
 [4.8]
 [5.2]
 [5. ]
 [4.8]
 [5. ]]
revised_weight: 5.3
2021-04-06 01:31:39.670: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:31:39.670
plc_result: True
sendmessage: 20210406013139670,1,000050,000053
send message to PLC: 2021-04-06 01:31:39.824
time gap: 0:00:00.007387
2021-04-06 01:31:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:31:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:40.773
lastevent: 2021-04-06 01:31:40.768, last ten sensor data: [('2021-04-06 01:31:40.250', 'D+000006.6'), ('2021-04-06 01:31:40.270', 'D+000006.6'), ('2021-04-06 01:31:40.450', 'D+000006.0'), ('2021-04-06 01:31:40.470', 'D+000006.2'), ('2021-04-06 01:31:40.490', 'D+000006.0'), ('2021-04-06 01:31:40.510', 'D+000005.8'), ('2021-04-06 01:31:40.700', 'D+000008.0'), ('2021-04-06 01:31:40.720', 'D+000010.8'), ('2021-04-06 01:31:40.740', 'D+000009.8'), ('2021-04-06 01:31:40.760', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 5.8, 8.0, 10.8, 9.8, 5.6]
np.array X: [[ 6. ]
 [ 5.8]
 [ 8. ]
 [10.8]
 [ 9.8]
 [ 5.6]]
revised_weight: 8.0
2021-04-06 01:31:40.760: revising weight finished
revised_weight: 8.0 at 2021-04-06 01:31:40.760
plc_result: True
sendmessage: 20210406013140760,1,000056,000080
send message to PLC: 2021-04-06 01:31:40.786
time gap: 0:00:00.013711
2021-04-06 01:31:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:42.746
lastevent: 2021-04-06 01:31:42.741, last ten sensor data: [('2021-04-06 01:31:42.220', 'D+000004.0'), ('2021-04-06 01:31:42.410', 'D+000005.2'), ('2021-04-06 01:31:42.430', 'D+000004.4'), ('2021-04-06 01:31:42.450', 'D+000004.4'), ('2021-04-06 01:31:42.470', 'D+000005.2'), ('2021-04-06 01:31:42.640', 'D+000007.4'), ('2021-04-06 01:31:42.660', 'D+000007.4'), ('2021-04-06 01:31:42.680', 'D+000007.4'), ('2021-04-06 01:31:42.700', 'D+000007.8'), ('2021-04-06 01:31:42.720', 'D+000009.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 7.4, 7.4, 7.4, 7.8, 9.0]
np.array X: [[5.2]
 [7.4]
 [7.4]
 [7.4]
 [7.8]
 [9. ]]
revised_weight: 8.7
2021-04-06 01:31:42.720: revising weight finished
revised_weight: 8.7 at 2021-04-06 01:31:42.720
plc_result: True
sendmessage: 20210406013142720,1,000090,000087
send message to PLC: 2021-04-06 01:31:42.758
time gap: 0:00:00.012066
2021-04-06 01:31:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:43.741
lastevent: 2021-04-06 01:31:43.730, last ten sensor data: [('2021-04-06 01:31:43.370', 'D+000006.6'), ('2021-04-06 01:31:43.390', 'D+000005.4'), ('2021-04-06 01:31:43.410', 'D+000005.0'), ('2021-04-06 01:31:43.430', 'D+000004.4'), ('2021-04-06 01:31:43.450', 'D+000004.2'), ('2021-04-06 01:31:43.470', 'D+000004.0'), ('2021-04-06 01:31:43.630', 'D+000005.6'), ('2021-04-06 01:31:43.650', 'D+000005.6'), ('2021-04-06 01:31:43.670', 'D+000005.6'), ('2021-04-06 01:31:43.690', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.0, 5.6, 5.6, 5.6, 5.4]
np.array X: [[4.2]
 [4. ]
 [5.6]
 [5.6]
 [5.6]
 [5.4]]
revised_weight: 5.2
2021-04-06 01:31:43.690: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:31:43.690
plc_result: True
sendmessage: 20210406013143690,1,000054,000052
send message to PLC: 2021-04-06 01:31:43.757
time gap: 0:00:00.016288
2021-04-06 01:31:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:45.037
lastevent: 2021-04-06 01:31:45.027, last ten sensor data: [('2021-04-06 01:31:44.620', 'D+000003.6'), ('2021-04-06 01:31:44.640', 'D+000003.8'), ('2021-04-06 01:31:44.660', 'D+000003.6'), ('2021-04-06 01:31:44.680', 'D+000003.8'), ('2021-04-06 01:31:44.700', 'D+000003.6'), ('2021-04-06 01:31:44.840', 'D+000003.8'), ('2021-04-06 01:31:44.860', 'D+000003.8'), ('2021-04-06 01:31:44.880', 'D+000003.6'), ('2021-04-06 01:31:44.900', 'D+000004.2'), ('2021-04-06 01:31:44.920', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.8, 3.8, 3.6, 4.2, 4.4]
np.array X: [[3.6]
 [3.8]
 [3.8]
 [3.6]
 [4.2]
 [4.4]]
revised_weight: 4.2
2021-04-06 01:31:44.920: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:31:44.920
plc_result: True
sendmessage: 20210406013144920,1,000044,000042
send message to PLC: 2021-04-06 01:31:45.050
time gap: 0:00:00.013453
2021-04-06 01:31:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:45.965
lastevent: 2021-04-06 01:31:45.957, last ten sensor data: [('2021-04-06 01:31:45.390', 'D+000004.2'), ('2021-04-06 01:31:45.410', 'D+000004.0'), ('2021-04-06 01:31:45.580', 'D+000003.8'), ('2021-04-06 01:31:45.600', 'D+000003.8'), ('2021-04-06 01:31:45.620', 'D+000004.2'), ('2021-04-06 01:31:45.640', 'D+000004.4'), ('2021-04-06 01:31:45.830', 'D+000009.2'), ('2021-04-06 01:31:45.850', 'D+000009.4'), ('2021-04-06 01:31:45.870', 'D+000009.4'), ('2021-04-06 01:31:45.890', 'D+000009.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.4, 9.2, 9.4, 9.4, 9.6]
np.array X: [[4.2]
 [4.4]
 [9.2]
 [9.4]
 [9.4]
 [9.6]]
revised_weight: 9.0
2021-04-06 01:31:45.890: revising weight finished
revised_weight: 9.0 at 2021-04-06 01:31:45.890
plc_result: True
sendmessage: 20210406013145890,1,000096,000090
send message to PLC: 2021-04-06 01:31:45.978
time gap: 0:00:00.013169
2021-04-06 01:31:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:46.514
lastevent: 2021-04-06 01:31:46.506, last ten sensor data: [0, ('2021-04-06 01:31:46.070', 'D+000009.2'), ('2021-04-06 01:31:46.090', 'D+000009.4'), ('2021-04-06 01:31:46.110', 'D+000009.6'), ('2021-04-06 01:31:46.130', 'D+000009.6'), ('2021-04-06 01:31:46.310', 'D+000009.8'), ('2021-04-06 01:31:46.330', 'D+000010.8'), ('2021-04-06 01:31:46.350', 'D+000010.6'), ('2021-04-06 01:31:46.370', 'D+000009.0'), ('2021-04-06 01:31:46.390', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.6, 9.8, 10.8, 10.6, 9.0, 8.0]
np.array X: [[ 9.6]
 [ 9.8]
 [10.8]
 [10.6]
 [ 9. ]
 [ 8. ]]
revised_weight: 9.3
2021-04-06 01:31:46.390: revising weight finished
revised_weight: 9.3 at 2021-04-06 01:31:46.390
plc_result: True
sendmessage: 20210406013146390,1,000080,000093
send message to PLC: 2021-04-06 01:31:46.527
time gap: 0:00:00.013314
2021-04-06 01:31:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:47.279
lastevent: 2021-04-06 01:31:47.267, last ten sensor data: [('2021-04-06 01:31:46.790', 'D+000007.4'), ('2021-04-06 01:31:46.810', 'D+000007.4'), ('2021-04-06 01:31:46.830', 'D+000007.6'), ('2021-04-06 01:31:46.850', 'D+000007.4'), ('2021-04-06 01:31:46.870', 'D+000007.2'), ('2021-04-06 01:31:47.050', 'D+000008.2'), ('2021-04-06 01:31:47.070', 'D+000008.2'), ('2021-04-06 01:31:47.090', 'D+000007.0'), ('2021-04-06 01:31:47.110', 'D+000006.8'), ('2021-04-06 01:31:47.130', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 8.2, 8.2, 7.0, 6.8, 6.8]
np.array X: [[7.2]
 [8.2]
 [8.2]
 [7. ]
 [6.8]
 [6.8]]
revised_weight: 7.7
2021-04-06 01:31:47.130: revising weight finished
revised_weight: 7.7 at 2021-04-06 01:31:47.130
plc_result: True
sendmessage: 20210406013147130,1,000068,000077
send message to PLC: 2021-04-06 01:31:47.291
time gap: 0:00:00.011606
2021-04-06 01:31:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:50.791
lastevent: 2021-04-06 01:31:50.786, last ten sensor data: [('2021-04-06 01:31:50.290', 'D+000002.0'), ('2021-04-06 01:31:50.310', 'D+000001.8'), ('2021-04-06 01:31:50.480', 'D+000002.2'), ('2021-04-06 01:31:50.500', 'D+000002.4'), ('2021-04-06 01:31:50.520', 'D+000002.4'), ('2021-04-06 01:31:50.540', 'D+000002.6'), ('2021-04-06 01:31:50.720', 'D+000002.8'), ('2021-04-06 01:31:50.740', 'D+000002.8'), ('2021-04-06 01:31:50.760', 'D+000002.8'), ('2021-04-06 01:31:50.780', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.6, 2.8, 2.8, 2.8, 2.4]
np.array X: [[2.4]
 [2.6]
 [2.8]
 [2.8]
 [2.8]
 [2.4]]
revised_weight: 2.2
2021-04-06 01:31:50.780: revising weight finished
revised_weight: 2.2 at 2021-04-06 01:31:50.780
plc_result: True
sendmessage: 20210406013150780,1,000024,000022
send message to PLC: 2021-04-06 01:31:50.803
time gap: 0:00:00.011595
2021-04-06 01:31:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:52.713
lastevent: 2021-04-06 01:31:52.707, last ten sensor data: [('2021-04-06 01:31:52.210', 'D+000003.0'), ('2021-04-06 01:31:52.230', 'D+000003.0'), ('2021-04-06 01:31:52.250', 'D+000003.0'), ('2021-04-06 01:31:52.270', 'D+000003.0'), ('2021-04-06 01:31:52.450', 'D+000003.6'), ('2021-04-06 01:31:52.470', 'D+000003.6'), ('2021-04-06 01:31:52.490', 'D+000003.2'), ('2021-04-06 01:31:52.510', 'D+000003.2'), ('2021-04-06 01:31:52.670', 'D+000003.6'), ('2021-04-06 01:31:52.700', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.2, 3.2, 3.6, 4.4]
np.array X: [[3.6]
 [3.6]
 [3.2]
 [3.2]
 [3.6]
 [4.4]]
revised_weight: 3.9
2021-04-06 01:31:52.700: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:31:52.700
plc_result: True
sendmessage: 20210406013152700,1,000044,000039
send message to PLC: 2021-04-06 01:31:52.725
time gap: 0:00:00.012040
2021-04-06 01:31:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:54.176
lastevent: 2021-04-06 01:31:54.165, last ten sensor data: [('2021-04-06 01:31:53.720', 'D+000004.0'), ('2021-04-06 01:31:53.740', 'D+000003.8'), ('2021-04-06 01:31:53.900', 'D+000006.0'), ('2021-04-06 01:31:53.920', 'D+000006.4'), ('2021-04-06 01:31:53.940', 'D+000006.8'), ('2021-04-06 01:31:53.960', 'D+000007.4'), ('2021-04-06 01:31:53.980', 'D+000006.6'), ('2021-04-06 01:31:54.140', 'D+000007.8'), ('2021-04-06 01:31:54.160', 'D+000007.6'), ('2021-04-06 01:31:54.180', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 7.4, 6.6, 7.8, 7.6, 7.6]
np.array X: [[6.8]
 [7.4]
 [6.6]
 [7.8]
 [7.6]
 [7.6]]
revised_weight: 7.6
2021-04-06 01:31:54.180: revising weight finished
revised_weight: 7.6 at 2021-04-06 01:31:54.180
plc_result: True
sendmessage: 20210406013154180,1,000076,000076
send message to PLC: 2021-04-06 01:31:54.193
time gap: 0:00:00.017182
2021-04-06 01:31:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:54.543
lastevent: 2021-04-06 01:31:54.537, last ten sensor data: [0, 0, 0, ('2021-04-06 01:31:54.200', 'D+000007.4'), ('2021-04-06 01:31:54.220', 'D+000007.6'), ('2021-04-06 01:31:54.380', 'D+000007.6'), ('2021-04-06 01:31:54.400', 'D+000008.0'), ('2021-04-06 01:31:54.420', 'D+000008.2'), ('2021-04-06 01:31:54.440', 'D+000008.4'), ('2021-04-06 01:31:54.460', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.6, 7.6, 8.0, 8.2, 8.4, 8.2]
np.array X: [[7.6]
 [7.6]
 [8. ]
 [8.2]
 [8.4]
 [8.2]]
revised_weight: 7.9
2021-04-06 01:31:54.460: revising weight finished
revised_weight: 7.9 at 2021-04-06 01:31:54.460
plc_result: True
sendmessage: 20210406013154460,1,000082,000079
send message to PLC: 2021-04-06 01:31:54.549
time gap: 0:00:00.006354
2021-04-06 01:31:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:55.576
lastevent: 2021-04-06 01:31:55.569, last ten sensor data: [('2021-04-06 01:31:54.950', 'D+000005.8'), ('2021-04-06 01:31:55.130', 'D+000004.8'), ('2021-04-06 01:31:55.150', 'D+000004.8'), ('2021-04-06 01:31:55.170', 'D+000004.4'), ('2021-04-06 01:31:55.190', 'D+000004.4'), ('2021-04-06 01:31:55.360', 'D+000005.8'), ('2021-04-06 01:31:55.380', 'D+000005.6'), ('2021-04-06 01:31:55.400', 'D+000005.2'), ('2021-04-06 01:31:55.420', 'D+000005.2'), ('2021-04-06 01:31:55.440', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.8, 5.6, 5.2, 5.2, 5.4]
np.array X: [[4.4]
 [5.8]
 [5.6]
 [5.2]
 [5.2]
 [5.4]]
revised_weight: 5.3
2021-04-06 01:31:55.440: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:31:55.440
plc_result: True
sendmessage: 20210406013155440,1,000054,000053
send message to PLC: 2021-04-06 01:31:55.587
time gap: 0:00:00.011320
2021-04-06 01:31:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:56.000
lastevent: 2021-04-06 01:31:55.988, last ten sensor data: [('2021-04-06 01:31:55.610', 'D+000005.4'), ('2021-04-06 01:31:55.630', 'D+000005.8'), ('2021-04-06 01:31:55.650', 'D+000006.0'), ('2021-04-06 01:31:55.670', 'D+000006.0'), ('2021-04-06 01:31:55.690', 'D+000006.4'), ('2021-04-06 01:31:55.850', 'D+000008.0'), ('2021-04-06 01:31:55.870', 'D+000007.6'), ('2021-04-06 01:31:55.890', 'D+000008.8'), ('2021-04-06 01:31:55.910', 'D+000010.2'), ('2021-04-06 01:31:55.930', 'D+000008.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 8.0, 7.6, 8.8, 10.2, 8.8]
np.array X: [[ 6.4]
 [ 8. ]
 [ 7.6]
 [ 8.8]
 [10.2]
 [ 8.8]]
revised_weight: 8.1
2021-04-06 01:31:55.930: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:31:55.930
plc_result: True
sendmessage: 20210406013155930,1,000088,000081
send message to PLC: 2021-04-06 01:31:56.012
time gap: 0:00:00.011219
2021-04-06 01:31:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:57.297
lastevent: 2021-04-06 01:31:57.292, last ten sensor data: [('2021-04-06 01:31:56.660', 'D+000004.2'), ('2021-04-06 01:31:56.830', 'D+000003.8'), ('2021-04-06 01:31:56.850', 'D+000003.8'), ('2021-04-06 01:31:56.870', 'D+000003.8'), ('2021-04-06 01:31:56.890', 'D+000003.8'), ('2021-04-06 01:31:56.910', 'D+000004.2'), ('2021-04-06 01:31:57.080', 'D+000005.8'), ('2021-04-06 01:31:57.100', 'D+000005.6'), ('2021-04-06 01:31:57.120', 'D+000006.0'), ('2021-04-06 01:31:57.140', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.2, 5.8, 5.6, 6.0, 6.0]
np.array X: [[3.8]
 [4.2]
 [5.8]
 [5.6]
 [6. ]
 [6. ]]
revised_weight: 5.7
2021-04-06 01:31:57.140: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:31:57.140
plc_result: True
sendmessage: 20210406013157140,1,000060,000057
send message to PLC: 2021-04-06 01:31:57.310
time gap: 0:00:00.012682
2021-04-06 01:31:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:58.331
lastevent: 2021-04-06 01:31:58.318, last ten sensor data: [('2021-04-06 01:31:57.880', 'D+000005.2'), ('2021-04-06 01:31:57.900', 'D+000005.0'), ('2021-04-06 01:31:57.920', 'D+000004.8'), ('2021-04-06 01:31:57.940', 'D+000004.8'), ('2021-04-06 01:31:57.960', 'D+000004.2'), ('2021-04-06 01:31:58.140', 'D+000004.2'), ('2021-04-06 01:31:58.160', 'D+000004.2'), ('2021-04-06 01:31:58.180', 'D+000004.2'), ('2021-04-06 01:31:58.200', 'D+000004.0'), ('2021-04-06 01:31:58.220', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 4.2, 4.2, 4.0, 4.0]
np.array X: [[4.2]
 [4.2]
 [4.2]
 [4.2]
 [4. ]
 [4. ]]
revised_weight: 4.1
2021-04-06 01:31:58.220: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:31:58.220
plc_result: True
sendmessage: 20210406013158220,1,000040,000041
send message to PLC: 2021-04-06 01:31:58.344
time gap: 0:00:00.012405
2021-04-06 01:31:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:31:59.627
lastevent: 2021-04-06 01:31:59.613, last ten sensor data: [('2021-04-06 01:31:59.160', 'D+000004.2'), ('2021-04-06 01:31:59.180', 'D+000003.8'), ('2021-04-06 01:31:59.350', 'D+000004.2'), ('2021-04-06 01:31:59.370', 'D+000004.4'), ('2021-04-06 01:31:59.390', 'D+000004.6'), ('2021-04-06 01:31:59.410', 'D+000004.8'), ('2021-04-06 01:31:59.430', 'D+000005.0'), ('2021-04-06 01:31:59.570', 'D+000004.4'), ('2021-04-06 01:31:59.600', 'D+000005.4'), ('2021-04-06 01:31:59.620', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.8, 5.0, 4.4, 5.4, 5.2]
np.array X: [[4.6]
 [4.8]
 [5. ]
 [4.4]
 [5.4]
 [5.2]]
revised_weight: 4.9
2021-04-06 01:31:59.620: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:31:59.620
plc_result: True
sendmessage: 20210406013159620,1,000052,000049
send message to PLC: 2021-04-06 01:31:59.640
time gap: 0:00:00.012555
2021-04-06 01:31:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:00.306
lastevent: 2021-04-06 01:32:00.292, last ten sensor data: [('2021-04-06 01:31:59.660', 'D+000005.0'), ('2021-04-06 01:31:59.830', 'D+000004.8'), ('2021-04-06 01:31:59.850', 'D+000004.8'), ('2021-04-06 01:31:59.870', 'D+000004.8'), ('2021-04-06 01:31:59.890', 'D+000004.6'), ('2021-04-06 01:31:59.910', 'D+000004.6'), ('2021-04-06 01:32:00.080', 'D+000006.2'), ('2021-04-06 01:32:00.100', 'D+000006.4'), ('2021-04-06 01:32:00.120', 'D+000006.6'), ('2021-04-06 01:32:00.140', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 6.2, 6.4, 6.6, 7.4]
np.array X: [[4.6]
 [4.6]
 [6.2]
 [6.4]
 [6.6]
 [7.4]]
revised_weight: 6.6
2021-04-06 01:32:00.140: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:32:00.140
plc_result: True
sendmessage: 20210406013200140,1,000074,000066
send message to PLC: 2021-04-06 01:32:00.318
time gap: 0:00:00.011637
2021-04-06 01:32:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:01.656
lastevent: 2021-04-06 01:32:01.648, last ten sensor data: [('2021-04-06 01:32:01.040', 'D+000004.2'), ('2021-04-06 01:32:01.190', 'D+000004.0'), ('2021-04-06 01:32:01.220', 'D+000004.0'), ('2021-04-06 01:32:01.240', 'D+000004.0'), ('2021-04-06 01:32:01.260', 'D+000003.8'), ('2021-04-06 01:32:01.280', 'D+000004.2'), ('2021-04-06 01:32:01.450', 'D+000005.6'), ('2021-04-06 01:32:01.470', 'D+000005.6'), ('2021-04-06 01:32:01.490', 'D+000005.0'), ('2021-04-06 01:32:01.510', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.2, 5.6, 5.6, 5.0, 5.2]
np.array X: [[3.8]
 [4.2]
 [5.6]
 [5.6]
 [5. ]
 [5.2]]
revised_weight: 5.5
2021-04-06 01:32:01.510: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:32:01.510
plc_result: True
sendmessage: 20210406013201510,1,000052,000055
send message to PLC: 2021-04-06 01:32:01.668
time gap: 0:00:00.011751
2021-04-06 01:32:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:02.294
lastevent: 2021-04-06 01:32:02.278, last ten sensor data: [('2021-04-06 01:32:01.740', 'D+000006.6'), ('2021-04-06 01:32:01.760', 'D+000006.0'), ('2021-04-06 01:32:01.950', 'D+000006.0'), ('2021-04-06 01:32:01.970', 'D+000005.8'), ('2021-04-06 01:32:01.990', 'D+000005.8'), ('2021-04-06 01:32:02.010', 'D+000006.0'), ('2021-04-06 01:32:02.190', 'D+000005.4'), ('2021-04-06 01:32:02.210', 'D+000005.0'), ('2021-04-06 01:32:02.230', 'D+000005.4'), ('2021-04-06 01:32:02.250', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.0, 5.4, 5.0, 5.4, 5.2]
np.array X: [[5.8]
 [6. ]
 [5.4]
 [5. ]
 [5.4]
 [5.2]]
revised_weight: 5.6
2021-04-06 01:32:02.250: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:32:02.250
plc_result: True
sendmessage: 20210406013202250,1,000052,000056
send message to PLC: 2021-04-06 01:32:02.305
time gap: 0:00:00.011189
2021-04-06 01:32:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:02.871
lastevent: 2021-04-06 01:32:02.857, last ten sensor data: [('2021-04-06 01:32:02.310', 'D+000005.2'), ('2021-04-06 01:32:02.430', 'D+000005.0'), ('2021-04-06 01:32:02.450', 'D+000005.4'), ('2021-04-06 01:32:02.470', 'D+000005.4'), ('2021-04-06 01:32:02.490', 'D+000005.2'), ('2021-04-06 01:32:02.510', 'D+000005.2'), ('2021-04-06 01:32:02.670', 'D+000005.4'), ('2021-04-06 01:32:02.690', 'D+000005.2'), ('2021-04-06 01:32:02.710', 'D+000005.2'), ('2021-04-06 01:32:02.730', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 5.4, 5.2, 5.2, 5.2]
np.array X: [[5.2]
 [5.2]
 [5.4]
 [5.2]
 [5.2]
 [5.2]]
revised_weight: 5.2
2021-04-06 01:32:02.730: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:32:02.730
plc_result: True
sendmessage: 20210406013202730,1,000052,000052
send message to PLC: 2021-04-06 01:32:02.883
time gap: 0:00:00.011744
2021-04-06 01:32:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:04.460
lastevent: 2021-04-06 01:32:04.451, last ten sensor data: [('2021-04-06 01:32:04.140', 'D+000004.2'), ('2021-04-06 01:32:04.160', 'D+000004.6'), ('2021-04-06 01:32:04.180', 'D+000004.6'), ('2021-04-06 01:32:04.200', 'D+000004.8'), ('2021-04-06 01:32:04.370', 'D+000007.8'), ('2021-04-06 01:32:04.390', 'D+000007.4'), ('2021-04-06 01:32:04.410', 'D+000006.2'), ('2021-04-06 01:32:04.430', 'D+000005.8'), ('2021-04-06 01:32:04.450', 'D+000007.2'), ('2021-04-06 01:32:04.470', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.8, 7.4, 6.2, 5.8, 7.2, 7.4]
np.array X: [[7.8]
 [7.4]
 [6.2]
 [5.8]
 [7.2]
 [7.4]]
revised_weight: 7.0
2021-04-06 01:32:04.470: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:32:04.470
plc_result: True
sendmessage: 20210406013204470,1,000074,000070
send message to PLC: 2021-04-06 01:32:04.471
time gap: 0:00:00.011223
2021-04-06 01:32:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:06.108
lastevent: 2021-04-06 01:32:06.101, last ten sensor data: [('2021-04-06 01:32:05.590', 'D+000004.4'), ('2021-04-06 01:32:05.610', 'D+000004.4'), ('2021-04-06 01:32:05.630', 'D+000004.4'), ('2021-04-06 01:32:05.650', 'D+000004.2'), ('2021-04-06 01:32:05.840', 'D+000005.0'), ('2021-04-06 01:32:05.860', 'D+000005.0'), ('2021-04-06 01:32:05.880', 'D+000005.0'), ('2021-04-06 01:32:05.900', 'D+000005.2'), ('2021-04-06 01:32:06.080', 'D+000004.6'), ('2021-04-06 01:32:06.100', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 5.0, 5.2, 4.6, 5.6]
np.array X: [[5. ]
 [5. ]
 [5. ]
 [5.2]
 [4.6]
 [5.6]]
revised_weight: 5.3
2021-04-06 01:32:06.100: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:32:06.100
plc_result: True
sendmessage: 20210406013206100,1,000056,000053
send message to PLC: 2021-04-06 01:32:06.119
time gap: 0:00:00.011214
2021-04-06 01:32:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:06.636
lastevent: 2021-04-06 01:32:06.627, last ten sensor data: [('2021-04-06 01:32:06.140', 'D+000005.0'), ('2021-04-06 01:32:06.320', 'D+000005.4'), ('2021-04-06 01:32:06.340', 'D+000005.6'), ('2021-04-06 01:32:06.360', 'D+000005.4'), ('2021-04-06 01:32:06.380', 'D+000005.6'), ('2021-04-06 01:32:06.400', 'D+000005.6'), ('2021-04-06 01:32:06.560', 'D+000004.8'), ('2021-04-06 01:32:06.580', 'D+000004.8'), ('2021-04-06 01:32:06.600', 'D+000004.8'), ('2021-04-06 01:32:06.620', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.6, 4.8, 4.8, 4.8, 4.8]
np.array X: [[5.6]
 [5.6]
 [4.8]
 [4.8]
 [4.8]
 [4.8]]
revised_weight: 5.2
2021-04-06 01:32:06.620: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:32:06.620
plc_result: True
sendmessage: 20210406013206620,1,000048,000052
send message to PLC: 2021-04-06 01:32:06.647
time gap: 0:00:00.011329
2021-04-06 01:32:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:07.146
lastevent: 2021-04-06 01:32:07.136, last ten sensor data: [('2021-04-06 01:32:06.650', 'D+000005.0'), ('2021-04-06 01:32:06.810', 'D+000004.0'), ('2021-04-06 01:32:06.830', 'D+000004.4'), ('2021-04-06 01:32:06.850', 'D+000004.4'), ('2021-04-06 01:32:06.870', 'D+000004.4'), ('2021-04-06 01:32:07.050', 'D+000004.4'), ('2021-04-06 01:32:07.070', 'D+000004.0'), ('2021-04-06 01:32:07.090', 'D+000004.0'), ('2021-04-06 01:32:07.110', 'D+000004.4'), ('2021-04-06 01:32:07.130', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 4.0, 4.0, 4.4, 4.0]
np.array X: [[4.4]
 [4.4]
 [4. ]
 [4. ]
 [4.4]
 [4. ]]
revised_weight: 4.2
2021-04-06 01:32:07.130: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:32:07.130
plc_result: True
sendmessage: 20210406013207130,1,000040,000042
send message to PLC: 2021-04-06 01:32:07.157
time gap: 0:00:00.011241
2021-04-06 01:32:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:07: httpScaleDataSender thread Timeout occurred
2021-04-06 01:32:07: [13718] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
2021-04-06 01:32:07: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:32:08.516
lastevent: 2021-04-06 01:32:08.502, last ten sensor data: [('2021-04-06 01:32:08.050', 'D+000003.0'), ('2021-04-06 01:32:08.070', 'D+000003.0'), ('2021-04-06 01:32:08.090', 'D+000003.2'), ('2021-04-06 01:32:08.110', 'D+000003.0'), ('2021-04-06 01:32:08.270', 'D+000004.6'), ('2021-04-06 01:32:08.290', 'D+000004.4'), ('2021-04-06 01:32:08.310', 'D+000004.4'), ('2021-04-06 01:32:08.330', 'D+000005.2'), ('2021-04-06 01:32:08.350', 'D+000005.6'), ('2021-04-06 01:32:08.510', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.4, 4.4, 5.2, 5.6, 6.6]
np.array X: [[4.6]
 [4.4]
 [4.4]
 [5.2]
 [5.6]
 [6.6]]
revised_weight: 6.0
2021-04-06 01:32:08.510: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:32:08.510
plc_result: True
sendmessage: 20210406013208510,1,000066,000060
send message to PLC: 2021-04-06 01:32:08.522
time gap: 0:00:00.006200
2021-04-06 01:32:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:09.368
lastevent: 2021-04-06 01:32:09.354, last ten sensor data: [('2021-04-06 01:32:08.880', 'D+000006.8'), ('2021-04-06 01:32:08.900', 'D+000007.2'), ('2021-04-06 01:32:08.920', 'D+000007.0'), ('2021-04-06 01:32:09.100', 'D+000005.4'), ('2021-04-06 01:32:09.120', 'D+000005.4'), ('2021-04-06 01:32:09.140', 'D+000005.4'), ('2021-04-06 01:32:09.160', 'D+000005.4'), ('2021-04-06 01:32:09.180', 'D+000005.4'), ('2021-04-06 01:32:09.320', 'D+000006.2'), ('2021-04-06 01:32:09.360', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.4, 5.4, 5.4, 6.2, 6.0]
np.array X: [[5.4]
 [5.4]
 [5.4]
 [5.4]
 [6.2]
 [6. ]]
revised_weight: 5.8
2021-04-06 01:32:09.360: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:32:09.360
plc_result: True
sendmessage: 20210406013209360,1,000060,000058
send message to PLC: 2021-04-06 01:32:09.380
time gap: 0:00:00.011303
2021-04-06 01:32:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:10.816
lastevent: 2021-04-06 01:32:10.802, last ten sensor data: [('2021-04-06 01:32:10.140', 'D+000003.4'), ('2021-04-06 01:32:10.160', 'D+000003.4'), ('2021-04-06 01:32:10.330', 'D+000003.4'), ('2021-04-06 01:32:10.350', 'D+000003.6'), ('2021-04-06 01:32:10.370', 'D+000003.6'), ('2021-04-06 01:32:10.390', 'D+000003.4'), ('2021-04-06 01:32:10.410', 'D+000003.6'), ('2021-04-06 01:32:10.590', 'D+000005.6'), ('2021-04-06 01:32:10.610', 'D+000005.8'), ('2021-04-06 01:32:10.630', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.4, 3.6, 5.6, 5.8, 5.8]
np.array X: [[3.6]
 [3.4]
 [3.6]
 [5.6]
 [5.8]
 [5.8]]
revised_weight: 5.2
2021-04-06 01:32:10.630: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:32:10.630
plc_result: True
sendmessage: 20210406013210630,1,000058,000052
send message to PLC: 2021-04-06 01:32:10.827
time gap: 0:00:00.011503
2021-04-06 01:32:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:11.781
lastevent: 2021-04-06 01:32:11.767, last ten sensor data: [('2021-04-06 01:32:11.330', 'D+000005.2'), ('2021-04-06 01:32:11.350', 'D+000005.0'), ('2021-04-06 01:32:11.370', 'D+000005.0'), ('2021-04-06 01:32:11.390', 'D+000005.2'), ('2021-04-06 01:32:11.540', 'D+000003.4'), ('2021-04-06 01:32:11.570', 'D+000003.4'), ('2021-04-06 01:32:11.590', 'D+000003.6'), ('2021-04-06 01:32:11.610', 'D+000004.0'), ('2021-04-06 01:32:11.630', 'D+000003.6'), ('2021-04-06 01:32:11.650', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.4, 3.6, 4.0, 3.6, 3.2]
np.array X: [[3.4]
 [3.4]
 [3.6]
 [4. ]
 [3.6]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:32:11.650: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:32:11.650
plc_result: True
sendmessage: 20210406013211650,1,000032,000031
send message to PLC: 2021-04-06 01:32:11.794
time gap: 0:00:00.013667
2021-04-06 01:32:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:13.053
lastevent: 2021-04-06 01:32:13.040, last ten sensor data: [('2021-04-06 01:32:12.570', 'D+000003.2'), ('2021-04-06 01:32:12.590', 'D+000003.0'), ('2021-04-06 01:32:12.610', 'D+000003.2'), ('2021-04-06 01:32:12.630', 'D+000002.8'), ('2021-04-06 01:32:12.800', 'D+000003.2'), ('2021-04-06 01:32:12.820', 'D+000003.8'), ('2021-04-06 01:32:12.840', 'D+000003.8'), ('2021-04-06 01:32:12.860', 'D+000003.8'), ('2021-04-06 01:32:12.880', 'D+000003.6'), ('2021-04-06 01:32:13.040', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.8, 3.8, 3.8, 3.6, 4.0]
np.array X: [[3.2]
 [3.8]
 [3.8]
 [3.8]
 [3.6]
 [4. ]]
revised_weight: 3.9
2021-04-06 01:32:13.040: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:32:13.040
plc_result: True
sendmessage: 20210406013213040,1,000040,000039
send message to PLC: 2021-04-06 01:32:13.060
time gap: 0:00:00.006941
2021-04-06 01:32:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:13.519
lastevent: 2021-04-06 01:32:13.513, last ten sensor data: [('2021-04-06 01:32:13.060', 'D+000003.8'), ('2021-04-06 01:32:13.080', 'D+000004.0'), ('2021-04-06 01:32:13.100', 'D+000004.0'), ('2021-04-06 01:32:13.120', 'D+000004.0'), ('2021-04-06 01:32:13.280', 'D+000004.4'), ('2021-04-06 01:32:13.300', 'D+000004.2'), ('2021-04-06 01:32:13.320', 'D+000004.2'), ('2021-04-06 01:32:13.340', 'D+000004.2'), ('2021-04-06 01:32:13.360', 'D+000004.4'), ('2021-04-06 01:32:13.380', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.2, 4.2, 4.2, 4.4, 4.6]
np.array X: [[4.4]
 [4.2]
 [4.2]
 [4.2]
 [4.4]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:32:13.380: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:32:13.380
plc_result: True
sendmessage: 20210406013213380,1,000046,000046
send message to PLC: 2021-04-06 01:32:13.526
time gap: 0:00:00.006942
2021-04-06 01:32:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:14.666
lastevent: 2021-04-06 01:32:14.654, last ten sensor data: [('2021-04-06 01:32:14.160', 'D+000003.2'), ('2021-04-06 01:32:14.180', 'D+000003.8'), ('2021-04-06 01:32:14.360', 'D+000003.6'), ('2021-04-06 01:32:14.380', 'D+000004.0'), ('2021-04-06 01:32:14.400', 'D+000004.0'), ('2021-04-06 01:32:14.420', 'D+000004.0'), ('2021-04-06 01:32:14.600', 'D+000007.6'), ('2021-04-06 01:32:14.620', 'D+000008.2'), ('2021-04-06 01:32:14.640', 'D+000007.4'), ('2021-04-06 01:32:14.660', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 7.6, 8.2, 7.4, 6.2]
np.array X: [[4. ]
 [4. ]
 [7.6]
 [8.2]
 [7.4]
 [6.2]]
revised_weight: 7.1
2021-04-06 01:32:14.660: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:32:14.660
plc_result: True
sendmessage: 20210406013214660,1,000062,000071
send message to PLC: 2021-04-06 01:32:14.673
time gap: 0:00:00.006832
2021-04-06 01:32:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:15.364
lastevent: 2021-04-06 01:32:15.352, last ten sensor data: [('2021-04-06 01:32:14.840', 'D+000008.0'), ('2021-04-06 01:32:14.860', 'D+000007.0'), ('2021-04-06 01:32:14.880', 'D+000006.8'), ('2021-04-06 01:32:14.900', 'D+000007.6'), ('2021-04-06 01:32:14.920', 'D+000007.4'), ('2021-04-06 01:32:15.250', 'D+000003.4'), ('2021-04-06 01:32:15.270', 'D+000003.2'), ('2021-04-06 01:32:15.290', 'D+000003.2'), ('2021-04-06 01:32:15.310', 'D+000003.0'), ('2021-04-06 01:32:15.330', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 3.4, 3.2, 3.2, 3.0, 3.0]
np.array X: [[7.4]
 [3.4]
 [3.2]
 [3.2]
 [3. ]
 [3. ]]
revised_weight: 2.8
2021-04-06 01:32:15.330: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:32:15.330
plc_result: True
sendmessage: 20210406013215330,1,000030,000028
send message to PLC: 2021-04-06 01:32:15.371
time gap: 0:00:00.006783
2021-04-06 01:32:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:17.356
lastevent: 2021-04-06 01:32:17.341, last ten sensor data: [('2021-04-06 01:32:16.770', 'D+000002.2'), ('2021-04-06 01:32:16.790', 'D+000001.8'), ('2021-04-06 01:32:16.970', 'D+000001.8'), ('2021-04-06 01:32:16.990', 'D+000001.8'), ('2021-04-06 01:32:17.010', 'D+000001.6'), ('2021-04-06 01:32:17.030', 'D+000001.8'), ('2021-04-06 01:32:17.210', 'D+000002.4'), ('2021-04-06 01:32:17.230', 'D+000001.8'), ('2021-04-06 01:32:17.250', 'D+000001.8'), ('2021-04-06 01:32:17.270', 'D+000001.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 1.8, 2.4, 1.8, 1.8, 1.8]
np.array X: [[1.6]
 [1.8]
 [2.4]
 [1.8]
 [1.8]
 [1.8]]
revised_weight: 1.9
2021-04-06 01:32:17.270: revising weight finished
revised_weight: 1.9 at 2021-04-06 01:32:17.270
plc_result: True
sendmessage: 20210406013217270,1,000018,000019
send message to PLC: 2021-04-06 01:32:17.362
time gap: 0:00:00.006825
2021-04-06 01:32:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:18.503
lastevent: 2021-04-06 01:32:18.489, last ten sensor data: [('2021-04-06 01:32:18.010', 'D+000002.2'), ('2021-04-06 01:32:18.050', 'D+000002.4'), ('2021-04-06 01:32:18.070', 'D+000002.0'), ('2021-04-06 01:32:18.090', 'D+000002.0'), ('2021-04-06 01:32:18.110', 'D+000002.2'), ('2021-04-06 01:32:18.280', 'D+000004.4'), ('2021-04-06 01:32:18.300', 'D+000004.4'), ('2021-04-06 01:32:18.320', 'D+000004.2'), ('2021-04-06 01:32:18.340', 'D+000004.2'), ('2021-04-06 01:32:18.360', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 4.4, 4.4, 4.2, 4.2, 4.6]
np.array X: [[2.2]
 [4.4]
 [4.4]
 [4.2]
 [4.2]
 [4.6]]
revised_weight: 4.2
2021-04-06 01:32:18.360: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:32:18.360
plc_result: True
sendmessage: 20210406013218360,1,000046,000042
send message to PLC: 2021-04-06 01:32:18.516
time gap: 0:00:00.013039
2021-04-06 01:32:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:19.510
lastevent: 2021-04-06 01:32:19.499, last ten sensor data: [('2021-04-06 01:32:18.900', 'D+000006.8'), ('2021-04-06 01:32:18.920', 'D+000007.0'), ('2021-04-06 01:32:19.100', 'D+000005.2'), ('2021-04-06 01:32:19.120', 'D+000005.0'), ('2021-04-06 01:32:19.140', 'D+000005.0'), ('2021-04-06 01:32:19.160', 'D+000005.0'), ('2021-04-06 01:32:19.350', 'D+000004.4'), ('2021-04-06 01:32:19.370', 'D+000004.4'), ('2021-04-06 01:32:19.390', 'D+000004.2'), ('2021-04-06 01:32:19.410', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 4.4, 4.4, 4.2, 4.2]
np.array X: [[5. ]
 [5. ]
 [4.4]
 [4.4]
 [4.2]
 [4.2]]
revised_weight: 4.5
2021-04-06 01:32:19.410: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:32:19.410
plc_result: True
sendmessage: 20210406013219410,1,000042,000045
send message to PLC: 2021-04-06 01:32:19.517
time gap: 0:00:00.006873
2021-04-06 01:32:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:21.407
lastevent: 2021-04-06 01:32:21.396, last ten sensor data: [('2021-04-06 01:32:21.050', 'D+000003.0'), ('2021-04-06 01:32:21.070', 'D+000003.2'), ('2021-04-06 01:32:21.090', 'D+000003.2'), ('2021-04-06 01:32:21.110', 'D+000003.8'), ('2021-04-06 01:32:21.130', 'D+000004.0'), ('2021-04-06 01:32:21.290', 'D+000006.0'), ('2021-04-06 01:32:21.310', 'D+000007.0'), ('2021-04-06 01:32:21.330', 'D+000007.2'), ('2021-04-06 01:32:21.350', 'D+000007.4'), ('2021-04-06 01:32:21.370', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 6.0, 7.0, 7.2, 7.4, 7.6]
np.array X: [[4. ]
 [6. ]
 [7. ]
 [7.2]
 [7.4]
 [7.6]]
revised_weight: 7.6
2021-04-06 01:32:21.370: revising weight finished
revised_weight: 7.6 at 2021-04-06 01:32:21.370
plc_result: True
sendmessage: 20210406013221370,1,000076,000076
send message to PLC: 2021-04-06 01:32:21.414
time gap: 0:00:00.006682
2021-04-06 01:32:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:22.086
lastevent: 2021-04-06 01:32:22.085, last ten sensor data: [('2021-04-06 01:32:21.590', 'D+000007.6'), ('2021-04-06 01:32:21.610', 'D+000007.6'), ('2021-04-06 01:32:21.630', 'D+000007.4'), ('2021-04-06 01:32:21.790', 'D+000007.8'), ('2021-04-06 01:32:21.810', 'D+000007.8'), ('2021-04-06 01:32:21.830', 'D+000007.6'), ('2021-04-06 01:32:21.850', 'D+000007.2'), ('2021-04-06 01:32:22.040', 'D+000005.6'), ('2021-04-06 01:32:22.060', 'D+000005.4'), ('2021-04-06 01:32:22.080', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.8, 7.6, 7.2, 5.6, 5.4, 5.4]
np.array X: [[7.8]
 [7.6]
 [7.2]
 [5.6]
 [5.4]
 [5.4]]
revised_weight: 6.7
2021-04-06 01:32:22.080: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:32:22.080
plc_result: True
sendmessage: 20210406013222080,1,000054,000067
send message to PLC: 2021-04-06 01:32:22.093
time gap: 0:00:00.007024
2021-04-06 01:32:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:24.218
lastevent: 2021-04-06 01:32:24.202, last ten sensor data: [('2021-04-06 01:32:23.560', 'D+000002.6'), ('2021-04-06 01:32:23.740', 'D+000002.6'), ('2021-04-06 01:32:23.760', 'D+000002.4'), ('2021-04-06 01:32:23.780', 'D+000002.2'), ('2021-04-06 01:32:23.800', 'D+000002.2'), ('2021-04-06 01:32:23.990', 'D+000004.2'), ('2021-04-06 01:32:24.010', 'D+000005.0'), ('2021-04-06 01:32:24.030', 'D+000005.2'), ('2021-04-06 01:32:24.050', 'D+000005.2'), ('2021-04-06 01:32:24.180', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 4.2, 5.0, 5.2, 5.2, 7.0]
np.array X: [[2.2]
 [4.2]
 [5. ]
 [5.2]
 [5.2]
 [7. ]]
revised_weight: 6.3
2021-04-06 01:32:24.180: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:32:24.180
plc_result: True
sendmessage: 20210406013224180,1,000070,000063
send message to PLC: 2021-04-06 01:32:24.224
time gap: 0:00:00.006859
2021-04-06 01:32:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:24.936
lastevent: 2021-04-06 01:32:24.914, last ten sensor data: [('2021-04-06 01:32:24.470', 'D+000007.0'), ('2021-04-06 01:32:24.490', 'D+000006.8'), ('2021-04-06 01:32:24.510', 'D+000006.6'), ('2021-04-06 01:32:24.530', 'D+000006.6'), ('2021-04-06 01:32:24.550', 'D+000006.6'), ('2021-04-06 01:32:24.710', 'D+000006.0'), ('2021-04-06 01:32:24.730', 'D+000005.8'), ('2021-04-06 01:32:24.750', 'D+000005.6'), ('2021-04-06 01:32:24.770', 'D+000005.6'), ('2021-04-06 01:32:24.790', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.0, 5.8, 5.6, 5.6, 5.6]
np.array X: [[6.6]
 [6. ]
 [5.8]
 [5.6]
 [5.6]
 [5.6]]
revised_weight: 6.0
2021-04-06 01:32:24.790: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:32:24.790
plc_result: True
sendmessage: 20210406013224790,1,000056,000060
send message to PLC: 2021-04-06 01:32:24.949
time gap: 0:00:00.012831
2021-04-06 01:32:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:25.678
lastevent: 2021-04-06 01:32:25.670, last ten sensor data: [('2021-04-06 01:32:25.210', 'D+000004.2'), ('2021-04-06 01:32:25.230', 'D+000004.0'), ('2021-04-06 01:32:25.250', 'D+000003.8'), ('2021-04-06 01:32:25.270', 'D+000004.0'), ('2021-04-06 01:32:25.440', 'D+000004.8'), ('2021-04-06 01:32:25.460', 'D+000004.8'), ('2021-04-06 01:32:25.480', 'D+000004.4'), ('2021-04-06 01:32:25.500', 'D+000004.0'), ('2021-04-06 01:32:25.520', 'D+000004.2'), ('2021-04-06 01:32:25.670', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.4, 4.0, 4.2, 4.4]
np.array X: [[4.8]
 [4.8]
 [4.4]
 [4. ]
 [4.2]
 [4.4]]
revised_weight: 4.6
2021-04-06 01:32:25.670: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:32:25.670
plc_result: True
sendmessage: 20210406013225670,1,000044,000046
send message to PLC: 2021-04-06 01:32:25.685
time gap: 0:00:00.006207
2021-04-06 01:32:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:28.028
lastevent: 2021-04-06 01:32:28.013, last ten sensor data: [('2021-04-06 01:32:27.440', 'D+000001.8'), ('2021-04-06 01:32:27.460', 'D+000001.8'), ('2021-04-06 01:32:27.480', 'D+000001.8'), ('2021-04-06 01:32:27.660', 'D+000002.0'), ('2021-04-06 01:32:27.680', 'D+000002.2'), ('2021-04-06 01:32:27.700', 'D+000002.2'), ('2021-04-06 01:32:27.890', 'D+000002.6'), ('2021-04-06 01:32:27.910', 'D+000002.4'), ('2021-04-06 01:32:27.930', 'D+000002.4'), ('2021-04-06 01:32:27.950', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.2, 2.6, 2.4, 2.4, 2.6]
np.array X: [[2.2]
 [2.2]
 [2.6]
 [2.4]
 [2.4]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:32:27.950: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:32:27.950
plc_result: True
sendmessage: 20210406013227950,1,000026,000025
send message to PLC: 2021-04-06 01:32:28.034
time gap: 0:00:00.006171
2021-04-06 01:32:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:28.707
lastevent: 2021-04-06 01:32:28.691, last ten sensor data: [('2021-04-06 01:32:28.400', 'D+000004.4'), ('2021-04-06 01:32:28.420', 'D+000004.4'), ('2021-04-06 01:32:28.440', 'D+000004.4'), ('2021-04-06 01:32:28.460', 'D+000004.4'), ('2021-04-06 01:32:28.610', 'D+000005.2'), ('2021-04-06 01:32:28.630', 'D+000003.4'), ('2021-04-06 01:32:28.650', 'D+000004.0'), ('2021-04-06 01:32:28.670', 'D+000005.2'), ('2021-04-06 01:32:28.690', 'D+000005.4'), ('2021-04-06 01:32:28.710', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 3.4, 4.0, 5.2, 5.4, 5.6]
np.array X: [[5.2]
 [3.4]
 [4. ]
 [5.2]
 [5.4]
 [5.6]]
revised_weight: 5.0
2021-04-06 01:32:28.710: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:32:28.710
plc_result: True
sendmessage: 20210406013228710,1,000056,000050
send message to PLC: 2021-04-06 01:32:28.713
time gap: 0:00:00.006143
2021-04-06 01:32:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:29.520
lastevent: 2021-04-06 01:32:29.518, last ten sensor data: [('2021-04-06 01:32:29.100', 'D+000003.6'), ('2021-04-06 01:32:29.120', 'D+000003.8'), ('2021-04-06 01:32:29.140', 'D+000003.8'), ('2021-04-06 01:32:29.160', 'D+000003.8'), ('2021-04-06 01:32:29.180', 'D+000004.0'), ('2021-04-06 01:32:29.200', 'D+000004.2'), ('2021-04-06 01:32:29.360', 'D+000004.2'), ('2021-04-06 01:32:29.380', 'D+000004.2'), ('2021-04-06 01:32:29.400', 'D+000004.2'), ('2021-04-06 01:32:29.420', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 4.2, 4.2, 4.2, 4.2]
np.array X: [[4. ]
 [4.2]
 [4.2]
 [4.2]
 [4.2]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:32:29.420: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:32:29.420
plc_result: True
sendmessage: 20210406013229420,1,000042,000043
send message to PLC: 2021-04-06 01:32:29.526
time gap: 0:00:00.006319
2021-04-06 01:32:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:32:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:31.508
lastevent: 2021-04-06 01:32:31.507, last ten sensor data: [('2021-04-06 01:32:31.100', 'D+000002.0'), ('2021-04-06 01:32:31.120', 'D+000002.2'), ('2021-04-06 01:32:31.140', 'D+000002.2'), ('2021-04-06 01:32:31.160', 'D+000002.2'), ('2021-04-06 01:32:31.180', 'D+000002.4'), ('2021-04-06 01:32:31.340', 'D+000002.8'), ('2021-04-06 01:32:31.360', 'D+000003.0'), ('2021-04-06 01:32:31.380', 'D+000003.0'), ('2021-04-06 01:32:31.400', 'D+000003.2'), ('2021-04-06 01:32:31.420', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.8, 3.0, 3.0, 3.2, 3.2]
np.array X: [[2.4]
 [2.8]
 [3. ]
 [3. ]
 [3.2]
 [3.2]]
revised_weight: 3.2
2021-04-06 01:32:31.420: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:32:31.420
plc_result: True
sendmessage: 20210406013231420,1,000032,000032
send message to PLC: 2021-04-06 01:32:31.514
time gap: 0:00:00.006175
2021-04-06 01:32:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:33.005
lastevent: 2021-04-06 01:32:32.996, last ten sensor data: [('2021-04-06 01:32:32.390', 'D+000002.2'), ('2021-04-06 01:32:32.410', 'D+000002.2'), ('2021-04-06 01:32:32.570', 'D+000002.2'), ('2021-04-06 01:32:32.590', 'D+000002.4'), ('2021-04-06 01:32:32.610', 'D+000002.6'), ('2021-04-06 01:32:32.630', 'D+000002.4'), ('2021-04-06 01:32:32.810', 'D+000003.2'), ('2021-04-06 01:32:32.830', 'D+000003.4'), ('2021-04-06 01:32:32.850', 'D+000003.4'), ('2021-04-06 01:32:32.870', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.4, 3.2, 3.4, 3.4, 3.8]
np.array X: [[2.6]
 [2.4]
 [3.2]
 [3.4]
 [3.4]
 [3.8]]
revised_weight: 3.5
2021-04-06 01:32:32.870: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:32:32.870
plc_result: True
sendmessage: 20210406013232870,1,000038,000035
send message to PLC: 2021-04-06 01:32:33.016
time gap: 0:00:00.010986
2021-04-06 01:32:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:34.577
lastevent: 2021-04-06 01:32:34.576, last ten sensor data: [('2021-04-06 01:32:34.120', 'D+000002.6'), ('2021-04-06 01:32:34.280', 'D+000003.4'), ('2021-04-06 01:32:34.300', 'D+000003.6'), ('2021-04-06 01:32:34.320', 'D+000004.0'), ('2021-04-06 01:32:34.340', 'D+000004.4'), ('2021-04-06 01:32:34.360', 'D+000003.4'), ('2021-04-06 01:32:34.520', 'D+000005.0'), ('2021-04-06 01:32:34.540', 'D+000004.4'), ('2021-04-06 01:32:34.560', 'D+000004.6'), ('2021-04-06 01:32:34.580', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 3.4, 5.0, 4.4, 4.6, 5.2]
np.array X: [[4.4]
 [3.4]
 [5. ]
 [4.4]
 [4.6]
 [5.2]]
revised_weight: 5.0
2021-04-06 01:32:34.580: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:32:34.580
plc_result: True
sendmessage: 20210406013234580,1,000052,000050
send message to PLC: 2021-04-06 01:32:34.583
time gap: 0:00:00.006213
2021-04-06 01:32:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:35.897
lastevent: 2021-04-06 01:32:35.894, last ten sensor data: [('2021-04-06 01:32:35.330', 'D+000002.8'), ('2021-04-06 01:32:35.500', 'D+000003.4'), ('2021-04-06 01:32:35.520', 'D+000003.2'), ('2021-04-06 01:32:35.540', 'D+000002.8'), ('2021-04-06 01:32:35.560', 'D+000003.0'), ('2021-04-06 01:32:35.580', 'D+000003.2'), ('2021-04-06 01:32:35.750', 'D+000005.4'), ('2021-04-06 01:32:35.770', 'D+000004.8'), ('2021-04-06 01:32:35.790', 'D+000004.8'), ('2021-04-06 01:32:35.810', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.2, 5.4, 4.8, 4.8, 6.0]
np.array X: [[3. ]
 [3.2]
 [5.4]
 [4.8]
 [4.8]
 [6. ]]
revised_weight: 5.5
2021-04-06 01:32:35.810: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:32:35.810
plc_result: True
sendmessage: 20210406013235810,1,000060,000055
send message to PLC: 2021-04-06 01:32:35.911
time gap: 0:00:00.013900
2021-04-06 01:32:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:36.277
lastevent: 2021-04-06 01:32:36.266, last ten sensor data: [0, 0, ('2021-04-06 01:32:35.990', 'D+000006.8'), ('2021-04-06 01:32:36.010', 'D+000006.8'), ('2021-04-06 01:32:36.030', 'D+000006.6'), ('2021-04-06 01:32:36.050', 'D+000006.4'), ('2021-04-06 01:32:36.070', 'D+000006.2'), ('2021-04-06 01:32:36.230', 'D+000006.0'), ('2021-04-06 01:32:36.250', 'D+000005.6'), ('2021-04-06 01:32:36.270', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.4, 6.2, 6.0, 5.6, 5.4]
np.array X: [[6.6]
 [6.4]
 [6.2]
 [6. ]
 [5.6]
 [5.4]]
revised_weight: 6.1
2021-04-06 01:32:36.270: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:32:36.270
plc_result: True
sendmessage: 20210406013236270,1,000054,000061
send message to PLC: 2021-04-06 01:32:36.291
time gap: 0:00:00.014038
2021-04-06 01:32:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:36.705
lastevent: 2021-04-06 01:32:36.697, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:32:36.290', 'D+000005.6'), ('2021-04-06 01:32:36.310', 'D+000005.4'), ('2021-04-06 01:32:36.490', 'D+000006.2'), ('2021-04-06 01:32:36.510', 'D+000005.8'), ('2021-04-06 01:32:36.530', 'D+000005.6'), ('2021-04-06 01:32:36.550', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.4, 6.2, 5.8, 5.6, 5.6]
np.array X: [[5.6]
 [5.4]
 [6.2]
 [5.8]
 [5.6]
 [5.6]]
revised_weight: 5.7
2021-04-06 01:32:36.550: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:32:36.550
plc_result: True
sendmessage: 20210406013236550,1,000056,000057
send message to PLC: 2021-04-06 01:32:36.719
time gap: 0:00:00.014196
2021-04-06 01:32:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:37.059
lastevent: 2021-04-06 01:32:37.054, last ten sensor data: [0, ('2021-04-06 01:32:36.720', 'D+000006.0'), ('2021-04-06 01:32:36.740', 'D+000005.8'), ('2021-04-06 01:32:36.760', 'D+000005.6'), ('2021-04-06 01:32:36.780', 'D+000005.4'), ('2021-04-06 01:32:36.800', 'D+000005.4'), ('2021-04-06 01:32:36.980', 'D+000005.6'), ('2021-04-06 01:32:37.000', 'D+000005.6'), ('2021-04-06 01:32:37.020', 'D+000005.2'), ('2021-04-06 01:32:37.040', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.4, 5.6, 5.6, 5.2, 5.0]
np.array X: [[5.4]
 [5.4]
 [5.6]
 [5.6]
 [5.2]
 [5. ]]
revised_weight: 5.2
2021-04-06 01:32:37.040: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:32:37.040
plc_result: True
sendmessage: 20210406013237040,1,000050,000052
send message to PLC: 2021-04-06 01:32:37.073
time gap: 0:00:00.013992
2021-04-06 01:32:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:37: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db']
2021-04-06 01:32:37: [13088] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_30.db
select_plcdb_filename: b
2021-04-06 01:32:37: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:32:37: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:37: select done
2021-04-06 01:32:37: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:32:37: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:32:37: sendjson called, 51 records in httpPlcDataSender thread
2021-04-06 01:32:37: count: 51 in httpPlcDataSender thread
2021-04-06 01:32:37: D+: 51 in httpPlcDataSender thread
2021-04-06 01:32:37: D-: 0 in httpPlcDataSender thread
2021-04-06 01:32:37: S+: 0 in httpPlcDataSender thread
2021-04-06 01:32:37: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.3', 'sensorAt': '2021-04-06 01:31:39.670'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:31:40.760'}, {'value': '8.7', 'sensorAt': '2021-04-06 01:31:42.720'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:31:43.690'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:31:44.920'}, {'value': '9.0', 'sensorAt': '2021-04-06 01:31:45.890'}, {'value': '9.3', 'sensorAt': '2021-04-06 01:31:46.390'}, {'value': '7.7', 'sensorAt': '2021-04-06 01:31:47.130'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:31:50.780'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:31:52.700'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:31:54.180'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:31:54.460'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:31:55.440'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:31:55.930'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:31:57.140'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:31:58.220'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:31:59.620'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:32:00.140'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:32:01.510'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:32:02.250'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:32:02.730'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:32:04.470'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:32:06.100'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:32:06.620'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:32:07.130'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:32:08.510'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:32:09.360'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:32:10.630'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:32:11.650'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:32:13.040'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:32:13.380'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:32:14.660'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:32:15.330'}, {'value': '1.9', 'sensorAt': '2021-04-06 01:32:17.270'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:32:18.360'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:32:19.410'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:32:21.370'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:32:22.080'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:32:24.180'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:32:24.790'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:32:25.670'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:32:27.950'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:32:28.710'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:32:29.420'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:32:31.420'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:32:32.870'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:32:34.580'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:32:35.810'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:32:36.270'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:32:36.550'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:32:37.040'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:39.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:40.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:42.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:43.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:44.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:45.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:46.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:47.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:50.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:52.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:54.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:54.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:55.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:55.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:57.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:58.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:59.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:00.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:01.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:02.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:02.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:04.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:06.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:06.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:07.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:08.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:09.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:10.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:11.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:13.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:13.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:14.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:15.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:17.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:18.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:19.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:21.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:22.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:24.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:24.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:25.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:27.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:28.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:29.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:31.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:32.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:34.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:35.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:36.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:36.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:37.040'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:32:37', 'collectDate': '2021-04-06 01:32:37', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.3', 'sensorAt': '2021-04-06 01:31:39.670'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:31:40.760'}, {'value': '8.7', 'sensorAt': '2021-04-06 01:31:42.720'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:31:43.690'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:31:44.920'}, {'value': '9.0', 'sensorAt': '2021-04-06 01:31:45.890'}, {'value': '9.3', 'sensorAt': '2021-04-06 01:31:46.390'}, {'value': '7.7', 'sensorAt': '2021-04-06 01:31:47.130'}, {'value': '2.2', 'sensorAt': '2021-04-06 01:31:50.780'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:31:52.700'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:31:54.180'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:31:54.460'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:31:55.440'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:31:55.930'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:31:57.140'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:31:58.220'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:31:59.620'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:32:00.140'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:32:01.510'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:32:02.250'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:32:02.730'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:32:04.470'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:32:06.100'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:32:06.620'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:32:07.130'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:32:08.510'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:32:09.360'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:32:10.630'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:32:11.650'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:32:13.040'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:32:13.380'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:32:14.660'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:32:15.330'}, {'value': '1.9', 'sensorAt': '2021-04-06 01:32:17.270'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:32:18.360'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:32:19.410'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:32:21.370'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:32:22.080'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:32:24.180'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:32:24.790'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:32:25.670'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:32:27.950'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:32:28.710'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:32:29.420'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:32:31.420'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:32:32.870'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:32:34.580'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:32:35.810'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:32:36.270'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:32:36.550'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:32:37.040'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:31:39.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:40.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:42.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:43.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:44.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:45.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:46.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:47.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:50.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:52.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:54.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:54.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:55.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:55.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:57.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:58.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:31:59.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:00.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:01.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:02.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:02.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:04.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:06.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:06.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:07.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:08.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:09.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:10.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:11.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:13.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:13.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:14.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:15.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:17.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:18.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:19.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:21.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:22.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:24.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:24.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:25.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:27.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:28.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:29.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:31.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:32.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:34.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:35.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:36.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:36.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:37.040'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:32:37: send http
2021-04-06 01:32:37: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:32:37: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:32:37: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:32:38.337
lastevent: 2021-04-06 01:32:38.330, last ten sensor data: [('2021-04-06 01:32:37.950', 'D+000003.8'), ('2021-04-06 01:32:37.970', 'D+000003.8'), ('2021-04-06 01:32:37.990', 'D+000003.6'), ('2021-04-06 01:32:38.010', 'D+000003.8'), ('2021-04-06 01:32:38.030', 'D+000003.8'), ('2021-04-06 01:32:38.180', 'D+000004.2'), ('2021-04-06 01:32:38.200', 'D+000004.0'), ('2021-04-06 01:32:38.220', 'D+000003.8'), ('2021-04-06 01:32:38.240', 'D+000004.6'), ('2021-04-06 01:32:38.260', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.2, 4.0, 3.8, 4.6, 5.2]
np.array X: [[3.8]
 [4.2]
 [4. ]
 [3.8]
 [4.6]
 [5.2]]
revised_weight: 4.6
2021-04-06 01:32:38.260: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:32:38.260
plc_result: True
sendmessage: 20210406013238260,1,000052,000046
send message to PLC: 2021-04-06 01:32:38.349
time gap: 0:00:00.012613
2021-04-06 01:32:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:38.898
lastevent: 2021-04-06 01:32:38.889, last ten sensor data: [('2021-04-06 01:32:38.420', 'D+000004.4'), ('2021-04-06 01:32:38.440', 'D+000004.2'), ('2021-04-06 01:32:38.460', 'D+000004.2'), ('2021-04-06 01:32:38.480', 'D+000004.0'), ('2021-04-06 01:32:38.500', 'D+000003.8'), ('2021-04-06 01:32:38.680', 'D+000004.4'), ('2021-04-06 01:32:38.700', 'D+000004.4'), ('2021-04-06 01:32:38.720', 'D+000004.2'), ('2021-04-06 01:32:38.740', 'D+000004.4'), ('2021-04-06 01:32:38.760', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.4, 4.4, 4.2, 4.4, 4.6]
np.array X: [[3.8]
 [4.4]
 [4.4]
 [4.2]
 [4.4]
 [4.6]]
revised_weight: 4.3
2021-04-06 01:32:38.760: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:32:38.760
plc_result: True
sendmessage: 20210406013238760,1,000046,000043
send message to PLC: 2021-04-06 01:32:38.910
time gap: 0:00:00.012898
2021-04-06 01:32:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:39.369
lastevent: 2021-04-06 01:32:39.358, last ten sensor data: [0, ('2021-04-06 01:32:38.930', 'D+000004.2'), ('2021-04-06 01:32:38.950', 'D+000004.2'), ('2021-04-06 01:32:38.970', 'D+000004.6'), ('2021-04-06 01:32:38.990', 'D+000004.8'), ('2021-04-06 01:32:39.170', 'D+000004.8'), ('2021-04-06 01:32:39.190', 'D+000004.8'), ('2021-04-06 01:32:39.210', 'D+000005.0'), ('2021-04-06 01:32:39.230', 'D+000005.6'), ('2021-04-06 01:32:39.250', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.8, 5.0, 5.6, 5.6]
np.array X: [[4.8]
 [4.8]
 [4.8]
 [5. ]
 [5.6]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:32:39.250: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:32:39.250
plc_result: True
sendmessage: 20210406013239250,1,000056,000054
send message to PLC: 2021-04-06 01:32:39.381
time gap: 0:00:00.012463
2021-04-06 01:32:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:39.743
lastevent: 2021-04-06 01:32:39.734, last ten sensor data: [('2021-04-06 01:32:39.430', 'D+000004.6'), ('2021-04-06 01:32:39.450', 'D+000004.6'), ('2021-04-06 01:32:39.470', 'D+000004.2'), ('2021-04-06 01:32:39.490', 'D+000004.4'), ('2021-04-06 01:32:39.650', 'D+000004.2'), ('2021-04-06 01:32:39.670', 'D+000004.2'), ('2021-04-06 01:32:39.690', 'D+000004.0'), ('2021-04-06 01:32:39.710', 'D+000004.2'), ('2021-04-06 01:32:39.730', 'D+000004.2'), ('2021-04-06 01:32:39.750', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 4.0, 4.2, 4.2, 4.0]
np.array X: [[4.2]
 [4.2]
 [4. ]
 [4.2]
 [4.2]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:32:39.750: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:32:39.750
plc_result: True
sendmessage: 20210406013239750,1,000040,000040
send message to PLC: 2021-04-06 01:32:39.755
time gap: 0:00:00.012521
2021-04-06 01:32:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:40.414
lastevent: 2021-04-06 01:32:40.410, last ten sensor data: [('2021-04-06 01:32:39.930', 'D+000004.0'), ('2021-04-06 01:32:39.950', 'D+000004.2'), ('2021-04-06 01:32:39.970', 'D+000004.0'), ('2021-04-06 01:32:40.150', 'D+000003.8'), ('2021-04-06 01:32:40.170', 'D+000003.8'), ('2021-04-06 01:32:40.190', 'D+000003.4'), ('2021-04-06 01:32:40.210', 'D+000003.6'), ('2021-04-06 01:32:40.230', 'D+000003.6'), ('2021-04-06 01:32:40.370', 'D+000003.8'), ('2021-04-06 01:32:40.400', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.4, 3.6, 3.6, 3.8, 3.8]
np.array X: [[3.8]
 [3.4]
 [3.6]
 [3.6]
 [3.8]
 [3.8]]
revised_weight: 3.7
2021-04-06 01:32:40.400: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:32:40.400
plc_result: True
sendmessage: 20210406013240400,1,000038,000037
send message to PLC: 2021-04-06 01:32:40.429
time gap: 0:00:00.015844
2021-04-06 01:32:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:41.028
lastevent: 2021-04-06 01:32:41.020, last ten sensor data: [('2021-04-06 01:32:40.450', 'D+000003.8'), ('2021-04-06 01:32:40.640', 'D+000003.6'), ('2021-04-06 01:32:40.660', 'D+000003.4'), ('2021-04-06 01:32:40.680', 'D+000003.4'), ('2021-04-06 01:32:40.700', 'D+000003.6'), ('2021-04-06 01:32:40.880', 'D+000003.2'), ('2021-04-06 01:32:40.900', 'D+000003.4'), ('2021-04-06 01:32:40.920', 'D+000003.8'), ('2021-04-06 01:32:40.940', 'D+000004.0'), ('2021-04-06 01:32:40.960', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.2, 3.4, 3.8, 4.0, 3.8]
np.array X: [[3.6]
 [3.2]
 [3.4]
 [3.8]
 [4. ]
 [3.8]]
revised_weight: 3.5
2021-04-06 01:32:40.960: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:32:40.960
plc_result: True
sendmessage: 20210406013240960,1,000038,000035
send message to PLC: 2021-04-06 01:32:41.034
time gap: 0:00:00.006227
2021-04-06 01:32:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:42.217
lastevent: 2021-04-06 01:32:42.208, last ten sensor data: [('2021-04-06 01:32:41.720', 'D+000003.6'), ('2021-04-06 01:32:41.740', 'D+000003.4'), ('2021-04-06 01:32:41.760', 'D+000003.0'), ('2021-04-06 01:32:41.780', 'D+000003.2'), ('2021-04-06 01:32:41.960', 'D+000003.4'), ('2021-04-06 01:32:41.980', 'D+000003.6'), ('2021-04-06 01:32:42.000', 'D+000003.6'), ('2021-04-06 01:32:42.020', 'D+000003.6'), ('2021-04-06 01:32:42.040', 'D+000003.6'), ('2021-04-06 01:32:42.220', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 3.6, 3.6, 3.6, 4.0]
np.array X: [[3.4]
 [3.6]
 [3.6]
 [3.6]
 [3.6]
 [4. ]]
revised_weight: 3.9
2021-04-06 01:32:42.220: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:32:42.220
plc_result: True
sendmessage: 20210406013242220,1,000040,000039
send message to PLC: 2021-04-06 01:32:42.229
time gap: 0:00:00.011816
2021-04-06 01:32:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:42.907
lastevent: 2021-04-06 01:32:42.899, last ten sensor data: [('2021-04-06 01:32:42.280', 'D+000004.0'), ('2021-04-06 01:32:42.440', 'D+000003.8'), ('2021-04-06 01:32:42.470', 'D+000003.6'), ('2021-04-06 01:32:42.490', 'D+000003.6'), ('2021-04-06 01:32:42.510', 'D+000003.4'), ('2021-04-06 01:32:42.530', 'D+000003.6'), ('2021-04-06 01:32:42.710', 'D+000004.8'), ('2021-04-06 01:32:42.730', 'D+000004.2'), ('2021-04-06 01:32:42.750', 'D+000004.2'), ('2021-04-06 01:32:42.770', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 4.8, 4.2, 4.2, 4.0]
np.array X: [[3.4]
 [3.6]
 [4.8]
 [4.2]
 [4.2]
 [4. ]]
revised_weight: 4.3
2021-04-06 01:32:42.770: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:32:42.770
plc_result: True
sendmessage: 20210406013242770,1,000040,000043
send message to PLC: 2021-04-06 01:32:42.914
time gap: 0:00:00.006686
2021-04-06 01:32:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:42: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:32:42: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:32:43: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:43: select done
2021-04-06 01:32:43: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:32:43: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:32:43: sendjson called, 8 records in httpPlcDataSender thread
2021-04-06 01:32:43: count: 8 in httpPlcDataSender thread
2021-04-06 01:32:43: D+: 8 in httpPlcDataSender thread
2021-04-06 01:32:43: D-: 0 in httpPlcDataSender thread
2021-04-06 01:32:43: S+: 0 in httpPlcDataSender thread
2021-04-06 01:32:43: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.6', 'sensorAt': '2021-04-06 01:32:38.260'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:32:38.760'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:32:39.250'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:32:39.750'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:32:40.400'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:32:40.960'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:32:42.220'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:32:42.770'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:32:38.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:38.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:39.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:39.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:40.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:40.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:42.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:42.770'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:32:43', 'collectDate': '2021-04-06 01:32:42', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.6', 'sensorAt': '2021-04-06 01:32:38.260'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:32:38.760'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:32:39.250'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:32:39.750'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:32:40.400'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:32:40.960'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:32:42.220'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:32:42.770'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:32:38.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:38.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:39.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:39.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:40.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:40.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:42.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:42.770'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:32:43.287
lastevent: 2021-04-06 01:32:43.276, last ten sensor data: [0, ('2021-04-06 01:32:42.950', 'D+000004.4'), ('2021-04-06 01:32:42.970', 'D+000004.6'), ('2021-04-06 01:32:42.990', 'D+000004.6'), ('2021-04-06 01:32:43.010', 'D+000004.8'), ('2021-04-06 01:32:43.030', 'D+000004.6'), ('2021-04-06 01:32:43.190', 'D+000004.4'), ('2021-04-06 01:32:43.220', 'D+000004.2'), ('2021-04-06 01:32:43.240', 'D+000004.4'), ('2021-04-06 01:32:43.270', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.6, 4.4, 4.2, 4.4, 4.4]
np.array X: [[4.8]
 [4.6]
 [4.4]
 [4.2]
 [4.4]
 [4.4]]
revised_weight: 4.5
2021-04-06 01:32:43.270: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:32:43.270
plc_result: True
sendmessage: 20210406013243270,1,000044,000045
send message to PLC: 2021-04-06 01:32:43.300
time gap: 0:00:00.012583
2021-04-06 01:32:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:43: send http
2021-04-06 01:32:43: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:32:43: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:32:43: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:32:45.234
lastevent: 2021-04-06 01:32:45.229, last ten sensor data: [('2021-04-06 01:32:44.920', 'D+000003.2'), ('2021-04-06 01:32:44.940', 'D+000003.4'), ('2021-04-06 01:32:44.960', 'D+000003.6'), ('2021-04-06 01:32:44.980', 'D+000003.8'), ('2021-04-06 01:32:45.000', 'D+000004.0'), ('2021-04-06 01:32:45.140', 'D+000007.6'), ('2021-04-06 01:32:45.160', 'D+000006.2'), ('2021-04-06 01:32:45.180', 'D+000005.0'), ('2021-04-06 01:32:45.200', 'D+000005.4'), ('2021-04-06 01:32:45.220', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 7.6, 6.2, 5.0, 5.4, 6.6]
np.array X: [[4. ]
 [7.6]
 [6.2]
 [5. ]
 [5.4]
 [6.6]]
revised_weight: 6.9
2021-04-06 01:32:45.220: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:32:45.220
plc_result: True
sendmessage: 20210406013245220,1,000066,000069
send message to PLC: 2021-04-06 01:32:45.249
time gap: 0:00:00.015276
2021-04-06 01:32:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:45.605
lastevent: 2021-04-06 01:32:45.603, last ten sensor data: [0, 0, ('2021-04-06 01:32:45.250', 'D+000006.2'), ('2021-04-06 01:32:45.390', 'D+000007.6'), ('2021-04-06 01:32:45.410', 'D+000007.2'), ('2021-04-06 01:32:45.530', 'D+000009.0'), ('2021-04-06 01:32:45.550', 'D+000007.4'), ('2021-04-06 01:32:45.570', 'D+000007.4'), ('2021-04-06 01:32:45.590', 'D+000008.0'), ('2021-04-06 01:32:45.610', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 9.0, 7.4, 7.4, 8.0, 8.0]
np.array X: [[7.2]
 [9. ]
 [7.4]
 [7.4]
 [8. ]
 [8. ]]
revised_weight: 7.3
2021-04-06 01:32:45.610: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:32:45.610
plc_result: True
sendmessage: 20210406013245610,1,000080,000073
send message to PLC: 2021-04-06 01:32:45.616
time gap: 0:00:00.010111
2021-04-06 01:32:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:46.179
lastevent: 2021-04-06 01:32:46.173, last ten sensor data: [('2021-04-06 01:32:45.770', 'D+000006.8'), ('2021-04-06 01:32:45.790', 'D+000007.0'), ('2021-04-06 01:32:45.810', 'D+000007.0'), ('2021-04-06 01:32:45.830', 'D+000007.0'), ('2021-04-06 01:32:45.850', 'D+000007.0'), ('2021-04-06 01:32:46.020', 'D+000009.2'), ('2021-04-06 01:32:46.040', 'D+000008.8'), ('2021-04-06 01:32:46.060', 'D+000007.6'), ('2021-04-06 01:32:46.080', 'D+000007.2'), ('2021-04-06 01:32:46.100', 'D+000009.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 9.2, 8.8, 7.6, 7.2, 9.4]
np.array X: [[7. ]
 [9.2]
 [8.8]
 [7.6]
 [7.2]
 [9.4]]
revised_weight: 9.0
2021-04-06 01:32:46.100: revising weight finished
revised_weight: 9.0 at 2021-04-06 01:32:46.100
plc_result: True
sendmessage: 20210406013246100,1,000094,000090
send message to PLC: 2021-04-06 01:32:46.190
time gap: 0:00:00.011242
2021-04-06 01:32:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:46.565
lastevent: 2021-04-06 01:32:46.555, last ten sensor data: [0, ('2021-04-06 01:32:46.250', 'D+000009.0'), ('2021-04-06 01:32:46.280', 'D+000011.0'), ('2021-04-06 01:32:46.300', 'D+000011.4'), ('2021-04-06 01:32:46.320', 'D+000011.8'), ('2021-04-06 01:32:46.340', 'D+000012.0'), ('2021-04-06 01:32:46.500', 'D+000010.8'), ('2021-04-06 01:32:46.520', 'D+000010.6'), ('2021-04-06 01:32:46.540', 'D+000009.6'), ('2021-04-06 01:32:46.560', 'D+000009.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [11.8, 12.0, 10.8, 10.6, 9.6, 9.2]
np.array X: [[11.8]
 [12. ]
 [10.8]
 [10.6]
 [ 9.6]
 [ 9.2]]
revised_weight: 11.0
2021-04-06 01:32:46.560: revising weight finished
revised_weight: 11.0 at 2021-04-06 01:32:46.560
plc_result: True
sendmessage: 20210406013246560,1,000092,000110
send message to PLC: 2021-04-06 01:32:46.576
time gap: 0:00:00.011201
2021-04-06 01:32:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:47.643
lastevent: 2021-04-06 01:32:47.630, last ten sensor data: [('2021-04-06 01:32:47.060', 'D+000004.0'), ('2021-04-06 01:32:47.230', 'D+000003.2'), ('2021-04-06 01:32:47.250', 'D+000003.2'), ('2021-04-06 01:32:47.270', 'D+000003.4'), ('2021-04-06 01:32:47.290', 'D+000003.6'), ('2021-04-06 01:32:47.450', 'D+000004.0'), ('2021-04-06 01:32:47.470', 'D+000004.2'), ('2021-04-06 01:32:47.490', 'D+000004.2'), ('2021-04-06 01:32:47.510', 'D+000004.2'), ('2021-04-06 01:32:47.530', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 4.2, 4.2, 4.2, 4.6]
np.array X: [[3.6]
 [4. ]
 [4.2]
 [4.2]
 [4.2]
 [4.6]]
revised_weight: 4.3
2021-04-06 01:32:47.530: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:32:47.530
plc_result: True
sendmessage: 20210406013247530,1,000046,000043
send message to PLC: 2021-04-06 01:32:47.654
time gap: 0:00:00.011195
2021-04-06 01:32:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:48: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:32:48: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:32:48: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:48: select done
2021-04-06 01:32:48: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:32:48: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:32:48: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:32:48: count: 6 in httpPlcDataSender thread
2021-04-06 01:32:48: D+: 6 in httpPlcDataSender thread
2021-04-06 01:32:48: D-: 0 in httpPlcDataSender thread
2021-04-06 01:32:48: S+: 0 in httpPlcDataSender thread
2021-04-06 01:32:48: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:32:43.270'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:32:45.220'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:32:45.610'}, {'value': '9.0', 'sensorAt': '2021-04-06 01:32:46.100'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:32:46.560'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:32:47.530'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:32:43.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:45.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:45.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:46.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:46.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:47.530'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:32:48', 'collectDate': '2021-04-06 01:32:47', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:32:43.270'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:32:45.220'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:32:45.610'}, {'value': '9.0', 'sensorAt': '2021-04-06 01:32:46.100'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:32:46.560'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:32:47.530'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:32:43.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:45.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:45.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:46.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:46.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:47.530'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:32:48: send http
2021-04-06 01:32:48: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:32:49: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:32:49: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:32:50.201
lastevent: 2021-04-06 01:32:50.188, last ten sensor data: [('2021-04-06 01:32:49.720', 'D+000002.6'), ('2021-04-06 01:32:49.880', 'D+000002.4'), ('2021-04-06 01:32:49.900', 'D+000002.4'), ('2021-04-06 01:32:49.920', 'D+000002.4'), ('2021-04-06 01:32:49.940', 'D+000002.4'), ('2021-04-06 01:32:49.960', 'D+000002.6'), ('2021-04-06 01:32:50.140', 'D+000003.4'), ('2021-04-06 01:32:50.160', 'D+000003.4'), ('2021-04-06 01:32:50.180', 'D+000004.0'), ('2021-04-06 01:32:50.200', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.6, 3.4, 3.4, 4.0, 4.0]
np.array X: [[2.4]
 [2.6]
 [3.4]
 [3.4]
 [4. ]
 [4. ]]
revised_weight: 3.6
2021-04-06 01:32:50.200: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:32:50.200
plc_result: True
sendmessage: 20210406013250200,1,000040,000036
send message to PLC: 2021-04-06 01:32:50.214
time gap: 0:00:00.013123
2021-04-06 01:32:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:50.816
lastevent: 2021-04-06 01:32:50.795, last ten sensor data: [0, ('2021-04-06 01:32:50.220', 'D+000003.4'), ('2021-04-06 01:32:50.390', 'D+000003.6'), ('2021-04-06 01:32:50.410', 'D+000004.0'), ('2021-04-06 01:32:50.430', 'D+000004.0'), ('2021-04-06 01:32:50.450', 'D+000003.8'), ('2021-04-06 01:32:50.640', 'D+000004.4'), ('2021-04-06 01:32:50.660', 'D+000004.0'), ('2021-04-06 01:32:50.680', 'D+000004.0'), ('2021-04-06 01:32:50.700', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.8, 4.4, 4.0, 4.0, 4.0]
np.array X: [[4. ]
 [3.8]
 [4.4]
 [4. ]
 [4. ]
 [4. ]]
revised_weight: 4.2
2021-04-06 01:32:50.700: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:32:50.700
plc_result: True
sendmessage: 20210406013250700,1,000040,000042
send message to PLC: 2021-04-06 01:32:50.847
time gap: 0:00:00.030873
2021-04-06 01:32:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:51.258
lastevent: 2021-04-06 01:32:51.246, last ten sensor data: [('2021-04-06 01:32:50.850', 'D+000004.8'), ('2021-04-06 01:32:50.870', 'D+000004.6'), ('2021-04-06 01:32:50.890', 'D+000004.4'), ('2021-04-06 01:32:50.910', 'D+000004.0'), ('2021-04-06 01:32:50.930', 'D+000004.8'), ('2021-04-06 01:32:50.950', 'D+000005.0'), ('2021-04-06 01:32:51.120', 'D+000006.8'), ('2021-04-06 01:32:51.140', 'D+000007.8'), ('2021-04-06 01:32:51.160', 'D+000009.6'), ('2021-04-06 01:32:51.190', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.0, 6.8, 7.8, 9.6, 5.6]
np.array X: [[4.8]
 [5. ]
 [6.8]
 [7.8]
 [9.6]
 [5.6]]
revised_weight: 6.5
2021-04-06 01:32:51.190: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:32:51.190
plc_result: True
sendmessage: 20210406013251190,1,000056,000065
send message to PLC: 2021-04-06 01:32:51.264
time gap: 0:00:00.006284
2021-04-06 01:32:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:52.189
lastevent: 2021-04-06 01:32:52.175, last ten sensor data: [('2021-04-06 01:32:51.690', 'D+000005.4'), ('2021-04-06 01:32:51.850', 'D+000005.2'), ('2021-04-06 01:32:51.870', 'D+000005.2'), ('2021-04-06 01:32:51.890', 'D+000006.6'), ('2021-04-06 01:32:51.910', 'D+000006.8'), ('2021-04-06 01:32:51.930', 'D+000006.4'), ('2021-04-06 01:32:52.100', 'D+000008.8'), ('2021-04-06 01:32:52.120', 'D+000010.4'), ('2021-04-06 01:32:52.140', 'D+000015.0'), ('2021-04-06 01:32:52.160', 'D+000016.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.4, 8.8, 10.4, 15.0, 16.6]
np.array X: [[ 6.8]
 [ 6.4]
 [ 8.8]
 [10.4]
 [15. ]
 [16.6]]
revised_weight: 11.6
2021-04-06 01:32:52.160: revising weight finished
revised_weight: 11.6 at 2021-04-06 01:32:52.160
plc_result: True
sendmessage: 20210406013252160,1,000166,000116
send message to PLC: 2021-04-06 01:32:52.201
time gap: 0:00:00.011476
2021-04-06 01:32:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:53.244
lastevent: 2021-04-06 01:32:53.230, last ten sensor data: [('2021-04-06 01:32:52.820', 'D+000003.8'), ('2021-04-06 01:32:52.840', 'D+000004.0'), ('2021-04-06 01:32:52.860', 'D+000004.0'), ('2021-04-06 01:32:52.880', 'D+000004.0'), ('2021-04-06 01:32:52.900', 'D+000003.8'), ('2021-04-06 01:32:53.060', 'D+000004.0'), ('2021-04-06 01:32:53.080', 'D+000004.4'), ('2021-04-06 01:32:53.100', 'D+000004.6'), ('2021-04-06 01:32:53.120', 'D+000004.6'), ('2021-04-06 01:32:53.140', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.0, 4.4, 4.6, 4.6, 4.8]
np.array X: [[3.8]
 [4. ]
 [4.4]
 [4.6]
 [4.6]
 [4.8]]
revised_weight: 4.7
2021-04-06 01:32:53.140: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:32:53.140
plc_result: True
sendmessage: 20210406013253140,1,000048,000047
send message to PLC: 2021-04-06 01:32:53.256
time gap: 0:00:00.011484
2021-04-06 01:32:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:53.946
lastevent: 2021-04-06 01:32:53.932, last ten sensor data: [('2021-04-06 01:32:53.360', 'D+000004.8'), ('2021-04-06 01:32:53.380', 'D+000004.8'), ('2021-04-06 01:32:53.400', 'D+000004.4'), ('2021-04-06 01:32:53.580', 'D+000005.0'), ('2021-04-06 01:32:53.600', 'D+000005.0'), ('2021-04-06 01:32:53.620', 'D+000005.0'), ('2021-04-06 01:32:53.810', 'D+000005.0'), ('2021-04-06 01:32:53.830', 'D+000006.6'), ('2021-04-06 01:32:53.850', 'D+000006.6'), ('2021-04-06 01:32:53.870', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 5.0, 6.6, 6.6, 5.4]
np.array X: [[5. ]
 [5. ]
 [5. ]
 [6.6]
 [6.6]
 [5.4]]
revised_weight: 5.6
2021-04-06 01:32:53.870: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:32:53.870
plc_result: True
sendmessage: 20210406013253870,1,000054,000056
send message to PLC: 2021-04-06 01:32:53.958
time gap: 0:00:00.011185
2021-04-06 01:32:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:54: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:32:54: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:32:54: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:54: select done
2021-04-06 01:32:54: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:32:54: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:32:54: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:32:54: count: 6 in httpPlcDataSender thread
2021-04-06 01:32:54: D+: 6 in httpPlcDataSender thread
2021-04-06 01:32:54: D-: 0 in httpPlcDataSender thread
2021-04-06 01:32:54: S+: 0 in httpPlcDataSender thread
2021-04-06 01:32:54: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.6', 'sensorAt': '2021-04-06 01:32:50.200'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:32:50.700'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:32:51.190'}, {'value': '11.6', 'sensorAt': '2021-04-06 01:32:52.160'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:32:53.140'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:32:53.870'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:32:50.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:50.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:51.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:52.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:53.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:53.870'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:32:54', 'collectDate': '2021-04-06 01:32:53', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.6', 'sensorAt': '2021-04-06 01:32:50.200'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:32:50.700'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:32:51.190'}, {'value': '11.6', 'sensorAt': '2021-04-06 01:32:52.160'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:32:53.140'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:32:53.870'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:32:50.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:50.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:51.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:52.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:53.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:53.870'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:32:54: send http
2021-04-06 01:32:54: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:32:54: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:32:54: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:32:56.200
lastevent: 2021-04-06 01:32:56.185, last ten sensor data: [('2021-04-06 01:32:55.600', 'D+000003.0'), ('2021-04-06 01:32:55.770', 'D+000002.6'), ('2021-04-06 01:32:55.790', 'D+000002.8'), ('2021-04-06 01:32:55.810', 'D+000002.6'), ('2021-04-06 01:32:55.840', 'D+000003.0'), ('2021-04-06 01:32:56.000', 'D+000005.2'), ('2021-04-06 01:32:56.020', 'D+000004.4'), ('2021-04-06 01:32:56.040', 'D+000004.6'), ('2021-04-06 01:32:56.060', 'D+000004.6'), ('2021-04-06 01:32:56.080', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 5.2, 4.4, 4.6, 4.6, 4.4]
np.array X: [[3. ]
 [5.2]
 [4.4]
 [4.6]
 [4.6]
 [4.4]]
revised_weight: 4.1
2021-04-06 01:32:56.080: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:32:56.080
plc_result: True
sendmessage: 20210406013256080,1,000044,000041
send message to PLC: 2021-04-06 01:32:56.212
time gap: 0:00:00.011324
2021-04-06 01:32:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:57.082
lastevent: 2021-04-06 01:32:57.067, last ten sensor data: [('2021-04-06 01:32:56.720', 'D+000004.6'), ('2021-04-06 01:32:56.750', 'D+000006.0'), ('2021-04-06 01:32:56.770', 'D+000006.6'), ('2021-04-06 01:32:56.790', 'D+000006.2'), ('2021-04-06 01:32:56.810', 'D+000006.4'), ('2021-04-06 01:32:56.980', 'D+000009.2'), ('2021-04-06 01:32:57.000', 'D+000009.2'), ('2021-04-06 01:32:57.020', 'D+000009.0'), ('2021-04-06 01:32:57.040', 'D+000009.2'), ('2021-04-06 01:32:57.060', 'D+000009.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 9.2, 9.2, 9.0, 9.2, 9.2]
np.array X: [[6.4]
 [9.2]
 [9.2]
 [9. ]
 [9.2]
 [9.2]]
revised_weight: 9.3
2021-04-06 01:32:57.060: revising weight finished
revised_weight: 9.3 at 2021-04-06 01:32:57.060
plc_result: True
sendmessage: 20210406013257060,1,000092,000093
send message to PLC: 2021-04-06 01:32:57.093
time gap: 0:00:00.011253
2021-04-06 01:32:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:32:58.204
lastevent: 2021-04-06 01:32:58.186, last ten sensor data: [('2021-04-06 01:32:57.750', 'D+000003.8'), ('2021-04-06 01:32:57.770', 'D+000003.6'), ('2021-04-06 01:32:57.790', 'D+000003.6'), ('2021-04-06 01:32:57.950', 'D+000004.6'), ('2021-04-06 01:32:57.970', 'D+000004.6'), ('2021-04-06 01:32:57.990', 'D+000004.6'), ('2021-04-06 01:32:58.010', 'D+000005.0'), ('2021-04-06 01:32:58.030', 'D+000005.0'), ('2021-04-06 01:32:58.050', 'D+000004.6'), ('2021-04-06 01:32:58.190', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 5.0, 5.0, 4.6, 4.8]
np.array X: [[4.6]
 [4.6]
 [5. ]
 [5. ]
 [4.6]
 [4.8]]
revised_weight: 4.8
2021-04-06 01:32:58.190: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:32:58.190
plc_result: True
sendmessage: 20210406013258190,1,000048,000048
send message to PLC: 2021-04-06 01:32:58.215
time gap: 0:00:00.011187
2021-04-06 01:32:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:59: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:32:59: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:32:59.952
lastevent: 2021-04-06 01:32:59.936, last ten sensor data: [('2021-04-06 01:32:59.260', 'D+000003.2'), ('2021-04-06 01:32:59.290', 'D+000003.4'), ('2021-04-06 01:32:59.480', 'D+000002.8'), ('2021-04-06 01:32:59.500', 'D+000003.0'), ('2021-04-06 01:32:59.520', 'D+000003.0'), ('2021-04-06 01:32:59.540', 'D+000003.4'), ('2021-04-06 01:32:59.710', 'D+000004.8'), ('2021-04-06 01:32:59.730', 'D+000004.8'), ('2021-04-06 01:32:59.750', 'D+000005.4'), ('2021-04-06 01:32:59.770', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.4, 4.8, 4.8, 5.4, 5.6]
np.array X: [[3. ]
 [3.4]
 [4.8]
 [4.8]
 [5.4]
 [5.6]]
revised_weight: 4.8
2021-04-06 01:32:59.770: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:32:59.770
plc_result: True
sendmessage: 20210406013259770,1,000056,000048
send message to PLC: 2021-04-06 01:32:59.964
time gap: 0:00:00.011562
2021-04-06 01:32:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:59: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:32:59: select done
2021-04-06 01:32:59: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:32:59: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:33:00: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:33:00: count: 3 in httpPlcDataSender thread
2021-04-06 01:33:00: D+: 3 in httpPlcDataSender thread
2021-04-06 01:33:00: D-: 0 in httpPlcDataSender thread
2021-04-06 01:33:00: S+: 0 in httpPlcDataSender thread
2021-04-06 01:33:00: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:32:56.080'}, {'value': '9.3', 'sensorAt': '2021-04-06 01:32:57.060'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:32:58.190'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:32:56.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:57.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:58.190'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:33:00', 'collectDate': '2021-04-06 01:32:58', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:32:56.080'}, {'value': '9.3', 'sensorAt': '2021-04-06 01:32:57.060'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:32:58.190'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:32:56.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:57.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:32:58.190'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:33:00: send http
2021-04-06 01:33:00: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:33:00: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:00: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:01.668
lastevent: 2021-04-06 01:33:01.652, last ten sensor data: [('2021-04-06 01:33:01.170', 'D+000002.8'), ('2021-04-06 01:33:01.190', 'D+000002.8'), ('2021-04-06 01:33:01.350', 'D+000003.6'), ('2021-04-06 01:33:01.380', 'D+000004.2'), ('2021-04-06 01:33:01.400', 'D+000004.0'), ('2021-04-06 01:33:01.420', 'D+000004.2'), ('2021-04-06 01:33:01.600', 'D+000006.0'), ('2021-04-06 01:33:01.620', 'D+000005.6'), ('2021-04-06 01:33:01.640', 'D+000006.0'), ('2021-04-06 01:33:01.660', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 6.0, 5.6, 6.0, 6.6]
np.array X: [[4. ]
 [4.2]
 [6. ]
 [5.6]
 [6. ]
 [6.6]]
revised_weight: 6.0
2021-04-06 01:33:01.660: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:33:01.660
plc_result: True
sendmessage: 20210406013301660,1,000066,000060
send message to PLC: 2021-04-06 01:33:01.682
time gap: 0:00:00.013784
2021-04-06 01:33:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:03.420
lastevent: 2021-04-06 01:33:03.406, last ten sensor data: [('2021-04-06 01:33:02.930', 'D+000002.4'), ('2021-04-06 01:33:02.950', 'D+000002.4'), ('2021-04-06 01:33:02.970', 'D+000002.4'), ('2021-04-06 01:33:02.990', 'D+000002.6'), ('2021-04-06 01:33:03.160', 'D+000003.0'), ('2021-04-06 01:33:03.180', 'D+000002.8'), ('2021-04-06 01:33:03.200', 'D+000003.0'), ('2021-04-06 01:33:03.220', 'D+000003.0'), ('2021-04-06 01:33:03.240', 'D+000003.4'), ('2021-04-06 01:33:03.410', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 3.0, 3.0, 3.4, 2.6]
np.array X: [[3. ]
 [2.8]
 [3. ]
 [3. ]
 [3.4]
 [2.6]]
revised_weight: 2.6
2021-04-06 01:33:03.410: revising weight finished
revised_weight: 2.6 at 2021-04-06 01:33:03.410
plc_result: True
sendmessage: 20210406013303410,1,000026,000026
send message to PLC: 2021-04-06 01:33:03.433
time gap: 0:00:00.012713
2021-04-06 01:33:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:05: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:33:05: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:05: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:05: select done
2021-04-06 01:33:05: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:33:05: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:33:05: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:33:05: count: 3 in httpPlcDataSender thread
2021-04-06 01:33:05: D+: 3 in httpPlcDataSender thread
2021-04-06 01:33:05: D-: 0 in httpPlcDataSender thread
2021-04-06 01:33:05: S+: 0 in httpPlcDataSender thread
2021-04-06 01:33:05: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:32:59.770'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:33:01.660'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:33:03.410'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:32:59.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:01.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:03.410'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:33:05', 'collectDate': '2021-04-06 01:33:03', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:32:59.770'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:33:01.660'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:33:03.410'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:32:59.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:01.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:03.410'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:33:05: send http
2021-04-06 01:33:05: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:33:06: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:06: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:07.167
lastevent: 2021-04-06 01:33:07.153, last ten sensor data: [('2021-04-06 01:33:06.820', 'D+000002.4'), ('2021-04-06 01:33:06.840', 'D+000002.4'), ('2021-04-06 01:33:06.860', 'D+000002.6'), ('2021-04-06 01:33:06.880', 'D+000002.6'), ('2021-04-06 01:33:06.900', 'D+000002.8'), ('2021-04-06 01:33:07.070', 'D+000003.6'), ('2021-04-06 01:33:07.090', 'D+000004.0'), ('2021-04-06 01:33:07.110', 'D+000004.0'), ('2021-04-06 01:33:07.130', 'D+000004.2'), ('2021-04-06 01:33:07.150', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.6, 4.0, 4.0, 4.2, 4.4]
np.array X: [[2.8]
 [3.6]
 [4. ]
 [4. ]
 [4.2]
 [4.4]]
revised_weight: 4.0
2021-04-06 01:33:07.150: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:33:07.150
plc_result: True
sendmessage: 20210406013307150,1,000044,000040
send message to PLC: 2021-04-06 01:33:07.174
time gap: 0:00:00.006943
2021-04-06 01:33:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:07: httpScaleDataSender thread Timeout occurred
2021-04-06 01:33:07: [13719] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
2021-04-06 01:33:07: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:33:09.058
lastevent: 2021-04-06 01:33:09.043, last ten sensor data: [('2021-04-06 01:33:08.560', 'D+000003.2'), ('2021-04-06 01:33:08.580', 'D+000003.2'), ('2021-04-06 01:33:08.600', 'D+000003.0'), ('2021-04-06 01:33:08.780', 'D+000002.6'), ('2021-04-06 01:33:08.800', 'D+000002.8'), ('2021-04-06 01:33:08.820', 'D+000002.8'), ('2021-04-06 01:33:08.840', 'D+000002.8'), ('2021-04-06 01:33:09.020', 'D+000002.6'), ('2021-04-06 01:33:09.040', 'D+000002.4'), ('2021-04-06 01:33:09.060', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 2.8, 2.6, 2.4, 2.6]
np.array X: [[2.8]
 [2.8]
 [2.8]
 [2.6]
 [2.4]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:33:09.060: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:33:09.060
plc_result: True
sendmessage: 20210406013309060,1,000026,000025
send message to PLC: 2021-04-06 01:33:09.064
time gap: 0:00:00.006865
2021-04-06 01:33:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:09.906
lastevent: 2021-04-06 01:33:09.891, last ten sensor data: [('2021-04-06 01:33:09.220', 'D+000002.4'), ('2021-04-06 01:33:09.400', 'D+000001.6'), ('2021-04-06 01:33:09.420', 'D+000001.6'), ('2021-04-06 01:33:09.440', 'D+000001.4'), ('2021-04-06 01:33:09.460', 'D+000001.4'), ('2021-04-06 01:33:09.650', 'D+000002.8'), ('2021-04-06 01:33:09.670', 'D+000002.6'), ('2021-04-06 01:33:09.690', 'D+000002.8'), ('2021-04-06 01:33:09.710', 'D+000002.8'), ('2021-04-06 01:33:09.890', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 2.8, 2.6, 2.8, 2.8, 3.0]
np.array X: [[1.4]
 [2.8]
 [2.6]
 [2.8]
 [2.8]
 [3. ]]
revised_weight: 2.4
2021-04-06 01:33:09.890: revising weight finished
revised_weight: 2.4 at 2021-04-06 01:33:09.890
plc_result: True
sendmessage: 20210406013309890,1,000030,000024
send message to PLC: 2021-04-06 01:33:09.914
time gap: 0:00:00.008187
2021-04-06 01:33:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:10.797
lastevent: 2021-04-06 01:33:10.774, last ten sensor data: [('2021-04-06 01:33:10.380', 'D+000002.6'), ('2021-04-06 01:33:10.400', 'D+000002.8'), ('2021-04-06 01:33:10.420', 'D+000002.8'), ('2021-04-06 01:33:10.440', 'D+000003.0'), ('2021-04-06 01:33:10.460', 'D+000003.4'), ('2021-04-06 01:33:10.630', 'D+000004.0'), ('2021-04-06 01:33:10.650', 'D+000004.0'), ('2021-04-06 01:33:10.670', 'D+000004.0'), ('2021-04-06 01:33:10.690', 'D+000004.0'), ('2021-04-06 01:33:10.710', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.0, 4.0, 4.0, 4.0, 3.8]
np.array X: [[3.4]
 [4. ]
 [4. ]
 [4. ]
 [4. ]
 [3.8]]
revised_weight: 3.9
2021-04-06 01:33:10.710: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:33:10.710
plc_result: True
sendmessage: 20210406013310710,1,000038,000039
send message to PLC: 2021-04-06 01:33:10.828
time gap: 0:00:00.031571
2021-04-06 01:33:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:11: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:33:11: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:11: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:11: select done
2021-04-06 01:33:11: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:33:11: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:33:11: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:33:11: count: 4 in httpPlcDataSender thread
2021-04-06 01:33:11: D+: 4 in httpPlcDataSender thread
2021-04-06 01:33:11: D-: 0 in httpPlcDataSender thread
2021-04-06 01:33:11: S+: 0 in httpPlcDataSender thread
2021-04-06 01:33:11: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.0', 'sensorAt': '2021-04-06 01:33:07.150'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:33:09.060'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:33:09.890'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:33:10.710'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:07.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:09.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:09.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:10.710'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:33:11', 'collectDate': '2021-04-06 01:33:10', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.0', 'sensorAt': '2021-04-06 01:33:07.150'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:33:09.060'}, {'value': '2.4', 'sensorAt': '2021-04-06 01:33:09.890'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:33:10.710'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:07.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:09.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:09.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:10.710'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:33:11: send http
2021-04-06 01:33:11: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:33:11.540
lastevent: 2021-04-06 01:33:11.525, last ten sensor data: [('2021-04-06 01:33:10.940', 'D+000003.8'), ('2021-04-06 01:33:11.100', 'D+000004.0'), ('2021-04-06 01:33:11.120', 'D+000004.0'), ('2021-04-06 01:33:11.140', 'D+000003.8'), ('2021-04-06 01:33:11.160', 'D+000004.0'), ('2021-04-06 01:33:11.180', 'D+000004.2'), ('2021-04-06 01:33:11.200', 'D+000004.4'), ('2021-04-06 01:33:11.360', 'D+000004.0'), ('2021-04-06 01:33:11.390', 'D+000004.0'), ('2021-04-06 01:33:11.410', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 4.4, 4.0, 4.0, 4.0]
np.array X: [[4. ]
 [4.2]
 [4.4]
 [4. ]
 [4. ]
 [4. ]]
revised_weight: 4.2
2021-04-06 01:33:11.410: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:33:11.410
plc_result: True
sendmessage: 20210406013311410,1,000040,000042
send message to PLC: 2021-04-06 01:33:11.547
time gap: 0:00:00.006312
2021-04-06 01:33:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
Backupserver True
2021-04-06 01:33:11: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:11: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:13.191
lastevent: 2021-04-06 01:33:13.181, last ten sensor data: [('2021-04-06 01:33:12.830', 'D+000003.0'), ('2021-04-06 01:33:12.850', 'D+000003.4'), ('2021-04-06 01:33:12.870', 'D+000003.6'), ('2021-04-06 01:33:12.890', 'D+000003.6'), ('2021-04-06 01:33:13.050', 'D+000004.0'), ('2021-04-06 01:33:13.070', 'D+000004.2'), ('2021-04-06 01:33:13.090', 'D+000004.8'), ('2021-04-06 01:33:13.110', 'D+000004.8'), ('2021-04-06 01:33:13.130', 'D+000004.8'), ('2021-04-06 01:33:13.150', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 4.8, 4.8, 4.8, 4.8]
np.array X: [[4. ]
 [4.2]
 [4.8]
 [4.8]
 [4.8]
 [4.8]]
revised_weight: 4.7
2021-04-06 01:33:13.150: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:33:13.150
plc_result: True
sendmessage: 20210406013313150,1,000048,000047
send message to PLC: 2021-04-06 01:33:13.198
time gap: 0:00:00.006162
2021-04-06 01:33:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:13.813
lastevent: 2021-04-06 01:33:13.804, last ten sensor data: [('2021-04-06 01:33:13.330', 'D+000004.8'), ('2021-04-06 01:33:13.350', 'D+000004.6'), ('2021-04-06 01:33:13.370', 'D+000004.6'), ('2021-04-06 01:33:13.550', 'D+000005.2'), ('2021-04-06 01:33:13.570', 'D+000004.8'), ('2021-04-06 01:33:13.590', 'D+000004.6'), ('2021-04-06 01:33:13.610', 'D+000004.6'), ('2021-04-06 01:33:13.630', 'D+000004.8'), ('2021-04-06 01:33:13.790', 'D+000005.6'), ('2021-04-06 01:33:13.810', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.6, 4.6, 4.8, 5.6, 5.0]
np.array X: [[4.8]
 [4.6]
 [4.6]
 [4.8]
 [5.6]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:33:13.810: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:33:13.810
plc_result: True
sendmessage: 20210406013313810,1,000050,000051
send message to PLC: 2021-04-06 01:33:13.819
time gap: 0:00:00.006404
2021-04-06 01:33:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:15.062
lastevent: 2021-04-06 01:33:15.047, last ten sensor data: [('2021-04-06 01:33:14.570', 'D+000004.0'), ('2021-04-06 01:33:14.590', 'D+000004.0'), ('2021-04-06 01:33:14.610', 'D+000004.0'), ('2021-04-06 01:33:14.780', 'D+000004.8'), ('2021-04-06 01:33:14.800', 'D+000004.8'), ('2021-04-06 01:33:14.820', 'D+000004.8'), ('2021-04-06 01:33:14.840', 'D+000004.8'), ('2021-04-06 01:33:15.020', 'D+000005.0'), ('2021-04-06 01:33:15.040', 'D+000005.0'), ('2021-04-06 01:33:15.060', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.8, 5.0, 5.0, 5.2]
np.array X: [[4.8]
 [4.8]
 [4.8]
 [5. ]
 [5. ]
 [5.2]]
revised_weight: 5.1
2021-04-06 01:33:15.060: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:33:15.060
plc_result: True
sendmessage: 20210406013315060,1,000052,000051
send message to PLC: 2021-04-06 01:33:15.070
time gap: 0:00:00.007553
2021-04-06 01:33:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:16.620
lastevent: 2021-04-06 01:33:16.604, last ten sensor data: [('2021-04-06 01:33:16.250', 'D+000003.6'), ('2021-04-06 01:33:16.270', 'D+000003.8'), ('2021-04-06 01:33:16.290', 'D+000003.8'), ('2021-04-06 01:33:16.310', 'D+000003.8'), ('2021-04-06 01:33:16.330', 'D+000004.0'), ('2021-04-06 01:33:16.490', 'D+000004.4'), ('2021-04-06 01:33:16.510', 'D+000004.2'), ('2021-04-06 01:33:16.530', 'D+000004.2'), ('2021-04-06 01:33:16.550', 'D+000004.6'), ('2021-04-06 01:33:16.570', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.4, 4.2, 4.2, 4.6, 4.4]
np.array X: [[4. ]
 [4.4]
 [4.2]
 [4.2]
 [4.6]
 [4.4]]
revised_weight: 4.4
2021-04-06 01:33:16.570: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:33:16.570
plc_result: True
sendmessage: 20210406013316570,1,000044,000044
send message to PLC: 2021-04-06 01:33:16.626
time gap: 0:00:00.006363
2021-04-06 01:33:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:16: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:33:16: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:16: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:16: select done
2021-04-06 01:33:16: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:33:16: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:33:16: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:33:16: count: 5 in httpPlcDataSender thread
2021-04-06 01:33:16: D+: 5 in httpPlcDataSender thread
2021-04-06 01:33:16: D-: 0 in httpPlcDataSender thread
2021-04-06 01:33:16: S+: 0 in httpPlcDataSender thread
2021-04-06 01:33:16: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.2', 'sensorAt': '2021-04-06 01:33:11.410'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:33:13.150'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:33:13.810'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:33:15.060'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:33:16.570'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:11.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:13.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:13.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:15.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:16.570'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:33:16', 'collectDate': '2021-04-06 01:33:16', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.2', 'sensorAt': '2021-04-06 01:33:11.410'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:33:13.150'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:33:13.810'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:33:15.060'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:33:16.570'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:11.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:13.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:13.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:15.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:16.570'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:33:17: send http
2021-04-06 01:33:17: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:33:17: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:17.357
lastevent: 2021-04-06 01:33:17.341, last ten sensor data: [('2021-04-06 01:33:17.030', 'D+000004.4'), ('2021-04-06 01:33:17.050', 'D+000004.6'), ('2021-04-06 01:33:17.170', 'D+000005.2'), ('2021-04-06 01:33:17.190', 'D+000005.4'), ('2021-04-06 01:33:17.210', 'D+000004.4'), ('2021-04-06 01:33:17.230', 'D+000005.2'), ('2021-04-06 01:33:17.250', 'D+000004.4'), ('2021-04-06 01:33:17.270', 'D+000004.6'), ('2021-04-06 01:33:17.290', 'D+000004.6'), ('2021-04-06 01:33:17.310', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.2, 4.4, 4.6, 4.6, 4.6]
np.array X: [[4.4]
 [5.2]
 [4.4]
 [4.6]
 [4.6]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:33:17.310: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:33:17.310
plc_result: True
sendmessage: 20210406013317310,1,000046,000046
send message to PLC: 2021-04-06 01:33:17.364
time gap: 0:00:00.006606
2021-04-06 01:33:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:17: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:18.619
lastevent: 2021-04-06 01:33:18.603, last ten sensor data: [('2021-04-06 01:33:18.090', 'D+000003.6'), ('2021-04-06 01:33:18.180', 'D+000004.0'), ('2021-04-06 01:33:18.200', 'D+000003.8'), ('2021-04-06 01:33:18.220', 'D+000004.0'), ('2021-04-06 01:33:18.240', 'D+000004.2'), ('2021-04-06 01:33:18.260', 'D+000004.2'), ('2021-04-06 01:33:18.440', 'D+000006.0'), ('2021-04-06 01:33:18.460', 'D+000006.4'), ('2021-04-06 01:33:18.480', 'D+000006.2'), ('2021-04-06 01:33:18.500', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 6.0, 6.4, 6.2, 6.4]
np.array X: [[4.2]
 [4.2]
 [6. ]
 [6.4]
 [6.2]
 [6.4]]
revised_weight: 6.0
2021-04-06 01:33:18.500: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:33:18.500
plc_result: True
sendmessage: 20210406013318500,1,000064,000060
send message to PLC: 2021-04-06 01:33:18.625
time gap: 0:00:00.006463
2021-04-06 01:33:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:19.653
lastevent: 2021-04-06 01:33:19.636, last ten sensor data: [('2021-04-06 01:33:19.000', 'D+000006.8'), ('2021-04-06 01:33:19.170', 'D+000005.0'), ('2021-04-06 01:33:19.190', 'D+000004.6'), ('2021-04-06 01:33:19.210', 'D+000004.4'), ('2021-04-06 01:33:19.230', 'D+000004.4'), ('2021-04-06 01:33:19.250', 'D+000004.0'), ('2021-04-06 01:33:19.460', 'D+000005.0'), ('2021-04-06 01:33:19.480', 'D+000005.2'), ('2021-04-06 01:33:19.500', 'D+000005.4'), ('2021-04-06 01:33:19.520', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.0, 5.0, 5.2, 5.4, 5.0]
np.array X: [[4.4]
 [4. ]
 [5. ]
 [5.2]
 [5.4]
 [5. ]]
revised_weight: 4.8
2021-04-06 01:33:19.520: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:33:19.520
plc_result: True
sendmessage: 20210406013319520,1,000050,000048
send message to PLC: 2021-04-06 01:33:19.665
time gap: 0:00:00.011809
2021-04-06 01:33:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:20.871
lastevent: 2021-04-06 01:33:20.855, last ten sensor data: [('2021-04-06 01:33:20.430', 'D+000003.8'), ('2021-04-06 01:33:20.450', 'D+000003.8'), ('2021-04-06 01:33:20.470', 'D+000004.2'), ('2021-04-06 01:33:20.490', 'D+000004.4'), ('2021-04-06 01:33:20.510', 'D+000004.8'), ('2021-04-06 01:33:20.540', 'D+000006.4'), ('2021-04-06 01:33:20.690', 'D+000007.8'), ('2021-04-06 01:33:20.710', 'D+000008.0'), ('2021-04-06 01:33:20.730', 'D+000008.8'), ('2021-04-06 01:33:20.750', 'D+000010.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 6.4, 7.8, 8.0, 8.8, 10.0]
np.array X: [[ 4.8]
 [ 6.4]
 [ 7.8]
 [ 8. ]
 [ 8.8]
 [10. ]]
revised_weight: 8.6
2021-04-06 01:33:20.750: revising weight finished
revised_weight: 8.6 at 2021-04-06 01:33:20.750
plc_result: True
sendmessage: 20210406013320750,1,000100,000086
send message to PLC: 2021-04-06 01:33:20.880
time gap: 0:00:00.008491
2021-04-06 01:33:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:33:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
2021-04-06 01:33:22: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:33:22: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:22: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:22: select done
2021-04-06 01:33:22: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:33:22: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:33:22: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:33:22: count: 4 in httpPlcDataSender thread
2021-04-06 01:33:22: D+: 4 in httpPlcDataSender thread
2021-04-06 01:33:22: D-: 0 in httpPlcDataSender thread
2021-04-06 01:33:22: S+: 0 in httpPlcDataSender thread
2021-04-06 01:33:22: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.6', 'sensorAt': '2021-04-06 01:33:17.310'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:33:18.500'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:33:19.520'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:33:20.750'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:17.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:18.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:19.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:20.750'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:33:22', 'collectDate': '2021-04-06 01:33:20', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.6', 'sensorAt': '2021-04-06 01:33:17.310'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:33:18.500'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:33:19.520'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:33:20.750'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:17.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:18.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:19.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:20.750'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:33:22: send http
2021-04-06 01:33:22: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:33:22: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:22: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:23.353
lastevent: 2021-04-06 01:33:23.343, last ten sensor data: [('2021-04-06 01:33:22.880', 'D+000002.2'), ('2021-04-06 01:33:22.900', 'D+000002.2'), ('2021-04-06 01:33:22.920', 'D+000002.0'), ('2021-04-06 01:33:22.940', 'D+000002.4'), ('2021-04-06 01:33:22.960', 'D+000002.4'), ('2021-04-06 01:33:23.120', 'D+000002.4'), ('2021-04-06 01:33:23.140', 'D+000002.6'), ('2021-04-06 01:33:23.160', 'D+000002.8'), ('2021-04-06 01:33:23.180', 'D+000003.2'), ('2021-04-06 01:33:23.200', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.6, 2.8, 3.2, 3.4]
np.array X: [[2.4]
 [2.4]
 [2.6]
 [2.8]
 [3.2]
 [3.4]]
revised_weight: 3.2
2021-04-06 01:33:23.200: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:33:23.200
plc_result: True
sendmessage: 20210406013323200,1,000034,000032
send message to PLC: 2021-04-06 01:33:23.365
time gap: 0:00:00.011674
2021-04-06 01:33:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:23.774
lastevent: 2021-04-06 01:33:23.772, last ten sensor data: [0, 0, ('2021-04-06 01:33:23.370', 'D+000003.6'), ('2021-04-06 01:33:23.390', 'D+000004.0'), ('2021-04-06 01:33:23.410', 'D+000003.8'), ('2021-04-06 01:33:23.430', 'D+000003.8'), ('2021-04-06 01:33:23.620', 'D+000004.0'), ('2021-04-06 01:33:23.640', 'D+000004.2'), ('2021-04-06 01:33:23.660', 'D+000003.8'), ('2021-04-06 01:33:23.680', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 4.0, 4.2, 3.8, 3.8]
np.array X: [[3.8]
 [3.8]
 [4. ]
 [4.2]
 [3.8]
 [3.8]]
revised_weight: 3.7
2021-04-06 01:33:23.680: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:33:23.680
plc_result: True
sendmessage: 20210406013323680,1,000038,000037
send message to PLC: 2021-04-06 01:33:23.785
time gap: 0:00:00.011664
2021-04-06 01:33:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:24.500
lastevent: 2021-04-06 01:33:24.495, last ten sensor data: [('2021-04-06 01:33:24.030', 'D+000003.2'), ('2021-04-06 01:33:24.050', 'D+000003.6'), ('2021-04-06 01:33:24.210', 'D+000005.0'), ('2021-04-06 01:33:24.230', 'D+000004.6'), ('2021-04-06 01:33:24.250', 'D+000005.0'), ('2021-04-06 01:33:24.270', 'D+000005.8'), ('2021-04-06 01:33:24.290', 'D+000006.4'), ('2021-04-06 01:33:24.470', 'D+000007.6'), ('2021-04-06 01:33:24.490', 'D+000007.8'), ('2021-04-06 01:33:24.510', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.8, 6.4, 7.6, 7.8, 7.6]
np.array X: [[5. ]
 [5.8]
 [6.4]
 [7.6]
 [7.8]
 [7.6]]
revised_weight: 7.3
2021-04-06 01:33:24.510: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:33:24.510
plc_result: True
sendmessage: 20210406013324510,1,000076,000073
send message to PLC: 2021-04-06 01:33:24.506
time gap: 0:00:00.006064
2021-04-06 01:33:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:25.515
lastevent: 2021-04-06 01:33:25.505, last ten sensor data: [('2021-04-06 01:33:25.190', 'D+000005.6'), ('2021-04-06 01:33:25.210', 'D+000005.8'), ('2021-04-06 01:33:25.230', 'D+000005.8'), ('2021-04-06 01:33:25.250', 'D+000005.4'), ('2021-04-06 01:33:25.270', 'D+000005.6'), ('2021-04-06 01:33:25.430', 'D+000006.2'), ('2021-04-06 01:33:25.450', 'D+000006.4'), ('2021-04-06 01:33:25.470', 'D+000006.4'), ('2021-04-06 01:33:25.490', 'D+000006.2'), ('2021-04-06 01:33:25.510', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.2, 6.4, 6.4, 6.2, 6.4]
np.array X: [[5.6]
 [6.2]
 [6.4]
 [6.4]
 [6.2]
 [6.4]]
revised_weight: 6.2
2021-04-06 01:33:25.510: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:33:25.510
plc_result: True
sendmessage: 20210406013325510,1,000064,000062
send message to PLC: 2021-04-06 01:33:25.526
time gap: 0:00:00.011357
2021-04-06 01:33:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:26.764
lastevent: 2021-04-06 01:33:26.762, last ten sensor data: [('2021-04-06 01:33:26.420', 'D+000003.6'), ('2021-04-06 01:33:26.440', 'D+000003.6'), ('2021-04-06 01:33:26.460', 'D+000003.6'), ('2021-04-06 01:33:26.480', 'D+000003.8'), ('2021-04-06 01:33:26.500', 'D+000004.0'), ('2021-04-06 01:33:26.660', 'D+000004.0'), ('2021-04-06 01:33:26.680', 'D+000004.0'), ('2021-04-06 01:33:26.700', 'D+000004.4'), ('2021-04-06 01:33:26.720', 'D+000004.6'), ('2021-04-06 01:33:26.740', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 4.0, 4.4, 4.6, 4.4]
np.array X: [[4. ]
 [4. ]
 [4. ]
 [4.4]
 [4.6]
 [4.4]]
revised_weight: 4.5
2021-04-06 01:33:26.740: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:33:26.740
plc_result: True
sendmessage: 20210406013326740,1,000044,000045
send message to PLC: 2021-04-06 01:33:26.777
time gap: 0:00:00.013478
2021-04-06 01:33:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:27: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:33:27: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:28: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:28: select done
2021-04-06 01:33:28: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:33:28: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:33:28: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:33:28: count: 5 in httpPlcDataSender thread
2021-04-06 01:33:28: D+: 5 in httpPlcDataSender thread
2021-04-06 01:33:28: D-: 0 in httpPlcDataSender thread
2021-04-06 01:33:28: S+: 0 in httpPlcDataSender thread
2021-04-06 01:33:28: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.2', 'sensorAt': '2021-04-06 01:33:23.200'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:33:23.680'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:33:24.510'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:33:25.510'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:33:26.740'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:23.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:23.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:24.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:25.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:26.740'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:33:28', 'collectDate': '2021-04-06 01:33:26', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.2', 'sensorAt': '2021-04-06 01:33:23.200'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:33:23.680'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:33:24.510'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:33:25.510'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:33:26.740'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:23.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:23.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:24.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:25.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:26.740'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:33:28: send http
2021-04-06 01:33:28: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:33:28: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:28: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:28.892
lastevent: 2021-04-06 01:33:28.880, last ten sensor data: [('2021-04-06 01:33:28.430', 'D+000002.8'), ('2021-04-06 01:33:28.450', 'D+000002.6'), ('2021-04-06 01:33:28.610', 'D+000004.6'), ('2021-04-06 01:33:28.630', 'D+000004.2'), ('2021-04-06 01:33:28.650', 'D+000004.6'), ('2021-04-06 01:33:28.670', 'D+000005.4'), ('2021-04-06 01:33:28.690', 'D+000005.6'), ('2021-04-06 01:33:28.850', 'D+000011.4'), ('2021-04-06 01:33:28.870', 'D+000013.8'), ('2021-04-06 01:33:28.890', 'D+000014.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.4, 5.6, 11.4, 13.8, 14.0]
np.array X: [[ 4.6]
 [ 5.4]
 [ 5.6]
 [11.4]
 [13.8]
 [14. ]]
revised_weight: 10.5
2021-04-06 01:33:28.890: revising weight finished
revised_weight: 10.5 at 2021-04-06 01:33:28.890
plc_result: True
sendmessage: 20210406013328890,1,000140,000105
send message to PLC: 2021-04-06 01:33:28.905
time gap: 0:00:00.013236
2021-04-06 01:33:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:30.153
lastevent: 2021-04-06 01:33:30.149, last ten sensor data: [('2021-04-06 01:33:29.840', 'D+000003.8'), ('2021-04-06 01:33:29.860', 'D+000004.6'), ('2021-04-06 01:33:29.880', 'D+000005.0'), ('2021-04-06 01:33:29.900', 'D+000005.6'), ('2021-04-06 01:33:29.920', 'D+000005.6'), ('2021-04-06 01:33:30.080', 'D+000007.6'), ('2021-04-06 01:33:30.100', 'D+000006.8'), ('2021-04-06 01:33:30.120', 'D+000007.4'), ('2021-04-06 01:33:30.140', 'D+000008.2'), ('2021-04-06 01:33:30.160', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 7.6, 6.8, 7.4, 8.2, 8.0]
np.array X: [[5.6]
 [7.6]
 [6.8]
 [7.4]
 [8.2]
 [8. ]]
revised_weight: 6.9
2021-04-06 01:33:30.160: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:33:30.160
plc_result: True
sendmessage: 20210406013330160,1,000080,000069
send message to PLC: 2021-04-06 01:33:30.165
time gap: 0:00:00.012559
2021-04-06 01:33:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:31.675
lastevent: 2021-04-06 01:33:31.664, last ten sensor data: [('2021-04-06 01:33:31.120', 'D+000003.4'), ('2021-04-06 01:33:31.310', 'D+000003.6'), ('2021-04-06 01:33:31.330', 'D+000003.6'), ('2021-04-06 01:33:31.350', 'D+000003.8'), ('2021-04-06 01:33:31.370', 'D+000003.6'), ('2021-04-06 01:33:31.540', 'D+000003.8'), ('2021-04-06 01:33:31.560', 'D+000003.8'), ('2021-04-06 01:33:31.580', 'D+000004.2'), ('2021-04-06 01:33:31.600', 'D+000004.2'), ('2021-04-06 01:33:31.620', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.8, 3.8, 4.2, 4.2, 4.2]
np.array X: [[3.6]
 [3.8]
 [3.8]
 [4.2]
 [4.2]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:33:31.620: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:33:31.620
plc_result: True
sendmessage: 20210406013331620,1,000042,000043
send message to PLC: 2021-04-06 01:33:31.688
time gap: 0:00:00.012509
2021-04-06 01:33:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:32.528
lastevent: 2021-04-06 01:33:32.522, last ten sensor data: [('2021-04-06 01:33:32.070', 'D+000003.4'), ('2021-04-06 01:33:32.090', 'D+000003.4'), ('2021-04-06 01:33:32.110', 'D+000003.6'), ('2021-04-06 01:33:32.270', 'D+000004.2'), ('2021-04-06 01:33:32.290', 'D+000004.6'), ('2021-04-06 01:33:32.310', 'D+000004.6'), ('2021-04-06 01:33:32.330', 'D+000005.0'), ('2021-04-06 01:33:32.350', 'D+000005.0'), ('2021-04-06 01:33:32.510', 'D+000005.4'), ('2021-04-06 01:33:32.530', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 5.0, 5.0, 5.4, 5.8]
np.array X: [[4.6]
 [4.6]
 [5. ]
 [5. ]
 [5.4]
 [5.8]]
revised_weight: 5.3
2021-04-06 01:33:32.530: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:33:32.530
plc_result: True
sendmessage: 20210406013332530,1,000058,000053
send message to PLC: 2021-04-06 01:33:32.544
time gap: 0:00:00.016392
2021-04-06 01:33:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:33: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:33:33: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:33: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:33: select done
2021-04-06 01:33:33: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:33:33: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:33:33: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:33:33: count: 4 in httpPlcDataSender thread
2021-04-06 01:33:33: D+: 4 in httpPlcDataSender thread
2021-04-06 01:33:33: D-: 0 in httpPlcDataSender thread
2021-04-06 01:33:33: S+: 0 in httpPlcDataSender thread
2021-04-06 01:33:33: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '10.5', 'sensorAt': '2021-04-06 01:33:28.890'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:33:30.160'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:33:31.620'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:33:32.530'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:28.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:30.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:31.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:32.530'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:33:33', 'collectDate': '2021-04-06 01:33:32', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '10.5', 'sensorAt': '2021-04-06 01:33:28.890'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:33:30.160'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:33:31.620'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:33:32.530'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:28.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:30.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:31.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:32.530'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:33.832
lastevent: 2021-04-06 01:33:33.820, last ten sensor data: [('2021-04-06 01:33:33.320', 'D+000004.2'), ('2021-04-06 01:33:33.500', 'D+000005.2'), ('2021-04-06 01:33:33.520', 'D+000005.0'), ('2021-04-06 01:33:33.540', 'D+000005.2'), ('2021-04-06 01:33:33.560', 'D+000006.4'), ('2021-04-06 01:33:33.580', 'D+000006.8'), ('2021-04-06 01:33:33.740', 'D+000006.2'), ('2021-04-06 01:33:33.780', 'D+000006.8'), ('2021-04-06 01:33:33.800', 'D+000006.6'), ('2021-04-06 01:33:33.820', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.8, 6.2, 6.8, 6.6, 6.4]
np.array X: [[6.4]
 [6.8]
 [6.2]
 [6.8]
 [6.6]
 [6.4]]
revised_weight: 6.5
2021-04-06 01:33:33.820: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:33:33.820
plc_result: True
sendmessage: 20210406013333820,1,000064,000065
send message to PLC: 2021-04-06 01:33:33.845
time gap: 0:00:00.013690
2021-04-06 01:33:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:33: send http
2021-04-06 01:33:33: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:33:34: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:34: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:36.833
lastevent: 2021-04-06 01:33:36.827, last ten sensor data: [('2021-04-06 01:33:36.250', 'D+000002.4'), ('2021-04-06 01:33:36.420', 'D+000002.8'), ('2021-04-06 01:33:36.440', 'D+000002.8'), ('2021-04-06 01:33:36.460', 'D+000002.6'), ('2021-04-06 01:33:36.480', 'D+000002.8'), ('2021-04-06 01:33:36.500', 'D+000003.6'), ('2021-04-06 01:33:36.680', 'D+000004.0'), ('2021-04-06 01:33:36.700', 'D+000004.0'), ('2021-04-06 01:33:36.720', 'D+000004.0'), ('2021-04-06 01:33:36.740', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.6, 4.0, 4.0, 4.0, 4.2]
np.array X: [[2.8]
 [3.6]
 [4. ]
 [4. ]
 [4. ]
 [4.2]]
revised_weight: 3.9
2021-04-06 01:33:36.740: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:33:36.740
plc_result: True
sendmessage: 20210406013336740,1,000042,000039
send message to PLC: 2021-04-06 01:33:36.846
time gap: 0:00:00.012291
2021-04-06 01:33:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:37.612
lastevent: 2021-04-06 01:33:37.598, last ten sensor data: [('2021-04-06 01:33:37.160', 'D+000004.4'), ('2021-04-06 01:33:37.180', 'D+000004.4'), ('2021-04-06 01:33:37.200', 'D+000004.4'), ('2021-04-06 01:33:37.220', 'D+000004.2'), ('2021-04-06 01:33:37.240', 'D+000004.0'), ('2021-04-06 01:33:37.400', 'D+000008.2'), ('2021-04-06 01:33:37.420', 'D+000008.6'), ('2021-04-06 01:33:37.440', 'D+000008.6'), ('2021-04-06 01:33:37.460', 'D+000008.2'), ('2021-04-06 01:33:37.480', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 8.2, 8.6, 8.6, 8.2, 6.8]
np.array X: [[4. ]
 [8.2]
 [8.6]
 [8.6]
 [8.2]
 [6.8]]
revised_weight: 8.8
2021-04-06 01:33:37.480: revising weight finished
revised_weight: 8.8 at 2021-04-06 01:33:37.480
plc_result: True
sendmessage: 20210406013337480,1,000068,000088
send message to PLC: 2021-04-06 01:33:37.624
time gap: 0:00:00.012493
2021-04-06 01:33:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:39: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:33:39: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:39: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:39: select done
2021-04-06 01:33:39: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:33:39: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:33:39: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:33:39: count: 3 in httpPlcDataSender thread
2021-04-06 01:33:39: D+: 3 in httpPlcDataSender thread
2021-04-06 01:33:39: D-: 0 in httpPlcDataSender thread
2021-04-06 01:33:39: S+: 0 in httpPlcDataSender thread
2021-04-06 01:33:39: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:33:33.820'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:33:36.740'}, {'value': '8.8', 'sensorAt': '2021-04-06 01:33:37.480'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:33.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:36.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:37.480'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:33:39', 'collectDate': '2021-04-06 01:33:37', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:33:33.820'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:33:36.740'}, {'value': '8.8', 'sensorAt': '2021-04-06 01:33:37.480'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:33.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:36.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:37.480'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:33:39: send http
2021-04-06 01:33:39: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
trigger sensor detected: 2021-04-06 01:33:39.640
2021-04-06 01:33:39: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
lastevent: 2021-04-06 01:33:39.632, last ten sensor data: [('2021-04-06 01:33:39.410', 'D+000006.4'), ('2021-04-06 01:33:39.430', 'D+000006.0'), ('2021-04-06 01:33:39.450', 'D+000006.2'), ('2021-04-06 01:33:39.470', 'D+000006.2'), ('2021-04-06 01:33:39.540', 'D+000007.4'), ('2021-04-06 01:33:39.560', 'D+000007.2'), ('2021-04-06 01:33:39.580', 'D+000008.8'), ('2021-04-06 01:33:39.600', 'D+000008.8'), ('2021-04-06 01:33:39.620', 'D+000008.6'), ('2021-04-06 01:33:39.640', 'D+000008.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 7.2, 8.8, 8.8, 8.6, 8.6]
np.array X: [[7.4]
 [7.2]
 [8.8]
 [8.8]
 [8.6]
 [8.6]]
revised_weight: 8.2
2021-04-06 01:33:39.640: revising weight finished
revised_weight: 8.2 at 2021-04-06 01:33:39.640
plc_result: True
sendmessage: 20210406013339640,1,000086,000082
send message to PLC: 2021-04-06 01:33:39.649
time gap: 0:00:00.008717
2021-04-06 01:33:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:39: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:40.322
lastevent: 2021-04-06 01:33:40.315, last ten sensor data: [('2021-04-06 01:33:39.860', 'D+000008.4'), ('2021-04-06 01:33:39.880', 'D+000008.4'), ('2021-04-06 01:33:40.040', 'D+000006.0'), ('2021-04-06 01:33:40.060', 'D+000007.0'), ('2021-04-06 01:33:40.080', 'D+000007.8'), ('2021-04-06 01:33:40.100', 'D+000007.0'), ('2021-04-06 01:33:40.120', 'D+000006.6'), ('2021-04-06 01:33:40.280', 'D+000006.4'), ('2021-04-06 01:33:40.300', 'D+000006.8'), ('2021-04-06 01:33:40.320', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.8, 7.0, 6.6, 6.4, 6.8, 6.8]
np.array X: [[7.8]
 [7. ]
 [6.6]
 [6.4]
 [6.8]
 [6.8]]
revised_weight: 7.1
2021-04-06 01:33:40.320: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:33:40.320
plc_result: True
sendmessage: 20210406013340320,1,000068,000071
send message to PLC: 2021-04-06 01:33:40.338
time gap: 0:00:00.016676
2021-04-06 01:33:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:41.887
lastevent: 2021-04-06 01:33:41.875, last ten sensor data: [('2021-04-06 01:33:41.300', 'D+000004.4'), ('2021-04-06 01:33:41.320', 'D+000004.4'), ('2021-04-06 01:33:41.490', 'D+000005.2'), ('2021-04-06 01:33:41.510', 'D+000005.2'), ('2021-04-06 01:33:41.530', 'D+000005.2'), ('2021-04-06 01:33:41.550', 'D+000005.2'), ('2021-04-06 01:33:41.570', 'D+000005.0'), ('2021-04-06 01:33:41.760', 'D+000005.0'), ('2021-04-06 01:33:41.780', 'D+000005.2'), ('2021-04-06 01:33:41.800', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 5.0, 5.0, 5.2, 5.4]
np.array X: [[5.2]
 [5.2]
 [5. ]
 [5. ]
 [5.2]
 [5.4]]
revised_weight: 5.1
2021-04-06 01:33:41.800: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:33:41.800
plc_result: True
sendmessage: 20210406013341800,1,000054,000051
send message to PLC: 2021-04-06 01:33:41.901
time gap: 0:00:00.014058
2021-04-06 01:33:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:42.153
lastevent: 2021-04-06 01:33:42.147, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:33:41.910', 'D+000005.6'), ('2021-04-06 01:33:41.990', 'D+000004.8'), ('2021-04-06 01:33:42.010', 'D+000004.8'), ('2021-04-06 01:33:42.030', 'D+000005.0'), ('2021-04-06 01:33:42.050', 'D+000005.6'), ('2021-04-06 01:33:42.070', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 4.8, 4.8, 5.0, 5.6, 5.6]
np.array X: [[5.6]
 [4.8]
 [4.8]
 [5. ]
 [5.6]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:33:42.070: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:33:42.070
plc_result: True
sendmessage: 20210406013342070,1,000056,000055
send message to PLC: 2021-04-06 01:33:42.160
time gap: 0:00:00.007209
2021-04-06 01:33:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:42.431
lastevent: 2021-04-06 01:33:42.427, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:33:42.230', 'D+000005.6'), ('2021-04-06 01:33:42.250', 'D+000005.8'), ('2021-04-06 01:33:42.270', 'D+000005.6'), ('2021-04-06 01:33:42.290', 'D+000005.2'), ('2021-04-06 01:33:42.310', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 5.6, 5.8, 5.6, 5.2, 5.4]
np.array X: [[0. ]
 [5.6]
 [5.8]
 [5.6]
 [5.2]
 [5.4]]
revised_weight: 4.6
2021-04-06 01:33:42.310: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:33:42.310
plc_result: True
sendmessage: 20210406013342310,1,000054,000046
send message to PLC: 2021-04-06 01:33:42.438
time gap: 0:00:00.007268
2021-04-06 01:33:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:43.891
lastevent: 2021-04-06 01:33:43.880, last ten sensor data: [('2021-04-06 01:33:43.270', 'D+000004.2'), ('2021-04-06 01:33:43.290', 'D+000004.0'), ('2021-04-06 01:33:43.470', 'D+000004.2'), ('2021-04-06 01:33:43.490', 'D+000004.2'), ('2021-04-06 01:33:43.510', 'D+000004.0'), ('2021-04-06 01:33:43.530', 'D+000003.8'), ('2021-04-06 01:33:43.710', 'D+000005.0'), ('2021-04-06 01:33:43.730', 'D+000005.0'), ('2021-04-06 01:33:43.750', 'D+000005.2'), ('2021-04-06 01:33:43.770', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.8, 5.0, 5.0, 5.2, 5.8]
np.array X: [[4. ]
 [3.8]
 [5. ]
 [5. ]
 [5.2]
 [5.8]]
revised_weight: 5.2
2021-04-06 01:33:43.770: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:33:43.770
plc_result: True
sendmessage: 20210406013343770,1,000058,000052
send message to PLC: 2021-04-06 01:33:43.905
time gap: 0:00:00.013976
2021-04-06 01:33:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:44.622
lastevent: 2021-04-06 01:33:44.618, last ten sensor data: [('2021-04-06 01:33:44.140', 'D+000005.0'), ('2021-04-06 01:33:44.160', 'D+000005.0'), ('2021-04-06 01:33:44.180', 'D+000005.2'), ('2021-04-06 01:33:44.340', 'D+000008.2'), ('2021-04-06 01:33:44.360', 'D+000007.6'), ('2021-04-06 01:33:44.380', 'D+000007.6'), ('2021-04-06 01:33:44.400', 'D+000008.0'), ('2021-04-06 01:33:44.420', 'D+000009.0'), ('2021-04-06 01:33:44.510', 'D+000008.0'), ('2021-04-06 01:33:44.530', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.6, 7.6, 8.0, 9.0, 8.0, 6.8]
np.array X: [[7.6]
 [7.6]
 [8. ]
 [9. ]
 [8. ]
 [6.8]]
revised_weight: 7.6
2021-04-06 01:33:44.530: revising weight finished
revised_weight: 7.6 at 2021-04-06 01:33:44.530
plc_result: True
sendmessage: 20210406013344530,1,000068,000076
send message to PLC: 2021-04-06 01:33:44.630
time gap: 0:00:00.007420
2021-04-06 01:33:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:44: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:33:44: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:44: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:44: select done
2021-04-06 01:33:44: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:33:44: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:33:44: sendjson called, 7 records in httpPlcDataSender thread
2021-04-06 01:33:44: count: 7 in httpPlcDataSender thread
2021-04-06 01:33:44: D+: 7 in httpPlcDataSender thread
2021-04-06 01:33:44: D-: 0 in httpPlcDataSender thread
2021-04-06 01:33:44: S+: 0 in httpPlcDataSender thread
2021-04-06 01:33:44: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.2', 'sensorAt': '2021-04-06 01:33:39.640'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:33:40.320'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:33:41.800'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:33:42.070'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:33:42.310'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:33:43.770'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:33:44.530'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:39.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:40.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:41.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:42.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:42.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:43.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:44.530'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:33:44', 'collectDate': '2021-04-06 01:33:44', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.2', 'sensorAt': '2021-04-06 01:33:39.640'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:33:40.320'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:33:41.800'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:33:42.070'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:33:42.310'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:33:43.770'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:33:44.530'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:39.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:40.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:41.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:42.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:42.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:43.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:44.530'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:33:45: send http
2021-04-06 01:33:45: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:33:45: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:45: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:46.290
lastevent: 2021-04-06 01:33:46.274, last ten sensor data: [('2021-04-06 01:33:45.750', 'D+000002.8'), ('2021-04-06 01:33:45.910', 'D+000003.2'), ('2021-04-06 01:33:45.930', 'D+000003.2'), ('2021-04-06 01:33:45.950', 'D+000003.6'), ('2021-04-06 01:33:45.970', 'D+000003.8'), ('2021-04-06 01:33:46.140', 'D+000004.4'), ('2021-04-06 01:33:46.160', 'D+000005.2'), ('2021-04-06 01:33:46.180', 'D+000005.2'), ('2021-04-06 01:33:46.200', 'D+000005.2'), ('2021-04-06 01:33:46.220', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.4, 5.2, 5.2, 5.2, 4.8]
np.array X: [[3.8]
 [4.4]
 [5.2]
 [5.2]
 [5.2]
 [4.8]]
revised_weight: 4.9
2021-04-06 01:33:46.220: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:33:46.220
plc_result: True
sendmessage: 20210406013346220,1,000048,000049
send message to PLC: 2021-04-06 01:33:46.303
time gap: 0:00:00.012711
2021-04-06 01:33:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:46.971
lastevent: 2021-04-06 01:33:46.965, last ten sensor data: [('2021-04-06 01:33:46.450', 'D+000004.8'), ('2021-04-06 01:33:46.640', 'D+000004.8'), ('2021-04-06 01:33:46.660', 'D+000004.8'), ('2021-04-06 01:33:46.680', 'D+000004.8'), ('2021-04-06 01:33:46.700', 'D+000004.8'), ('2021-04-06 01:33:46.880', 'D+000004.8'), ('2021-04-06 01:33:46.900', 'D+000004.4'), ('2021-04-06 01:33:46.920', 'D+000004.4'), ('2021-04-06 01:33:46.940', 'D+000003.8'), ('2021-04-06 01:33:46.960', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.4, 4.4, 3.8, 3.8]
np.array X: [[4.8]
 [4.8]
 [4.4]
 [4.4]
 [3.8]
 [3.8]]
revised_weight: 4.0
2021-04-06 01:33:46.960: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:33:46.960
plc_result: True
sendmessage: 20210406013346960,1,000038,000040
send message to PLC: 2021-04-06 01:33:46.978
time gap: 0:00:00.006797
2021-04-06 01:33:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:47.743
lastevent: 2021-04-06 01:33:47.730, last ten sensor data: [('2021-04-06 01:33:47.200', 'D+000004.0'), ('2021-04-06 01:33:47.370', 'D+000004.2'), ('2021-04-06 01:33:47.390', 'D+000004.4'), ('2021-04-06 01:33:47.410', 'D+000004.6'), ('2021-04-06 01:33:47.430', 'D+000004.8'), ('2021-04-06 01:33:47.450', 'D+000005.2'), ('2021-04-06 01:33:47.600', 'D+000008.0'), ('2021-04-06 01:33:47.630', 'D+000007.4'), ('2021-04-06 01:33:47.650', 'D+000008.0'), ('2021-04-06 01:33:47.670', 'D+000008.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.2, 8.0, 7.4, 8.0, 8.8]
np.array X: [[4.8]
 [5.2]
 [8. ]
 [7.4]
 [8. ]
 [8.8]]
revised_weight: 7.8
2021-04-06 01:33:47.670: revising weight finished
revised_weight: 7.8 at 2021-04-06 01:33:47.670
plc_result: True
sendmessage: 20210406013347670,1,000088,000078
send message to PLC: 2021-04-06 01:33:47.750
time gap: 0:00:00.006823
2021-04-06 01:33:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:48.808
lastevent: 2021-04-06 01:33:48.802, last ten sensor data: [('2021-04-06 01:33:48.150', 'D+000006.4'), ('2021-04-06 01:33:48.170', 'D+000004.8'), ('2021-04-06 01:33:48.360', 'D+000003.0'), ('2021-04-06 01:33:48.380', 'D+000002.6'), ('2021-04-06 01:33:48.400', 'D+000002.8'), ('2021-04-06 01:33:48.590', 'D+000003.8'), ('2021-04-06 01:33:48.610', 'D+000003.8'), ('2021-04-06 01:33:48.630', 'D+000003.8'), ('2021-04-06 01:33:48.650', 'D+000003.4'), ('2021-04-06 01:33:48.670', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.8, 3.8, 3.8, 3.4, 3.6]
np.array X: [[2.8]
 [3.8]
 [3.8]
 [3.8]
 [3.4]
 [3.6]]
revised_weight: 3.7
2021-04-06 01:33:48.670: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:33:48.670
plc_result: True
sendmessage: 20210406013348670,1,000036,000037
send message to PLC: 2021-04-06 01:33:48.815
time gap: 0:00:00.006886
2021-04-06 01:33:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:50: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:33:50: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:50: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:50: select done
2021-04-06 01:33:50: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:33:50: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:33:50: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:33:50: count: 4 in httpPlcDataSender thread
2021-04-06 01:33:50: D+: 4 in httpPlcDataSender thread
2021-04-06 01:33:50: D-: 0 in httpPlcDataSender thread
2021-04-06 01:33:50: S+: 0 in httpPlcDataSender thread
2021-04-06 01:33:50: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.9', 'sensorAt': '2021-04-06 01:33:46.220'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:33:46.960'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:33:47.670'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:33:48.670'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:46.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:46.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:47.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:48.670'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:33:50', 'collectDate': '2021-04-06 01:33:48', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.9', 'sensorAt': '2021-04-06 01:33:46.220'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:33:46.960'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:33:47.670'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:33:48.670'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:46.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:46.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:47.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:48.670'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:33:50: send http
2021-04-06 01:33:50: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:33:50: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:51: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:52.582
lastevent: 2021-04-06 01:33:52.575, last ten sensor data: [('2021-04-06 01:33:52.130', 'D+000001.8'), ('2021-04-06 01:33:52.150', 'D+000001.8'), ('2021-04-06 01:33:52.170', 'D+000001.8'), ('2021-04-06 01:33:52.190', 'D+000001.8'), ('2021-04-06 01:33:52.210', 'D+000001.8'), ('2021-04-06 01:33:52.370', 'D+000004.4'), ('2021-04-06 01:33:52.390', 'D+000003.4'), ('2021-04-06 01:33:52.410', 'D+000003.4'), ('2021-04-06 01:33:52.430', 'D+000003.2'), ('2021-04-06 01:33:52.450', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.8, 4.4, 3.4, 3.4, 3.2, 3.2]
np.array X: [[1.8]
 [4.4]
 [3.4]
 [3.4]
 [3.2]
 [3.2]]
revised_weight: 3.3
2021-04-06 01:33:52.450: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:33:52.450
plc_result: True
sendmessage: 20210406013352450,1,000032,000033
send message to PLC: 2021-04-06 01:33:52.589
time gap: 0:00:00.007529
2021-04-06 01:33:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:55.575
lastevent: 2021-04-06 01:33:55.569, last ten sensor data: [('2021-04-06 01:33:55.070', 'D+000001.4'), ('2021-04-06 01:33:55.090', 'D+000001.4'), ('2021-04-06 01:33:55.110', 'D+000001.6'), ('2021-04-06 01:33:55.130', 'D+000001.8'), ('2021-04-06 01:33:55.310', 'D+000002.0'), ('2021-04-06 01:33:55.330', 'D+000002.2'), ('2021-04-06 01:33:55.350', 'D+000002.0'), ('2021-04-06 01:33:55.370', 'D+000002.4'), ('2021-04-06 01:33:55.550', 'D+000002.8'), ('2021-04-06 01:33:55.570', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.2, 2.0, 2.4, 2.8, 2.8]
np.array X: [[2. ]
 [2.2]
 [2. ]
 [2.4]
 [2.8]
 [2.8]]
revised_weight: 2.6
2021-04-06 01:33:55.570: revising weight finished
revised_weight: 2.6 at 2021-04-06 01:33:55.570
plc_result: True
sendmessage: 20210406013355570,1,000028,000026
send message to PLC: 2021-04-06 01:33:55.582
time gap: 0:00:00.006388
2021-04-06 01:33:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:56: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:33:56: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:56: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:33:56: select done
2021-04-06 01:33:56: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:33:56: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:33:56: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:33:56: count: 2 in httpPlcDataSender thread
2021-04-06 01:33:56: D+: 2 in httpPlcDataSender thread
2021-04-06 01:33:56: D-: 0 in httpPlcDataSender thread
2021-04-06 01:33:56: S+: 0 in httpPlcDataSender thread
2021-04-06 01:33:56: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:33:52.450'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:33:55.570'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:52.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:55.570'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:33:56', 'collectDate': '2021-04-06 01:33:55', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:33:52.450'}, {'value': '2.6', 'sensorAt': '2021-04-06 01:33:55.570'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:52.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:55.570'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:33:56: send http
2021-04-06 01:33:56: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:33:56: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:33:56: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:33:57.595
lastevent: 2021-04-06 01:33:57.580, last ten sensor data: [('2021-04-06 01:33:57.260', 'D+000002.6'), ('2021-04-06 01:33:57.280', 'D+000002.4'), ('2021-04-06 01:33:57.300', 'D+000002.6'), ('2021-04-06 01:33:57.320', 'D+000002.6'), ('2021-04-06 01:33:57.340', 'D+000002.8'), ('2021-04-06 01:33:57.510', 'D+000003.6'), ('2021-04-06 01:33:57.530', 'D+000003.6'), ('2021-04-06 01:33:57.550', 'D+000003.0'), ('2021-04-06 01:33:57.570', 'D+000002.4'), ('2021-04-06 01:33:57.590', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.6, 3.6, 3.0, 2.4, 3.4]
np.array X: [[2.8]
 [3.6]
 [3.6]
 [3. ]
 [2.4]
 [3.4]]
revised_weight: 3.3
2021-04-06 01:33:57.590: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:33:57.590
plc_result: True
sendmessage: 20210406013357590,1,000034,000033
send message to PLC: 2021-04-06 01:33:57.603
time gap: 0:00:00.007616
2021-04-06 01:33:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:58.042
lastevent: 2021-04-06 01:33:58.033, last ten sensor data: [0, ('2021-04-06 01:33:57.610', 'D+000003.2'), ('2021-04-06 01:33:57.740', 'D+000003.8'), ('2021-04-06 01:33:57.760', 'D+000003.6'), ('2021-04-06 01:33:57.780', 'D+000003.6'), ('2021-04-06 01:33:57.800', 'D+000003.6'), ('2021-04-06 01:33:57.820', 'D+000003.8'), ('2021-04-06 01:33:58.000', 'D+000003.6'), ('2021-04-06 01:33:58.020', 'D+000004.4'), ('2021-04-06 01:33:58.040', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.8, 3.6, 4.4, 4.4]
np.array X: [[3.6]
 [3.6]
 [3.8]
 [3.6]
 [4.4]
 [4.4]]
revised_weight: 4.2
2021-04-06 01:33:58.040: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:33:58.040
plc_result: True
sendmessage: 20210406013358040,1,000044,000042
send message to PLC: 2021-04-06 01:33:58.049
time gap: 0:00:00.006983
2021-04-06 01:33:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:33:58.695
lastevent: 2021-04-06 01:33:58.688, last ten sensor data: [('2021-04-06 01:33:58.220', 'D+000003.6'), ('2021-04-06 01:33:58.250', 'D+000003.6'), ('2021-04-06 01:33:58.270', 'D+000003.8'), ('2021-04-06 01:33:58.290', 'D+000003.8'), ('2021-04-06 01:33:58.310', 'D+000003.8'), ('2021-04-06 01:33:58.470', 'D+000006.2'), ('2021-04-06 01:33:58.490', 'D+000006.2'), ('2021-04-06 01:33:58.510', 'D+000005.4'), ('2021-04-06 01:33:58.530', 'D+000005.2'), ('2021-04-06 01:33:58.550', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 6.2, 6.2, 5.4, 5.2, 5.8]
np.array X: [[3.8]
 [6.2]
 [6.2]
 [5.4]
 [5.2]
 [5.8]]
revised_weight: 6.4
2021-04-06 01:33:58.550: revising weight finished
revised_weight: 6.4 at 2021-04-06 01:33:58.550
plc_result: True
sendmessage: 20210406013358550,1,000058,000064
send message to PLC: 2021-04-06 01:33:58.702
time gap: 0:00:00.007031
2021-04-06 01:33:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:01.237
lastevent: 2021-04-06 01:34:01.227, last ten sensor data: [('2021-04-06 01:34:00.760', 'D+000002.8'), ('2021-04-06 01:34:00.920', 'D+000002.6'), ('2021-04-06 01:34:00.940', 'D+000002.8'), ('2021-04-06 01:34:00.960', 'D+000003.0'), ('2021-04-06 01:34:00.980', 'D+000003.2'), ('2021-04-06 01:34:01.000', 'D+000003.2'), ('2021-04-06 01:34:01.180', 'D+000003.6'), ('2021-04-06 01:34:01.200', 'D+000003.8'), ('2021-04-06 01:34:01.220', 'D+000004.4'), ('2021-04-06 01:34:01.240', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.6, 3.8, 4.4, 4.4]
np.array X: [[3.2]
 [3.2]
 [3.6]
 [3.8]
 [4.4]
 [4.4]]
revised_weight: 4.1
2021-04-06 01:34:01.240: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:34:01.240
plc_result: True
sendmessage: 20210406013401240,1,000044,000041
send message to PLC: 2021-04-06 01:34:01.245
time gap: 0:00:00.008600
2021-04-06 01:34:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:01: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:34:01: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:34:01.678
lastevent: 2021-04-06 01:34:01.670, last ten sensor data: [0, 0, 0, ('2021-04-06 01:34:01.260', 'D+000004.2'), ('2021-04-06 01:34:01.400', 'D+000006.6'), ('2021-04-06 01:34:01.430', 'D+000006.4'), ('2021-04-06 01:34:01.450', 'D+000006.2'), ('2021-04-06 01:34:01.470', 'D+000006.2'), ('2021-04-06 01:34:01.490', 'D+000005.8'), ('2021-04-06 01:34:01.530', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.4, 6.2, 6.2, 5.8, 8.2]
np.array X: [[6.6]
 [6.4]
 [6.2]
 [6.2]
 [5.8]
 [8.2]]
revised_weight: 6.8
2021-04-06 01:34:01.530: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:34:01.530
plc_result: True
sendmessage: 20210406013401530,1,000082,000068
send message to PLC: 2021-04-06 01:34:01.684
time gap: 0:00:00.006690
2021-04-06 01:34:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:01: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:01: select done
2021-04-06 01:34:01: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:34:01: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:34:01: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:34:01: count: 5 in httpPlcDataSender thread
2021-04-06 01:34:01: D+: 5 in httpPlcDataSender thread
2021-04-06 01:34:01: D-: 0 in httpPlcDataSender thread
2021-04-06 01:34:01: S+: 0 in httpPlcDataSender thread
2021-04-06 01:34:01: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:33:57.590'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:33:58.040'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:33:58.550'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:34:01.240'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:34:01.530'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:57.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:58.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:58.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:01.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:01.530'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:34:01', 'collectDate': '2021-04-06 01:34:01', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:33:57.590'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:33:58.040'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:33:58.550'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:34:01.240'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:34:01.530'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:33:57.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:58.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:33:58.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:01.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:01.530'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:34:01: send http
2021-04-06 01:34:01: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:34:02: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:02: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:34:02.314
lastevent: 2021-04-06 01:34:02.297, last ten sensor data: [('2021-04-06 01:34:01.860', 'D+000006.2'), ('2021-04-06 01:34:01.940', 'D+000006.2'), ('2021-04-06 01:34:01.960', 'D+000005.6'), ('2021-04-06 01:34:01.980', 'D+000005.4'), ('2021-04-06 01:34:02.000', 'D+000005.2'), ('2021-04-06 01:34:02.180', 'D+000005.2'), ('2021-04-06 01:34:02.200', 'D+000006.0'), ('2021-04-06 01:34:02.220', 'D+000006.2'), ('2021-04-06 01:34:02.240', 'D+000005.4'), ('2021-04-06 01:34:02.260', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 6.0, 6.2, 5.4, 5.2]
np.array X: [[5.2]
 [5.2]
 [6. ]
 [6.2]
 [5.4]
 [5.2]]
revised_weight: 5.5
2021-04-06 01:34:02.260: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:34:02.260
plc_result: True
sendmessage: 20210406013402260,1,000052,000055
send message to PLC: 2021-04-06 01:34:02.334
time gap: 0:00:00.020635
2021-04-06 01:34:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:02.690
lastevent: 2021-04-06 01:34:02.681, last ten sensor data: [0, ('2021-04-06 01:34:02.340', 'D+000006.0'), ('2021-04-06 01:34:02.360', 'D+000005.6'), ('2021-04-06 01:34:02.420', 'D+000006.4'), ('2021-04-06 01:34:02.440', 'D+000006.0'), ('2021-04-06 01:34:02.460', 'D+000006.0'), ('2021-04-06 01:34:02.480', 'D+000005.8'), ('2021-04-06 01:34:02.500', 'D+000006.0'), ('2021-04-06 01:34:02.660', 'D+000005.8'), ('2021-04-06 01:34:02.680', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.0, 5.8, 6.0, 5.8, 5.4]
np.array X: [[6. ]
 [6. ]
 [5.8]
 [6. ]
 [5.8]
 [5.4]]
revised_weight: 5.8
2021-04-06 01:34:02.680: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:34:02.680
plc_result: True
sendmessage: 20210406013402680,1,000054,000058
send message to PLC: 2021-04-06 01:34:02.696
time gap: 0:00:00.006260
2021-04-06 01:34:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:05.531
lastevent: 2021-04-06 01:34:05.521, last ten sensor data: [('2021-04-06 01:34:05.120', 'D+000002.4'), ('2021-04-06 01:34:05.140', 'D+000002.4'), ('2021-04-06 01:34:05.160', 'D+000002.4'), ('2021-04-06 01:34:05.180', 'D+000002.6'), ('2021-04-06 01:34:05.210', 'D+000003.0'), ('2021-04-06 01:34:05.230', 'D+000003.0'), ('2021-04-06 01:34:05.250', 'D+000002.8'), ('2021-04-06 01:34:05.270', 'D+000003.0'), ('2021-04-06 01:34:05.510', 'D+000003.2'), ('2021-04-06 01:34:05.530', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 2.8, 3.0, 3.2, 4.0]
np.array X: [[3. ]
 [3. ]
 [2.8]
 [3. ]
 [3.2]
 [4. ]]
revised_weight: 3.6
2021-04-06 01:34:05.530: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:34:05.530
plc_result: True
sendmessage: 20210406013405530,1,000040,000036
send message to PLC: 2021-04-06 01:34:05.537
time gap: 0:00:00.006136
2021-04-06 01:34:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:06.545
lastevent: 2021-04-06 01:34:06.529, last ten sensor data: [('2021-04-06 01:34:06.050', 'D+000007.8'), ('2021-04-06 01:34:06.070', 'D+000007.8'), ('2021-04-06 01:34:06.250', 'D+000006.6'), ('2021-04-06 01:34:06.270', 'D+000006.2'), ('2021-04-06 01:34:06.290', 'D+000006.0'), ('2021-04-06 01:34:06.310', 'D+000005.8'), ('2021-04-06 01:34:06.330', 'D+000005.6'), ('2021-04-06 01:34:06.510', 'D+000005.6'), ('2021-04-06 01:34:06.530', 'D+000005.6'), ('2021-04-06 01:34:06.550', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 5.8, 5.6, 5.6, 5.6, 5.6]
np.array X: [[6. ]
 [5.8]
 [5.6]
 [5.6]
 [5.6]
 [5.6]]
revised_weight: 5.7
2021-04-06 01:34:06.550: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:34:06.550
plc_result: True
sendmessage: 20210406013406550,1,000056,000057
send message to PLC: 2021-04-06 01:34:06.552
time gap: 0:00:00.006956
2021-04-06 01:34:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:07: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:34:07: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:34:07.220
lastevent: 2021-04-06 01:34:07.213, last ten sensor data: [('2021-04-06 01:34:06.570', 'D+000005.8'), ('2021-04-06 01:34:06.740', 'D+000006.0'), ('2021-04-06 01:34:06.760', 'D+000005.8'), ('2021-04-06 01:34:06.780', 'D+000005.8'), ('2021-04-06 01:34:06.800', 'D+000005.6'), ('2021-04-06 01:34:06.980', 'D+000005.2'), ('2021-04-06 01:34:07.000', 'D+000005.4'), ('2021-04-06 01:34:07.020', 'D+000005.6'), ('2021-04-06 01:34:07.040', 'D+000005.2'), ('2021-04-06 01:34:07.060', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.2, 5.4, 5.6, 5.2, 5.2]
np.array X: [[5.6]
 [5.2]
 [5.4]
 [5.6]
 [5.2]
 [5.2]]
revised_weight: 5.4
2021-04-06 01:34:07.060: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:34:07.060
plc_result: True
sendmessage: 20210406013407060,1,000052,000054
send message to PLC: 2021-04-06 01:34:07.226
time gap: 0:00:00.006356
2021-04-06 01:34:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:07: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:07: select done
2021-04-06 01:34:07: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:34:07: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:34:07: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:34:07: count: 5 in httpPlcDataSender thread
2021-04-06 01:34:07: D+: 5 in httpPlcDataSender thread
2021-04-06 01:34:07: D-: 0 in httpPlcDataSender thread
2021-04-06 01:34:07: S+: 0 in httpPlcDataSender thread
2021-04-06 01:34:07: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.5', 'sensorAt': '2021-04-06 01:34:02.260'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:34:02.680'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:34:05.530'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:34:06.550'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:34:07.060'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:02.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:02.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:05.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:06.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:07.060'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:34:07', 'collectDate': '2021-04-06 01:34:07', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.5', 'sensorAt': '2021-04-06 01:34:02.260'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:34:02.680'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:34:05.530'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:34:06.550'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:34:07.060'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:02.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:02.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:05.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:06.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:07.060'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:34:07: send http
2021-04-06 01:34:07: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:34:07: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:07: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:34:07: httpScaleDataSender thread Timeout occurred
2021-04-06 01:34:07: [13720] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
2021-04-06 01:34:07: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:34:08.196
lastevent: 2021-04-06 01:34:08.175, last ten sensor data: [('2021-04-06 01:34:07.740', 'D+000004.2'), ('2021-04-06 01:34:07.760', 'D+000004.0'), ('2021-04-06 01:34:07.780', 'D+000004.0'), ('2021-04-06 01:34:07.950', 'D+000004.0'), ('2021-04-06 01:34:07.970', 'D+000004.0'), ('2021-04-06 01:34:07.990', 'D+000004.0'), ('2021-04-06 01:34:08.010', 'D+000004.2'), ('2021-04-06 01:34:08.030', 'D+000004.0'), ('2021-04-06 01:34:08.180', 'D+000004.4'), ('2021-04-06 01:34:08.200', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 4.2, 4.0, 4.4, 4.6]
np.array X: [[4. ]
 [4. ]
 [4.2]
 [4. ]
 [4.4]
 [4.6]]
revised_weight: 4.5
2021-04-06 01:34:08.200: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:34:08.200
plc_result: True
sendmessage: 20210406013408200,1,000046,000045
send message to PLC: 2021-04-06 01:34:08.208
time gap: 0:00:00.011714
2021-04-06 01:34:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:08.579
lastevent: 2021-04-06 01:34:08.571, last ten sensor data: [0, ('2021-04-06 01:34:08.220', 'D+000004.6'), ('2021-04-06 01:34:08.240', 'D+000004.0'), ('2021-04-06 01:34:08.260', 'D+000004.6'), ('2021-04-06 01:34:08.430', 'D+000005.4'), ('2021-04-06 01:34:08.450', 'D+000005.4'), ('2021-04-06 01:34:08.470', 'D+000004.8'), ('2021-04-06 01:34:08.490', 'D+000004.8'), ('2021-04-06 01:34:08.510', 'D+000005.2'), ('2021-04-06 01:34:08.530', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.4, 4.8, 4.8, 5.2, 5.2]
np.array X: [[5.4]
 [5.4]
 [4.8]
 [4.8]
 [5.2]
 [5.2]]
revised_weight: 5.2
2021-04-06 01:34:08.530: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:34:08.530
plc_result: True
sendmessage: 20210406013408530,1,000052,000052
send message to PLC: 2021-04-06 01:34:08.586
time gap: 0:00:00.006344
2021-04-06 01:34:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:09.047
lastevent: 2021-04-06 01:34:09.030, last ten sensor data: [('2021-04-06 01:34:08.710', 'D+000005.4'), ('2021-04-06 01:34:08.730', 'D+000005.4'), ('2021-04-06 01:34:08.750', 'D+000005.4'), ('2021-04-06 01:34:08.770', 'D+000005.4'), ('2021-04-06 01:34:08.930', 'D+000005.6'), ('2021-04-06 01:34:08.950', 'D+000005.4'), ('2021-04-06 01:34:08.970', 'D+000005.2'), ('2021-04-06 01:34:08.990', 'D+000005.2'), ('2021-04-06 01:34:09.010', 'D+000005.2'), ('2021-04-06 01:34:09.040', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.4, 5.2, 5.2, 5.2, 4.6]
np.array X: [[5.6]
 [5.4]
 [5.2]
 [5.2]
 [5.2]
 [4.6]]
revised_weight: 5.1
2021-04-06 01:34:09.040: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:34:09.040
plc_result: True
sendmessage: 20210406013409040,1,000046,000051
send message to PLC: 2021-04-06 01:34:09.054
time gap: 0:00:00.006190
2021-04-06 01:34:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:10.792
lastevent: 2021-04-06 01:34:10.777, last ten sensor data: [('2021-04-06 01:34:10.420', 'D+000003.6'), ('2021-04-06 01:34:10.440', 'D+000003.4'), ('2021-04-06 01:34:10.460', 'D+000003.6'), ('2021-04-06 01:34:10.570', 'D+000004.0'), ('2021-04-06 01:34:10.620', 'D+000004.0'), ('2021-04-06 01:34:10.640', 'D+000004.0'), ('2021-04-06 01:34:10.660', 'D+000004.0'), ('2021-04-06 01:34:10.680', 'D+000004.0'), ('2021-04-06 01:34:10.700', 'D+000004.0'), ('2021-04-06 01:34:10.720', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 4.0, 4.0, 4.0, 4.0]
np.array X: [[4.]
 [4.]
 [4.]
 [4.]
 [4.]
 [4.]]
revised_weight: 4.0
2021-04-06 01:34:10.720: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:34:10.720
plc_result: True
sendmessage: 20210406013410720,1,000040,000040
send message to PLC: 2021-04-06 01:34:10.799
time gap: 0:00:00.006436
2021-04-06 01:34:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:34:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:11.524
lastevent: 2021-04-06 01:34:11.514, last ten sensor data: [('2021-04-06 01:34:11.200', 'D+000006.0'), ('2021-04-06 01:34:11.220', 'D+000006.2'), ('2021-04-06 01:34:11.240', 'D+000005.4'), ('2021-04-06 01:34:11.260', 'D+000005.4'), ('2021-04-06 01:34:11.380', 'D+000008.0'), ('2021-04-06 01:34:11.430', 'D+000011.6'), ('2021-04-06 01:34:11.450', 'D+000012.8'), ('2021-04-06 01:34:11.470', 'D+000011.0'), ('2021-04-06 01:34:11.490', 'D+000008.2'), ('2021-04-06 01:34:11.510', 'D+000014.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.0, 11.6, 12.8, 11.0, 8.2, 14.6]
np.array X: [[ 8. ]
 [11.6]
 [12.8]
 [11. ]
 [ 8.2]
 [14.6]]
revised_weight: 14.5
2021-04-06 01:34:11.510: revising weight finished
revised_weight: 14.5 at 2021-04-06 01:34:11.510
plc_result: True
sendmessage: 20210406013411510,1,000146,000145
send message to PLC: 2021-04-06 01:34:11.530
time gap: 0:00:00.006294
2021-04-06 01:34:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:12: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:34:12: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:12: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:12: select done
2021-04-06 01:34:12: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:34:12: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:34:13: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:34:13: count: 5 in httpPlcDataSender thread
2021-04-06 01:34:13: D+: 5 in httpPlcDataSender thread
2021-04-06 01:34:13: D-: 0 in httpPlcDataSender thread
2021-04-06 01:34:13: S+: 0 in httpPlcDataSender thread
2021-04-06 01:34:13: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:34:08.200'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:34:08.530'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:34:09.040'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:34:10.720'}, {'value': '14.5', 'sensorAt': '2021-04-06 01:34:11.510'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:08.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:08.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:09.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:10.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:11.510'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:34:13', 'collectDate': '2021-04-06 01:34:11', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:34:08.200'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:34:08.530'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:34:09.040'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:34:10.720'}, {'value': '14.5', 'sensorAt': '2021-04-06 01:34:11.510'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:08.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:08.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:09.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:10.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:11.510'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:34:13: send http
2021-04-06 01:34:13: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:34:13: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:13: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:34:14.090
lastevent: 2021-04-06 01:34:14.088, last ten sensor data: [('2021-04-06 01:34:13.610', 'D+000002.6'), ('2021-04-06 01:34:13.640', 'D+000003.2'), ('2021-04-06 01:34:13.660', 'D+000003.2'), ('2021-04-06 01:34:13.680', 'D+000003.2'), ('2021-04-06 01:34:13.700', 'D+000002.8'), ('2021-04-06 01:34:13.860', 'D+000004.2'), ('2021-04-06 01:34:13.880', 'D+000004.4'), ('2021-04-06 01:34:13.900', 'D+000005.0'), ('2021-04-06 01:34:13.920', 'D+000004.8'), ('2021-04-06 01:34:13.940', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 4.2, 4.4, 5.0, 4.8, 4.6]
np.array X: [[2.8]
 [4.2]
 [4.4]
 [5. ]
 [4.8]
 [4.6]]
revised_weight: 4.1
2021-04-06 01:34:13.940: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:34:13.940
plc_result: True
sendmessage: 20210406013413940,1,000046,000041
send message to PLC: 2021-04-06 01:34:14.105
time gap: 0:00:00.014881
2021-04-06 01:34:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:14.487
lastevent: 2021-04-06 01:34:14.476, last ten sensor data: [('2021-04-06 01:34:14.120', 'D+000006.0'), ('2021-04-06 01:34:14.140', 'D+000005.8'), ('2021-04-06 01:34:14.160', 'D+000005.6'), ('2021-04-06 01:34:14.180', 'D+000006.0'), ('2021-04-06 01:34:14.230', 'D+000006.4'), ('2021-04-06 01:34:14.390', 'D+000007.0'), ('2021-04-06 01:34:14.420', 'D+000006.2'), ('2021-04-06 01:34:14.440', 'D+000006.6'), ('2021-04-06 01:34:14.460', 'D+000006.4'), ('2021-04-06 01:34:14.480', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 7.0, 6.2, 6.6, 6.4, 6.6]
np.array X: [[6.4]
 [7. ]
 [6.2]
 [6.6]
 [6.4]
 [6.6]]
revised_weight: 6.5
2021-04-06 01:34:14.480: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:34:14.480
plc_result: True
sendmessage: 20210406013414480,1,000066,000065
send message to PLC: 2021-04-06 01:34:14.500
time gap: 0:00:00.012667
2021-04-06 01:34:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:16.818
lastevent: 2021-04-06 01:34:16.814, last ten sensor data: [('2021-04-06 01:34:16.160', 'D+000004.0'), ('2021-04-06 01:34:16.180', 'D+000003.8'), ('2021-04-06 01:34:16.370', 'D+000003.6'), ('2021-04-06 01:34:16.390', 'D+000003.6'), ('2021-04-06 01:34:16.560', 'D+000003.4'), ('2021-04-06 01:34:16.580', 'D+000003.8'), ('2021-04-06 01:34:16.600', 'D+000003.8'), ('2021-04-06 01:34:16.620', 'D+000003.8'), ('2021-04-06 01:34:16.640', 'D+000003.8'), ('2021-04-06 01:34:16.790', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.8, 3.8, 3.8, 3.8, 3.6]
np.array X: [[3.4]
 [3.8]
 [3.8]
 [3.8]
 [3.8]
 [3.6]]
revised_weight: 3.7
2021-04-06 01:34:16.790: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:34:16.790
plc_result: True
sendmessage: 20210406013416790,1,000036,000037
send message to PLC: 2021-04-06 01:34:16.831
time gap: 0:00:00.013249
2021-04-06 01:34:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:18: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:34:18: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:18: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:18: select done
2021-04-06 01:34:18: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:34:18: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:34:18.558
lastevent: 2021-04-06 01:34:18.549, last ten sensor data: [('2021-04-06 01:34:18.080', 'D+000003.8'), ('2021-04-06 01:34:18.100', 'D+000004.0'), ('2021-04-06 01:34:18.120', 'D+000004.0'), ('2021-04-06 01:34:18.140', 'D+000004.0'), ('2021-04-06 01:34:18.160', 'D+000004.2'), ('2021-04-06 01:34:18.330', 'D+000005.4'), ('2021-04-06 01:34:18.350', 'D+000005.6'), ('2021-04-06 01:34:18.370', 'D+000005.6'), ('2021-04-06 01:34:18.390', 'D+000005.2'), ('2021-04-06 01:34:18.410', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.4, 5.6, 5.6, 5.2, 5.6]
np.array X: [[4.2]
 [5.4]
 [5.6]
 [5.6]
 [5.2]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:34:18.410: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:34:18.410
plc_result: True
sendmessage: 20210406013418410,1,000056,000055
send message to PLC: 2021-04-06 01:34:18.570
time gap: 0:00:00.012596
2021-04-06 01:34:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:18: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:34:18: count: 3 in httpPlcDataSender thread
2021-04-06 01:34:18: D+: 3 in httpPlcDataSender thread
2021-04-06 01:34:18: D-: 0 in httpPlcDataSender thread
2021-04-06 01:34:18: S+: 0 in httpPlcDataSender thread
2021-04-06 01:34:18: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:34:13.940'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:34:14.480'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:34:16.790'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:13.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:14.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:16.790'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:34:18', 'collectDate': '2021-04-06 01:34:16', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:34:13.940'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:34:14.480'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:34:16.790'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:13.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:14.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:16.790'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:34:18: send http
2021-04-06 01:34:18: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:34:18: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:19: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:34:19.887
lastevent: 2021-04-06 01:34:19.876, last ten sensor data: [('2021-04-06 01:34:19.490', 'D+000004.2'), ('2021-04-06 01:34:19.520', 'D+000004.2'), ('2021-04-06 01:34:19.540', 'D+000004.4'), ('2021-04-06 01:34:19.560', 'D+000004.2'), ('2021-04-06 01:34:19.580', 'D+000004.2'), ('2021-04-06 01:34:19.740', 'D+000005.6'), ('2021-04-06 01:34:19.760', 'D+000005.4'), ('2021-04-06 01:34:19.780', 'D+000005.4'), ('2021-04-06 01:34:19.800', 'D+000005.4'), ('2021-04-06 01:34:19.820', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.6, 5.4, 5.4, 5.4, 5.2]
np.array X: [[4.2]
 [5.6]
 [5.4]
 [5.4]
 [5.4]
 [5.2]]
revised_weight: 5.1
2021-04-06 01:34:19.820: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:34:19.820
plc_result: True
sendmessage: 20210406013419820,1,000052,000051
send message to PLC: 2021-04-06 01:34:19.910
time gap: 0:00:00.022460
2021-04-06 01:34:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:20.956
lastevent: 2021-04-06 01:34:20.953, last ten sensor data: [('2021-04-06 01:34:20.300', 'D+000004.6'), ('2021-04-06 01:34:20.480', 'D+000004.0'), ('2021-04-06 01:34:20.500', 'D+000004.2'), ('2021-04-06 01:34:20.520', 'D+000004.2'), ('2021-04-06 01:34:20.540', 'D+000004.4'), ('2021-04-06 01:34:20.560', 'D+000004.2'), ('2021-04-06 01:34:20.740', 'D+000007.0'), ('2021-04-06 01:34:20.760', 'D+000007.0'), ('2021-04-06 01:34:20.780', 'D+000007.2'), ('2021-04-06 01:34:20.800', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.2, 7.0, 7.0, 7.2, 7.4]
np.array X: [[4.4]
 [4.2]
 [7. ]
 [7. ]
 [7.2]
 [7.4]]
revised_weight: 6.8
2021-04-06 01:34:20.800: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:34:20.800
plc_result: True
sendmessage: 20210406013420800,1,000074,000068
send message to PLC: 2021-04-06 01:34:20.969
time gap: 0:00:00.013046
2021-04-06 01:34:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:22.782
lastevent: 2021-04-06 01:34:22.770, last ten sensor data: [('2021-04-06 01:34:22.430', 'D+000006.0'), ('2021-04-06 01:34:22.450', 'D+000006.8'), ('2021-04-06 01:34:22.470', 'D+000007.2'), ('2021-04-06 01:34:22.490', 'D+000007.4'), ('2021-04-06 01:34:22.510', 'D+000007.6'), ('2021-04-06 01:34:22.670', 'D+000009.4'), ('2021-04-06 01:34:22.690', 'D+000009.0'), ('2021-04-06 01:34:22.710', 'D+000008.8'), ('2021-04-06 01:34:22.730', 'D+000009.2'), ('2021-04-06 01:34:22.750', 'D+000009.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.6, 9.4, 9.0, 8.8, 9.2, 9.6]
np.array X: [[7.6]
 [9.4]
 [9. ]
 [8.8]
 [9.2]
 [9.6]]
revised_weight: 8.5
2021-04-06 01:34:22.750: revising weight finished
revised_weight: 8.5 at 2021-04-06 01:34:22.750
plc_result: True
sendmessage: 20210406013422750,1,000096,000085
send message to PLC: 2021-04-06 01:34:22.795
time gap: 0:00:00.013141
2021-04-06 01:34:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:23.526
lastevent: 2021-04-06 01:34:23.518, last ten sensor data: [('2021-04-06 01:34:22.990', 'D+000008.4'), ('2021-04-06 01:34:23.150', 'D+000007.2'), ('2021-04-06 01:34:23.180', 'D+000006.8'), ('2021-04-06 01:34:23.200', 'D+000008.0'), ('2021-04-06 01:34:23.220', 'D+000008.6'), ('2021-04-06 01:34:23.240', 'D+000008.8'), ('2021-04-06 01:34:23.410', 'D+000007.8'), ('2021-04-06 01:34:23.430', 'D+000007.6'), ('2021-04-06 01:34:23.450', 'D+000006.0'), ('2021-04-06 01:34:23.510', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 8.8, 7.8, 7.6, 6.0, 7.6]
np.array X: [[8.6]
 [8.8]
 [7.8]
 [7.6]
 [6. ]
 [7.6]]
revised_weight: 7.8
2021-04-06 01:34:23.510: revising weight finished
revised_weight: 7.8 at 2021-04-06 01:34:23.510
plc_result: True
sendmessage: 20210406013423510,1,000076,000078
send message to PLC: 2021-04-06 01:34:23.539
time gap: 0:00:00.013160
2021-04-06 01:34:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:24: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:34:24: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:24: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:24: select done
2021-04-06 01:34:24: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:34:24: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:34:24: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:34:24: count: 5 in httpPlcDataSender thread
2021-04-06 01:34:24: D+: 5 in httpPlcDataSender thread
2021-04-06 01:34:24: D-: 0 in httpPlcDataSender thread
2021-04-06 01:34:24: S+: 0 in httpPlcDataSender thread
2021-04-06 01:34:24: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.5', 'sensorAt': '2021-04-06 01:34:18.410'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:34:19.820'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:34:20.800'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:34:22.750'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:34:23.510'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:18.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:19.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:20.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:22.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:23.510'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:34:24', 'collectDate': '2021-04-06 01:34:23', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.5', 'sensorAt': '2021-04-06 01:34:18.410'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:34:19.820'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:34:20.800'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:34:22.750'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:34:23.510'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:18.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:19.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:20.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:22.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:23.510'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:34:24: send http
2021-04-06 01:34:24: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:34:24: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:24: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:34:24.756
lastevent: 2021-04-06 01:34:24.744, last ten sensor data: [('2021-04-06 01:34:24.270', 'D+000004.2'), ('2021-04-06 01:34:24.290', 'D+000004.4'), ('2021-04-06 01:34:24.310', 'D+000004.2'), ('2021-04-06 01:34:24.390', 'D+000004.4'), ('2021-04-06 01:34:24.490', 'D+000006.4'), ('2021-04-06 01:34:24.510', 'D+000006.2'), ('2021-04-06 01:34:24.530', 'D+000005.6'), ('2021-04-06 01:34:24.550', 'D+000005.4'), ('2021-04-06 01:34:24.570', 'D+000006.2'), ('2021-04-06 01:34:24.740', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.2, 5.6, 5.4, 6.2, 7.0]
np.array X: [[6.4]
 [6.2]
 [5.6]
 [5.4]
 [6.2]
 [7. ]]
revised_weight: 6.0
2021-04-06 01:34:24.740: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:34:24.740
plc_result: True
sendmessage: 20210406013424740,1,000070,000060
send message to PLC: 2021-04-06 01:34:24.769
time gap: 0:00:00.012639
2021-04-06 01:34:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:26.016
lastevent: 2021-04-06 01:34:26.003, last ten sensor data: [('2021-04-06 01:34:25.630', 'D+000004.0'), ('2021-04-06 01:34:25.650', 'D+000003.8'), ('2021-04-06 01:34:25.670', 'D+000004.0'), ('2021-04-06 01:34:25.690', 'D+000004.0'), ('2021-04-06 01:34:25.850', 'D+000005.2'), ('2021-04-06 01:34:25.870', 'D+000005.2'), ('2021-04-06 01:34:25.890', 'D+000005.4'), ('2021-04-06 01:34:25.910', 'D+000005.4'), ('2021-04-06 01:34:25.930', 'D+000005.6'), ('2021-04-06 01:34:25.950', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 5.4, 5.4, 5.6, 5.6]
np.array X: [[5.2]
 [5.2]
 [5.4]
 [5.4]
 [5.6]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:34:25.950: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:34:25.950
plc_result: True
sendmessage: 20210406013425950,1,000056,000054
send message to PLC: 2021-04-06 01:34:26.029
time gap: 0:00:00.013035
2021-04-06 01:34:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:27.216
lastevent: 2021-04-06 01:34:27.203, last ten sensor data: [('2021-04-06 01:34:26.810', 'D+000004.0'), ('2021-04-06 01:34:26.830', 'D+000004.0'), ('2021-04-06 01:34:26.850', 'D+000004.0'), ('2021-04-06 01:34:26.870', 'D+000004.2'), ('2021-04-06 01:34:27.030', 'D+000005.2'), ('2021-04-06 01:34:27.050', 'D+000005.6'), ('2021-04-06 01:34:27.070', 'D+000005.6'), ('2021-04-06 01:34:27.090', 'D+000005.6'), ('2021-04-06 01:34:27.110', 'D+000005.2'), ('2021-04-06 01:34:27.130', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.6, 5.6, 5.6, 5.2, 5.2]
np.array X: [[5.2]
 [5.6]
 [5.6]
 [5.6]
 [5.2]
 [5.2]]
revised_weight: 5.3
2021-04-06 01:34:27.130: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:34:27.130
plc_result: True
sendmessage: 20210406013427130,1,000052,000053
send message to PLC: 2021-04-06 01:34:27.229
time gap: 0:00:00.012815
2021-04-06 01:34:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:27.672
lastevent: 2021-04-06 01:34:27.668, last ten sensor data: [0, ('2021-04-06 01:34:27.290', 'D+000006.4'), ('2021-04-06 01:34:27.310', 'D+000007.6'), ('2021-04-06 01:34:27.330', 'D+000007.8'), ('2021-04-06 01:34:27.350', 'D+000007.0'), ('2021-04-06 01:34:27.530', 'D+000010.0'), ('2021-04-06 01:34:27.550', 'D+000010.6'), ('2021-04-06 01:34:27.570', 'D+000010.0'), ('2021-04-06 01:34:27.590', 'D+000008.4'), ('2021-04-06 01:34:27.610', 'D+000009.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 10.0, 10.6, 10.0, 8.4, 9.6]
np.array X: [[ 7. ]
 [10. ]
 [10.6]
 [10. ]
 [ 8.4]
 [ 9.6]]
revised_weight: 11.0
2021-04-06 01:34:27.610: revising weight finished
revised_weight: 11.0 at 2021-04-06 01:34:27.610
plc_result: True
sendmessage: 20210406013427610,1,000096,000110
send message to PLC: 2021-04-06 01:34:27.679
time gap: 0:00:00.006957
2021-04-06 01:34:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:29.192
lastevent: 2021-04-06 01:34:29.187, last ten sensor data: [('2021-04-06 01:34:28.580', 'D+000004.6'), ('2021-04-06 01:34:28.760', 'D+000003.8'), ('2021-04-06 01:34:28.780', 'D+000003.8'), ('2021-04-06 01:34:28.800', 'D+000004.0'), ('2021-04-06 01:34:28.820', 'D+000004.2'), ('2021-04-06 01:34:29.000', 'D+000005.0'), ('2021-04-06 01:34:29.020', 'D+000005.0'), ('2021-04-06 01:34:29.040', 'D+000004.6'), ('2021-04-06 01:34:29.060', 'D+000004.4'), ('2021-04-06 01:34:29.080', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.0, 5.0, 4.6, 4.4, 4.6]
np.array X: [[4.2]
 [5. ]
 [5. ]
 [4.6]
 [4.4]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:34:29.080: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:34:29.080
plc_result: True
sendmessage: 20210406013429080,1,000046,000046
send message to PLC: 2021-04-06 01:34:29.205
time gap: 0:00:00.012723
2021-04-06 01:34:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:29: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:34:29: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:29: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:29: select done
2021-04-06 01:34:29: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:34:29: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:34:29: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:34:29: count: 5 in httpPlcDataSender thread
2021-04-06 01:34:29: D+: 5 in httpPlcDataSender thread
2021-04-06 01:34:29: D-: 0 in httpPlcDataSender thread
2021-04-06 01:34:29: S+: 0 in httpPlcDataSender thread
2021-04-06 01:34:29: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.0', 'sensorAt': '2021-04-06 01:34:24.740'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:34:25.950'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:34:27.130'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:34:27.610'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:34:29.080'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:24.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:25.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:27.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:27.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:29.080'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:34:29', 'collectDate': '2021-04-06 01:34:29', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.0', 'sensorAt': '2021-04-06 01:34:24.740'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:34:25.950'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:34:27.130'}, {'value': '11.0', 'sensorAt': '2021-04-06 01:34:27.610'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:34:29.080'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:24.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:25.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:27.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:27.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:29.080'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:34:29: send http
2021-04-06 01:34:30: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:34:30: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:30: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:34:30.429
lastevent: 2021-04-06 01:34:30.419, last ten sensor data: [('2021-04-06 01:34:29.880', 'D+000003.8'), ('2021-04-06 01:34:29.960', 'D+000003.4'), ('2021-04-06 01:34:29.990', 'D+000003.8'), ('2021-04-06 01:34:30.020', 'D+000004.4'), ('2021-04-06 01:34:30.040', 'D+000004.2'), ('2021-04-06 01:34:30.230', 'D+000007.0'), ('2021-04-06 01:34:30.250', 'D+000006.6'), ('2021-04-06 01:34:30.270', 'D+000006.4'), ('2021-04-06 01:34:30.290', 'D+000007.0'), ('2021-04-06 01:34:30.310', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 7.0, 6.6, 6.4, 7.0, 7.4]
np.array X: [[4.2]
 [7. ]
 [6.6]
 [6.4]
 [7. ]
 [7.4]]
revised_weight: 7.2
2021-04-06 01:34:30.310: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:34:30.310
plc_result: True
sendmessage: 20210406013430310,1,000074,000072
send message to PLC: 2021-04-06 01:34:30.444
time gap: 0:00:00.014524
2021-04-06 01:34:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:31.023
lastevent: 2021-04-06 01:34:31.014, last ten sensor data: [('2021-04-06 01:34:30.710', 'D+000007.4'), ('2021-04-06 01:34:30.730', 'D+000007.8'), ('2021-04-06 01:34:30.750', 'D+000007.4'), ('2021-04-06 01:34:30.770', 'D+000007.6'), ('2021-04-06 01:34:30.790', 'D+000007.6'), ('2021-04-06 01:34:30.950', 'D+000007.8'), ('2021-04-06 01:34:30.970', 'D+000006.4'), ('2021-04-06 01:34:30.990', 'D+000006.4'), ('2021-04-06 01:34:31.010', 'D+000007.8'), ('2021-04-06 01:34:31.030', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.6, 7.8, 6.4, 6.4, 7.8, 7.6]
np.array X: [[7.6]
 [7.8]
 [6.4]
 [6.4]
 [7.8]
 [7.6]]
revised_weight: 7.3
2021-04-06 01:34:31.030: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:34:31.030
plc_result: True
sendmessage: 20210406013431030,1,000076,000073
send message to PLC: 2021-04-06 01:34:31.030
time gap: 0:00:00.006523
2021-04-06 01:34:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:33.782
lastevent: 2021-04-06 01:34:33.768, last ten sensor data: [('2021-04-06 01:34:33.310', 'D+000002.8'), ('2021-04-06 01:34:33.330', 'D+000002.8'), ('2021-04-06 01:34:33.350', 'D+000002.8'), ('2021-04-06 01:34:33.500', 'D+000005.4'), ('2021-04-06 01:34:33.520', 'D+000006.6'), ('2021-04-06 01:34:33.540', 'D+000007.4'), ('2021-04-06 01:34:33.560', 'D+000007.4'), ('2021-04-06 01:34:33.580', 'D+000006.8'), ('2021-04-06 01:34:33.750', 'D+000007.4'), ('2021-04-06 01:34:33.770', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 7.4, 7.4, 6.8, 7.4, 7.8]
np.array X: [[6.6]
 [7.4]
 [7.4]
 [6.8]
 [7.4]
 [7.8]]
revised_weight: 6.8
2021-04-06 01:34:33.770: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:34:33.770
plc_result: True
sendmessage: 20210406013433770,1,000078,000068
send message to PLC: 2021-04-06 01:34:33.793
time gap: 0:00:00.011103
2021-04-06 01:34:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:34.738
lastevent: 2021-04-06 01:34:34.725, last ten sensor data: [('2021-04-06 01:34:34.250', 'D+000005.4'), ('2021-04-06 01:34:34.270', 'D+000005.4'), ('2021-04-06 01:34:34.290', 'D+000005.6'), ('2021-04-06 01:34:34.310', 'D+000005.6'), ('2021-04-06 01:34:34.490', 'D+000007.0'), ('2021-04-06 01:34:34.510', 'D+000008.0'), ('2021-04-06 01:34:34.530', 'D+000008.8'), ('2021-04-06 01:34:34.550', 'D+000010.4'), ('2021-04-06 01:34:34.570', 'D+000010.8'), ('2021-04-06 01:34:34.730', 'D+000020.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 8.0, 8.8, 10.4, 10.8, 20.6]
np.array X: [[ 7. ]
 [ 8. ]
 [ 8.8]
 [10.4]
 [10.8]
 [20.6]]
revised_weight: 16.0
2021-04-06 01:34:34.730: revising weight finished
revised_weight: 16.0 at 2021-04-06 01:34:34.730
plc_result: False
sendmessage: 20210406013434730,0,000206,000160
send message to PLC: 2021-04-06 01:34:34.749
time gap: 0:00:00.011371
2021-04-06 01:34:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:35: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:34:35: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:35: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:35: select done
2021-04-06 01:34:35: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:34:35: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:34:35: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:34:35: count: 4 in httpPlcDataSender thread
2021-04-06 01:34:35: D+: 4 in httpPlcDataSender thread
2021-04-06 01:34:35: D-: 0 in httpPlcDataSender thread
2021-04-06 01:34:35: S+: 0 in httpPlcDataSender thread
2021-04-06 01:34:35: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.2', 'sensorAt': '2021-04-06 01:34:30.310'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:34:31.030'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:34:33.770'}, {'value': '16.0', 'sensorAt': '2021-04-06 01:34:34.730'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:30.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:31.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:33.770'}, {'value': 0, 'sensorAt': '2021-04-06 01:34:34.730'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:34:35', 'collectDate': '2021-04-06 01:34:34', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.2', 'sensorAt': '2021-04-06 01:34:30.310'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:34:31.030'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:34:33.770'}, {'value': '16.0', 'sensorAt': '2021-04-06 01:34:34.730'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:30.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:31.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:33.770'}, {'value': 0, 'sensorAt': '2021-04-06 01:34:34.730'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:34:35: send http
2021-04-06 01:34:35: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:34:35: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:35: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:34:36.086
lastevent: 2021-04-06 01:34:36.076, last ten sensor data: [('2021-04-06 01:34:35.720', 'D+000004.0'), ('2021-04-06 01:34:35.740', 'D+000004.2'), ('2021-04-06 01:34:35.760', 'D+000004.2'), ('2021-04-06 01:34:35.780', 'D+000004.0'), ('2021-04-06 01:34:35.800', 'D+000003.8'), ('2021-04-06 01:34:35.960', 'D+000004.6'), ('2021-04-06 01:34:35.980', 'D+000004.6'), ('2021-04-06 01:34:36.000', 'D+000004.8'), ('2021-04-06 01:34:36.020', 'D+000004.6'), ('2021-04-06 01:34:36.040', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.6, 4.6, 4.8, 4.6, 4.6]
np.array X: [[3.8]
 [4.6]
 [4.6]
 [4.8]
 [4.6]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:34:36.040: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:34:36.040
plc_result: True
sendmessage: 20210406013436040,1,000046,000046
send message to PLC: 2021-04-06 01:34:36.097
time gap: 0:00:00.011040
2021-04-06 01:34:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:37.159
lastevent: 2021-04-06 01:34:37.150, last ten sensor data: [('2021-04-06 01:34:36.520', 'D+000003.8'), ('2021-04-06 01:34:36.680', 'D+000002.8'), ('2021-04-06 01:34:36.710', 'D+000003.2'), ('2021-04-06 01:34:36.730', 'D+000003.2'), ('2021-04-06 01:34:36.750', 'D+000003.0'), ('2021-04-06 01:34:36.770', 'D+000003.2'), ('2021-04-06 01:34:36.940', 'D+000003.6'), ('2021-04-06 01:34:36.960', 'D+000003.6'), ('2021-04-06 01:34:36.980', 'D+000004.0'), ('2021-04-06 01:34:37.000', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.2, 3.6, 3.6, 4.0, 4.2]
np.array X: [[3. ]
 [3.2]
 [3.6]
 [3.6]
 [4. ]
 [4.2]]
revised_weight: 3.9
2021-04-06 01:34:37.000: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:34:37.000
plc_result: True
sendmessage: 20210406013437000,1,000042,000039
send message to PLC: 2021-04-06 01:34:37.173
time gap: 0:00:00.014375
2021-04-06 01:34:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:38.251
lastevent: 2021-04-06 01:34:38.240, last ten sensor data: [('2021-04-06 01:34:37.910', 'D+000003.6'), ('2021-04-06 01:34:37.930', 'D+000003.6'), ('2021-04-06 01:34:37.950', 'D+000003.6'), ('2021-04-06 01:34:37.970', 'D+000003.8'), ('2021-04-06 01:34:37.990', 'D+000003.8'), ('2021-04-06 01:34:38.150', 'D+000005.4'), ('2021-04-06 01:34:38.170', 'D+000005.0'), ('2021-04-06 01:34:38.190', 'D+000005.2'), ('2021-04-06 01:34:38.210', 'D+000005.4'), ('2021-04-06 01:34:38.230', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.4, 5.0, 5.2, 5.4, 5.0]
np.array X: [[3.8]
 [5.4]
 [5. ]
 [5.2]
 [5.4]
 [5. ]]
revised_weight: 4.4
2021-04-06 01:34:38.230: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:34:38.230
plc_result: True
sendmessage: 20210406013438230,1,000050,000044
send message to PLC: 2021-04-06 01:34:38.262
time gap: 0:00:00.011246
2021-04-06 01:34:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:39.176
lastevent: 2021-04-06 01:34:39.164, last ten sensor data: [('2021-04-06 01:34:38.680', 'D+000004.6'), ('2021-04-06 01:34:38.700', 'D+000004.4'), ('2021-04-06 01:34:38.720', 'D+000004.2'), ('2021-04-06 01:34:38.880', 'D+000003.8'), ('2021-04-06 01:34:38.900', 'D+000003.8'), ('2021-04-06 01:34:38.920', 'D+000003.8'), ('2021-04-06 01:34:38.940', 'D+000003.8'), ('2021-04-06 01:34:38.960', 'D+000003.8'), ('2021-04-06 01:34:39.150', 'D+000004.6'), ('2021-04-06 01:34:39.170', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 3.8, 3.8, 4.6, 4.4]
np.array X: [[3.8]
 [3.8]
 [3.8]
 [3.8]
 [4.6]
 [4.4]]
revised_weight: 4.4
2021-04-06 01:34:39.170: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:34:39.170
plc_result: True
sendmessage: 20210406013439170,1,000044,000044
send message to PLC: 2021-04-06 01:34:39.188
time gap: 0:00:00.011394
2021-04-06 01:34:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:34:40.420
lastevent: 2021-04-06 01:34:40.407, last ten sensor data: [('2021-04-06 01:34:40.100', 'D+000003.4'), ('2021-04-06 01:34:40.120', 'D+000003.4'), ('2021-04-06 01:34:40.140', 'D+000003.6'), ('2021-04-06 01:34:40.160', 'D+000003.8'), ('2021-04-06 01:34:40.180', 'D+000004.0'), ('2021-04-06 01:34:40.340', 'D+000004.0'), ('2021-04-06 01:34:40.360', 'D+000004.0'), ('2021-04-06 01:34:40.380', 'D+000004.0'), ('2021-04-06 01:34:40.400', 'D+000004.2'), ('2021-04-06 01:34:40.420', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 4.0, 4.0, 4.2, 4.2]
np.array X: [[4. ]
 [4. ]
 [4. ]
 [4. ]
 [4.2]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:34:40.420: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:34:40.420
plc_result: True
sendmessage: 20210406013440420,1,000042,000043
send message to PLC: 2021-04-06 01:34:40.432
time gap: 0:00:00.011259
2021-04-06 01:34:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:40: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:34:40: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:41: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:41: select done
2021-04-06 01:34:41: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:34:41: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:34:41: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:34:41: count: 5 in httpPlcDataSender thread
2021-04-06 01:34:41: D+: 5 in httpPlcDataSender thread
2021-04-06 01:34:41: D-: 0 in httpPlcDataSender thread
2021-04-06 01:34:41: S+: 0 in httpPlcDataSender thread
2021-04-06 01:34:41: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.6', 'sensorAt': '2021-04-06 01:34:36.040'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:34:37.000'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:34:38.230'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:34:39.170'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:34:40.420'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:36.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:37.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:38.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:39.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:40.420'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:34:41', 'collectDate': '2021-04-06 01:34:40', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.6', 'sensorAt': '2021-04-06 01:34:36.040'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:34:37.000'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:34:38.230'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:34:39.170'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:34:40.420'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:36.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:37.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:38.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:39.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:40.420'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:34:41: send http
2021-04-06 01:34:41: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:34:41.385
lastevent: 2021-04-06 01:34:41.378, last ten sensor data: [('2021-04-06 01:34:41.110', 'D+000003.8'), ('2021-04-06 01:34:41.130', 'D+000003.8'), ('2021-04-06 01:34:41.150', 'D+000003.6'), ('2021-04-06 01:34:41.170', 'D+000003.4'), ('2021-04-06 01:34:41.200', 'D+000003.8'), ('2021-04-06 01:34:41.220', 'D+000004.4'), ('2021-04-06 01:34:41.330', 'D+000004.4'), ('2021-04-06 01:34:41.350', 'D+000004.6'), ('2021-04-06 01:34:41.370', 'D+000004.6'), ('2021-04-06 01:34:41.390', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.4, 4.4, 4.6, 4.6, 4.4]
np.array X: [[3.8]
 [4.4]
 [4.4]
 [4.6]
 [4.6]
 [4.4]]
revised_weight: 4.4
2021-04-06 01:34:41.390: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:34:41.390
plc_result: True
sendmessage: 20210406013441390,1,000044,000044
send message to PLC: 2021-04-06 01:34:41.392
time gap: 0:00:00.006863
2021-04-06 01:34:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
Backupserver True
2021-04-06 01:34:41: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:41: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:34:42.007
lastevent: 2021-04-06 01:34:41.999, last ten sensor data: [('2021-04-06 01:34:41.570', 'D+000004.4'), ('2021-04-06 01:34:41.590', 'D+000004.2'), ('2021-04-06 01:34:41.610', 'D+000004.2'), ('2021-04-06 01:34:41.630', 'D+000004.4'), ('2021-04-06 01:34:41.650', 'D+000004.4'), ('2021-04-06 01:34:41.810', 'D+000004.0'), ('2021-04-06 01:34:41.830', 'D+000003.6'), ('2021-04-06 01:34:41.850', 'D+000003.2'), ('2021-04-06 01:34:41.870', 'D+000002.8'), ('2021-04-06 01:34:41.890', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.0, 3.6, 3.2, 2.8, 2.6]
np.array X: [[4.4]
 [4. ]
 [3.6]
 [3.2]
 [2.8]
 [2.6]]
revised_weight: 3.0
2021-04-06 01:34:41.890: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:34:41.890
plc_result: True
sendmessage: 20210406013441890,1,000026,000030
send message to PLC: 2021-04-06 01:34:42.019
time gap: 0:00:00.011619
2021-04-06 01:34:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:46: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:34:46: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:46: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:46: select done
2021-04-06 01:34:46: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:34:46: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:34:46: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:34:46: count: 2 in httpPlcDataSender thread
2021-04-06 01:34:46: D+: 2 in httpPlcDataSender thread
2021-04-06 01:34:46: D-: 0 in httpPlcDataSender thread
2021-04-06 01:34:46: S+: 0 in httpPlcDataSender thread
2021-04-06 01:34:46: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.4', 'sensorAt': '2021-04-06 01:34:41.390'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:34:41.890'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:41.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:41.890'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:34:46', 'collectDate': '2021-04-06 01:34:41', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.4', 'sensorAt': '2021-04-06 01:34:41.390'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:34:41.890'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:41.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:34:41.890'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:34:46: send http
2021-04-06 01:34:46: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:34:47: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:47: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:34:52: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:34:52: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:34:52: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:52: select done
2021-04-06 01:34:52: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:34:52: No Data remains in httpPlcDataSender thread
2021-04-06 01:34:52: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:34:52: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:34:52: current db filename:  in httpPlcDataSender thread
2021-04-06 01:34:52: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:34:57.109
lastevent: 2021-04-06 01:34:57.099, last ten sensor data: [('2021-04-06 01:34:56.630', 'D+000002.8'), ('2021-04-06 01:34:56.650', 'D+000003.4'), ('2021-04-06 01:34:56.670', 'D+000003.4'), ('2021-04-06 01:34:56.690', 'D+000003.6'), ('2021-04-06 01:34:56.710', 'D+000003.6'), ('2021-04-06 01:34:56.870', 'D+000004.4'), ('2021-04-06 01:34:56.890', 'D+000004.6'), ('2021-04-06 01:34:56.910', 'D+000004.6'), ('2021-04-06 01:34:56.930', 'D+000005.0'), ('2021-04-06 01:34:56.950', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.4, 4.6, 4.6, 5.0, 4.8]
np.array X: [[3.6]
 [4.4]
 [4.6]
 [4.6]
 [5. ]
 [4.8]]
revised_weight: 4.5
2021-04-06 01:34:56.950: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:34:56.950
plc_result: True
sendmessage: 20210406013456950,1,000048,000045
send message to PLC: 2021-04-06 01:34:57.116
time gap: 0:00:00.006319
2021-04-06 01:34:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:00.930
lastevent: 2021-04-06 01:35:00.922, last ten sensor data: [('2021-04-06 01:35:00.380', 'D+000002.2'), ('2021-04-06 01:35:00.400', 'D+000002.4'), ('2021-04-06 01:35:00.590', 'D+000002.6'), ('2021-04-06 01:35:00.610', 'D+000002.6'), ('2021-04-06 01:35:00.630', 'D+000002.6'), ('2021-04-06 01:35:00.650', 'D+000002.6'), ('2021-04-06 01:35:00.830', 'D+000003.6'), ('2021-04-06 01:35:00.850', 'D+000003.4'), ('2021-04-06 01:35:00.870', 'D+000003.2'), ('2021-04-06 01:35:00.890', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 3.6, 3.4, 3.2, 2.6]
np.array X: [[2.6]
 [2.6]
 [3.6]
 [3.4]
 [3.2]
 [2.6]]
revised_weight: 2.7
2021-04-06 01:35:00.890: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:35:00.890
plc_result: True
sendmessage: 20210406013500890,1,000026,000027
send message to PLC: 2021-04-06 01:35:00.936
time gap: 0:00:00.006142
2021-04-06 01:35:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:35:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:02.093
lastevent: 2021-04-06 01:35:02.086, last ten sensor data: [('2021-04-06 01:35:01.760', 'D+000004.0'), ('2021-04-06 01:35:01.780', 'D+000004.2'), ('2021-04-06 01:35:01.800', 'D+000004.2'), ('2021-04-06 01:35:01.820', 'D+000003.8'), ('2021-04-06 01:35:01.840', 'D+000003.8'), ('2021-04-06 01:35:02.000', 'D+000006.6'), ('2021-04-06 01:35:02.020', 'D+000007.4'), ('2021-04-06 01:35:02.040', 'D+000007.4'), ('2021-04-06 01:35:02.060', 'D+000008.4'), ('2021-04-06 01:35:02.080', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 6.6, 7.4, 7.4, 8.4, 8.2]
np.array X: [[3.8]
 [6.6]
 [7.4]
 [7.4]
 [8.4]
 [8.2]]
revised_weight: 8.0
2021-04-06 01:35:02.080: revising weight finished
revised_weight: 8.0 at 2021-04-06 01:35:02.080
plc_result: True
sendmessage: 20210406013502080,1,000082,000080
send message to PLC: 2021-04-06 01:35:02.104
time gap: 0:00:00.011172
2021-04-06 01:35:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:03.529
lastevent: 2021-04-06 01:35:03.521, last ten sensor data: [('2021-04-06 01:35:03.030', 'D+000004.4'), ('2021-04-06 01:35:03.050', 'D+000004.4'), ('2021-04-06 01:35:03.230', 'D+000004.8'), ('2021-04-06 01:35:03.250', 'D+000005.2'), ('2021-04-06 01:35:03.270', 'D+000005.2'), ('2021-04-06 01:35:03.290', 'D+000005.4'), ('2021-04-06 01:35:03.470', 'D+000004.8'), ('2021-04-06 01:35:03.490', 'D+000005.0'), ('2021-04-06 01:35:03.510', 'D+000005.0'), ('2021-04-06 01:35:03.530', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.4, 4.8, 5.0, 5.0, 4.8]
np.array X: [[5.2]
 [5.4]
 [4.8]
 [5. ]
 [5. ]
 [4.8]]
revised_weight: 5.1
2021-04-06 01:35:03.530: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:35:03.530
plc_result: True
sendmessage: 20210406013503530,1,000048,000051
send message to PLC: 2021-04-06 01:35:03.549
time gap: 0:00:00.020071
2021-04-06 01:35:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:04.419
lastevent: 2021-04-06 01:35:04.415, last ten sensor data: [('2021-04-06 01:35:03.950', 'D+000004.2'), ('2021-04-06 01:35:03.970', 'D+000004.2'), ('2021-04-06 01:35:03.990', 'D+000004.4'), ('2021-04-06 01:35:04.010', 'D+000004.2'), ('2021-04-06 01:35:04.030', 'D+000004.4'), ('2021-04-06 01:35:04.190', 'D+000006.0'), ('2021-04-06 01:35:04.210', 'D+000005.8'), ('2021-04-06 01:35:04.230', 'D+000005.6'), ('2021-04-06 01:35:04.250', 'D+000005.6'), ('2021-04-06 01:35:04.270', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 6.0, 5.8, 5.6, 5.6, 6.4]
np.array X: [[4.4]
 [6. ]
 [5.8]
 [5.6]
 [5.6]
 [6.4]]
revised_weight: 6.0
2021-04-06 01:35:04.270: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:35:04.270
plc_result: True
sendmessage: 20210406013504270,1,000064,000060
send message to PLC: 2021-04-06 01:35:04.434
time gap: 0:00:00.014171
2021-04-06 01:35:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:05.843
lastevent: 2021-04-06 01:35:05.841, last ten sensor data: [('2021-04-06 01:35:05.240', 'D+000004.2'), ('2021-04-06 01:35:05.420', 'D+000004.4'), ('2021-04-06 01:35:05.440', 'D+000004.4'), ('2021-04-06 01:35:05.460', 'D+000004.2'), ('2021-04-06 01:35:05.480', 'D+000004.2'), ('2021-04-06 01:35:05.500', 'D+000004.2'), ('2021-04-06 01:35:05.660', 'D+000009.2'), ('2021-04-06 01:35:05.680', 'D+000010.0'), ('2021-04-06 01:35:05.700', 'D+000010.4'), ('2021-04-06 01:35:05.720', 'D+000010.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 9.2, 10.0, 10.4, 10.8]
np.array X: [[ 4.2]
 [ 4.2]
 [ 9.2]
 [10. ]
 [10.4]
 [10.8]]
revised_weight: 10.0
2021-04-06 01:35:05.720: revising weight finished
revised_weight: 10.0 at 2021-04-06 01:35:05.720
plc_result: True
sendmessage: 20210406013505720,1,000108,000100
send message to PLC: 2021-04-06 01:35:05.850
time gap: 0:00:00.006680
2021-04-06 01:35:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:06.983
lastevent: 2021-04-06 01:35:06.972, last ten sensor data: [('2021-04-06 01:35:06.450', 'D+000009.4'), ('2021-04-06 01:35:06.470', 'D+000008.4'), ('2021-04-06 01:35:06.650', 'D+000004.4'), ('2021-04-06 01:35:06.670', 'D+000005.4'), ('2021-04-06 01:35:06.690', 'D+000005.4'), ('2021-04-06 01:35:06.710', 'D+000006.0'), ('2021-04-06 01:35:06.890', 'D+000006.8'), ('2021-04-06 01:35:06.910', 'D+000006.0'), ('2021-04-06 01:35:06.930', 'D+000006.2'), ('2021-04-06 01:35:06.950', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 6.0, 6.8, 6.0, 6.2, 7.4]
np.array X: [[5.4]
 [6. ]
 [6.8]
 [6. ]
 [6.2]
 [7.4]]
revised_weight: 6.4
2021-04-06 01:35:06.950: revising weight finished
revised_weight: 6.4 at 2021-04-06 01:35:06.950
plc_result: True
sendmessage: 20210406013506950,1,000074,000064
send message to PLC: 2021-04-06 01:35:06.995
time gap: 0:00:00.012764
2021-04-06 01:35:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:07.885
lastevent: 2021-04-06 01:35:07.882, last ten sensor data: [('2021-04-06 01:35:07.430', 'D+000004.6'), ('2021-04-06 01:35:07.450', 'D+000004.8'), ('2021-04-06 01:35:07.610', 'D+000008.2'), ('2021-04-06 01:35:07.630', 'D+000007.8'), ('2021-04-06 01:35:07.650', 'D+000008.6'), ('2021-04-06 01:35:07.670', 'D+000010.2'), ('2021-04-06 01:35:07.690', 'D+000010.4'), ('2021-04-06 01:35:07.850', 'D+000014.0'), ('2021-04-06 01:35:07.870', 'D+000012.0'), ('2021-04-06 01:35:07.890', 'D+000012.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 10.2, 10.4, 14.0, 12.0, 12.0]
np.array X: [[ 8.6]
 [10.2]
 [10.4]
 [14. ]
 [12. ]
 [12. ]]
revised_weight: 12.1
2021-04-06 01:35:07.890: revising weight finished
revised_weight: 12.1 at 2021-04-06 01:35:07.890
plc_result: True
sendmessage: 20210406013507890,1,000120,000121
send message to PLC: 2021-04-06 01:35:07.899
time gap: 0:00:00.013333
2021-04-06 01:35:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:35:07: httpScaleDataSender thread Timeout occurred
2021-04-06 01:35:07: [13721] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
2021-04-06 01:35:07: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:35:08.553
lastevent: 2021-04-06 01:35:08.548, last ten sensor data: [('2021-04-06 01:35:08.100', 'D+000013.2'), ('2021-04-06 01:35:08.120', 'D+000013.2'), ('2021-04-06 01:35:08.140', 'D+000013.6'), ('2021-04-06 01:35:08.160', 'D+000013.6'), ('2021-04-06 01:35:08.180', 'D+000013.4'), ('2021-04-06 01:35:08.360', 'D+000011.4'), ('2021-04-06 01:35:08.380', 'D+000013.0'), ('2021-04-06 01:35:08.400', 'D+000013.6'), ('2021-04-06 01:35:08.420', 'D+000012.2'), ('2021-04-06 01:35:08.440', 'D+000011.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [13.4, 11.4, 13.0, 13.6, 12.2, 11.2]
np.array X: [[13.4]
 [11.4]
 [13. ]
 [13.6]
 [12.2]
 [11.2]]
revised_weight: 12.0
2021-04-06 01:35:08.440: revising weight finished
revised_weight: 12.0 at 2021-04-06 01:35:08.440
plc_result: True
sendmessage: 20210406013508440,1,000112,000120
send message to PLC: 2021-04-06 01:35:08.566
time gap: 0:00:00.012778
2021-04-06 01:35:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:10.592
lastevent: 2021-04-06 01:35:10.581, last ten sensor data: [('2021-04-06 01:35:10.230', 'D+000003.0'), ('2021-04-06 01:35:10.250', 'D+000003.0'), ('2021-04-06 01:35:10.270', 'D+000003.0'), ('2021-04-06 01:35:10.290', 'D+000003.0'), ('2021-04-06 01:35:10.310', 'D+000002.8'), ('2021-04-06 01:35:10.470', 'D+000003.2'), ('2021-04-06 01:35:10.490', 'D+000003.2'), ('2021-04-06 01:35:10.510', 'D+000003.2'), ('2021-04-06 01:35:10.530', 'D+000003.4'), ('2021-04-06 01:35:10.550', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.2, 3.2, 3.2, 3.4, 3.4]
np.array X: [[2.8]
 [3.2]
 [3.2]
 [3.2]
 [3.4]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:35:10.550: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:35:10.550
plc_result: True
sendmessage: 20210406013510550,1,000034,000034
send message to PLC: 2021-04-06 01:35:10.600
time gap: 0:00:00.007313
2021-04-06 01:35:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:11.590
lastevent: 2021-04-06 01:35:11.581, last ten sensor data: [('2021-04-06 01:35:11.210', 'D+000003.4'), ('2021-04-06 01:35:11.230', 'D+000003.6'), ('2021-04-06 01:35:11.250', 'D+000003.6'), ('2021-04-06 01:35:11.270', 'D+000003.4'), ('2021-04-06 01:35:11.290', 'D+000003.4'), ('2021-04-06 01:35:11.460', 'D+000003.2'), ('2021-04-06 01:35:11.480', 'D+000003.2'), ('2021-04-06 01:35:11.500', 'D+000003.4'), ('2021-04-06 01:35:11.520', 'D+000003.4'), ('2021-04-06 01:35:11.540', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.2, 3.2, 3.4, 3.4, 3.2]
np.array X: [[3.4]
 [3.2]
 [3.2]
 [3.4]
 [3.4]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:35:11.540: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:35:11.540
plc_result: True
sendmessage: 20210406013511540,1,000032,000031
send message to PLC: 2021-04-06 01:35:11.607
time gap: 0:00:00.016635
2021-04-06 01:35:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:12.173
lastevent: 2021-04-06 01:35:12.163, last ten sensor data: [('2021-04-06 01:35:11.690', 'D+000003.4'), ('2021-04-06 01:35:11.720', 'D+000003.6'), ('2021-04-06 01:35:11.740', 'D+000003.4'), ('2021-04-06 01:35:11.760', 'D+000003.2'), ('2021-04-06 01:35:11.780', 'D+000003.6'), ('2021-04-06 01:35:11.940', 'D+000004.4'), ('2021-04-06 01:35:11.960', 'D+000004.2'), ('2021-04-06 01:35:11.980', 'D+000004.4'), ('2021-04-06 01:35:12.000', 'D+000004.4'), ('2021-04-06 01:35:12.020', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.4, 4.2, 4.4, 4.4, 4.6]
np.array X: [[3.6]
 [4.4]
 [4.2]
 [4.4]
 [4.4]
 [4.6]]
revised_weight: 4.3
2021-04-06 01:35:12.020: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:35:12.020
plc_result: True
sendmessage: 20210406013512020,1,000046,000043
send message to PLC: 2021-04-06 01:35:12.180
time gap: 0:00:00.006785
2021-04-06 01:35:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:12.836
lastevent: 2021-04-06 01:35:12.824, last ten sensor data: [('2021-04-06 01:35:12.260', 'D+000004.2'), ('2021-04-06 01:35:12.440', 'D+000004.0'), ('2021-04-06 01:35:12.460', 'D+000004.4'), ('2021-04-06 01:35:12.480', 'D+000004.6'), ('2021-04-06 01:35:12.500', 'D+000005.2'), ('2021-04-06 01:35:12.680', 'D+000004.6'), ('2021-04-06 01:35:12.700', 'D+000004.6'), ('2021-04-06 01:35:12.720', 'D+000004.6'), ('2021-04-06 01:35:12.740', 'D+000004.6'), ('2021-04-06 01:35:12.760', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 4.6, 4.6, 4.6, 4.6, 4.6]
np.array X: [[5.2]
 [4.6]
 [4.6]
 [4.6]
 [4.6]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:35:12.760: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:35:12.760
plc_result: True
sendmessage: 20210406013512760,1,000046,000046
send message to PLC: 2021-04-06 01:35:12.849
time gap: 0:00:00.012325
2021-04-06 01:35:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:14.159
lastevent: 2021-04-06 01:35:14.153, last ten sensor data: [('2021-04-06 01:35:13.690', 'D+000003.4'), ('2021-04-06 01:35:13.710', 'D+000003.4'), ('2021-04-06 01:35:13.730', 'D+000003.4'), ('2021-04-06 01:35:13.750', 'D+000003.6'), ('2021-04-06 01:35:13.910', 'D+000003.8'), ('2021-04-06 01:35:13.930', 'D+000003.8'), ('2021-04-06 01:35:13.950', 'D+000003.8'), ('2021-04-06 01:35:13.970', 'D+000004.0'), ('2021-04-06 01:35:13.990', 'D+000004.2'), ('2021-04-06 01:35:14.150', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 3.8, 4.0, 4.2, 3.8]
np.array X: [[3.8]
 [3.8]
 [3.8]
 [4. ]
 [4.2]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:35:14.150: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:35:14.150
plc_result: True
sendmessage: 20210406013514150,1,000038,000038
send message to PLC: 2021-04-06 01:35:14.172
time gap: 0:00:00.013081
2021-04-06 01:35:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:14.698
lastevent: 2021-04-06 01:35:14.684, last ten sensor data: [('2021-04-06 01:35:14.210', 'D+000003.8'), ('2021-04-06 01:35:14.230', 'D+000004.0'), ('2021-04-06 01:35:14.390', 'D+000004.8'), ('2021-04-06 01:35:14.410', 'D+000004.8'), ('2021-04-06 01:35:14.430', 'D+000004.8'), ('2021-04-06 01:35:14.450', 'D+000005.0'), ('2021-04-06 01:35:14.470', 'D+000005.2'), ('2021-04-06 01:35:14.650', 'D+000005.2'), ('2021-04-06 01:35:14.670', 'D+000005.0'), ('2021-04-06 01:35:14.690', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.0, 5.2, 5.2, 5.0, 5.2]
np.array X: [[4.8]
 [5. ]
 [5.2]
 [5.2]
 [5. ]
 [5.2]]
revised_weight: 5.1
2021-04-06 01:35:14.690: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:35:14.690
plc_result: True
sendmessage: 20210406013514690,1,000052,000051
send message to PLC: 2021-04-06 01:35:14.711
time gap: 0:00:00.012626
2021-04-06 01:35:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:15.222
lastevent: 2021-04-06 01:35:15.210, last ten sensor data: [('2021-04-06 01:35:14.870', 'D+000005.6'), ('2021-04-06 01:35:14.900', 'D+000005.6'), ('2021-04-06 01:35:14.920', 'D+000005.4'), ('2021-04-06 01:35:14.940', 'D+000005.2'), ('2021-04-06 01:35:14.960', 'D+000005.4'), ('2021-04-06 01:35:15.130', 'D+000004.6'), ('2021-04-06 01:35:15.150', 'D+000004.8'), ('2021-04-06 01:35:15.170', 'D+000005.2'), ('2021-04-06 01:35:15.190', 'D+000005.4'), ('2021-04-06 01:35:15.210', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 4.6, 4.8, 5.2, 5.4, 5.0]
np.array X: [[5.4]
 [4.6]
 [4.8]
 [5.2]
 [5.4]
 [5. ]]
revised_weight: 4.7
2021-04-06 01:35:15.210: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:35:15.210
plc_result: True
sendmessage: 20210406013515210,1,000050,000047
send message to PLC: 2021-04-06 01:35:15.235
time gap: 0:00:00.012644
2021-04-06 01:35:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:16.137
lastevent: 2021-04-06 01:35:16.127, last ten sensor data: [('2021-04-06 01:35:15.660', 'D+000004.2'), ('2021-04-06 01:35:15.680', 'D+000004.2'), ('2021-04-06 01:35:15.700', 'D+000004.2'), ('2021-04-06 01:35:15.860', 'D+000005.2'), ('2021-04-06 01:35:15.880', 'D+000005.6'), ('2021-04-06 01:35:15.900', 'D+000006.0'), ('2021-04-06 01:35:15.920', 'D+000006.0'), ('2021-04-06 01:35:15.940', 'D+000006.0'), ('2021-04-06 01:35:16.110', 'D+000006.2'), ('2021-04-06 01:35:16.130', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.0, 6.0, 6.0, 6.2, 6.0]
np.array X: [[5.6]
 [6. ]
 [6. ]
 [6. ]
 [6.2]
 [6. ]]
revised_weight: 5.8
2021-04-06 01:35:16.130: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:35:16.130
plc_result: True
sendmessage: 20210406013516130,1,000060,000058
send message to PLC: 2021-04-06 01:35:16.150
time gap: 0:00:00.012890
2021-04-06 01:35:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:16.636
lastevent: 2021-04-06 01:35:16.628, last ten sensor data: [('2021-04-06 01:35:16.170', 'D+000006.4'), ('2021-04-06 01:35:16.190', 'D+000005.8'), ('2021-04-06 01:35:16.340', 'D+000006.8'), ('2021-04-06 01:35:16.370', 'D+000006.8'), ('2021-04-06 01:35:16.390', 'D+000006.6'), ('2021-04-06 01:35:16.410', 'D+000006.6'), ('2021-04-06 01:35:16.430', 'D+000006.8'), ('2021-04-06 01:35:16.600', 'D+000006.6'), ('2021-04-06 01:35:16.620', 'D+000006.8'), ('2021-04-06 01:35:16.640', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.6, 6.8, 6.6, 6.8, 6.8]
np.array X: [[6.6]
 [6.6]
 [6.8]
 [6.6]
 [6.8]
 [6.8]]
revised_weight: 6.6
2021-04-06 01:35:16.640: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:35:16.640
plc_result: True
sendmessage: 20210406013516640,1,000068,000066
send message to PLC: 2021-04-06 01:35:16.654
time gap: 0:00:00.018201
2021-04-06 01:35:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:17.465
lastevent: 2021-04-06 01:35:17.458, last ten sensor data: [('2021-04-06 01:35:16.890', 'D+000005.0'), ('2021-04-06 01:35:16.910', 'D+000004.8'), ('2021-04-06 01:35:17.090', 'D+000004.8'), ('2021-04-06 01:35:17.110', 'D+000004.8'), ('2021-04-06 01:35:17.130', 'D+000005.0'), ('2021-04-06 01:35:17.150', 'D+000005.2'), ('2021-04-06 01:35:17.330', 'D+000005.2'), ('2021-04-06 01:35:17.350', 'D+000005.4'), ('2021-04-06 01:35:17.370', 'D+000005.6'), ('2021-04-06 01:35:17.390', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 5.2, 5.4, 5.6, 5.4]
np.array X: [[5. ]
 [5.2]
 [5.2]
 [5.4]
 [5.6]
 [5.4]]
revised_weight: 5.3
2021-04-06 01:35:17.390: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:35:17.390
plc_result: True
sendmessage: 20210406013517390,1,000054,000053
send message to PLC: 2021-04-06 01:35:17.477
time gap: 0:00:00.011570
2021-04-06 01:35:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:17.990
lastevent: 2021-04-06 01:35:17.983, last ten sensor data: [('2021-04-06 01:35:17.570', 'D+000005.2'), ('2021-04-06 01:35:17.590', 'D+000005.6'), ('2021-04-06 01:35:17.610', 'D+000005.4'), ('2021-04-06 01:35:17.630', 'D+000005.4'), ('2021-04-06 01:35:17.650', 'D+000005.2'), ('2021-04-06 01:35:17.810', 'D+000005.8'), ('2021-04-06 01:35:17.830', 'D+000005.6'), ('2021-04-06 01:35:17.850', 'D+000005.8'), ('2021-04-06 01:35:17.870', 'D+000005.8'), ('2021-04-06 01:35:17.890', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.8, 5.6, 5.8, 5.8, 5.6]
np.array X: [[5.2]
 [5.8]
 [5.6]
 [5.8]
 [5.8]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:35:17.890: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:35:17.890
plc_result: True
sendmessage: 20210406013517890,1,000056,000055
send message to PLC: 2021-04-06 01:35:18.002
time gap: 0:00:00.011386
2021-04-06 01:35:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:22.556
lastevent: 2021-04-06 01:35:22.550, last ten sensor data: [('2021-04-06 01:35:22.040', 'D+000006.6'), ('2021-04-06 01:35:22.220', 'D+000005.4'), ('2021-04-06 01:35:22.240', 'D+000005.6'), ('2021-04-06 01:35:22.260', 'D+000005.8'), ('2021-04-06 01:35:22.280', 'D+000006.0'), ('2021-04-06 01:35:22.450', 'D+000006.0'), ('2021-04-06 01:35:22.470', 'D+000006.0'), ('2021-04-06 01:35:22.490', 'D+000005.8'), ('2021-04-06 01:35:22.510', 'D+000005.8'), ('2021-04-06 01:35:22.530', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.0, 6.0, 5.8, 5.8, 6.0]
np.array X: [[6. ]
 [6. ]
 [6. ]
 [5.8]
 [5.8]
 [6. ]]
revised_weight: 5.9
2021-04-06 01:35:22.530: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:35:22.530
plc_result: True
sendmessage: 20210406013522530,1,000060,000059
send message to PLC: 2021-04-06 01:35:22.567
time gap: 0:00:00.011287
2021-04-06 01:35:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:23.292
lastevent: 2021-04-06 01:35:23.282, last ten sensor data: [('2021-04-06 01:35:22.960', 'D+000006.2'), ('2021-04-06 01:35:22.980', 'D+000006.2'), ('2021-04-06 01:35:23.000', 'D+000006.0'), ('2021-04-06 01:35:23.020', 'D+000005.8'), ('2021-04-06 01:35:23.180', 'D+000006.0'), ('2021-04-06 01:35:23.200', 'D+000005.8'), ('2021-04-06 01:35:23.220', 'D+000005.8'), ('2021-04-06 01:35:23.240', 'D+000005.8'), ('2021-04-06 01:35:23.260', 'D+000005.8'), ('2021-04-06 01:35:23.280', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 5.8, 5.8, 5.8, 5.8, 5.8]
np.array X: [[6. ]
 [5.8]
 [5.8]
 [5.8]
 [5.8]
 [5.8]]
revised_weight: 5.8
2021-04-06 01:35:23.280: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:35:23.280
plc_result: True
sendmessage: 20210406013523280,1,000058,000058
send message to PLC: 2021-04-06 01:35:23.305
time gap: 0:00:00.012684
2021-04-06 01:35:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:23.832
lastevent: 2021-04-06 01:35:23.820, last ten sensor data: [('2021-04-06 01:35:23.460', 'D+000006.0'), ('2021-04-06 01:35:23.480', 'D+000006.0'), ('2021-04-06 01:35:23.500', 'D+000006.6'), ('2021-04-06 01:35:23.550', 'D+000006.6'), ('2021-04-06 01:35:23.570', 'D+000006.4'), ('2021-04-06 01:35:23.590', 'D+000006.8'), ('2021-04-06 01:35:23.610', 'D+000006.6'), ('2021-04-06 01:35:23.630', 'D+000006.6'), ('2021-04-06 01:35:23.810', 'D+000006.2'), ('2021-04-06 01:35:23.830', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.8, 6.6, 6.6, 6.2, 6.2]
np.array X: [[6.4]
 [6.8]
 [6.6]
 [6.6]
 [6.2]
 [6.2]]
revised_weight: 6.5
2021-04-06 01:35:23.830: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:35:23.830
plc_result: True
sendmessage: 20210406013523830,1,000062,000065
send message to PLC: 2021-04-06 01:35:23.839
time gap: 0:00:00.006695
2021-04-06 01:35:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:24.699
lastevent: 2021-04-06 01:35:24.683, last ten sensor data: [('2021-04-06 01:35:24.130', 'D+000005.6'), ('2021-04-06 01:35:24.290', 'D+000005.0'), ('2021-04-06 01:35:24.310', 'D+000005.2'), ('2021-04-06 01:35:24.330', 'D+000005.0'), ('2021-04-06 01:35:24.350', 'D+000005.0'), ('2021-04-06 01:35:24.370', 'D+000005.0'), ('2021-04-06 01:35:24.550', 'D+000005.6'), ('2021-04-06 01:35:24.570', 'D+000006.0'), ('2021-04-06 01:35:24.590', 'D+000006.4'), ('2021-04-06 01:35:24.610', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 5.6, 6.0, 6.4, 5.8]
np.array X: [[5. ]
 [5. ]
 [5.6]
 [6. ]
 [6.4]
 [5.8]]
revised_weight: 5.6
2021-04-06 01:35:24.610: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:35:24.610
plc_result: True
sendmessage: 20210406013524610,1,000058,000056
send message to PLC: 2021-04-06 01:35:24.711
time gap: 0:00:00.012373
2021-04-06 01:35:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:25.495
lastevent: 2021-04-06 01:35:25.479, last ten sensor data: [('2021-04-06 01:35:25.040', 'D+000005.6'), ('2021-04-06 01:35:25.060', 'D+000005.4'), ('2021-04-06 01:35:25.080', 'D+000005.2'), ('2021-04-06 01:35:25.100', 'D+000005.0'), ('2021-04-06 01:35:25.120', 'D+000005.2'), ('2021-04-06 01:35:25.280', 'D+000005.6'), ('2021-04-06 01:35:25.300', 'D+000005.8'), ('2021-04-06 01:35:25.320', 'D+000006.2'), ('2021-04-06 01:35:25.340', 'D+000006.6'), ('2021-04-06 01:35:25.360', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.6, 5.8, 6.2, 6.6, 6.6]
np.array X: [[5.2]
 [5.6]
 [5.8]
 [6.2]
 [6.6]
 [6.6]]
revised_weight: 6.3
2021-04-06 01:35:25.360: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:35:25.360
plc_result: True
sendmessage: 20210406013525360,1,000066,000063
send message to PLC: 2021-04-06 01:35:25.507
time gap: 0:00:00.012045
2021-04-06 01:35:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:26.279
lastevent: 2021-04-06 01:35:26.272, last ten sensor data: [('2021-04-06 01:35:25.800', 'D+000006.0'), ('2021-04-06 01:35:25.820', 'D+000006.4'), ('2021-04-06 01:35:25.840', 'D+000006.4'), ('2021-04-06 01:35:26.010', 'D+000005.2'), ('2021-04-06 01:35:26.030', 'D+000005.2'), ('2021-04-06 01:35:26.050', 'D+000004.6'), ('2021-04-06 01:35:26.070', 'D+000004.6'), ('2021-04-06 01:35:26.090', 'D+000004.4'), ('2021-04-06 01:35:26.250', 'D+000005.4'), ('2021-04-06 01:35:26.270', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 4.6, 4.6, 4.4, 5.4, 5.4]
np.array X: [[5.2]
 [4.6]
 [4.6]
 [4.4]
 [5.4]
 [5.4]]
revised_weight: 5.2
2021-04-06 01:35:26.270: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:35:26.270
plc_result: True
sendmessage: 20210406013526270,1,000054,000052
send message to PLC: 2021-04-06 01:35:26.291
time gap: 0:00:00.011225
2021-04-06 01:35:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:27.318
lastevent: 2021-04-06 01:35:27.310, last ten sensor data: [('2021-04-06 01:35:26.830', 'D+000004.6'), ('2021-04-06 01:35:26.990', 'D+000004.6'), ('2021-04-06 01:35:27.010', 'D+000004.4'), ('2021-04-06 01:35:27.030', 'D+000004.4'), ('2021-04-06 01:35:27.050', 'D+000004.4'), ('2021-04-06 01:35:27.070', 'D+000004.4'), ('2021-04-06 01:35:27.250', 'D+000005.8'), ('2021-04-06 01:35:27.270', 'D+000005.6'), ('2021-04-06 01:35:27.290', 'D+000004.4'), ('2021-04-06 01:35:27.310', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 5.8, 5.6, 4.4, 4.8]
np.array X: [[4.4]
 [4.4]
 [5.8]
 [5.6]
 [4.4]
 [4.8]]
revised_weight: 5.1
2021-04-06 01:35:27.310: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:35:27.310
plc_result: True
sendmessage: 20210406013527310,1,000048,000051
send message to PLC: 2021-04-06 01:35:27.329
time gap: 0:00:00.011267
2021-04-06 01:35:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:28.010
lastevent: 2021-04-06 01:35:27.994, last ten sensor data: [('2021-04-06 01:35:27.520', 'D+000004.6'), ('2021-04-06 01:35:27.540', 'D+000004.6'), ('2021-04-06 01:35:27.560', 'D+000004.8'), ('2021-04-06 01:35:27.740', 'D+000005.6'), ('2021-04-06 01:35:27.760', 'D+000005.6'), ('2021-04-06 01:35:27.780', 'D+000005.4'), ('2021-04-06 01:35:27.800', 'D+000005.6'), ('2021-04-06 01:35:27.820', 'D+000005.6'), ('2021-04-06 01:35:27.980', 'D+000005.8'), ('2021-04-06 01:35:28.000', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.4, 5.6, 5.6, 5.8, 5.8]
np.array X: [[5.6]
 [5.4]
 [5.6]
 [5.6]
 [5.8]
 [5.8]]
revised_weight: 5.6
2021-04-06 01:35:28.000: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:35:28.000
plc_result: True
sendmessage: 20210406013528000,1,000058,000056
send message to PLC: 2021-04-06 01:35:28.021
time gap: 0:00:00.011624
2021-04-06 01:35:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:28.509
lastevent: 2021-04-06 01:35:28.496, last ten sensor data: [('2021-04-06 01:35:28.040', 'D+000005.4'), ('2021-04-06 01:35:28.060', 'D+000005.2'), ('2021-04-06 01:35:28.220', 'D+000005.4'), ('2021-04-06 01:35:28.240', 'D+000005.4'), ('2021-04-06 01:35:28.260', 'D+000005.2'), ('2021-04-06 01:35:28.280', 'D+000005.2'), ('2021-04-06 01:35:28.300', 'D+000005.2'), ('2021-04-06 01:35:28.460', 'D+000006.0'), ('2021-04-06 01:35:28.480', 'D+000005.8'), ('2021-04-06 01:35:28.500', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 5.2, 6.0, 5.8, 5.6]
np.array X: [[5.2]
 [5.2]
 [5.2]
 [6. ]
 [5.8]
 [5.6]]
revised_weight: 5.7
2021-04-06 01:35:28.500: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:35:28.500
plc_result: True
sendmessage: 20210406013528500,1,000056,000057
send message to PLC: 2021-04-06 01:35:28.521
time gap: 0:00:00.011805
2021-04-06 01:35:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:30.221
lastevent: 2021-04-06 01:35:30.204, last ten sensor data: [('2021-04-06 01:35:29.770', 'D+000004.0'), ('2021-04-06 01:35:29.930', 'D+000004.6'), ('2021-04-06 01:35:29.950', 'D+000004.8'), ('2021-04-06 01:35:29.970', 'D+000004.6'), ('2021-04-06 01:35:29.990', 'D+000004.8'), ('2021-04-06 01:35:30.010', 'D+000005.0'), ('2021-04-06 01:35:30.030', 'D+000005.4'), ('2021-04-06 01:35:30.190', 'D+000005.0'), ('2021-04-06 01:35:30.210', 'D+000004.6'), ('2021-04-06 01:35:30.230', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.0, 5.4, 5.0, 4.6, 4.8]
np.array X: [[4.8]
 [5. ]
 [5.4]
 [5. ]
 [4.6]
 [4.8]]
revised_weight: 4.9
2021-04-06 01:35:30.230: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:35:30.230
plc_result: True
sendmessage: 20210406013530230,1,000048,000049
send message to PLC: 2021-04-06 01:35:30.233
time gap: 0:00:00.011826
2021-04-06 01:35:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:30.785
lastevent: 2021-04-06 01:35:30.781, last ten sensor data: [('2021-04-06 01:35:30.250', 'D+000005.0'), ('2021-04-06 01:35:30.420', 'D+000005.2'), ('2021-04-06 01:35:30.440', 'D+000005.4'), ('2021-04-06 01:35:30.460', 'D+000005.4'), ('2021-04-06 01:35:30.480', 'D+000005.8'), ('2021-04-06 01:35:30.500', 'D+000006.2'), ('2021-04-06 01:35:30.680', 'D+000006.0'), ('2021-04-06 01:35:30.700', 'D+000006.2'), ('2021-04-06 01:35:30.720', 'D+000007.2'), ('2021-04-06 01:35:30.740', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.2, 6.0, 6.2, 7.2, 6.0]
np.array X: [[5.8]
 [6.2]
 [6. ]
 [6.2]
 [7.2]
 [6. ]]
revised_weight: 6.1
2021-04-06 01:35:30.740: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:35:30.740
plc_result: True
sendmessage: 20210406013530740,1,000060,000061
send message to PLC: 2021-04-06 01:35:30.798
time gap: 0:00:00.013603
2021-04-06 01:35:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:31.436
lastevent: 2021-04-06 01:35:31.424, last ten sensor data: [('2021-04-06 01:35:30.980', 'D+000006.4'), ('2021-04-06 01:35:31.000', 'D+000006.2'), ('2021-04-06 01:35:31.160', 'D+000005.8'), ('2021-04-06 01:35:31.180', 'D+000005.8'), ('2021-04-06 01:35:31.200', 'D+000005.8'), ('2021-04-06 01:35:31.220', 'D+000005.8'), ('2021-04-06 01:35:31.240', 'D+000005.8'), ('2021-04-06 01:35:31.400', 'D+000005.0'), ('2021-04-06 01:35:31.420', 'D+000004.6'), ('2021-04-06 01:35:31.440', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.8, 5.8, 5.0, 4.6, 4.6]
np.array X: [[5.8]
 [5.8]
 [5.8]
 [5. ]
 [4.6]
 [4.6]]
revised_weight: 5.2
2021-04-06 01:35:31.440: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:35:31.440
plc_result: True
sendmessage: 20210406013531440,1,000046,000052
send message to PLC: 2021-04-06 01:35:31.443
time gap: 0:00:00.007007
2021-04-06 01:35:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:38.381
lastevent: 2021-04-06 01:35:38.367, last ten sensor data: [('2021-04-06 01:35:37.910', 'D+000004.2'), ('2021-04-06 01:35:37.930', 'D+000004.2'), ('2021-04-06 01:35:38.100', 'D+000004.2'), ('2021-04-06 01:35:38.120', 'D+000004.4'), ('2021-04-06 01:35:38.140', 'D+000004.4'), ('2021-04-06 01:35:38.160', 'D+000004.4'), ('2021-04-06 01:35:38.180', 'D+000004.4'), ('2021-04-06 01:35:38.340', 'D+000004.4'), ('2021-04-06 01:35:38.360', 'D+000004.2'), ('2021-04-06 01:35:38.380', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 4.4, 4.4, 4.2, 4.6]
np.array X: [[4.4]
 [4.4]
 [4.4]
 [4.4]
 [4.2]
 [4.6]]
revised_weight: 4.5
2021-04-06 01:35:38.380: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:35:38.380
plc_result: True
sendmessage: 20210406013538380,1,000046,000045
send message to PLC: 2021-04-06 01:35:38.387
time gap: 0:00:00.006752
2021-04-06 01:35:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:39.405
lastevent: 2021-04-06 01:35:39.391, last ten sensor data: [('2021-04-06 01:35:39.080', 'D+000005.4'), ('2021-04-06 01:35:39.100', 'D+000006.2'), ('2021-04-06 01:35:39.120', 'D+000006.2'), ('2021-04-06 01:35:39.140', 'D+000005.8'), ('2021-04-06 01:35:39.160', 'D+000005.8'), ('2021-04-06 01:35:39.320', 'D+000008.0'), ('2021-04-06 01:35:39.340', 'D+000008.2'), ('2021-04-06 01:35:39.360', 'D+000008.0'), ('2021-04-06 01:35:39.380', 'D+000008.2'), ('2021-04-06 01:35:39.400', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 8.0, 8.2, 8.0, 8.2, 8.2]
np.array X: [[5.8]
 [8. ]
 [8.2]
 [8. ]
 [8.2]
 [8.2]]
revised_weight: 7.9
2021-04-06 01:35:39.400: revising weight finished
revised_weight: 7.9 at 2021-04-06 01:35:39.400
plc_result: True
sendmessage: 20210406013539400,1,000082,000079
send message to PLC: 2021-04-06 01:35:39.414
time gap: 0:00:00.008611
2021-04-06 01:35:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:39.951
lastevent: 2021-04-06 01:35:39.937, last ten sensor data: [0, ('2021-04-06 01:35:39.570', 'D+000010.2'), ('2021-04-06 01:35:39.590', 'D+000011.0'), ('2021-04-06 01:35:39.610', 'D+000012.0'), ('2021-04-06 01:35:39.630', 'D+000012.4'), ('2021-04-06 01:35:39.650', 'D+000014.0'), ('2021-04-06 01:35:39.830', 'D+000023.2'), ('2021-04-06 01:35:39.850', 'D+000027.2'), ('2021-04-06 01:35:39.870', 'D+000023.6'), ('2021-04-06 01:35:39.890', 'D+000019.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [12.4, 14.0, 23.2, 27.2, 23.6, 19.6]
np.array X: [[12.4]
 [14. ]
 [23.2]
 [27.2]
 [23.6]
 [19.6]]
revised_weight: 21.4
2021-04-06 01:35:39.890: revising weight finished
revised_weight: 21.4 at 2021-04-06 01:35:39.890
plc_result: False
sendmessage: 20210406013539890,0,000196,000214
send message to PLC: 2021-04-06 01:35:39.962
time gap: 0:00:00.011224
2021-04-06 01:35:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:41.601
lastevent: 2021-04-06 01:35:41.582, last ten sensor data: [('2021-04-06 01:35:41.270', 'D+000004.6'), ('2021-04-06 01:35:41.290', 'D+000004.6'), ('2021-04-06 01:35:41.310', 'D+000004.8'), ('2021-04-06 01:35:41.330', 'D+000004.8'), ('2021-04-06 01:35:41.350', 'D+000005.0'), ('2021-04-06 01:35:41.520', 'D+000004.6'), ('2021-04-06 01:35:41.540', 'D+000004.4'), ('2021-04-06 01:35:41.560', 'D+000004.2'), ('2021-04-06 01:35:41.580', 'D+000004.0'), ('2021-04-06 01:35:41.600', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.6, 4.4, 4.2, 4.0, 3.6]
np.array X: [[5. ]
 [4.6]
 [4.4]
 [4.2]
 [4. ]
 [3.6]]
revised_weight: 3.9
2021-04-06 01:35:41.600: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:35:41.600
plc_result: True
sendmessage: 20210406013541600,1,000036,000039
send message to PLC: 2021-04-06 01:35:41.613
time gap: 0:00:00.011183
2021-04-06 01:35:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:44.440
lastevent: 2021-04-06 01:35:44.433, last ten sensor data: [('2021-04-06 01:35:43.690', 'D+000002.4'), ('2021-04-06 01:35:43.850', 'D+000003.2'), ('2021-04-06 01:35:43.870', 'D+000003.0'), ('2021-04-06 01:35:43.890', 'D+000003.0'), ('2021-04-06 01:35:43.910', 'D+000003.0'), ('2021-04-06 01:35:43.930', 'D+000002.8'), ('2021-04-06 01:35:44.220', 'D+000008.6'), ('2021-04-06 01:35:44.240', 'D+000008.4'), ('2021-04-06 01:35:44.260', 'D+000008.0'), ('2021-04-06 01:35:44.280', 'D+000008.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 8.6, 8.4, 8.0, 8.4]
np.array X: [[3. ]
 [2.8]
 [8.6]
 [8.4]
 [8. ]
 [8.4]]
revised_weight: 9.2
2021-04-06 01:35:44.280: revising weight finished
revised_weight: 9.2 at 2021-04-06 01:35:44.280
plc_result: True
sendmessage: 20210406013544280,1,000084,000092
send message to PLC: 2021-04-06 01:35:44.447
time gap: 0:00:00.006744
2021-04-06 01:35:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:47.643
lastevent: 2021-04-06 01:35:47.641, last ten sensor data: [('2021-04-06 01:35:47.180', 'D+000003.2'), ('2021-04-06 01:35:47.200', 'D+000003.2'), ('2021-04-06 01:35:47.360', 'D+000005.8'), ('2021-04-06 01:35:47.380', 'D+000007.0'), ('2021-04-06 01:35:47.430', 'D+000008.6'), ('2021-04-06 01:35:47.450', 'D+000008.2'), ('2021-04-06 01:35:47.470', 'D+000008.0'), ('2021-04-06 01:35:47.490', 'D+000009.0'), ('2021-04-06 01:35:47.510', 'D+000009.6'), ('2021-04-06 01:35:47.530', 'D+000010.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 8.2, 8.0, 9.0, 9.6, 10.0]
np.array X: [[ 8.6]
 [ 8.2]
 [ 8. ]
 [ 9. ]
 [ 9.6]
 [10. ]]
revised_weight: 9.5
2021-04-06 01:35:47.530: revising weight finished
revised_weight: 9.5 at 2021-04-06 01:35:47.530
plc_result: True
sendmessage: 20210406013547530,1,000100,000095
send message to PLC: 2021-04-06 01:35:47.650
time gap: 0:00:00.006678
2021-04-06 01:35:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:48.273
lastevent: 2021-04-06 01:35:48.252, last ten sensor data: [('2021-04-06 01:35:47.950', 'D+000016.0'), ('2021-04-06 01:35:47.970', 'D+000016.0'), ('2021-04-06 01:35:47.990', 'D+000015.6'), ('2021-04-06 01:35:48.010', 'D+000015.8'), ('2021-04-06 01:35:48.170', 'D+000012.8'), ('2021-04-06 01:35:48.190', 'D+000012.0'), ('2021-04-06 01:35:48.210', 'D+000012.2'), ('2021-04-06 01:35:48.230', 'D+000012.4'), ('2021-04-06 01:35:48.250', 'D+000012.4'), ('2021-04-06 01:35:48.270', 'D+000011.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [12.8, 12.0, 12.2, 12.4, 12.4, 11.4]
np.array X: [[12.8]
 [12. ]
 [12.2]
 [12.4]
 [12.4]
 [11.4]]
revised_weight: 12.1
2021-04-06 01:35:48.270: revising weight finished
revised_weight: 12.1 at 2021-04-06 01:35:48.270
plc_result: True
sendmessage: 20210406013548270,1,000114,000121
send message to PLC: 2021-04-06 01:35:48.285
time gap: 0:00:00.011618
2021-04-06 01:35:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:49.494
lastevent: 2021-04-06 01:35:49.484, last ten sensor data: [('2021-04-06 01:35:49.030', 'D+000005.8'), ('2021-04-06 01:35:49.130', 'D+000006.2'), ('2021-04-06 01:35:49.150', 'D+000006.2'), ('2021-04-06 01:35:49.170', 'D+000006.4'), ('2021-04-06 01:35:49.190', 'D+000006.6'), ('2021-04-06 01:35:49.370', 'D+000013.6'), ('2021-04-06 01:35:49.390', 'D+000014.6'), ('2021-04-06 01:35:49.410', 'D+000014.8'), ('2021-04-06 01:35:49.430', 'D+000015.8'), ('2021-04-06 01:35:49.450', 'D+000016.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 13.6, 14.6, 14.8, 15.8, 16.2]
np.array X: [[ 6.6]
 [13.6]
 [14.6]
 [14.8]
 [15.8]
 [16.2]]
revised_weight: 16.0
2021-04-06 01:35:49.450: revising weight finished
revised_weight: 16.0 at 2021-04-06 01:35:49.450
plc_result: False
sendmessage: 20210406013549450,0,000162,000160
send message to PLC: 2021-04-06 01:35:49.501
time gap: 0:00:00.006290
2021-04-06 01:35:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:50.045
lastevent: 2021-04-06 01:35:50.029, last ten sensor data: [('2021-04-06 01:35:49.610', 'D+000015.6'), ('2021-04-06 01:35:49.630', 'D+000016.4'), ('2021-04-06 01:35:49.650', 'D+000016.6'), ('2021-04-06 01:35:49.670', 'D+000017.4'), ('2021-04-06 01:35:49.690', 'D+000017.8'), ('2021-04-06 01:35:49.840', 'D+000024.0'), ('2021-04-06 01:35:49.860', 'D+000024.2'), ('2021-04-06 01:35:49.880', 'D+000023.8'), ('2021-04-06 01:35:49.900', 'D+000024.0'), ('2021-04-06 01:35:49.930', 'D+000025.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [17.8, 24.0, 24.2, 23.8, 24.0, 25.6]
np.array X: [[17.8]
 [24. ]
 [24.2]
 [23.8]
 [24. ]
 [25.6]]
revised_weight: 22.6
2021-04-06 01:35:49.930: revising weight finished
revised_weight: 22.6 at 2021-04-06 01:35:49.930
plc_result: False
sendmessage: 20210406013549930,0,000256,000226
send message to PLC: 2021-04-06 01:35:50.051
time gap: 0:00:00.006256
2021-04-06 01:35:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:50.717
lastevent: 2021-04-06 01:35:50.695, last ten sensor data: [('2021-04-06 01:35:50.340', 'D+000016.8'), ('2021-04-06 01:35:50.360', 'D+000016.6'), ('2021-04-06 01:35:50.380', 'D+000016.6'), ('2021-04-06 01:35:50.400', 'D+000017.2'), ('2021-04-06 01:35:50.420', 'D+000017.6'), ('2021-04-06 01:35:50.600', 'D+000017.0'), ('2021-04-06 01:35:50.620', 'D+000017.6'), ('2021-04-06 01:35:50.640', 'D+000017.8'), ('2021-04-06 01:35:50.660', 'D+000017.6'), ('2021-04-06 01:35:50.680', 'D+000015.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [17.6, 17.0, 17.6, 17.8, 17.6, 15.6]
np.array X: [[17.6]
 [17. ]
 [17.6]
 [17.8]
 [17.6]
 [15.6]]
revised_weight: 17.0
2021-04-06 01:35:50.680: revising weight finished
revised_weight: 17.0 at 2021-04-06 01:35:50.680
plc_result: False
sendmessage: 20210406013550680,0,000156,000170
send message to PLC: 2021-04-06 01:35:50.726
time gap: 0:00:00.008397
2021-04-06 01:35:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:35:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
2021-04-06 01:35:52: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db']
2021-04-06 01:35:52: [13089] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_30.db
select_plcdb_filename: b
2021-04-06 01:35:52: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:35:52: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:35:52: select done
2021-04-06 01:35:52: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:35:52: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:35:52: sendjson called, 42 records in httpPlcDataSender thread
2021-04-06 01:35:52: count: 42 in httpPlcDataSender thread
2021-04-06 01:35:52: D+: 42 in httpPlcDataSender thread
2021-04-06 01:35:52: D-: 0 in httpPlcDataSender thread
2021-04-06 01:35:52: S+: 0 in httpPlcDataSender thread
2021-04-06 01:35:52: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:34:56.950'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:35:00.890'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:35:02.080'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:35:03.530'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:35:04.270'}, {'value': '10.0', 'sensorAt': '2021-04-06 01:35:05.720'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:35:06.950'}, {'value': '12.1', 'sensorAt': '2021-04-06 01:35:07.890'}, {'value': '12.0', 'sensorAt': '2021-04-06 01:35:08.440'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:35:10.550'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:35:11.540'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:35:12.020'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:35:12.760'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:35:14.150'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:35:14.690'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:35:15.210'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:35:16.130'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:35:16.640'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:35:17.390'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:35:17.890'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:35:22.530'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:35:23.280'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:35:23.830'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:35:24.610'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:35:25.360'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:35:26.270'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:35:27.310'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:35:28.000'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:35:28.500'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:35:30.230'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:35:30.740'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:35:31.440'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:35:38.380'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:35:39.400'}, {'value': '21.4', 'sensorAt': '2021-04-06 01:35:39.890'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:35:41.600'}, {'value': '9.2', 'sensorAt': '2021-04-06 01:35:44.280'}, {'value': '9.5', 'sensorAt': '2021-04-06 01:35:47.530'}, {'value': '12.1', 'sensorAt': '2021-04-06 01:35:48.270'}, {'value': '16.0', 'sensorAt': '2021-04-06 01:35:49.450'}, {'value': '22.6', 'sensorAt': '2021-04-06 01:35:49.930'}, {'value': '17.0', 'sensorAt': '2021-04-06 01:35:50.680'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:56.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:00.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:02.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:03.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:04.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:05.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:06.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:07.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:08.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:10.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:11.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:12.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:12.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:14.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:14.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:15.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:16.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:16.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:17.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:17.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:22.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:23.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:23.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:24.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:25.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:26.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:27.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:28.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:28.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:30.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:30.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:31.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:38.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:39.400'}, {'value': 0, 'sensorAt': '2021-04-06 01:35:39.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:41.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:44.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:47.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:48.270'}, {'value': 0, 'sensorAt': '2021-04-06 01:35:49.450'}, {'value': 0, 'sensorAt': '2021-04-06 01:35:49.930'}, {'value': 0, 'sensorAt': '2021-04-06 01:35:50.680'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:35:52', 'collectDate': '2021-04-06 01:35:50', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:34:56.950'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:35:00.890'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:35:02.080'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:35:03.530'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:35:04.270'}, {'value': '10.0', 'sensorAt': '2021-04-06 01:35:05.720'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:35:06.950'}, {'value': '12.1', 'sensorAt': '2021-04-06 01:35:07.890'}, {'value': '12.0', 'sensorAt': '2021-04-06 01:35:08.440'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:35:10.550'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:35:11.540'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:35:12.020'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:35:12.760'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:35:14.150'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:35:14.690'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:35:15.210'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:35:16.130'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:35:16.640'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:35:17.390'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:35:17.890'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:35:22.530'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:35:23.280'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:35:23.830'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:35:24.610'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:35:25.360'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:35:26.270'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:35:27.310'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:35:28.000'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:35:28.500'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:35:30.230'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:35:30.740'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:35:31.440'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:35:38.380'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:35:39.400'}, {'value': '21.4', 'sensorAt': '2021-04-06 01:35:39.890'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:35:41.600'}, {'value': '9.2', 'sensorAt': '2021-04-06 01:35:44.280'}, {'value': '9.5', 'sensorAt': '2021-04-06 01:35:47.530'}, {'value': '12.1', 'sensorAt': '2021-04-06 01:35:48.270'}, {'value': '16.0', 'sensorAt': '2021-04-06 01:35:49.450'}, {'value': '22.6', 'sensorAt': '2021-04-06 01:35:49.930'}, {'value': '17.0', 'sensorAt': '2021-04-06 01:35:50.680'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:34:56.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:00.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:02.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:03.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:04.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:05.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:06.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:07.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:08.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:10.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:11.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:12.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:12.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:14.150'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:14.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:15.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:16.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:16.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:17.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:17.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:22.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:23.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:23.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:24.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:25.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:26.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:27.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:28.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:28.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:30.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:30.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:31.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:38.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:39.400'}, {'value': 0, 'sensorAt': '2021-04-06 01:35:39.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:41.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:44.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:47.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:48.270'}, {'value': 0, 'sensorAt': '2021-04-06 01:35:49.450'}, {'value': 0, 'sensorAt': '2021-04-06 01:35:49.930'}, {'value': 0, 'sensorAt': '2021-04-06 01:35:50.680'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:35:52.873
lastevent: 2021-04-06 01:35:52.866, last ten sensor data: [('2021-04-06 01:35:52.540', 'D+000004.0'), ('2021-04-06 01:35:52.560', 'D+000004.0'), ('2021-04-06 01:35:52.580', 'D+000004.0'), ('2021-04-06 01:35:52.600', 'D+000004.0'), ('2021-04-06 01:35:52.760', 'D+000005.4'), ('2021-04-06 01:35:52.780', 'D+000005.4'), ('2021-04-06 01:35:52.800', 'D+000005.4'), ('2021-04-06 01:35:52.820', 'D+000005.2'), ('2021-04-06 01:35:52.840', 'D+000005.6'), ('2021-04-06 01:35:52.860', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.4, 5.4, 5.2, 5.6, 6.2]
np.array X: [[5.4]
 [5.4]
 [5.4]
 [5.2]
 [5.6]
 [6.2]]
revised_weight: 5.5
2021-04-06 01:35:52.860: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:35:52.860
plc_result: True
sendmessage: 20210406013552860,1,000062,000055
send message to PLC: 2021-04-06 01:35:52.883
time gap: 0:00:00.010177
2021-04-06 01:35:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:35:53: send http
2021-04-06 01:35:53: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:35:53.596
lastevent: 2021-04-06 01:35:53.590, last ten sensor data: [('2021-04-06 01:35:53.240', 'D+000005.6'), ('2021-04-06 01:35:53.270', 'D+000005.8'), ('2021-04-06 01:35:53.290', 'D+000005.6'), ('2021-04-06 01:35:53.310', 'D+000005.6'), ('2021-04-06 01:35:53.330', 'D+000005.8'), ('2021-04-06 01:35:53.490', 'D+000004.8'), ('2021-04-06 01:35:53.510', 'D+000005.0'), ('2021-04-06 01:35:53.530', 'D+000005.8'), ('2021-04-06 01:35:53.550', 'D+000006.2'), ('2021-04-06 01:35:53.570', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 4.8, 5.0, 5.8, 6.2, 5.0]
np.array X: [[5.8]
 [4.8]
 [5. ]
 [5.8]
 [6.2]
 [5. ]]
revised_weight: 4.8
2021-04-06 01:35:53.570: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:35:53.570
plc_result: True
sendmessage: 20210406013553570,1,000050,000048
send message to PLC: 2021-04-06 01:35:53.608
time gap: 0:00:00.012193
2021-04-06 01:35:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
Backupserver True
2021-04-06 01:35:53: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:35:53: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:35:55.125
lastevent: 2021-04-06 01:35:55.118, last ten sensor data: [('2021-04-06 01:35:54.560', 'D+000004.0'), ('2021-04-06 01:35:54.720', 'D+000003.8'), ('2021-04-06 01:35:54.740', 'D+000003.8'), ('2021-04-06 01:35:54.760', 'D+000004.2'), ('2021-04-06 01:35:54.780', 'D+000004.4'), ('2021-04-06 01:35:54.800', 'D+000004.6'), ('2021-04-06 01:35:54.980', 'D+000008.2'), ('2021-04-06 01:35:55.000', 'D+000009.0'), ('2021-04-06 01:35:55.020', 'D+000009.6'), ('2021-04-06 01:35:55.040', 'D+000010.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 8.2, 9.0, 9.6, 10.0]
np.array X: [[ 4.4]
 [ 4.6]
 [ 8.2]
 [ 9. ]
 [ 9.6]
 [10. ]]
revised_weight: 9.0
2021-04-06 01:35:55.040: revising weight finished
revised_weight: 9.0 at 2021-04-06 01:35:55.040
plc_result: True
sendmessage: 20210406013555040,1,000100,000090
send message to PLC: 2021-04-06 01:35:55.141
time gap: 0:00:00.015986
2021-04-06 01:35:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:55.688
lastevent: 2021-04-06 01:35:55.683, last ten sensor data: [0, 0, ('2021-04-06 01:35:55.220', 'D+000011.6'), ('2021-04-06 01:35:55.240', 'D+000010.8'), ('2021-04-06 01:35:55.260', 'D+000010.2'), ('2021-04-06 01:35:55.280', 'D+000010.6'), ('2021-04-06 01:35:55.460', 'D+000010.6'), ('2021-04-06 01:35:55.480', 'D+000010.6'), ('2021-04-06 01:35:55.500', 'D+000010.8'), ('2021-04-06 01:35:55.520', 'D+000010.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [10.2, 10.6, 10.6, 10.6, 10.8, 10.6]
np.array X: [[10.2]
 [10.6]
 [10.6]
 [10.6]
 [10.8]
 [10.6]]
revised_weight: 10.3
2021-04-06 01:35:55.520: revising weight finished
revised_weight: 10.3 at 2021-04-06 01:35:55.520
plc_result: True
sendmessage: 20210406013555520,1,000106,000103
send message to PLC: 2021-04-06 01:35:55.700
time gap: 0:00:00.011501
2021-04-06 01:35:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:56.748
lastevent: 2021-04-06 01:35:56.739, last ten sensor data: [('2021-04-06 01:35:56.250', 'D+000003.6'), ('2021-04-06 01:35:56.270', 'D+000003.4'), ('2021-04-06 01:35:56.450', 'D+000003.4'), ('2021-04-06 01:35:56.470', 'D+000003.8'), ('2021-04-06 01:35:56.490', 'D+000003.8'), ('2021-04-06 01:35:56.510', 'D+000003.8'), ('2021-04-06 01:35:56.690', 'D+000004.2'), ('2021-04-06 01:35:56.710', 'D+000004.0'), ('2021-04-06 01:35:56.730', 'D+000004.0'), ('2021-04-06 01:35:56.750', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 4.2, 4.0, 4.0, 4.2]
np.array X: [[3.8]
 [3.8]
 [4.2]
 [4. ]
 [4. ]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:35:56.750: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:35:56.750
plc_result: True
sendmessage: 20210406013556750,1,000042,000042
send message to PLC: 2021-04-06 01:35:56.759
time gap: 0:00:00.011486
2021-04-06 01:35:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:35:57.593
lastevent: 2021-04-06 01:35:57.584, last ten sensor data: [('2021-04-06 01:35:57.170', 'D+000003.6'), ('2021-04-06 01:35:57.190', 'D+000003.8'), ('2021-04-06 01:35:57.210', 'D+000003.4'), ('2021-04-06 01:35:57.230', 'D+000003.6'), ('2021-04-06 01:35:57.250', 'D+000003.6'), ('2021-04-06 01:35:57.410', 'D+000003.6'), ('2021-04-06 01:35:57.430', 'D+000003.6'), ('2021-04-06 01:35:57.450', 'D+000004.0'), ('2021-04-06 01:35:57.470', 'D+000004.0'), ('2021-04-06 01:35:57.490', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.6, 4.0, 4.0, 3.8]
np.array X: [[3.6]
 [3.6]
 [3.6]
 [4. ]
 [4. ]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:35:57.490: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:35:57.490
plc_result: True
sendmessage: 20210406013557490,1,000038,000038
send message to PLC: 2021-04-06 01:35:57.604
time gap: 0:00:00.011342
2021-04-06 01:35:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:35:58: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:35:58: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:35:58: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:35:58: select done
2021-04-06 01:35:58: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:35:58: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:35:59: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:35:59: count: 6 in httpPlcDataSender thread
2021-04-06 01:35:59: D+: 6 in httpPlcDataSender thread
2021-04-06 01:35:59: D-: 0 in httpPlcDataSender thread
2021-04-06 01:35:59: S+: 0 in httpPlcDataSender thread
2021-04-06 01:35:59: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.5', 'sensorAt': '2021-04-06 01:35:52.860'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:35:53.570'}, {'value': '9.0', 'sensorAt': '2021-04-06 01:35:55.040'}, {'value': '10.3', 'sensorAt': '2021-04-06 01:35:55.520'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:35:56.750'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:35:57.490'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:35:52.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:53.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:55.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:55.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:56.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:57.490'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:35:59', 'collectDate': '2021-04-06 01:35:57', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.5', 'sensorAt': '2021-04-06 01:35:52.860'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:35:53.570'}, {'value': '9.0', 'sensorAt': '2021-04-06 01:35:55.040'}, {'value': '10.3', 'sensorAt': '2021-04-06 01:35:55.520'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:35:56.750'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:35:57.490'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:35:52.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:53.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:55.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:55.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:56.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:57.490'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:35:59: send http
2021-04-06 01:35:59: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:35:59.274
lastevent: 2021-04-06 01:35:59.270, last ten sensor data: [('2021-04-06 01:35:58.970', 'D+000003.6'), ('2021-04-06 01:35:58.990', 'D+000003.6'), ('2021-04-06 01:35:59.010', 'D+000003.6'), ('2021-04-06 01:35:59.030', 'D+000003.8'), ('2021-04-06 01:35:59.050', 'D+000003.8'), ('2021-04-06 01:35:59.180', 'D+000004.8'), ('2021-04-06 01:35:59.210', 'D+000005.0'), ('2021-04-06 01:35:59.230', 'D+000004.8'), ('2021-04-06 01:35:59.250', 'D+000004.6'), ('2021-04-06 01:35:59.270', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.8, 5.0, 4.8, 4.6, 4.4]
np.array X: [[3.8]
 [4.8]
 [5. ]
 [4.8]
 [4.6]
 [4.4]]
revised_weight: 4.5
2021-04-06 01:35:59.270: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:35:59.270
plc_result: True
sendmessage: 20210406013559270,1,000044,000045
Backupserver True
send message to PLC: 2021-04-06 01:35:59.290
2021-04-06 01:35:59: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
time gap: 0:00:00.016281
2021-04-06 01:35:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:35:59: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:35:59.888
lastevent: 2021-04-06 01:35:59.877, last ten sensor data: [('2021-04-06 01:35:59.450', 'D+000005.0'), ('2021-04-06 01:35:59.470', 'D+000005.0'), ('2021-04-06 01:35:59.490', 'D+000005.0'), ('2021-04-06 01:35:59.510', 'D+000005.0'), ('2021-04-06 01:35:59.530', 'D+000005.4'), ('2021-04-06 01:35:59.700', 'D+000006.2'), ('2021-04-06 01:35:59.720', 'D+000006.0'), ('2021-04-06 01:35:59.740', 'D+000005.8'), ('2021-04-06 01:35:59.760', 'D+000006.0'), ('2021-04-06 01:35:59.780', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 6.2, 6.0, 5.8, 6.0, 6.6]
np.array X: [[5.4]
 [6.2]
 [6. ]
 [5.8]
 [6. ]
 [6.6]]
revised_weight: 5.8
2021-04-06 01:35:59.780: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:35:59.780
plc_result: True
sendmessage: 20210406013559780,1,000066,000058
send message to PLC: 2021-04-06 01:35:59.895
time gap: 0:00:00.006234
2021-04-06 01:35:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:36:00.782
lastevent: 2021-04-06 01:36:00.771, last ten sensor data: [('2021-04-06 01:36:00.420', 'D+000005.4'), ('2021-04-06 01:36:00.440', 'D+000005.4'), ('2021-04-06 01:36:00.460', 'D+000005.0'), ('2021-04-06 01:36:00.480', 'D+000004.8'), ('2021-04-06 01:36:00.500', 'D+000005.2'), ('2021-04-06 01:36:00.680', 'D+000005.0'), ('2021-04-06 01:36:00.700', 'D+000004.6'), ('2021-04-06 01:36:00.720', 'D+000004.4'), ('2021-04-06 01:36:00.740', 'D+000003.8'), ('2021-04-06 01:36:00.760', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.0, 4.6, 4.4, 3.8, 3.6]
np.array X: [[5.2]
 [5. ]
 [4.6]
 [4.4]
 [3.8]
 [3.6]]
revised_weight: 4.0
2021-04-06 01:36:00.760: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:36:00.760
plc_result: True
sendmessage: 20210406013600760,1,000036,000040
send message to PLC: 2021-04-06 01:36:00.793
time gap: 0:00:00.010983
2021-04-06 01:36:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:36:04: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:36:04: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:36:04: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:36:04: select done
2021-04-06 01:36:04: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:36:04: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:36:04: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:36:04: count: 3 in httpPlcDataSender thread
2021-04-06 01:36:04: D+: 3 in httpPlcDataSender thread
2021-04-06 01:36:04: D-: 0 in httpPlcDataSender thread
2021-04-06 01:36:04: S+: 0 in httpPlcDataSender thread
2021-04-06 01:36:04: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:35:59.270'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:35:59.780'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:36:00.760'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:35:59.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:59.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:00.760'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:36:04', 'collectDate': '2021-04-06 01:36:00', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:35:59.270'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:35:59.780'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:36:00.760'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:35:59.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:35:59.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:00.760'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:36:04: send http
2021-04-06 01:36:04: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:36:05: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:36:05: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:36:07: httpScaleDataSender thread Timeout occurred
2021-04-06 01:36:08: [13722] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
2021-04-06 01:36:08: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2021-04-06 01:36:10: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:36:10: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:36:10: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:36:10: select done
2021-04-06 01:36:10: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:36:10: No Data remains in httpPlcDataSender thread
2021-04-06 01:36:10: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:36:10: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:36:10: current db filename:  in httpPlcDataSender thread
2021-04-06 01:36:10: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:36:23.968
lastevent: 2021-04-06 01:36:23.951, last ten sensor data: [('2021-04-06 01:36:23.670', 'D+000006.2'), ('2021-04-06 01:36:23.690', 'D+000006.4'), ('2021-04-06 01:36:23.710', 'D+000006.4'), ('2021-04-06 01:36:23.730', 'D+000006.2'), ('2021-04-06 01:36:23.870', 'D+000005.0'), ('2021-04-06 01:36:23.890', 'D+000005.0'), ('2021-04-06 01:36:23.910', 'D+000005.0'), ('2021-04-06 01:36:23.930', 'D+000005.2'), ('2021-04-06 01:36:23.950', 'D+000005.0'), ('2021-04-06 01:36:23.970', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 5.0, 5.2, 5.0, 5.2]
np.array X: [[5. ]
 [5. ]
 [5. ]
 [5.2]
 [5. ]
 [5.2]]
revised_weight: 5.1
2021-04-06 01:36:23.970: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:36:23.970
plc_result: True
sendmessage: 20210406013623970,1,000052,000051
send message to PLC: 2021-04-06 01:36:23.980
time gap: 0:00:00.011872
2021-04-06 01:36:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:36:26.835
lastevent: 2021-04-06 01:36:26.822, last ten sensor data: [('2021-04-06 01:36:26.290', 'D+000001.4'), ('2021-04-06 01:36:26.380', 'D+000001.8'), ('2021-04-06 01:36:26.540', 'D+000004.2'), ('2021-04-06 01:36:26.560', 'D+000003.6'), ('2021-04-06 01:36:26.580', 'D+000004.2'), ('2021-04-06 01:36:26.600', 'D+000005.6'), ('2021-04-06 01:36:26.780', 'D+000006.2'), ('2021-04-06 01:36:26.800', 'D+000005.6'), ('2021-04-06 01:36:26.820', 'D+000005.6'), ('2021-04-06 01:36:26.840', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.6, 6.2, 5.6, 5.6, 5.8]
np.array X: [[4.2]
 [5.6]
 [6.2]
 [5.6]
 [5.6]
 [5.8]]
revised_weight: 5.7
2021-04-06 01:36:26.840: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:36:26.840
plc_result: True
sendmessage: 20210406013626840,1,000058,000057
send message to PLC: 2021-04-06 01:36:26.855
time gap: 0:00:00.019959
2021-04-06 01:36:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:36:28.623
lastevent: 2021-04-06 01:36:28.608, last ten sensor data: [('2021-04-06 01:36:28.120', 'D+000002.8'), ('2021-04-06 01:36:28.140', 'D+000002.8'), ('2021-04-06 01:36:28.160', 'D+000002.8'), ('2021-04-06 01:36:28.330', 'D+000003.2'), ('2021-04-06 01:36:28.350', 'D+000003.0'), ('2021-04-06 01:36:28.370', 'D+000002.8'), ('2021-04-06 01:36:28.390', 'D+000002.8'), ('2021-04-06 01:36:28.410', 'D+000002.8'), ('2021-04-06 01:36:28.590', 'D+000003.0'), ('2021-04-06 01:36:28.610', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 2.8, 2.8, 3.0, 3.0]
np.array X: [[3. ]
 [2.8]
 [2.8]
 [2.8]
 [3. ]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:36:28.610: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:36:28.610
plc_result: True
sendmessage: 20210406013628610,1,000030,000029
send message to PLC: 2021-04-06 01:36:28.634
time gap: 0:00:00.011540
2021-04-06 01:36:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:36:30.059
lastevent: 2021-04-06 01:36:30.053, last ten sensor data: [('2021-04-06 01:36:29.560', 'D+000002.6'), ('2021-04-06 01:36:29.580', 'D+000002.6'), ('2021-04-06 01:36:29.600', 'D+000002.6'), ('2021-04-06 01:36:29.790', 'D+000004.0'), ('2021-04-06 01:36:29.810', 'D+000004.0'), ('2021-04-06 01:36:29.830', 'D+000003.8'), ('2021-04-06 01:36:29.850', 'D+000003.6'), ('2021-04-06 01:36:29.870', 'D+000004.4'), ('2021-04-06 01:36:30.020', 'D+000004.8'), ('2021-04-06 01:36:30.050', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.8, 3.6, 4.4, 4.8, 5.0]
np.array X: [[4. ]
 [3.8]
 [3.6]
 [4.4]
 [4.8]
 [5. ]]
revised_weight: 4.9
2021-04-06 01:36:30.050: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:36:30.050
plc_result: True
sendmessage: 20210406013630050,1,000050,000049
send message to PLC: 2021-04-06 01:36:30.065
time gap: 0:00:00.006471
2021-04-06 01:36:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:36:30.801
lastevent: 2021-04-06 01:36:30.790, last ten sensor data: [('2021-04-06 01:36:30.290', 'D+000004.8'), ('2021-04-06 01:36:30.310', 'D+000005.0'), ('2021-04-06 01:36:30.330', 'D+000005.0'), ('2021-04-06 01:36:30.350', 'D+000004.6'), ('2021-04-06 01:36:30.530', 'D+000005.2'), ('2021-04-06 01:36:30.550', 'D+000004.8'), ('2021-04-06 01:36:30.570', 'D+000005.0'), ('2021-04-06 01:36:30.590', 'D+000005.2'), ('2021-04-06 01:36:30.770', 'D+000005.2'), ('2021-04-06 01:36:30.790', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 4.8, 5.0, 5.2, 5.2, 5.0]
np.array X: [[5.2]
 [4.8]
 [5. ]
 [5.2]
 [5.2]
 [5. ]]
revised_weight: 5.0
2021-04-06 01:36:30.790: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:36:30.790
plc_result: True
sendmessage: 20210406013630790,1,000050,000050
send message to PLC: 2021-04-06 01:36:30.807
time gap: 0:00:00.006491
2021-04-06 01:36:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:36:31.299
lastevent: 2021-04-06 01:36:31.293, last ten sensor data: [('2021-04-06 01:36:30.830', 'D+000004.6'), ('2021-04-06 01:36:30.850', 'D+000004.8'), ('2021-04-06 01:36:31.010', 'D+000005.6'), ('2021-04-06 01:36:31.030', 'D+000005.8'), ('2021-04-06 01:36:31.050', 'D+000005.8'), ('2021-04-06 01:36:31.070', 'D+000005.6'), ('2021-04-06 01:36:31.090', 'D+000005.6'), ('2021-04-06 01:36:31.260', 'D+000004.6'), ('2021-04-06 01:36:31.280', 'D+000004.6'), ('2021-04-06 01:36:31.300', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.6, 5.6, 4.6, 4.6, 4.2]
np.array X: [[5.8]
 [5.6]
 [5.6]
 [4.6]
 [4.6]
 [4.2]]
revised_weight: 5.2
2021-04-06 01:36:31.300: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:36:31.300
plc_result: True
sendmessage: 20210406013631300,1,000042,000052
send message to PLC: 2021-04-06 01:36:31.305
time gap: 0:00:00.006145
2021-04-06 01:36:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:36:35.838
lastevent: 2021-04-06 01:36:35.829, last ten sensor data: [('2021-04-06 01:36:35.380', 'D+000003.0'), ('2021-04-06 01:36:35.400', 'D+000003.0'), ('2021-04-06 01:36:35.420', 'D+000002.8'), ('2021-04-06 01:36:35.560', 'D+000003.6'), ('2021-04-06 01:36:35.600', 'D+000004.2'), ('2021-04-06 01:36:35.620', 'D+000004.6'), ('2021-04-06 01:36:35.640', 'D+000004.6'), ('2021-04-06 01:36:35.660', 'D+000004.4'), ('2021-04-06 01:36:35.790', 'D+000005.6'), ('2021-04-06 01:36:35.830', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.6, 4.6, 4.4, 5.6, 5.2]
np.array X: [[4.2]
 [4.6]
 [4.6]
 [4.4]
 [5.6]
 [5.2]]
revised_weight: 4.9
2021-04-06 01:36:35.830: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:36:35.830
plc_result: True
sendmessage: 20210406013635830,1,000052,000049
send message to PLC: 2021-04-06 01:36:35.844
time gap: 0:00:00.006610
2021-04-06 01:36:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:36:36.385
lastevent: 2021-04-06 01:36:36.378, last ten sensor data: [('2021-04-06 01:36:35.870', 'D+000005.4'), ('2021-04-06 01:36:35.890', 'D+000005.2'), ('2021-04-06 01:36:36.080', 'D+000007.0'), ('2021-04-06 01:36:36.100', 'D+000007.0'), ('2021-04-06 01:36:36.120', 'D+000006.8'), ('2021-04-06 01:36:36.140', 'D+000007.0'), ('2021-04-06 01:36:36.320', 'D+000007.6'), ('2021-04-06 01:36:36.340', 'D+000007.4'), ('2021-04-06 01:36:36.360', 'D+000007.4'), ('2021-04-06 01:36:36.380', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 7.0, 7.6, 7.4, 7.4, 7.6]
np.array X: [[6.8]
 [7. ]
 [7.6]
 [7.4]
 [7.4]
 [7.6]]
revised_weight: 7.3
2021-04-06 01:36:36.380: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:36:36.380
plc_result: True
sendmessage: 20210406013636380,1,000076,000073
send message to PLC: 2021-04-06 01:36:36.391
time gap: 0:00:00.006225
2021-04-06 01:36:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:36:37.301
lastevent: 2021-04-06 01:36:37.289, last ten sensor data: [('2021-04-06 01:36:36.630', 'D+000006.4'), ('2021-04-06 01:36:36.810', 'D+000005.2'), ('2021-04-06 01:36:36.830', 'D+000005.0'), ('2021-04-06 01:36:36.850', 'D+000004.8'), ('2021-04-06 01:36:36.870', 'D+000005.8'), ('2021-04-06 01:36:37.040', 'D+000005.4'), ('2021-04-06 01:36:37.070', 'D+000005.4'), ('2021-04-06 01:36:37.090', 'D+000005.8'), ('2021-04-06 01:36:37.110', 'D+000005.8'), ('2021-04-06 01:36:37.290', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.4, 5.4, 5.8, 5.8, 7.8]
np.array X: [[5.8]
 [5.4]
 [5.4]
 [5.8]
 [5.8]
 [7.8]]
revised_weight: 6.6
2021-04-06 01:36:37.290: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:36:37.290
plc_result: True
sendmessage: 20210406013637290,1,000078,000066
send message to PLC: 2021-04-06 01:36:37.308
time gap: 0:00:00.007410
2021-04-06 01:36:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:36:37.777
lastevent: 2021-04-06 01:36:37.768, last ten sensor data: [0, 0, ('2021-04-06 01:36:37.310', 'D+000007.6'), ('2021-04-06 01:36:37.330', 'D+000007.4'), ('2021-04-06 01:36:37.350', 'D+000007.2'), ('2021-04-06 01:36:37.370', 'D+000007.4'), ('2021-04-06 01:36:37.550', 'D+000007.8'), ('2021-04-06 01:36:37.570', 'D+000007.6'), ('2021-04-06 01:36:37.590', 'D+000007.6'), ('2021-04-06 01:36:37.610', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 7.4, 7.8, 7.6, 7.6, 8.0]
np.array X: [[7.2]
 [7.4]
 [7.8]
 [7.6]
 [7.6]
 [8. ]]
revised_weight: 7.6
2021-04-06 01:36:37.610: revising weight finished
revised_weight: 7.6 at 2021-04-06 01:36:37.610
plc_result: True
sendmessage: 20210406013637610,1,000080,000076
send message to PLC: 2021-04-06 01:36:37.784
time gap: 0:00:00.006950
2021-04-06 01:36:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:36:40.584
lastevent: 2021-04-06 01:36:40.561, last ten sensor data: [('2021-04-06 01:36:40.040', 'D+000002.0'), ('2021-04-06 01:36:40.220', 'D+000003.8'), ('2021-04-06 01:36:40.240', 'D+000003.8'), ('2021-04-06 01:36:40.260', 'D+000003.8'), ('2021-04-06 01:36:40.280', 'D+000003.4'), ('2021-04-06 01:36:40.460', 'D+000005.2'), ('2021-04-06 01:36:40.480', 'D+000005.4'), ('2021-04-06 01:36:40.500', 'D+000005.2'), ('2021-04-06 01:36:40.520', 'D+000004.6'), ('2021-04-06 01:36:40.570', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 5.2, 5.4, 5.2, 4.6, 5.0]
np.array X: [[3.4]
 [5.2]
 [5.4]
 [5.2]
 [4.6]
 [5. ]]
revised_weight: 5.5
2021-04-06 01:36:40.570: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:36:40.570
plc_result: True
sendmessage: 20210406013640570,1,000050,000055
send message to PLC: 2021-04-06 01:36:40.595
time gap: 0:00:00.011930
2021-04-06 01:36:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:36:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:01.171
lastevent: 2021-04-06 01:37:01.166, last ten sensor data: [('2021-04-06 01:37:00.790', 'D+000005.2'), ('2021-04-06 01:37:00.880', 'D+000005.2'), ('2021-04-06 01:37:00.900', 'D+000005.2'), ('2021-04-06 01:37:00.920', 'D+000006.0'), ('2021-04-06 01:37:00.940', 'D+000006.2'), ('2021-04-06 01:37:01.100', 'D+000006.2'), ('2021-04-06 01:37:01.120', 'D+000006.4'), ('2021-04-06 01:37:01.140', 'D+000006.2'), ('2021-04-06 01:37:01.160', 'D+000006.0'), ('2021-04-06 01:37:01.180', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.2, 6.4, 6.2, 6.0, 6.2]
np.array X: [[6.2]
 [6.2]
 [6.4]
 [6.2]
 [6. ]
 [6.2]]
revised_weight: 6.1
2021-04-06 01:37:01.180: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:37:01.180
plc_result: True
sendmessage: 20210406013701180,1,000062,000061
send message to PLC: 2021-04-06 01:37:01.184
time gap: 0:00:00.012805
2021-04-06 01:37:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:03.220
lastevent: 2021-04-06 01:37:03.212, last ten sensor data: [('2021-04-06 01:37:02.650', 'D+000003.4'), ('2021-04-06 01:37:02.810', 'D+000003.2'), ('2021-04-06 01:37:02.830', 'D+000003.2'), ('2021-04-06 01:37:02.850', 'D+000003.2'), ('2021-04-06 01:37:02.870', 'D+000003.4'), ('2021-04-06 01:37:02.890', 'D+000004.0'), ('2021-04-06 01:37:03.070', 'D+000005.2'), ('2021-04-06 01:37:03.090', 'D+000005.2'), ('2021-04-06 01:37:03.110', 'D+000004.8'), ('2021-04-06 01:37:03.130', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.0, 5.2, 5.2, 4.8, 4.4]
np.array X: [[3.4]
 [4. ]
 [5.2]
 [5.2]
 [4.8]
 [4.4]]
revised_weight: 4.8
2021-04-06 01:37:03.130: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:37:03.130
plc_result: True
sendmessage: 20210406013703130,1,000044,000048
send message to PLC: 2021-04-06 01:37:03.232
time gap: 0:00:00.011165
2021-04-06 01:37:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:04.382
lastevent: 2021-04-06 01:37:04.376, last ten sensor data: [('2021-04-06 01:37:03.860', 'D+000004.4'), ('2021-04-06 01:37:04.040', 'D+000007.0'), ('2021-04-06 01:37:04.060', 'D+000009.6'), ('2021-04-06 01:37:04.080', 'D+000010.2'), ('2021-04-06 01:37:04.100', 'D+000008.8'), ('2021-04-06 01:37:04.120', 'D+000007.8'), ('2021-04-06 01:37:04.280', 'D+000017.0'), ('2021-04-06 01:37:04.300', 'D+000017.6'), ('2021-04-06 01:37:04.320', 'D+000017.8'), ('2021-04-06 01:37:04.340', 'D+000018.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.8, 7.8, 17.0, 17.6, 17.8, 18.0]
np.array X: [[ 8.8]
 [ 7.8]
 [17. ]
 [17.6]
 [17.8]
 [18. ]]
revised_weight: 16.1
2021-04-06 01:37:04.340: revising weight finished
revised_weight: 16.1 at 2021-04-06 01:37:04.340
plc_result: False
sendmessage: 20210406013704340,0,000180,000161
send message to PLC: 2021-04-06 01:37:04.394
time gap: 0:00:00.011267
2021-04-06 01:37:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:05.763
lastevent: 2021-04-06 01:37:05.752, last ten sensor data: [('2021-04-06 01:37:05.290', 'D+000004.8'), ('2021-04-06 01:37:05.310', 'D+000004.8'), ('2021-04-06 01:37:05.330', 'D+000004.8'), ('2021-04-06 01:37:05.350', 'D+000004.8'), ('2021-04-06 01:37:05.510', 'D+000006.4'), ('2021-04-06 01:37:05.530', 'D+000006.8'), ('2021-04-06 01:37:05.550', 'D+000006.8'), ('2021-04-06 01:37:05.570', 'D+000006.6'), ('2021-04-06 01:37:05.590', 'D+000007.2'), ('2021-04-06 01:37:05.750', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.8, 6.8, 6.6, 7.2, 7.4]
np.array X: [[6.4]
 [6.8]
 [6.8]
 [6.6]
 [7.2]
 [7.4]]
revised_weight: 6.8
2021-04-06 01:37:05.750: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:37:05.750
plc_result: True
sendmessage: 20210406013705750,1,000074,000068
send message to PLC: 2021-04-06 01:37:05.774
time gap: 0:00:00.011194
2021-04-06 01:37:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:06.463
lastevent: 2021-04-06 01:37:06.449, last ten sensor data: [('2021-04-06 01:37:05.990', 'D+000007.0'), ('2021-04-06 01:37:06.010', 'D+000007.2'), ('2021-04-06 01:37:06.030', 'D+000007.2'), ('2021-04-06 01:37:06.050', 'D+000007.2'), ('2021-04-06 01:37:06.070', 'D+000007.0'), ('2021-04-06 01:37:06.230', 'D+000006.8'), ('2021-04-06 01:37:06.250', 'D+000006.8'), ('2021-04-06 01:37:06.270', 'D+000006.8'), ('2021-04-06 01:37:06.290', 'D+000007.2'), ('2021-04-06 01:37:06.310', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 6.8, 6.8, 6.8, 7.2, 6.8]
np.array X: [[7. ]
 [6.8]
 [6.8]
 [6.8]
 [7.2]
 [6.8]]
revised_weight: 6.8
2021-04-06 01:37:06.310: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:37:06.310
plc_result: True
sendmessage: 20210406013706310,1,000068,000068
send message to PLC: 2021-04-06 01:37:06.476
time gap: 0:00:00.012714
2021-04-06 01:37:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:07.172
lastevent: 2021-04-06 01:37:07.163, last ten sensor data: [('2021-04-06 01:37:06.760', 'D+000005.8'), ('2021-04-06 01:37:06.780', 'D+000005.8'), ('2021-04-06 01:37:06.800', 'D+000005.8'), ('2021-04-06 01:37:06.980', 'D+000006.2'), ('2021-04-06 01:37:07.000', 'D+000006.8'), ('2021-04-06 01:37:07.020', 'D+000007.0'), ('2021-04-06 01:37:07.040', 'D+000007.2'), ('2021-04-06 01:37:07.060', 'D+000006.0'), ('2021-04-06 01:37:07.120', 'D+000006.4'), ('2021-04-06 01:37:07.160', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 7.0, 7.2, 6.0, 6.4, 6.0]
np.array X: [[6.8]
 [7. ]
 [7.2]
 [6. ]
 [6.4]
 [6. ]]
revised_weight: 6.7
2021-04-06 01:37:07.160: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:37:07.160
plc_result: True
sendmessage: 20210406013707160,1,000060,000067
send message to PLC: 2021-04-06 01:37:07.179
time gap: 0:00:00.006439
2021-04-06 01:37:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:08: httpScaleDataSender thread Timeout occurred
2021-04-06 01:37:08: [13723] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
2021-04-06 01:37:08: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:37:10.329
lastevent: 2021-04-06 01:37:10.313, last ten sensor data: [('2021-04-06 01:37:09.870', 'D+000002.4'), ('2021-04-06 01:37:09.890', 'D+000002.4'), ('2021-04-06 01:37:09.910', 'D+000002.6'), ('2021-04-06 01:37:10.070', 'D+000004.4'), ('2021-04-06 01:37:10.090', 'D+000004.2'), ('2021-04-06 01:37:10.110', 'D+000004.2'), ('2021-04-06 01:37:10.130', 'D+000004.0'), ('2021-04-06 01:37:10.150', 'D+000004.8'), ('2021-04-06 01:37:10.310', 'D+000005.4'), ('2021-04-06 01:37:10.330', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 4.0, 4.8, 5.4, 5.2]
np.array X: [[4.2]
 [4.2]
 [4. ]
 [4.8]
 [5.4]
 [5.2]]
revised_weight: 5.0
2021-04-06 01:37:10.330: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:37:10.330
plc_result: True
sendmessage: 20210406013710330,1,000052,000050
send message to PLC: 2021-04-06 01:37:10.340
time gap: 0:00:00.011547
2021-04-06 01:37:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:10: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db']
2021-04-06 01:37:10: [13090] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_30.db
select_plcdb_filename: b
2021-04-06 01:37:10: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:10: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:10: select done
2021-04-06 01:37:10: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:37:10: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:37:10: sendjson called, 18 records in httpPlcDataSender thread
2021-04-06 01:37:10: count: 18 in httpPlcDataSender thread
2021-04-06 01:37:10: D+: 18 in httpPlcDataSender thread
2021-04-06 01:37:10: D-: 0 in httpPlcDataSender thread
2021-04-06 01:37:10: S+: 0 in httpPlcDataSender thread
2021-04-06 01:37:10: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.1', 'sensorAt': '2021-04-06 01:36:23.970'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:36:26.840'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:36:28.610'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:36:30.050'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:36:30.790'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:36:31.300'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:36:35.830'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:36:36.380'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:36:37.290'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:36:37.610'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:36:40.570'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:37:01.180'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:37:03.130'}, {'value': '16.1', 'sensorAt': '2021-04-06 01:37:04.340'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:37:05.750'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:37:06.310'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:37:07.160'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:37:10.330'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:36:23.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:26.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:28.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:30.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:30.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:31.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:35.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:36.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:37.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:37.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:40.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:01.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:03.130'}, {'value': 0, 'sensorAt': '2021-04-06 01:37:04.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:05.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:06.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:07.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:10.330'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:37:10', 'collectDate': '2021-04-06 01:37:10', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.1', 'sensorAt': '2021-04-06 01:36:23.970'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:36:26.840'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:36:28.610'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:36:30.050'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:36:30.790'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:36:31.300'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:36:35.830'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:36:36.380'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:36:37.290'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:36:37.610'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:36:40.570'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:37:01.180'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:37:03.130'}, {'value': '16.1', 'sensorAt': '2021-04-06 01:37:04.340'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:37:05.750'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:37:06.310'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:37:07.160'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:37:10.330'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:36:23.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:26.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:28.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:30.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:30.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:31.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:35.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:36.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:37.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:37.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:36:40.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:01.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:03.130'}, {'value': 0, 'sensorAt': '2021-04-06 01:37:04.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:05.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:06.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:07.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:10.330'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:37:10: send http
2021-04-06 01:37:10: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:37:11.069
lastevent: 2021-04-06 01:37:11.054, last ten sensor data: [('2021-04-06 01:37:10.580', 'D+000005.2'), ('2021-04-06 01:37:10.600', 'D+000005.2'), ('2021-04-06 01:37:10.620', 'D+000005.4'), ('2021-04-06 01:37:10.640', 'D+000005.4'), ('2021-04-06 01:37:10.860', 'D+000006.0'), ('2021-04-06 01:37:10.880', 'D+000006.6'), ('2021-04-06 01:37:10.900', 'D+000007.0'), ('2021-04-06 01:37:10.990', 'D+000006.6'), ('2021-04-06 01:37:11.010', 'D+000006.4'), ('2021-04-06 01:37:11.060', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.6, 7.0, 6.6, 6.4, 6.6]
np.array X: [[6. ]
 [6.6]
 [7. ]
 [6.6]
 [6.4]
 [6.6]]
revised_weight: 6.5
2021-04-06 01:37:11.060: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:37:11.060
plc_result: True
sendmessage: 20210406013711060,1,000066,000065
send message to PLC: 2021-04-06 01:37:11.080
time gap: 0:00:00.010944
2021-04-06 01:37:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
Backupserver True
2021-04-06 01:37:11: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:11: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:11.695
lastevent: 2021-04-06 01:37:11.681, last ten sensor data: [('2021-04-06 01:37:11.140', 'D+000007.2'), ('2021-04-06 01:37:11.300', 'D+000006.6'), ('2021-04-06 01:37:11.320', 'D+000006.2'), ('2021-04-06 01:37:11.340', 'D+000006.4'), ('2021-04-06 01:37:11.360', 'D+000006.2'), ('2021-04-06 01:37:11.540', 'D+000006.6'), ('2021-04-06 01:37:11.560', 'D+000006.4'), ('2021-04-06 01:37:11.580', 'D+000006.2'), ('2021-04-06 01:37:11.600', 'D+000005.8'), ('2021-04-06 01:37:11.620', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.6, 6.4, 6.2, 5.8, 5.8]
np.array X: [[6.2]
 [6.6]
 [6.4]
 [6.2]
 [5.8]
 [5.8]]
revised_weight: 6.2
2021-04-06 01:37:11.620: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:37:11.620
plc_result: True
sendmessage: 20210406013711620,1,000058,000062
send message to PLC: 2021-04-06 01:37:11.707
time gap: 0:00:00.011907
2021-04-06 01:37:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:12.602
lastevent: 2021-04-06 01:37:12.585, last ten sensor data: [('2021-04-06 01:37:12.110', 'D+000005.6'), ('2021-04-06 01:37:12.260', 'D+000009.0'), ('2021-04-06 01:37:12.290', 'D+000009.4'), ('2021-04-06 01:37:12.310', 'D+000008.8'), ('2021-04-06 01:37:12.330', 'D+000009.8'), ('2021-04-06 01:37:12.350', 'D+000011.8'), ('2021-04-06 01:37:12.530', 'D+000025.8'), ('2021-04-06 01:37:12.550', 'D+000012.4'), ('2021-04-06 01:37:12.570', 'D+000008.2'), ('2021-04-06 01:37:12.590', 'D+000018.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.8, 11.8, 25.8, 12.4, 8.2, 18.0]
np.array X: [[ 9.8]
 [11.8]
 [25.8]
 [12.4]
 [ 8.2]
 [18. ]]
revised_weight: 24.7
2021-04-06 01:37:12.590: revising weight finished
revised_weight: 24.7 at 2021-04-06 01:37:12.590
plc_result: False
sendmessage: 20210406013712590,0,000180,000247
send message to PLC: 2021-04-06 01:37:12.615
time gap: 0:00:00.012518
2021-04-06 01:37:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:14.843
lastevent: 2021-04-06 01:37:14.832, last ten sensor data: [('2021-04-06 01:37:14.280', 'D+000003.0'), ('2021-04-06 01:37:14.300', 'D+000003.0'), ('2021-04-06 01:37:14.320', 'D+000003.0'), ('2021-04-06 01:37:14.490', 'D+000003.2'), ('2021-04-06 01:37:14.510', 'D+000003.4'), ('2021-04-06 01:37:14.530', 'D+000003.6'), ('2021-04-06 01:37:14.720', 'D+000003.8'), ('2021-04-06 01:37:14.740', 'D+000003.6'), ('2021-04-06 01:37:14.760', 'D+000003.6'), ('2021-04-06 01:37:14.780', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 3.8, 3.6, 3.6, 3.6]
np.array X: [[3.4]
 [3.6]
 [3.8]
 [3.6]
 [3.6]
 [3.6]]
revised_weight: 3.7
2021-04-06 01:37:14.780: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:37:14.780
plc_result: True
sendmessage: 20210406013714780,1,000036,000037
send message to PLC: 2021-04-06 01:37:14.850
time gap: 0:00:00.007175
2021-04-06 01:37:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:15.514
lastevent: 2021-04-06 01:37:15.504, last ten sensor data: [('2021-04-06 01:37:15.200', 'D+000004.0'), ('2021-04-06 01:37:15.220', 'D+000003.8'), ('2021-04-06 01:37:15.240', 'D+000004.0'), ('2021-04-06 01:37:15.260', 'D+000004.0'), ('2021-04-06 01:37:15.280', 'D+000004.2'), ('2021-04-06 01:37:15.430', 'D+000004.2'), ('2021-04-06 01:37:15.450', 'D+000004.2'), ('2021-04-06 01:37:15.470', 'D+000004.2'), ('2021-04-06 01:37:15.490', 'D+000004.0'), ('2021-04-06 01:37:15.510', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 4.2, 4.2, 4.0, 4.4]
np.array X: [[4.2]
 [4.2]
 [4.2]
 [4.2]
 [4. ]
 [4.4]]
revised_weight: 4.4
2021-04-06 01:37:15.510: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:37:15.510
plc_result: True
sendmessage: 20210406013715510,1,000044,000044
send message to PLC: 2021-04-06 01:37:15.521
time gap: 0:00:00.007220
2021-04-06 01:37:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:16: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:37:16: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:16.294
lastevent: 2021-04-06 01:37:16.280, last ten sensor data: [('2021-04-06 01:37:15.910', 'D+000004.2'), ('2021-04-06 01:37:15.950', 'D+000004.8'), ('2021-04-06 01:37:15.970', 'D+000004.8'), ('2021-04-06 01:37:15.990', 'D+000004.8'), ('2021-04-06 01:37:16.010', 'D+000004.4'), ('2021-04-06 01:37:16.170', 'D+000005.0'), ('2021-04-06 01:37:16.190', 'D+000005.0'), ('2021-04-06 01:37:16.210', 'D+000004.8'), ('2021-04-06 01:37:16.230', 'D+000005.0'), ('2021-04-06 01:37:16.250', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.0, 5.0, 4.8, 5.0, 5.0]
np.array X: [[4.4]
 [5. ]
 [5. ]
 [4.8]
 [5. ]
 [5. ]]
revised_weight: 4.8
2021-04-06 01:37:16.250: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:37:16.250
plc_result: True
sendmessage: 20210406013716250,1,000050,000048
send message to PLC: 2021-04-06 01:37:16.301
time gap: 0:00:00.007379
2021-04-06 01:37:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:16: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:16: select done
2021-04-06 01:37:16: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:37:16: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:37:16: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:37:16: count: 6 in httpPlcDataSender thread
2021-04-06 01:37:16: D+: 6 in httpPlcDataSender thread
2021-04-06 01:37:16: D-: 0 in httpPlcDataSender thread
2021-04-06 01:37:16: S+: 0 in httpPlcDataSender thread
2021-04-06 01:37:16: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:37:11.060'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:37:11.620'}, {'value': '24.7', 'sensorAt': '2021-04-06 01:37:12.590'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:37:14.780'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:37:15.510'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:37:16.250'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:11.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:11.620'}, {'value': 0, 'sensorAt': '2021-04-06 01:37:12.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:14.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:15.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:16.250'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:37:16', 'collectDate': '2021-04-06 01:37:16', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:37:11.060'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:37:11.620'}, {'value': '24.7', 'sensorAt': '2021-04-06 01:37:12.590'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:37:14.780'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:37:15.510'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:37:16.250'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:11.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:11.620'}, {'value': 0, 'sensorAt': '2021-04-06 01:37:12.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:14.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:15.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:16.250'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:37:16: send http
2021-04-06 01:37:16: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:37:16: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:16: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:17.704
lastevent: 2021-04-06 01:37:17.689, last ten sensor data: [('2021-04-06 01:37:17.220', 'D+000004.0'), ('2021-04-06 01:37:17.240', 'D+000004.0'), ('2021-04-06 01:37:17.400', 'D+000005.8'), ('2021-04-06 01:37:17.420', 'D+000006.2'), ('2021-04-06 01:37:17.440', 'D+000006.6'), ('2021-04-06 01:37:17.460', 'D+000006.8'), ('2021-04-06 01:37:17.480', 'D+000006.8'), ('2021-04-06 01:37:17.660', 'D+000007.8'), ('2021-04-06 01:37:17.680', 'D+000007.4'), ('2021-04-06 01:37:17.700', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.8, 6.8, 7.8, 7.4, 6.8]
np.array X: [[6.6]
 [6.8]
 [6.8]
 [7.8]
 [7.4]
 [6.8]]
revised_weight: 6.9
2021-04-06 01:37:17.700: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:37:17.700
plc_result: True
sendmessage: 20210406013717700,1,000068,000069
send message to PLC: 2021-04-06 01:37:17.710
time gap: 0:00:00.006484
2021-04-06 01:37:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:18.459
lastevent: 2021-04-06 01:37:18.445, last ten sensor data: [('2021-04-06 01:37:17.960', 'D+000007.0'), ('2021-04-06 01:37:18.140', 'D+000006.4'), ('2021-04-06 01:37:18.160', 'D+000007.0'), ('2021-04-06 01:37:18.180', 'D+000007.2'), ('2021-04-06 01:37:18.200', 'D+000008.0'), ('2021-04-06 01:37:18.220', 'D+000008.4'), ('2021-04-06 01:37:18.380', 'D+000011.2'), ('2021-04-06 01:37:18.400', 'D+000012.0'), ('2021-04-06 01:37:18.420', 'D+000012.0'), ('2021-04-06 01:37:18.440', 'D+000011.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.0, 8.4, 11.2, 12.0, 12.0, 11.0]
np.array X: [[ 8. ]
 [ 8.4]
 [11.2]
 [12. ]
 [12. ]
 [11. ]]
revised_weight: 10.4
2021-04-06 01:37:18.440: revising weight finished
revised_weight: 10.4 at 2021-04-06 01:37:18.440
plc_result: True
sendmessage: 20210406013718440,1,000110,000104
send message to PLC: 2021-04-06 01:37:18.465
time gap: 0:00:00.006189
2021-04-06 01:37:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:19.333
lastevent: 2021-04-06 01:37:19.314, last ten sensor data: [('2021-04-06 01:37:18.890', 'D+000008.8'), ('2021-04-06 01:37:18.910', 'D+000008.2'), ('2021-04-06 01:37:18.930', 'D+000007.6'), ('2021-04-06 01:37:18.950', 'D+000008.0'), ('2021-04-06 01:37:19.090', 'D+000005.2'), ('2021-04-06 01:37:19.110', 'D+000005.2'), ('2021-04-06 01:37:19.130', 'D+000005.2'), ('2021-04-06 01:37:19.150', 'D+000005.4'), ('2021-04-06 01:37:19.170', 'D+000005.6'), ('2021-04-06 01:37:19.190', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 5.2, 5.4, 5.6, 6.2]
np.array X: [[5.2]
 [5.2]
 [5.2]
 [5.4]
 [5.6]
 [6.2]]
revised_weight: 5.7
2021-04-06 01:37:19.190: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:37:19.190
plc_result: True
sendmessage: 20210406013719190,1,000062,000057
send message to PLC: 2021-04-06 01:37:19.344
time gap: 0:00:00.011398
2021-04-06 01:37:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:20.146
lastevent: 2021-04-06 01:37:20.128, last ten sensor data: [('2021-04-06 01:37:19.670', 'D+000005.8'), ('2021-04-06 01:37:19.830', 'D+000005.4'), ('2021-04-06 01:37:19.850', 'D+000005.4'), ('2021-04-06 01:37:19.870', 'D+000005.2'), ('2021-04-06 01:37:19.890', 'D+000005.4'), ('2021-04-06 01:37:19.910', 'D+000005.4'), ('2021-04-06 01:37:20.080', 'D+000005.8'), ('2021-04-06 01:37:20.100', 'D+000005.2'), ('2021-04-06 01:37:20.120', 'D+000005.2'), ('2021-04-06 01:37:20.140', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.4, 5.8, 5.2, 5.2, 5.6]
np.array X: [[5.4]
 [5.4]
 [5.8]
 [5.2]
 [5.2]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:37:20.140: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:37:20.140
plc_result: True
sendmessage: 20210406013720140,1,000056,000054
send message to PLC: 2021-04-06 01:37:20.158
time gap: 0:00:00.011761
2021-04-06 01:37:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:21.275
lastevent: 2021-04-06 01:37:21.260, last ten sensor data: [('2021-04-06 01:37:20.820', 'D+000004.0'), ('2021-04-06 01:37:20.840', 'D+000004.0'), ('2021-04-06 01:37:20.860', 'D+000004.2'), ('2021-04-06 01:37:20.880', 'D+000004.6'), ('2021-04-06 01:37:20.900', 'D+000004.8'), ('2021-04-06 01:37:21.050', 'D+000005.6'), ('2021-04-06 01:37:21.080', 'D+000007.0'), ('2021-04-06 01:37:21.100', 'D+000007.6'), ('2021-04-06 01:37:21.120', 'D+000007.4'), ('2021-04-06 01:37:21.140', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.6, 7.0, 7.6, 7.4, 7.2]
np.array X: [[4.8]
 [5.6]
 [7. ]
 [7.6]
 [7.4]
 [7.2]]
revised_weight: 7.0
2021-04-06 01:37:21.140: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:37:21.140
plc_result: True
sendmessage: 20210406013721140,1,000072,000070
send message to PLC: 2021-04-06 01:37:21.281
time gap: 0:00:00.006302
2021-04-06 01:37:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:21: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:37:21: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:21: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:21: select done
2021-04-06 01:37:21: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:37:21: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:37:22: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:37:22: count: 5 in httpPlcDataSender thread
2021-04-06 01:37:22: D+: 5 in httpPlcDataSender thread
2021-04-06 01:37:22: D-: 0 in httpPlcDataSender thread
2021-04-06 01:37:22: S+: 0 in httpPlcDataSender thread
2021-04-06 01:37:22: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.9', 'sensorAt': '2021-04-06 01:37:17.700'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:37:18.440'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:37:19.190'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:37:20.140'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:37:21.140'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:17.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:18.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:19.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:20.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:21.140'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:37:22', 'collectDate': '2021-04-06 01:37:21', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.9', 'sensorAt': '2021-04-06 01:37:17.700'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:37:18.440'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:37:19.190'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:37:20.140'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:37:21.140'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:17.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:18.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:19.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:20.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:21.140'}]}]} in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:22.065
lastevent: 2021-04-06 01:37:22.050, last ten sensor data: [('2021-04-06 01:37:21.560', 'D+000007.4'), ('2021-04-06 01:37:21.580', 'D+000007.6'), ('2021-04-06 01:37:21.600', 'D+000007.4'), ('2021-04-06 01:37:21.620', 'D+000007.2'), ('2021-04-06 01:37:21.810', 'D+000005.8'), ('2021-04-06 01:37:21.830', 'D+000005.6'), ('2021-04-06 01:37:21.850', 'D+000006.0'), ('2021-04-06 01:37:22.020', 'D+000005.4'), ('2021-04-06 01:37:22.040', 'D+000005.4'), ('2021-04-06 01:37:22.060', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.6, 6.0, 5.4, 5.4, 6.0]
np.array X: [[5.8]
 [5.6]
 [6. ]
 [5.4]
 [5.4]
 [6. ]]
True in httpPlcDataSender thread
revised_weight: 5.7
2021-04-06 01:37:22.060: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:37:22.060
plc_result: True
sendmessage: 20210406013722060,1,000060,000057
send message to PLC: 2021-04-06 01:37:22.080
time gap: 0:00:00.015468
2021-04-06 01:37:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:22: send http
2021-04-06 01:37:22: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:37:22: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:22: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:23.021
lastevent: 2021-04-06 01:37:23.020, last ten sensor data: [('2021-04-06 01:37:22.550', 'D+000004.8'), ('2021-04-06 01:37:22.570', 'D+000005.2'), ('2021-04-06 01:37:22.590', 'D+000005.4'), ('2021-04-06 01:37:22.760', 'D+000005.8'), ('2021-04-06 01:37:22.780', 'D+000005.8'), ('2021-04-06 01:37:22.800', 'D+000005.8'), ('2021-04-06 01:37:22.820', 'D+000006.0'), ('2021-04-06 01:37:22.840', 'D+000006.4'), ('2021-04-06 01:37:22.990', 'D+000007.8'), ('2021-04-06 01:37:23.010', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.8, 6.0, 6.4, 7.8, 7.6]
np.array X: [[5.8]
 [5.8]
 [6. ]
 [6.4]
 [7.8]
 [7.6]]
revised_weight: 7.0
2021-04-06 01:37:23.010: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:37:23.010
plc_result: True
sendmessage: 20210406013723010,1,000076,000070
send message to PLC: 2021-04-06 01:37:23.028
time gap: 0:00:00.006413
2021-04-06 01:37:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:23.756
lastevent: 2021-04-06 01:37:23.741, last ten sensor data: [('2021-04-06 01:37:23.250', 'D+000006.4'), ('2021-04-06 01:37:23.270', 'D+000006.6'), ('2021-04-06 01:37:23.450', 'D+000006.8'), ('2021-04-06 01:37:23.470', 'D+000006.8'), ('2021-04-06 01:37:23.490', 'D+000006.6'), ('2021-04-06 01:37:23.510', 'D+000006.6'), ('2021-04-06 01:37:23.680', 'D+000005.6'), ('2021-04-06 01:37:23.700', 'D+000005.6'), ('2021-04-06 01:37:23.720', 'D+000005.4'), ('2021-04-06 01:37:23.740', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.6, 5.6, 5.6, 5.4, 5.8]
np.array X: [[6.6]
 [6.6]
 [5.6]
 [5.6]
 [5.4]
 [5.8]]
revised_weight: 6.1
2021-04-06 01:37:23.740: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:37:23.740
plc_result: True
sendmessage: 20210406013723740,1,000058,000061
send message to PLC: 2021-04-06 01:37:23.763
time gap: 0:00:00.006404
2021-04-06 01:37:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:24.308
lastevent: 2021-04-06 01:37:24.293, last ten sensor data: [('2021-04-06 01:37:23.930', 'D+000005.8'), ('2021-04-06 01:37:23.950', 'D+000006.0'), ('2021-04-06 01:37:23.970', 'D+000006.0'), ('2021-04-06 01:37:23.990', 'D+000006.0'), ('2021-04-06 01:37:24.010', 'D+000006.2'), ('2021-04-06 01:37:24.160', 'D+000005.8'), ('2021-04-06 01:37:24.200', 'D+000006.0'), ('2021-04-06 01:37:24.220', 'D+000006.2'), ('2021-04-06 01:37:24.240', 'D+000006.2'), ('2021-04-06 01:37:24.260', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 5.8, 6.0, 6.2, 6.2, 6.2]
np.array X: [[6.2]
 [5.8]
 [6. ]
 [6.2]
 [6.2]
 [6.2]]
revised_weight: 6.1
2021-04-06 01:37:24.260: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:37:24.260
plc_result: True
sendmessage: 20210406013724260,1,000062,000061
send message to PLC: 2021-04-06 01:37:24.314
time gap: 0:00:00.006616
2021-04-06 01:37:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:25.206
lastevent: 2021-04-06 01:37:25.194, last ten sensor data: [('2021-04-06 01:37:24.740', 'D+000005.4'), ('2021-04-06 01:37:24.760', 'D+000005.6'), ('2021-04-06 01:37:24.920', 'D+000005.4'), ('2021-04-06 01:37:24.940', 'D+000005.2'), ('2021-04-06 01:37:24.960', 'D+000005.2'), ('2021-04-06 01:37:24.980', 'D+000005.2'), ('2021-04-06 01:37:25.000', 'D+000005.2'), ('2021-04-06 01:37:25.160', 'D+000005.8'), ('2021-04-06 01:37:25.180', 'D+000005.8'), ('2021-04-06 01:37:25.200', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 5.2, 5.8, 5.8, 5.8]
np.array X: [[5.2]
 [5.2]
 [5.2]
 [5.8]
 [5.8]
 [5.8]]
revised_weight: 5.8
2021-04-06 01:37:25.200: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:37:25.200
plc_result: True
sendmessage: 20210406013725200,1,000058,000058
send message to PLC: 2021-04-06 01:37:25.215
time gap: 0:00:00.008817
2021-04-06 01:37:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:25.862
lastevent: 2021-04-06 01:37:25.847, last ten sensor data: [('2021-04-06 01:37:25.240', 'D+000005.6'), ('2021-04-06 01:37:25.420', 'D+000004.6'), ('2021-04-06 01:37:25.440', 'D+000004.6'), ('2021-04-06 01:37:25.460', 'D+000004.6'), ('2021-04-06 01:37:25.480', 'D+000004.8'), ('2021-04-06 01:37:25.640', 'D+000006.6'), ('2021-04-06 01:37:25.670', 'D+000006.6'), ('2021-04-06 01:37:25.690', 'D+000006.4'), ('2021-04-06 01:37:25.710', 'D+000006.6'), ('2021-04-06 01:37:25.730', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 6.6, 6.6, 6.4, 6.6, 6.2]
np.array X: [[4.8]
 [6.6]
 [6.6]
 [6.4]
 [6.6]
 [6.2]]
revised_weight: 6.1
2021-04-06 01:37:25.730: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:37:25.730
plc_result: True
sendmessage: 20210406013725730,1,000062,000061
send message to PLC: 2021-04-06 01:37:25.874
time gap: 0:00:00.011979
2021-04-06 01:37:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:26.719
lastevent: 2021-04-06 01:37:26.704, last ten sensor data: [('2021-04-06 01:37:26.390', 'D+000006.6'), ('2021-04-06 01:37:26.410', 'D+000006.6'), ('2021-04-06 01:37:26.430', 'D+000006.4'), ('2021-04-06 01:37:26.450', 'D+000006.6'), ('2021-04-06 01:37:26.470', 'D+000007.2'), ('2021-04-06 01:37:26.610', 'D+000007.6'), ('2021-04-06 01:37:26.630', 'D+000006.6'), ('2021-04-06 01:37:26.650', 'D+000007.0'), ('2021-04-06 01:37:26.670', 'D+000007.4'), ('2021-04-06 01:37:26.690', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 7.6, 6.6, 7.0, 7.4, 7.8]
np.array X: [[7.2]
 [7.6]
 [6.6]
 [7. ]
 [7.4]
 [7.8]]
revised_weight: 7.1
2021-04-06 01:37:26.690: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:37:26.690
plc_result: True
sendmessage: 20210406013726690,1,000078,000071
send message to PLC: 2021-04-06 01:37:26.726
time gap: 0:00:00.006578
2021-04-06 01:37:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:27.270
lastevent: 2021-04-06 01:37:27.258, last ten sensor data: [('2021-04-06 01:37:26.880', 'D+000007.0'), ('2021-04-06 01:37:26.900', 'D+000007.0'), ('2021-04-06 01:37:26.920', 'D+000006.8'), ('2021-04-06 01:37:26.940', 'D+000007.0'), ('2021-04-06 01:37:26.960', 'D+000007.6'), ('2021-04-06 01:37:27.110', 'D+000006.4'), ('2021-04-06 01:37:27.140', 'D+000007.0'), ('2021-04-06 01:37:27.160', 'D+000007.4'), ('2021-04-06 01:37:27.180', 'D+000007.0'), ('2021-04-06 01:37:27.200', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.6, 6.4, 7.0, 7.4, 7.0, 6.6]
np.array X: [[7.6]
 [6.4]
 [7. ]
 [7.4]
 [7. ]
 [6.6]]
revised_weight: 6.7
2021-04-06 01:37:27.200: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:37:27.200
plc_result: True
sendmessage: 20210406013727200,1,000066,000067
send message to PLC: 2021-04-06 01:37:27.276
time gap: 0:00:00.006210
2021-04-06 01:37:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:27: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:37:27: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:27: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:27: select done
2021-04-06 01:37:27: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:37:27: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:37:27: sendjson called, 8 records in httpPlcDataSender thread
2021-04-06 01:37:27: count: 8 in httpPlcDataSender thread
2021-04-06 01:37:27: D+: 8 in httpPlcDataSender thread
2021-04-06 01:37:27: D-: 0 in httpPlcDataSender thread
2021-04-06 01:37:27: S+: 0 in httpPlcDataSender thread
2021-04-06 01:37:27: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.7', 'sensorAt': '2021-04-06 01:37:22.060'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:37:23.010'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:37:23.740'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:37:24.260'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:37:25.200'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:37:25.730'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:37:26.690'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:37:27.200'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:22.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:23.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:23.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:24.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:25.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:25.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:26.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:27.200'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:37:27', 'collectDate': '2021-04-06 01:37:27', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.7', 'sensorAt': '2021-04-06 01:37:22.060'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:37:23.010'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:37:23.740'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:37:24.260'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:37:25.200'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:37:25.730'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:37:26.690'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:37:27.200'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:22.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:23.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:23.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:24.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:25.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:25.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:26.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:27.200'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:37:27: send http
2021-04-06 01:37:27: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:37:27: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:28: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:28.210
lastevent: 2021-04-06 01:37:28.194, last ten sensor data: [('2021-04-06 01:37:27.810', 'D+000005.2'), ('2021-04-06 01:37:27.860', 'D+000005.8'), ('2021-04-06 01:37:27.880', 'D+000006.4'), ('2021-04-06 01:37:27.900', 'D+000006.4'), ('2021-04-06 01:37:27.920', 'D+000006.2'), ('2021-04-06 01:37:28.100', 'D+000007.0'), ('2021-04-06 01:37:28.120', 'D+000006.0'), ('2021-04-06 01:37:28.140', 'D+000006.2'), ('2021-04-06 01:37:28.160', 'D+000007.4'), ('2021-04-06 01:37:28.180', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 7.0, 6.0, 6.2, 7.4, 7.2]
np.array X: [[6.2]
 [7. ]
 [6. ]
 [6.2]
 [7.4]
 [7.2]]
revised_weight: 5.8
2021-04-06 01:37:28.180: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:37:28.180
plc_result: True
sendmessage: 20210406013728180,1,000072,000058
send message to PLC: 2021-04-06 01:37:28.218
time gap: 0:00:00.008315
2021-04-06 01:37:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:29.647
lastevent: 2021-04-06 01:37:29.640, last ten sensor data: [('2021-04-06 01:37:29.300', 'D+000005.2'), ('2021-04-06 01:37:29.320', 'D+000005.6'), ('2021-04-06 01:37:29.340', 'D+000005.4'), ('2021-04-06 01:37:29.360', 'D+000005.0'), ('2021-04-06 01:37:29.380', 'D+000006.0'), ('2021-04-06 01:37:29.540', 'D+000006.2'), ('2021-04-06 01:37:29.560', 'D+000006.4'), ('2021-04-06 01:37:29.580', 'D+000006.6'), ('2021-04-06 01:37:29.600', 'D+000006.6'), ('2021-04-06 01:37:29.620', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.2, 6.4, 6.6, 6.6, 7.0]
np.array X: [[6. ]
 [6.2]
 [6.4]
 [6.6]
 [6.6]
 [7. ]]
revised_weight: 6.6
2021-04-06 01:37:29.620: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:37:29.620
plc_result: True
sendmessage: 20210406013729620,1,000070,000066
send message to PLC: 2021-04-06 01:37:29.653
time gap: 0:00:00.006274
2021-04-06 01:37:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:30.227
lastevent: 2021-04-06 01:37:30.215, last ten sensor data: [('2021-04-06 01:37:29.800', 'D+000006.2'), ('2021-04-06 01:37:29.820', 'D+000006.4'), ('2021-04-06 01:37:29.840', 'D+000006.2'), ('2021-04-06 01:37:29.860', 'D+000006.2'), ('2021-04-06 01:37:30.000', 'D+000008.4'), ('2021-04-06 01:37:30.030', 'D+000010.0'), ('2021-04-06 01:37:30.050', 'D+000009.8'), ('2021-04-06 01:37:30.070', 'D+000009.8'), ('2021-04-06 01:37:30.090', 'D+000010.2'), ('2021-04-06 01:37:30.110', 'D+000011.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.4, 10.0, 9.8, 9.8, 10.2, 11.8]
np.array X: [[ 8.4]
 [10. ]
 [ 9.8]
 [ 9.8]
 [10.2]
 [11.8]]
revised_weight: 10.2
2021-04-06 01:37:30.110: revising weight finished
revised_weight: 10.2 at 2021-04-06 01:37:30.110
plc_result: True
sendmessage: 20210406013730110,1,000118,000102
send message to PLC: 2021-04-06 01:37:30.233
time gap: 0:00:00.006103
2021-04-06 01:37:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:31.535
lastevent: 2021-04-06 01:37:31.514, last ten sensor data: [('2021-04-06 01:37:31.040', 'D+000004.4'), ('2021-04-06 01:37:31.060', 'D+000005.0'), ('2021-04-06 01:37:31.080', 'D+000005.4'), ('2021-04-06 01:37:31.100', 'D+000005.4'), ('2021-04-06 01:37:31.250', 'D+000006.6'), ('2021-04-06 01:37:31.270', 'D+000007.0'), ('2021-04-06 01:37:31.290', 'D+000007.2'), ('2021-04-06 01:37:31.310', 'D+000007.6'), ('2021-04-06 01:37:31.500', 'D+000009.2'), ('2021-04-06 01:37:31.520', 'D+000009.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 7.0, 7.2, 7.6, 9.2, 9.2]
np.array X: [[6.6]
 [7. ]
 [7.2]
 [7.6]
 [9.2]
 [9.2]]
revised_weight: 8.6
2021-04-06 01:37:31.520: revising weight finished
revised_weight: 8.6 at 2021-04-06 01:37:31.520
plc_result: True
sendmessage: 20210406013731520,1,000092,000086
send message to PLC: 2021-04-06 01:37:31.547
time gap: 0:00:00.011583
2021-04-06 01:37:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:32.145
lastevent: 2021-04-06 01:37:32.130, last ten sensor data: [('2021-04-06 01:37:31.570', 'D+000009.2'), ('2021-04-06 01:37:31.760', 'D+000009.0'), ('2021-04-06 01:37:31.780', 'D+000009.4'), ('2021-04-06 01:37:31.800', 'D+000009.4'), ('2021-04-06 01:37:31.820', 'D+000009.4'), ('2021-04-06 01:37:31.980', 'D+000006.6'), ('2021-04-06 01:37:32.000', 'D+000006.2'), ('2021-04-06 01:37:32.020', 'D+000005.6'), ('2021-04-06 01:37:32.040', 'D+000005.6'), ('2021-04-06 01:37:32.060', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.4, 6.6, 6.2, 5.6, 5.6, 6.4]
np.array X: [[9.4]
 [6.6]
 [6.2]
 [5.6]
 [5.6]
 [6.4]]
revised_weight: 6.8
2021-04-06 01:37:32.060: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:37:32.060
plc_result: True
sendmessage: 20210406013732060,1,000064,000068
send message to PLC: 2021-04-06 01:37:32.151
time gap: 0:00:00.006136
2021-04-06 01:37:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:33: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:37:33: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:33: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:33: select done
2021-04-06 01:37:33: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:37:33: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:33.225
lastevent: 2021-04-06 01:37:33.210, last ten sensor data: [('2021-04-06 01:37:32.710', 'D+000004.4'), ('2021-04-06 01:37:32.730', 'D+000004.2'), ('2021-04-06 01:37:32.750', 'D+000004.0'), ('2021-04-06 01:37:32.920', 'D+000004.4'), ('2021-04-06 01:37:32.940', 'D+000004.4'), ('2021-04-06 01:37:32.960', 'D+000004.6'), ('2021-04-06 01:37:32.980', 'D+000004.6'), ('2021-04-06 01:37:33.180', 'D+000005.2'), ('2021-04-06 01:37:33.200', 'D+000005.2'), ('2021-04-06 01:37:33.220', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 4.6, 5.2, 5.2, 5.2]
np.array X: [[4.4]
 [4.6]
 [4.6]
 [5.2]
 [5.2]
 [5.2]]
revised_weight: 5.2
2021-04-06 01:37:33.220: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:37:33.220
plc_result: True
sendmessage: 20210406013733220,1,000052,000052
send message to PLC: 2021-04-06 01:37:33.236
time gap: 0:00:00.010737
2021-04-06 01:37:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:33: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:37:33: count: 5 in httpPlcDataSender thread
2021-04-06 01:37:33: D+: 5 in httpPlcDataSender thread
2021-04-06 01:37:33: D-: 0 in httpPlcDataSender thread
2021-04-06 01:37:33: S+: 0 in httpPlcDataSender thread
2021-04-06 01:37:33: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:37:28.180'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:37:29.620'}, {'value': '10.2', 'sensorAt': '2021-04-06 01:37:30.110'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:37:31.520'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:37:32.060'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:28.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:29.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:30.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:31.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:32.060'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:37:33', 'collectDate': '2021-04-06 01:37:32', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:37:28.180'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:37:29.620'}, {'value': '10.2', 'sensorAt': '2021-04-06 01:37:30.110'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:37:31.520'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:37:32.060'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:28.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:29.620'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:30.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:31.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:32.060'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:37:33: send http
2021-04-06 01:37:33: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:37:33: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:33: got 'update query' results  in httpPlcDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:37:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:34.496
lastevent: 2021-04-06 01:37:34.487, last ten sensor data: [('2021-04-06 01:37:33.970', 'D+000004.8'), ('2021-04-06 01:37:34.140', 'D+000004.6'), ('2021-04-06 01:37:34.160', 'D+000004.6'), ('2021-04-06 01:37:34.180', 'D+000005.0'), ('2021-04-06 01:37:34.200', 'D+000005.2'), ('2021-04-06 01:37:34.220', 'D+000006.2'), ('2021-04-06 01:37:34.400', 'D+000010.4'), ('2021-04-06 01:37:34.420', 'D+000012.0'), ('2021-04-06 01:37:34.440', 'D+000012.8'), ('2021-04-06 01:37:34.460', 'D+000013.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 6.2, 10.4, 12.0, 12.8, 13.2]
np.array X: [[ 5.2]
 [ 6.2]
 [10.4]
 [12. ]
 [12.8]
 [13.2]]
revised_weight: 11.4
2021-04-06 01:37:34.460: revising weight finished
revised_weight: 11.4 at 2021-04-06 01:37:34.460
plc_result: True
sendmessage: 20210406013734460,1,000132,000114
send message to PLC: 2021-04-06 01:37:34.502
time gap: 0:00:00.006163
2021-04-06 01:37:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:35.990
lastevent: 2021-04-06 01:37:35.985, last ten sensor data: [('2021-04-06 01:37:35.610', 'D+000003.8'), ('2021-04-06 01:37:35.630', 'D+000004.0'), ('2021-04-06 01:37:35.650', 'D+000004.0'), ('2021-04-06 01:37:35.670', 'D+000004.0'), ('2021-04-06 01:37:35.690', 'D+000004.0'), ('2021-04-06 01:37:35.840', 'D+000004.0'), ('2021-04-06 01:37:35.870', 'D+000004.0'), ('2021-04-06 01:37:35.890', 'D+000004.6'), ('2021-04-06 01:37:35.910', 'D+000005.2'), ('2021-04-06 01:37:35.930', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 4.0, 4.6, 5.2, 5.0]
np.array X: [[4. ]
 [4. ]
 [4. ]
 [4.6]
 [5.2]
 [5. ]]
revised_weight: 5.0
2021-04-06 01:37:35.930: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:37:35.930
plc_result: True
sendmessage: 20210406013735930,1,000050,000050
send message to PLC: 2021-04-06 01:37:36.002
time gap: 0:00:00.011475
2021-04-06 01:37:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:37.713
lastevent: 2021-04-06 01:37:37.702, last ten sensor data: [('2021-04-06 01:37:37.280', 'D+000003.8'), ('2021-04-06 01:37:37.310', 'D+000003.8'), ('2021-04-06 01:37:37.330', 'D+000003.8'), ('2021-04-06 01:37:37.350', 'D+000004.0'), ('2021-04-06 01:37:37.370', 'D+000004.0'), ('2021-04-06 01:37:37.530', 'D+000005.0'), ('2021-04-06 01:37:37.550', 'D+000005.0'), ('2021-04-06 01:37:37.570', 'D+000004.8'), ('2021-04-06 01:37:37.590', 'D+000004.6'), ('2021-04-06 01:37:37.610', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 5.0, 5.0, 4.8, 4.6, 5.0]
np.array X: [[4. ]
 [5. ]
 [5. ]
 [4.8]
 [4.6]
 [5. ]]
revised_weight: 4.8
2021-04-06 01:37:37.610: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:37:37.610
plc_result: True
sendmessage: 20210406013737610,1,000050,000048
send message to PLC: 2021-04-06 01:37:37.725
time gap: 0:00:00.011408
2021-04-06 01:37:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:38: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:37:38: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:38: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:38: select done
2021-04-06 01:37:38: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:37:38: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:37:38: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:37:38: count: 4 in httpPlcDataSender thread
2021-04-06 01:37:38: D+: 4 in httpPlcDataSender thread
2021-04-06 01:37:38: D-: 0 in httpPlcDataSender thread
2021-04-06 01:37:38: S+: 0 in httpPlcDataSender thread
2021-04-06 01:37:38: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.2', 'sensorAt': '2021-04-06 01:37:33.220'}, {'value': '11.4', 'sensorAt': '2021-04-06 01:37:34.460'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:37:35.930'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:37:37.610'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:33.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:34.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:35.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:37.610'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:37:38', 'collectDate': '2021-04-06 01:37:37', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.2', 'sensorAt': '2021-04-06 01:37:33.220'}, {'value': '11.4', 'sensorAt': '2021-04-06 01:37:34.460'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:37:35.930'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:37:37.610'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:33.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:34.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:35.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:37.610'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:37:39: send http
2021-04-06 01:37:39: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:37:39: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:39: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:40.774
lastevent: 2021-04-06 01:37:40.768, last ten sensor data: [('2021-04-06 01:37:40.300', 'D+000002.4'), ('2021-04-06 01:37:40.460', 'D+000003.4'), ('2021-04-06 01:37:40.480', 'D+000004.6'), ('2021-04-06 01:37:40.500', 'D+000004.6'), ('2021-04-06 01:37:40.520', 'D+000004.0'), ('2021-04-06 01:37:40.540', 'D+000004.2'), ('2021-04-06 01:37:40.710', 'D+000005.2'), ('2021-04-06 01:37:40.730', 'D+000005.4'), ('2021-04-06 01:37:40.750', 'D+000005.8'), ('2021-04-06 01:37:40.770', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 5.2, 5.4, 5.8, 5.8]
np.array X: [[4. ]
 [4.2]
 [5.2]
 [5.4]
 [5.8]
 [5.8]]
revised_weight: 5.3
2021-04-06 01:37:40.770: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:37:40.770
plc_result: True
sendmessage: 20210406013740770,1,000058,000053
send message to PLC: 2021-04-06 01:37:40.787
time gap: 0:00:00.013253
2021-04-06 01:37:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:43.254
lastevent: 2021-04-06 01:37:43.251, last ten sensor data: [('2021-04-06 01:37:42.770', 'D+000003.4'), ('2021-04-06 01:37:42.790', 'D+000003.6'), ('2021-04-06 01:37:42.810', 'D+000003.6'), ('2021-04-06 01:37:42.830', 'D+000003.2'), ('2021-04-06 01:37:42.850', 'D+000003.2'), ('2021-04-06 01:37:43.010', 'D+000005.8'), ('2021-04-06 01:37:43.030', 'D+000006.2'), ('2021-04-06 01:37:43.050', 'D+000006.2'), ('2021-04-06 01:37:43.070', 'D+000006.4'), ('2021-04-06 01:37:43.090', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 5.8, 6.2, 6.2, 6.4, 6.4]
np.array X: [[3.2]
 [5.8]
 [6.2]
 [6.2]
 [6.4]
 [6.4]]
revised_weight: 6.9
2021-04-06 01:37:43.090: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:37:43.090
plc_result: True
sendmessage: 20210406013743090,1,000064,000069
send message to PLC: 2021-04-06 01:37:43.273
time gap: 0:00:00.018945
2021-04-06 01:37:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:43.713
lastevent: 2021-04-06 01:37:43.707, last ten sensor data: [0, 0, ('2021-04-06 01:37:43.280', 'D+000007.6'), ('2021-04-06 01:37:43.300', 'D+000007.8'), ('2021-04-06 01:37:43.320', 'D+000008.2'), ('2021-04-06 01:37:43.340', 'D+000008.2'), ('2021-04-06 01:37:43.510', 'D+000010.2'), ('2021-04-06 01:37:43.530', 'D+000010.6'), ('2021-04-06 01:37:43.550', 'D+000010.6'), ('2021-04-06 01:37:43.570', 'D+000011.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 8.2, 10.2, 10.6, 10.6, 11.2]
np.array X: [[ 8.2]
 [ 8.2]
 [10.2]
 [10.6]
 [10.6]
 [11.2]]
revised_weight: 10.4
2021-04-06 01:37:43.570: revising weight finished
revised_weight: 10.4 at 2021-04-06 01:37:43.570
plc_result: True
sendmessage: 20210406013743570,1,000112,000104
send message to PLC: 2021-04-06 01:37:43.720
time gap: 0:00:00.006763
2021-04-06 01:37:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:44: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:37:44: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:44: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:44: select done
2021-04-06 01:37:44: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:37:44: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:44.511
lastevent: 2021-04-06 01:37:44.499, last ten sensor data: [('2021-04-06 01:37:44.020', 'D+000008.2'), ('2021-04-06 01:37:44.040', 'D+000007.8'), ('2021-04-06 01:37:44.060', 'D+000008.0'), ('2021-04-06 01:37:44.240', 'D+000006.2'), ('2021-04-06 01:37:44.260', 'D+000006.4'), ('2021-04-06 01:37:44.280', 'D+000006.4'), ('2021-04-06 01:37:44.300', 'D+000005.8'), ('2021-04-06 01:37:44.320', 'D+000005.6'), ('2021-04-06 01:37:44.490', 'D+000007.2'), ('2021-04-06 01:37:44.510', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.4, 5.8, 5.6, 7.2, 7.4]
np.array X: [[6.4]
 [6.4]
 [5.8]
 [5.6]
 [7.2]
 [7.4]]
revised_weight: 6.5
2021-04-06 01:37:44.510: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:37:44.510
plc_result: True
sendmessage: 20210406013744510,1,000074,000065
send message to PLC: 2021-04-06 01:37:44.523
time gap: 0:00:00.012874
2021-04-06 01:37:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:44: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:37:44: count: 3 in httpPlcDataSender thread
2021-04-06 01:37:44: D+: 3 in httpPlcDataSender thread
2021-04-06 01:37:44: D-: 0 in httpPlcDataSender thread
2021-04-06 01:37:44: S+: 0 in httpPlcDataSender thread
2021-04-06 01:37:44: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.3', 'sensorAt': '2021-04-06 01:37:40.770'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:37:43.090'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:37:43.570'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:40.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:43.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:43.570'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:37:44', 'collectDate': '2021-04-06 01:37:43', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.3', 'sensorAt': '2021-04-06 01:37:40.770'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:37:43.090'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:37:43.570'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:40.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:43.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:43.570'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:37:44: send http
2021-04-06 01:37:44: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:37:44: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:44: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:47.045
lastevent: 2021-04-06 01:37:47.034, last ten sensor data: [('2021-04-06 01:37:46.520', 'D+000002.8'), ('2021-04-06 01:37:46.680', 'D+000003.0'), ('2021-04-06 01:37:46.700', 'D+000003.2'), ('2021-04-06 01:37:46.720', 'D+000004.0'), ('2021-04-06 01:37:46.740', 'D+000004.6'), ('2021-04-06 01:37:46.760', 'D+000005.6'), ('2021-04-06 01:37:46.940', 'D+000008.0'), ('2021-04-06 01:37:46.960', 'D+000013.8'), ('2021-04-06 01:37:46.980', 'D+000014.2'), ('2021-04-06 01:37:47.000', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.6, 8.0, 13.8, 14.2, 8.2]
np.array X: [[ 4.6]
 [ 5.6]
 [ 8. ]
 [13.8]
 [14.2]
 [ 8.2]]
revised_weight: 8.6
2021-04-06 01:37:47.000: revising weight finished
revised_weight: 8.6 at 2021-04-06 01:37:47.000
plc_result: True
sendmessage: 20210406013747000,1,000082,000086
send message to PLC: 2021-04-06 01:37:47.058
time gap: 0:00:00.012984
2021-04-06 01:37:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:47.626
lastevent: 2021-04-06 01:37:47.619, last ten sensor data: [0, ('2021-04-06 01:37:47.060', 'D+000010.0'), ('2021-04-06 01:37:47.180', 'D+000010.0'), ('2021-04-06 01:37:47.200', 'D+000010.2'), ('2021-04-06 01:37:47.220', 'D+000010.0'), ('2021-04-06 01:37:47.240', 'D+000010.0'), ('2021-04-06 01:37:47.390', 'D+000008.8'), ('2021-04-06 01:37:47.410', 'D+000007.4'), ('2021-04-06 01:37:47.430', 'D+000006.8'), ('2021-04-06 01:37:47.450', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [10.0, 10.0, 8.8, 7.4, 6.8, 6.2]
np.array X: [[10. ]
 [10. ]
 [ 8.8]
 [ 7.4]
 [ 6.8]
 [ 6.2]]
revised_weight: 9.1
2021-04-06 01:37:47.450: revising weight finished
revised_weight: 9.1 at 2021-04-06 01:37:47.450
plc_result: True
sendmessage: 20210406013747450,1,000062,000091
send message to PLC: 2021-04-06 01:37:47.639
time gap: 0:00:00.012753
2021-04-06 01:37:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:49.092
lastevent: 2021-04-06 01:37:49.082, last ten sensor data: [('2021-04-06 01:37:48.680', 'D+000004.0'), ('2021-04-06 01:37:48.700', 'D+000004.8'), ('2021-04-06 01:37:48.720', 'D+000005.0'), ('2021-04-06 01:37:48.740', 'D+000005.2'), ('2021-04-06 01:37:48.900', 'D+000004.4'), ('2021-04-06 01:37:48.920', 'D+000004.6'), ('2021-04-06 01:37:48.940', 'D+000004.6'), ('2021-04-06 01:37:48.960', 'D+000004.8'), ('2021-04-06 01:37:48.980', 'D+000005.0'), ('2021-04-06 01:37:49.000', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 4.6, 4.8, 5.0, 5.0]
np.array X: [[4.4]
 [4.6]
 [4.6]
 [4.8]
 [5. ]
 [5. ]]
revised_weight: 5.0
2021-04-06 01:37:49.000: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:37:49.000
plc_result: True
sendmessage: 20210406013749000,1,000050,000050
send message to PLC: 2021-04-06 01:37:49.104
time gap: 0:00:00.011435
2021-04-06 01:37:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:49.550
lastevent: 2021-04-06 01:37:49.540, last ten sensor data: [('2021-04-06 01:37:49.150', 'D+000004.6'), ('2021-04-06 01:37:49.170', 'D+000004.6'), ('2021-04-06 01:37:49.190', 'D+000004.6'), ('2021-04-06 01:37:49.210', 'D+000004.6'), ('2021-04-06 01:37:49.230', 'D+000005.0'), ('2021-04-06 01:37:49.390', 'D+000006.8'), ('2021-04-06 01:37:49.410', 'D+000006.2'), ('2021-04-06 01:37:49.430', 'D+000005.6'), ('2021-04-06 01:37:49.450', 'D+000006.0'), ('2021-04-06 01:37:49.470', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 6.8, 6.2, 5.6, 6.0, 7.0]
np.array X: [[5. ]
 [6.8]
 [6.2]
 [5.6]
 [6. ]
 [7. ]]
revised_weight: 6.5
2021-04-06 01:37:49.470: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:37:49.470
plc_result: True
sendmessage: 20210406013749470,1,000070,000065
send message to PLC: 2021-04-06 01:37:49.557
time gap: 0:00:00.006933
2021-04-06 01:37:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:49: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:37:49: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:50: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:50: select done
2021-04-06 01:37:50: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:37:50: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:37:50: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:37:50: count: 5 in httpPlcDataSender thread
2021-04-06 01:37:50: D+: 5 in httpPlcDataSender thread
2021-04-06 01:37:50: D-: 0 in httpPlcDataSender thread
2021-04-06 01:37:50: S+: 0 in httpPlcDataSender thread
2021-04-06 01:37:50: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:37:44.510'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:37:47.000'}, {'value': '9.1', 'sensorAt': '2021-04-06 01:37:47.450'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:37:49.000'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:37:49.470'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:44.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:47.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:47.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:49.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:49.470'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:37:50', 'collectDate': '2021-04-06 01:37:49', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:37:44.510'}, {'value': '8.6', 'sensorAt': '2021-04-06 01:37:47.000'}, {'value': '9.1', 'sensorAt': '2021-04-06 01:37:47.450'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:37:49.000'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:37:49.470'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:44.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:47.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:47.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:49.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:49.470'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:37:50: send http
2021-04-06 01:37:50: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:37:50: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:50.523
lastevent: 2021-04-06 01:37:50.520, last ten sensor data: [('2021-04-06 01:37:49.970', 'D+000004.8'), ('2021-04-06 01:37:50.120', 'D+000004.0'), ('2021-04-06 01:37:50.160', 'D+000004.0'), ('2021-04-06 01:37:50.180', 'D+000004.2'), ('2021-04-06 01:37:50.200', 'D+000004.2'), ('2021-04-06 01:37:50.370', 'D+000004.8'), ('2021-04-06 01:37:50.390', 'D+000005.2'), ('2021-04-06 01:37:50.410', 'D+000005.4'), ('2021-04-06 01:37:50.430', 'D+000005.4'), ('2021-04-06 01:37:50.450', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.8, 5.2, 5.4, 5.4, 5.2]
np.array X: [[4.2]
 [4.8]
 [5.2]
 [5.4]
 [5.4]
 [5.2]]
revised_weight: 5.1
2021-04-06 01:37:50.450: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:37:50.450
plc_result: True
sendmessage: 20210406013750450,1,000052,000051
send message to PLC: 2021-04-06 01:37:50.530
time gap: 0:00:00.006271
2021-04-06 01:37:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:50: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:51.692
lastevent: 2021-04-06 01:37:51.679, last ten sensor data: [('2021-04-06 01:37:51.360', 'D+000004.6'), ('2021-04-06 01:37:51.380', 'D+000005.0'), ('2021-04-06 01:37:51.400', 'D+000006.2'), ('2021-04-06 01:37:51.420', 'D+000006.4'), ('2021-04-06 01:37:51.440', 'D+000006.8'), ('2021-04-06 01:37:51.590', 'D+000010.2'), ('2021-04-06 01:37:51.610', 'D+000010.8'), ('2021-04-06 01:37:51.630', 'D+000011.4'), ('2021-04-06 01:37:51.650', 'D+000011.2'), ('2021-04-06 01:37:51.670', 'D+000010.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 10.2, 10.8, 11.4, 11.2, 10.2]
np.array X: [[ 6.8]
 [10.2]
 [10.8]
 [11.4]
 [11.2]
 [10.2]]
revised_weight: 10.8
2021-04-06 01:37:51.670: revising weight finished
revised_weight: 10.8 at 2021-04-06 01:37:51.670
plc_result: True
sendmessage: 20210406013751670,1,000102,000108
send message to PLC: 2021-04-06 01:37:51.704
time gap: 0:00:00.011130
2021-04-06 01:37:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:53.523
lastevent: 2021-04-06 01:37:53.522, last ten sensor data: [('2021-04-06 01:37:53.110', 'D+000003.2'), ('2021-04-06 01:37:53.150', 'D+000003.4'), ('2021-04-06 01:37:53.170', 'D+000003.6'), ('2021-04-06 01:37:53.190', 'D+000003.4'), ('2021-04-06 01:37:53.210', 'D+000003.8'), ('2021-04-06 01:37:53.370', 'D+000005.2'), ('2021-04-06 01:37:53.390', 'D+000005.4'), ('2021-04-06 01:37:53.410', 'D+000005.6'), ('2021-04-06 01:37:53.430', 'D+000005.8'), ('2021-04-06 01:37:53.450', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.2, 5.4, 5.6, 5.8, 5.8]
np.array X: [[3.8]
 [5.2]
 [5.4]
 [5.6]
 [5.8]
 [5.8]]
revised_weight: 5.1
2021-04-06 01:37:53.450: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:37:53.450
plc_result: True
sendmessage: 20210406013753450,1,000058,000051
send message to PLC: 2021-04-06 01:37:53.537
time gap: 0:00:00.014570
2021-04-06 01:37:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:54.136
lastevent: 2021-04-06 01:37:54.129, last ten sensor data: [('2021-04-06 01:37:53.650', 'D+000005.6'), ('2021-04-06 01:37:53.670', 'D+000005.6'), ('2021-04-06 01:37:53.690', 'D+000005.8'), ('2021-04-06 01:37:53.860', 'D+000005.8'), ('2021-04-06 01:37:53.880', 'D+000006.0'), ('2021-04-06 01:37:53.900', 'D+000006.0'), ('2021-04-06 01:37:53.920', 'D+000006.2'), ('2021-04-06 01:37:53.940', 'D+000006.2'), ('2021-04-06 01:37:54.100', 'D+000006.0'), ('2021-04-06 01:37:54.120', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.0, 6.2, 6.2, 6.0, 6.0]
np.array X: [[6. ]
 [6. ]
 [6.2]
 [6.2]
 [6. ]
 [6. ]]
revised_weight: 6.0
2021-04-06 01:37:54.120: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:37:54.120
plc_result: True
sendmessage: 20210406013754120,1,000060,000060
send message to PLC: 2021-04-06 01:37:54.142
time gap: 0:00:00.006548
2021-04-06 01:37:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:55.145
lastevent: 2021-04-06 01:37:55.137, last ten sensor data: [('2021-04-06 01:37:54.650', 'D+000005.4'), ('2021-04-06 01:37:54.670', 'D+000005.0'), ('2021-04-06 01:37:54.850', 'D+000004.4'), ('2021-04-06 01:37:54.870', 'D+000004.4'), ('2021-04-06 01:37:54.890', 'D+000004.6'), ('2021-04-06 01:37:54.910', 'D+000004.6'), ('2021-04-06 01:37:55.070', 'D+000009.8'), ('2021-04-06 01:37:55.100', 'D+000005.8'), ('2021-04-06 01:37:55.120', 'D+000005.8'), ('2021-04-06 01:37:55.140', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 9.8, 5.8, 5.8, 8.2]
np.array X: [[4.6]
 [4.6]
 [9.8]
 [5.8]
 [5.8]
 [8.2]]
revised_weight: 10.4
2021-04-06 01:37:55.140: revising weight finished
revised_weight: 10.4 at 2021-04-06 01:37:55.140
plc_result: True
sendmessage: 20210406013755140,1,000082,000104
send message to PLC: 2021-04-06 01:37:55.156
time gap: 0:00:00.011499
2021-04-06 01:37:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:55: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:37:55: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:55: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:37:55: select done
2021-04-06 01:37:55: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:37:55: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:37:55: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:37:55: count: 5 in httpPlcDataSender thread
2021-04-06 01:37:55: D+: 5 in httpPlcDataSender thread
2021-04-06 01:37:55: D-: 0 in httpPlcDataSender thread
2021-04-06 01:37:55: S+: 0 in httpPlcDataSender thread
2021-04-06 01:37:55: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.1', 'sensorAt': '2021-04-06 01:37:50.450'}, {'value': '10.8', 'sensorAt': '2021-04-06 01:37:51.670'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:37:53.450'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:37:54.120'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:37:55.140'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:50.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:51.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:53.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:54.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:55.140'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:37:55', 'collectDate': '2021-04-06 01:37:55', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.1', 'sensorAt': '2021-04-06 01:37:50.450'}, {'value': '10.8', 'sensorAt': '2021-04-06 01:37:51.670'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:37:53.450'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:37:54.120'}, {'value': '10.4', 'sensorAt': '2021-04-06 01:37:55.140'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:50.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:51.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:53.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:54.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:55.140'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:37:55: send http
2021-04-06 01:37:55: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:37:55.983
lastevent: 2021-04-06 01:37:55.969, last ten sensor data: [('2021-04-06 01:37:55.620', 'D+000004.8'), ('2021-04-06 01:37:55.640', 'D+000004.8'), ('2021-04-06 01:37:55.800', 'D+000004.8'), ('2021-04-06 01:37:55.820', 'D+000004.8'), ('2021-04-06 01:37:55.840', 'D+000005.4'), ('2021-04-06 01:37:55.860', 'D+000005.6'), ('2021-04-06 01:37:55.880', 'D+000005.6'), ('2021-04-06 01:37:55.900', 'D+000005.8'), ('2021-04-06 01:37:55.940', 'D+000005.6'), ('2021-04-06 01:37:55.960', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 5.6, 5.8, 5.6, 5.8]
np.array X: [[5.4]
 [5.6]
 [5.6]
 [5.8]
 [5.6]
 [5.8]]
revised_weight: 5.7
2021-04-06 01:37:55.960: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:37:55.960
plc_result: True
sendmessage: 20210406013755960,1,000058,000057
send message to PLC: 2021-04-06 01:37:55.995
time gap: 0:00:00.011800
2021-04-06 01:37:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
Backupserver True
2021-04-06 01:37:56: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:37:56: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:37:56.447
lastevent: 2021-04-06 01:37:56.433, last ten sensor data: [0, ('2021-04-06 01:37:56.060', 'D+000005.8'), ('2021-04-06 01:37:56.080', 'D+000005.8'), ('2021-04-06 01:37:56.100', 'D+000005.8'), ('2021-04-06 01:37:56.120', 'D+000005.8'), ('2021-04-06 01:37:56.140', 'D+000006.0'), ('2021-04-06 01:37:56.320', 'D+000007.6'), ('2021-04-06 01:37:56.340', 'D+000008.0'), ('2021-04-06 01:37:56.360', 'D+000008.6'), ('2021-04-06 01:37:56.380', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.0, 7.6, 8.0, 8.6, 7.8]
np.array X: [[5.8]
 [6. ]
 [7.6]
 [8. ]
 [8.6]
 [7.8]]
revised_weight: 7.1
2021-04-06 01:37:56.380: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:37:56.380
plc_result: True
sendmessage: 20210406013756380,1,000078,000071
send message to PLC: 2021-04-06 01:37:56.459
time gap: 0:00:00.011900
2021-04-06 01:37:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:57.091
lastevent: 2021-04-06 01:37:57.075, last ten sensor data: [('2021-04-06 01:37:56.610', 'D+000007.2'), ('2021-04-06 01:37:56.630', 'D+000007.2'), ('2021-04-06 01:37:56.810', 'D+000007.2'), ('2021-04-06 01:37:56.830', 'D+000007.2'), ('2021-04-06 01:37:56.850', 'D+000007.2'), ('2021-04-06 01:37:56.870', 'D+000007.2'), ('2021-04-06 01:37:57.030', 'D+000005.6'), ('2021-04-06 01:37:57.050', 'D+000005.6'), ('2021-04-06 01:37:57.070', 'D+000005.2'), ('2021-04-06 01:37:57.090', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 7.2, 5.6, 5.6, 5.2, 5.2]
np.array X: [[7.2]
 [7.2]
 [5.6]
 [5.6]
 [5.2]
 [5.2]]
revised_weight: 6.2
2021-04-06 01:37:57.090: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:37:57.090
plc_result: True
sendmessage: 20210406013757090,1,000052,000062
send message to PLC: 2021-04-06 01:37:57.106
time gap: 0:00:00.015114
2021-04-06 01:37:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:58.327
lastevent: 2021-04-06 01:37:58.313, last ten sensor data: [('2021-04-06 01:37:57.820', 'D+000004.6'), ('2021-04-06 01:37:57.840', 'D+000004.6'), ('2021-04-06 01:37:57.860', 'D+000004.4'), ('2021-04-06 01:37:58.030', 'D+000005.0'), ('2021-04-06 01:37:58.050', 'D+000004.8'), ('2021-04-06 01:37:58.070', 'D+000004.8'), ('2021-04-06 01:37:58.090', 'D+000005.2'), ('2021-04-06 01:37:58.280', 'D+000005.6'), ('2021-04-06 01:37:58.300', 'D+000005.6'), ('2021-04-06 01:37:58.320', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 5.2, 5.6, 5.6, 5.2]
np.array X: [[4.8]
 [4.8]
 [5.2]
 [5.6]
 [5.6]
 [5.2]]
revised_weight: 5.2
2021-04-06 01:37:58.320: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:37:58.320
plc_result: True
sendmessage: 20210406013758320,1,000052,000052
send message to PLC: 2021-04-06 01:37:58.339
time gap: 0:00:00.011517
2021-04-06 01:37:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:37:59.322
lastevent: 2021-04-06 01:37:59.313, last ten sensor data: [('2021-04-06 01:37:58.810', 'D+000004.4'), ('2021-04-06 01:37:58.830', 'D+000004.2'), ('2021-04-06 01:37:59.000', 'D+000005.0'), ('2021-04-06 01:37:59.020', 'D+000005.6'), ('2021-04-06 01:37:59.040', 'D+000005.4'), ('2021-04-06 01:37:59.060', 'D+000005.0'), ('2021-04-06 01:37:59.080', 'D+000005.4'), ('2021-04-06 01:37:59.240', 'D+000006.8'), ('2021-04-06 01:37:59.280', 'D+000007.4'), ('2021-04-06 01:37:59.300', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.0, 5.4, 6.8, 7.4, 7.2]
np.array X: [[5.4]
 [5. ]
 [5.4]
 [6.8]
 [7.4]
 [7.2]]
revised_weight: 6.7
2021-04-06 01:37:59.300: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:37:59.300
plc_result: True
sendmessage: 20210406013759300,1,000072,000067
send message to PLC: 2021-04-06 01:37:59.334
time gap: 0:00:00.011510
2021-04-06 01:37:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:00.722
lastevent: 2021-04-06 01:38:00.708, last ten sensor data: [('2021-04-06 01:38:00.160', 'D+000004.8'), ('2021-04-06 01:38:00.320', 'D+000004.6'), ('2021-04-06 01:38:00.340', 'D+000004.6'), ('2021-04-06 01:38:00.360', 'D+000004.4'), ('2021-04-06 01:38:00.380', 'D+000004.4'), ('2021-04-06 01:38:00.570', 'D+000004.8'), ('2021-04-06 01:38:00.590', 'D+000004.8'), ('2021-04-06 01:38:00.610', 'D+000004.6'), ('2021-04-06 01:38:00.630', 'D+000005.0'), ('2021-04-06 01:38:00.650', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.8, 4.8, 4.6, 5.0, 5.8]
np.array X: [[4.4]
 [4.8]
 [4.8]
 [4.6]
 [5. ]
 [5.8]]
revised_weight: 5.0
2021-04-06 01:38:00.650: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:38:00.650
plc_result: True
sendmessage: 20210406013800650,1,000058,000050
send message to PLC: 2021-04-06 01:38:00.733
time gap: 0:00:00.011313
2021-04-06 01:38:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:01: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:38:01: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:01.222
lastevent: 2021-04-06 01:38:01.204, last ten sensor data: [0, 0, ('2021-04-06 01:38:00.830', 'D+000005.2'), ('2021-04-06 01:38:00.850', 'D+000005.4'), ('2021-04-06 01:38:00.870', 'D+000005.4'), ('2021-04-06 01:38:00.890', 'D+000005.6'), ('2021-04-06 01:38:01.070', 'D+000005.8'), ('2021-04-06 01:38:01.090', 'D+000005.0'), ('2021-04-06 01:38:01.110', 'D+000005.0'), ('2021-04-06 01:38:01.130', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 5.8, 5.0, 5.0, 6.0]
np.array X: [[5.4]
 [5.6]
 [5.8]
 [5. ]
 [5. ]
 [6. ]]
revised_weight: 5.4
2021-04-06 01:38:01.130: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:38:01.130
plc_result: True
sendmessage: 20210406013801130,1,000060,000054
send message to PLC: 2021-04-06 01:38:01.234
time gap: 0:00:00.012882
2021-04-06 01:38:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:01: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:01: select done
2021-04-06 01:38:01: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:38:01: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:38:01: sendjson called, 7 records in httpPlcDataSender thread
2021-04-06 01:38:01: count: 7 in httpPlcDataSender thread
2021-04-06 01:38:01: D+: 7 in httpPlcDataSender thread
2021-04-06 01:38:01: D-: 0 in httpPlcDataSender thread
2021-04-06 01:38:01: S+: 0 in httpPlcDataSender thread
2021-04-06 01:38:01: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.7', 'sensorAt': '2021-04-06 01:37:55.960'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:37:56.380'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:37:57.090'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:37:58.320'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:37:59.300'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:38:00.650'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:38:01.130'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:55.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:56.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:57.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:58.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:59.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:00.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:01.130'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:38:01', 'collectDate': '2021-04-06 01:38:01', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.7', 'sensorAt': '2021-04-06 01:37:55.960'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:37:56.380'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:37:57.090'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:37:58.320'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:37:59.300'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:38:00.650'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:38:01.130'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:37:55.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:56.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:57.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:58.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:37:59.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:00.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:01.130'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:38:01: send http
2021-04-06 01:38:01: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:38:01: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:01: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:01.842
lastevent: 2021-04-06 01:38:01.828, last ten sensor data: [('2021-04-06 01:38:01.370', 'D+000004.6'), ('2021-04-06 01:38:01.390', 'D+000004.4'), ('2021-04-06 01:38:01.550', 'D+000006.0'), ('2021-04-06 01:38:01.570', 'D+000006.0'), ('2021-04-06 01:38:01.590', 'D+000006.0'), ('2021-04-06 01:38:01.610', 'D+000006.2'), ('2021-04-06 01:38:01.630', 'D+000006.2'), ('2021-04-06 01:38:01.800', 'D+000007.4'), ('2021-04-06 01:38:01.820', 'D+000006.8'), ('2021-04-06 01:38:01.840', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.2, 6.2, 7.4, 6.8, 6.2]
np.array X: [[6. ]
 [6.2]
 [6.2]
 [7.4]
 [6.8]
 [6.2]]
revised_weight: 6.5
2021-04-06 01:38:01.840: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:38:01.840
plc_result: True
sendmessage: 20210406013801840,1,000062,000065
send message to PLC: 2021-04-06 01:38:01.850
time gap: 0:00:00.007226
2021-04-06 01:38:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:02.835
lastevent: 2021-04-06 01:38:02.822, last ten sensor data: [('2021-04-06 01:38:02.360', 'D+000005.0'), ('2021-04-06 01:38:02.380', 'D+000004.8'), ('2021-04-06 01:38:02.540', 'D+000004.4'), ('2021-04-06 01:38:02.560', 'D+000004.6'), ('2021-04-06 01:38:02.580', 'D+000004.6'), ('2021-04-06 01:38:02.600', 'D+000004.8'), ('2021-04-06 01:38:02.620', 'D+000005.0'), ('2021-04-06 01:38:02.790', 'D+000004.4'), ('2021-04-06 01:38:02.810', 'D+000004.2'), ('2021-04-06 01:38:02.830', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.8, 5.0, 4.4, 4.2, 5.0]
np.array X: [[4.6]
 [4.8]
 [5. ]
 [4.4]
 [4.2]
 [5. ]]
revised_weight: 4.6
2021-04-06 01:38:02.830: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:38:02.830
plc_result: True
sendmessage: 20210406013802830,1,000050,000046
send message to PLC: 2021-04-06 01:38:02.842
time gap: 0:00:00.007015
2021-04-06 01:38:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:03.882
lastevent: 2021-04-06 01:38:03.868, last ten sensor data: [('2021-04-06 01:38:03.350', 'D+000003.4'), ('2021-04-06 01:38:03.530', 'D+000003.6'), ('2021-04-06 01:38:03.550', 'D+000003.8'), ('2021-04-06 01:38:03.570', 'D+000003.8'), ('2021-04-06 01:38:03.590', 'D+000004.0'), ('2021-04-06 01:38:03.800', 'D+000005.0'), ('2021-04-06 01:38:03.830', 'D+000004.8'), ('2021-04-06 01:38:03.850', 'D+000004.4'), ('2021-04-06 01:38:03.870', 'D+000004.4'), ('2021-04-06 01:38:03.890', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 5.0, 4.8, 4.4, 4.4, 4.4]
np.array X: [[4. ]
 [5. ]
 [4.8]
 [4.4]
 [4.4]
 [4.4]]
revised_weight: 4.5
2021-04-06 01:38:03.890: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:38:03.890
plc_result: True
sendmessage: 20210406013803890,1,000044,000045
send message to PLC: 2021-04-06 01:38:03.888
time gap: 0:00:00.006053
2021-04-06 01:38:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:04.554
lastevent: 2021-04-06 01:38:04.540, last ten sensor data: [('2021-04-06 01:38:04.050', 'D+000004.2'), ('2021-04-06 01:38:04.070', 'D+000004.4'), ('2021-04-06 01:38:04.090', 'D+000004.4'), ('2021-04-06 01:38:04.110', 'D+000004.4'), ('2021-04-06 01:38:04.130', 'D+000004.2'), ('2021-04-06 01:38:04.310', 'D+000004.6'), ('2021-04-06 01:38:04.330', 'D+000004.4'), ('2021-04-06 01:38:04.350', 'D+000004.4'), ('2021-04-06 01:38:04.370', 'D+000004.6'), ('2021-04-06 01:38:04.550', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.6, 4.4, 4.4, 4.6, 4.6]
np.array X: [[4.2]
 [4.6]
 [4.4]
 [4.4]
 [4.6]
 [4.6]]
revised_weight: 4.5
2021-04-06 01:38:04.550: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:38:04.550
plc_result: True
sendmessage: 20210406013804550,1,000046,000045
send message to PLC: 2021-04-06 01:38:04.566
time gap: 0:00:00.012185
2021-04-06 01:38:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:05.913
lastevent: 2021-04-06 01:38:05.896, last ten sensor data: [('2021-04-06 01:38:05.570', 'D+000003.2'), ('2021-04-06 01:38:05.590', 'D+000003.2'), ('2021-04-06 01:38:05.610', 'D+000003.4'), ('2021-04-06 01:38:05.630', 'D+000003.2'), ('2021-04-06 01:38:05.790', 'D+000003.8'), ('2021-04-06 01:38:05.810', 'D+000003.6'), ('2021-04-06 01:38:05.830', 'D+000003.4'), ('2021-04-06 01:38:05.850', 'D+000003.0'), ('2021-04-06 01:38:05.870', 'D+000003.2'), ('2021-04-06 01:38:05.890', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.6, 3.4, 3.0, 3.2, 3.2]
np.array X: [[3.8]
 [3.6]
 [3.4]
 [3. ]
 [3.2]
 [3.2]]
revised_weight: 3.3
2021-04-06 01:38:05.890: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:38:05.890
plc_result: True
sendmessage: 20210406013805890,1,000032,000033
send message to PLC: 2021-04-06 01:38:05.924
time gap: 0:00:00.011384
2021-04-06 01:38:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:06: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:38:06: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:06: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:06: select done
2021-04-06 01:38:06: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:38:06: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:38:06: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:38:06: count: 5 in httpPlcDataSender thread
2021-04-06 01:38:06: D+: 5 in httpPlcDataSender thread
2021-04-06 01:38:06: D-: 0 in httpPlcDataSender thread
2021-04-06 01:38:06: S+: 0 in httpPlcDataSender thread
2021-04-06 01:38:06: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:38:01.840'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:38:02.830'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:38:03.890'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:38:04.550'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:38:05.890'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:01.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:02.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:03.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:04.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:05.890'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:38:06', 'collectDate': '2021-04-06 01:38:05', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:38:01.840'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:38:02.830'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:38:03.890'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:38:04.550'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:38:05.890'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:01.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:02.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:03.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:04.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:05.890'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:38:07: send http
2021-04-06 01:38:07: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:38:07.204
lastevent: 2021-04-06 01:38:07.190, last ten sensor data: [('2021-04-06 01:38:06.600', 'D+000003.2'), ('2021-04-06 01:38:06.790', 'D+000003.0'), ('2021-04-06 01:38:06.810', 'D+000003.2'), ('2021-04-06 01:38:06.830', 'D+000003.0'), ('2021-04-06 01:38:06.850', 'D+000003.0'), ('2021-04-06 01:38:07.000', 'D+000005.0'), ('2021-04-06 01:38:07.020', 'D+000005.2'), ('2021-04-06 01:38:07.040', 'D+000006.4'), ('2021-04-06 01:38:07.060', 'D+000006.0'), ('2021-04-06 01:38:07.080', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 5.0, 5.2, 6.4, 6.0, 6.0]
np.array X: [[3. ]
 [5. ]
 [5.2]
 [6.4]
 [6. ]
 [6. ]]
revised_weight: 5.7
2021-04-06 01:38:07.080: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:38:07.080
plc_result: True
sendmessage: 20210406013807080,1,000060,000057
send message to PLC: 2021-04-06 01:38:07.210
time gap: 0:00:00.006465
2021-04-06 01:38:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
Backupserver True
2021-04-06 01:38:07: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:07: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:07.911
lastevent: 2021-04-06 01:38:07.902, last ten sensor data: [('2021-04-06 01:38:07.320', 'D+000006.0'), ('2021-04-06 01:38:07.340', 'D+000006.2'), ('2021-04-06 01:38:07.520', 'D+000006.2'), ('2021-04-06 01:38:07.540', 'D+000005.8'), ('2021-04-06 01:38:07.560', 'D+000005.8'), ('2021-04-06 01:38:07.580', 'D+000005.8'), ('2021-04-06 01:38:07.760', 'D+000004.8'), ('2021-04-06 01:38:07.780', 'D+000004.6'), ('2021-04-06 01:38:07.800', 'D+000004.4'), ('2021-04-06 01:38:07.820', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.8, 4.8, 4.6, 4.4, 4.0]
np.array X: [[5.8]
 [5.8]
 [4.8]
 [4.6]
 [4.4]
 [4. ]]
revised_weight: 4.8
2021-04-06 01:38:07.820: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:38:07.820
plc_result: True
sendmessage: 20210406013807820,1,000040,000048
send message to PLC: 2021-04-06 01:38:07.923
time gap: 0:00:00.011915
2021-04-06 01:38:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:08: httpScaleDataSender thread Timeout occurred
2021-04-06 01:38:08: [13724] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
2021-04-06 01:38:08: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:38:09.582
lastevent: 2021-04-06 01:38:09.572, last ten sensor data: [('2021-04-06 01:38:09.060', 'D+000003.2'), ('2021-04-06 01:38:09.230', 'D+000003.4'), ('2021-04-06 01:38:09.250', 'D+000003.6'), ('2021-04-06 01:38:09.270', 'D+000003.6'), ('2021-04-06 01:38:09.290', 'D+000004.0'), ('2021-04-06 01:38:09.310', 'D+000004.0'), ('2021-04-06 01:38:09.470', 'D+000005.4'), ('2021-04-06 01:38:09.490', 'D+000005.8'), ('2021-04-06 01:38:09.510', 'D+000006.0'), ('2021-04-06 01:38:09.530', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 5.4, 5.8, 6.0, 5.8]
np.array X: [[4. ]
 [4. ]
 [5.4]
 [5.8]
 [6. ]
 [5.8]]
revised_weight: 5.3
2021-04-06 01:38:09.530: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:38:09.530
plc_result: True
sendmessage: 20210406013809530,1,000058,000053
send message to PLC: 2021-04-06 01:38:09.594
time gap: 0:00:00.011188
2021-04-06 01:38:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:10.125
lastevent: 2021-04-06 01:38:10.110, last ten sensor data: [('2021-04-06 01:38:09.720', 'D+000006.2'), ('2021-04-06 01:38:09.740', 'D+000005.8'), ('2021-04-06 01:38:09.760', 'D+000006.0'), ('2021-04-06 01:38:09.780', 'D+000006.2'), ('2021-04-06 01:38:09.800', 'D+000006.4'), ('2021-04-06 01:38:09.960', 'D+000007.0'), ('2021-04-06 01:38:09.980', 'D+000007.0'), ('2021-04-06 01:38:10.000', 'D+000007.2'), ('2021-04-06 01:38:10.020', 'D+000006.8'), ('2021-04-06 01:38:10.040', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 7.0, 7.0, 7.2, 6.8, 6.6]
np.array X: [[6.4]
 [7. ]
 [7. ]
 [7.2]
 [6.8]
 [6.6]]
revised_weight: 6.8
2021-04-06 01:38:10.040: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:38:10.040
plc_result: True
sendmessage: 20210406013810040,1,000066,000068
send message to PLC: 2021-04-06 01:38:10.131
time gap: 0:00:00.006254
2021-04-06 01:38:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:10.670
lastevent: 2021-04-06 01:38:10.653, last ten sensor data: [('2021-04-06 01:38:10.180', 'D+000005.4'), ('2021-04-06 01:38:10.210', 'D+000005.2'), ('2021-04-06 01:38:10.230', 'D+000005.0'), ('2021-04-06 01:38:10.250', 'D+000005.0'), ('2021-04-06 01:38:10.270', 'D+000005.2'), ('2021-04-06 01:38:10.440', 'D+000006.4'), ('2021-04-06 01:38:10.460', 'D+000006.2'), ('2021-04-06 01:38:10.480', 'D+000006.0'), ('2021-04-06 01:38:10.500', 'D+000005.6'), ('2021-04-06 01:38:10.520', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 6.4, 6.2, 6.0, 5.6, 5.0]
np.array X: [[5.2]
 [6.4]
 [6.2]
 [6. ]
 [5.6]
 [5. ]]
revised_weight: 5.5
2021-04-06 01:38:10.520: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:38:10.520
plc_result: True
sendmessage: 20210406013810520,1,000050,000055
send message to PLC: 2021-04-06 01:38:10.682
time gap: 0:00:00.012063
2021-04-06 01:38:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:11.946
lastevent: 2021-04-06 01:38:11.931, last ten sensor data: [('2021-04-06 01:38:11.510', 'D+000003.8'), ('2021-04-06 01:38:11.530', 'D+000003.8'), ('2021-04-06 01:38:11.550', 'D+000003.8'), ('2021-04-06 01:38:11.570', 'D+000004.0'), ('2021-04-06 01:38:11.590', 'D+000003.8'), ('2021-04-06 01:38:11.750', 'D+000004.6'), ('2021-04-06 01:38:11.770', 'D+000004.8'), ('2021-04-06 01:38:11.790', 'D+000005.0'), ('2021-04-06 01:38:11.810', 'D+000005.2'), ('2021-04-06 01:38:11.830', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.6, 4.8, 5.0, 5.2, 5.2]
np.array X: [[3.8]
 [4.6]
 [4.8]
 [5. ]
 [5.2]
 [5.2]]
revised_weight: 4.8
2021-04-06 01:38:11.830: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:38:11.830
plc_result: True
sendmessage: 20210406013811830,1,000052,000048
send message to PLC: 2021-04-06 01:38:11.958
time gap: 0:00:00.011466
2021-04-06 01:38:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:12: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:38:12: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:12: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:12: select done
2021-04-06 01:38:12: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:38:12: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:38:12: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:38:12: count: 6 in httpPlcDataSender thread
2021-04-06 01:38:12: D+: 6 in httpPlcDataSender thread
2021-04-06 01:38:12: D-: 0 in httpPlcDataSender thread
2021-04-06 01:38:12: S+: 0 in httpPlcDataSender thread
2021-04-06 01:38:12: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.7', 'sensorAt': '2021-04-06 01:38:07.080'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:38:07.820'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:38:09.530'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:38:10.040'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:38:10.520'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:38:11.830'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:07.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:07.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:09.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:10.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:10.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:11.830'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:38:12', 'collectDate': '2021-04-06 01:38:11', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.7', 'sensorAt': '2021-04-06 01:38:07.080'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:38:07.820'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:38:09.530'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:38:10.040'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:38:10.520'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:38:11.830'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:07.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:07.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:09.530'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:10.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:10.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:11.830'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:38:12: send http
2021-04-06 01:38:12: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:38:12: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:12: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:13.461
lastevent: 2021-04-06 01:38:13.459, last ten sensor data: [('2021-04-06 01:38:12.980', 'D+000003.0'), ('2021-04-06 01:38:13.000', 'D+000002.8'), ('2021-04-06 01:38:13.020', 'D+000002.6'), ('2021-04-06 01:38:13.040', 'D+000002.8'), ('2021-04-06 01:38:13.060', 'D+000003.0'), ('2021-04-06 01:38:13.210', 'D+000003.8'), ('2021-04-06 01:38:13.230', 'D+000003.8'), ('2021-04-06 01:38:13.250', 'D+000003.8'), ('2021-04-06 01:38:13.270', 'D+000003.4'), ('2021-04-06 01:38:13.290', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.8, 3.8, 3.8, 3.4, 3.6]
np.array X: [[3. ]
 [3.8]
 [3.8]
 [3.8]
 [3.4]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:38:13.290: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:38:13.290
plc_result: True
sendmessage: 20210406013813290,1,000036,000036
send message to PLC: 2021-04-06 01:38:13.467
time gap: 0:00:00.006579
2021-04-06 01:38:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:15.566
lastevent: 2021-04-06 01:38:15.550, last ten sensor data: [('2021-04-06 01:38:15.160', 'D+000002.8'), ('2021-04-06 01:38:15.180', 'D+000003.0'), ('2021-04-06 01:38:15.200', 'D+000003.2'), ('2021-04-06 01:38:15.220', 'D+000003.8'), ('2021-04-06 01:38:15.240', 'D+000003.8'), ('2021-04-06 01:38:15.260', 'D+000004.0'), ('2021-04-06 01:38:15.440', 'D+000005.2'), ('2021-04-06 01:38:15.460', 'D+000005.6'), ('2021-04-06 01:38:15.480', 'D+000005.8'), ('2021-04-06 01:38:15.500', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.0, 5.2, 5.6, 5.8, 5.8]
np.array X: [[3.8]
 [4. ]
 [5.2]
 [5.6]
 [5.8]
 [5.8]]
revised_weight: 5.3
2021-04-06 01:38:15.500: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:38:15.500
plc_result: True
sendmessage: 20210406013815500,1,000058,000053
send message to PLC: 2021-04-06 01:38:15.574
time gap: 0:00:00.008134
2021-04-06 01:38:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:16.376
lastevent: 2021-04-06 01:38:16.359, last ten sensor data: [('2021-04-06 01:38:15.940', 'D+000005.8'), ('2021-04-06 01:38:15.960', 'D+000005.6'), ('2021-04-06 01:38:15.980', 'D+000005.8'), ('2021-04-06 01:38:16.000', 'D+000005.8'), ('2021-04-06 01:38:16.150', 'D+000006.8'), ('2021-04-06 01:38:16.170', 'D+000006.6'), ('2021-04-06 01:38:16.190', 'D+000006.2'), ('2021-04-06 01:38:16.210', 'D+000006.2'), ('2021-04-06 01:38:16.230', 'D+000006.6'), ('2021-04-06 01:38:16.340', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.6, 6.2, 6.2, 6.6, 6.8]
np.array X: [[6.8]
 [6.6]
 [6.2]
 [6.2]
 [6.6]
 [6.8]]
revised_weight: 6.5
2021-04-06 01:38:16.340: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:38:16.340
plc_result: True
sendmessage: 20210406013816340,1,000068,000065
send message to PLC: 2021-04-06 01:38:16.383
time gap: 0:00:00.007223
2021-04-06 01:38:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:16.929
lastevent: 2021-04-06 01:38:16.927, last ten sensor data: [('2021-04-06 01:38:16.470', 'D+000006.4'), ('2021-04-06 01:38:16.490', 'D+000006.6'), ('2021-04-06 01:38:16.650', 'D+000006.6'), ('2021-04-06 01:38:16.670', 'D+000006.4'), ('2021-04-06 01:38:16.690', 'D+000006.2'), ('2021-04-06 01:38:16.710', 'D+000006.4'), ('2021-04-06 01:38:16.730', 'D+000006.4'), ('2021-04-06 01:38:16.880', 'D+000005.4'), ('2021-04-06 01:38:16.910', 'D+000005.0'), ('2021-04-06 01:38:16.930', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.4, 6.4, 5.4, 5.0, 4.8]
np.array X: [[6.2]
 [6.4]
 [6.4]
 [5.4]
 [5. ]
 [4.8]]
revised_weight: 5.6
2021-04-06 01:38:16.930: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:38:16.930
plc_result: True
sendmessage: 20210406013816930,1,000048,000056
send message to PLC: 2021-04-06 01:38:16.935
time gap: 0:00:00.006426
2021-04-06 01:38:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:17: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:38:17: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:18: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:18: select done
2021-04-06 01:38:18: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:38:18: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:38:18: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:38:18: count: 4 in httpPlcDataSender thread
2021-04-06 01:38:18: D+: 4 in httpPlcDataSender thread
2021-04-06 01:38:18: D-: 0 in httpPlcDataSender thread
2021-04-06 01:38:18: S+: 0 in httpPlcDataSender thread
2021-04-06 01:38:18: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.6', 'sensorAt': '2021-04-06 01:38:13.290'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:38:15.500'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:38:16.340'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:38:16.930'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:13.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:15.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:16.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:16.930'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:38:18', 'collectDate': '2021-04-06 01:38:16', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.6', 'sensorAt': '2021-04-06 01:38:13.290'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:38:15.500'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:38:16.340'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:38:16.930'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:13.290'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:15.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:16.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:16.930'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:38:18: send http
2021-04-06 01:38:18: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:38:18.324
lastevent: 2021-04-06 01:38:18.303, last ten sensor data: [('2021-04-06 01:38:17.830', 'D+000004.0'), ('2021-04-06 01:38:18.010', 'D+000004.6'), ('2021-04-06 01:38:18.030', 'D+000004.8'), ('2021-04-06 01:38:18.050', 'D+000004.8'), ('2021-04-06 01:38:18.070', 'D+000004.6'), ('2021-04-06 01:38:18.190', 'D+000005.0'), ('2021-04-06 01:38:18.260', 'D+000005.4'), ('2021-04-06 01:38:18.280', 'D+000005.4'), ('2021-04-06 01:38:18.300', 'D+000005.4'), ('2021-04-06 01:38:18.320', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.0, 5.4, 5.4, 5.4, 5.6]
np.array X: [[4.6]
 [5. ]
 [5.4]
 [5.4]
 [5.4]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:38:18.320: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:38:18.320
plc_result: True
sendmessage: 20210406013818320,1,000056,000054
send message to PLC: 2021-04-06 01:38:18.330
time gap: 0:00:00.006329
2021-04-06 01:38:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
Backupserver True
2021-04-06 01:38:18: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:18: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:19.519
lastevent: 2021-04-06 01:38:19.501, last ten sensor data: [('2021-04-06 01:38:19.060', 'D+000005.8'), ('2021-04-06 01:38:19.220', 'D+000005.2'), ('2021-04-06 01:38:19.240', 'D+000005.2'), ('2021-04-06 01:38:19.260', 'D+000005.6'), ('2021-04-06 01:38:19.280', 'D+000005.8'), ('2021-04-06 01:38:19.300', 'D+000005.8'), ('2021-04-06 01:38:19.460', 'D+000007.8'), ('2021-04-06 01:38:19.480', 'D+000007.6'), ('2021-04-06 01:38:19.500', 'D+000007.0'), ('2021-04-06 01:38:19.520', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.8, 7.8, 7.6, 7.0, 7.0]
np.array X: [[5.8]
 [5.8]
 [7.8]
 [7.6]
 [7. ]
 [7. ]]
revised_weight: 7.4
2021-04-06 01:38:19.520: revising weight finished
revised_weight: 7.4 at 2021-04-06 01:38:19.520
plc_result: True
sendmessage: 20210406013819520,1,000070,000074
send message to PLC: 2021-04-06 01:38:19.530
time gap: 0:00:00.011683
2021-04-06 01:38:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:20.378
lastevent: 2021-04-06 01:38:20.361, last ten sensor data: [('2021-04-06 01:38:19.780', 'D+000007.2'), ('2021-04-06 01:38:19.950', 'D+000005.4'), ('2021-04-06 01:38:19.970', 'D+000005.8'), ('2021-04-06 01:38:19.990', 'D+000006.2'), ('2021-04-06 01:38:20.010', 'D+000005.6'), ('2021-04-06 01:38:20.030', 'D+000005.2'), ('2021-04-06 01:38:20.210', 'D+000004.4'), ('2021-04-06 01:38:20.230', 'D+000004.6'), ('2021-04-06 01:38:20.250', 'D+000004.8'), ('2021-04-06 01:38:20.270', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.2, 4.4, 4.6, 4.8, 4.4]
np.array X: [[5.6]
 [5.2]
 [4.4]
 [4.6]
 [4.8]
 [4.4]]
revised_weight: 4.8
2021-04-06 01:38:20.270: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:38:20.270
plc_result: True
sendmessage: 20210406013820270,1,000044,000048
send message to PLC: 2021-04-06 01:38:20.388
time gap: 0:00:00.010057
2021-04-06 01:38:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:21.608
lastevent: 2021-04-06 01:38:21.593, last ten sensor data: [('2021-04-06 01:38:21.170', 'D+000003.4'), ('2021-04-06 01:38:21.190', 'D+000003.4'), ('2021-04-06 01:38:21.210', 'D+000003.4'), ('2021-04-06 01:38:21.230', 'D+000003.6'), ('2021-04-06 01:38:21.250', 'D+000003.4'), ('2021-04-06 01:38:21.420', 'D+000003.6'), ('2021-04-06 01:38:21.440', 'D+000003.8'), ('2021-04-06 01:38:21.460', 'D+000003.8'), ('2021-04-06 01:38:21.480', 'D+000003.8'), ('2021-04-06 01:38:21.500', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 3.8, 3.8, 3.8, 4.0]
np.array X: [[3.4]
 [3.6]
 [3.8]
 [3.8]
 [3.8]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:38:21.500: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:38:21.500
plc_result: True
sendmessage: 20210406013821500,1,000040,000040
send message to PLC: 2021-04-06 01:38:21.615
time gap: 0:00:00.006192
2021-04-06 01:38:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:22.192
lastevent: 2021-04-06 01:38:22.176, last ten sensor data: [('2021-04-06 01:38:21.730', 'D+000004.2'), ('2021-04-06 01:38:21.900', 'D+000004.8'), ('2021-04-06 01:38:21.920', 'D+000004.6'), ('2021-04-06 01:38:21.940', 'D+000005.0'), ('2021-04-06 01:38:21.960', 'D+000005.2'), ('2021-04-06 01:38:21.980', 'D+000005.6'), ('2021-04-06 01:38:22.070', 'D+000005.6'), ('2021-04-06 01:38:22.160', 'D+000006.4'), ('2021-04-06 01:38:22.180', 'D+000006.4'), ('2021-04-06 01:38:22.200', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.6, 5.6, 6.4, 6.4, 5.8]
np.array X: [[5.2]
 [5.6]
 [5.6]
 [6.4]
 [6.4]
 [5.8]]
revised_weight: 5.8
2021-04-06 01:38:22.200: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:38:22.200
plc_result: True
sendmessage: 20210406013822200,1,000058,000058
send message to PLC: 2021-04-06 01:38:22.198
time gap: 0:00:00.006190
2021-04-06 01:38:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:22.907
lastevent: 2021-04-06 01:38:22.889, last ten sensor data: [('2021-04-06 01:38:22.420', 'D+000005.6'), ('2021-04-06 01:38:22.440', 'D+000005.6'), ('2021-04-06 01:38:22.460', 'D+000005.8'), ('2021-04-06 01:38:22.630', 'D+000005.6'), ('2021-04-06 01:38:22.650', 'D+000005.2'), ('2021-04-06 01:38:22.670', 'D+000005.2'), ('2021-04-06 01:38:22.690', 'D+000005.6'), ('2021-04-06 01:38:22.710', 'D+000005.6'), ('2021-04-06 01:38:22.820', 'D+000005.2'), ('2021-04-06 01:38:22.890', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 5.6, 5.6, 5.2, 5.0]
np.array X: [[5.2]
 [5.2]
 [5.6]
 [5.6]
 [5.2]
 [5. ]]
revised_weight: 5.2
2021-04-06 01:38:22.890: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:38:22.890
plc_result: True
sendmessage: 20210406013822890,1,000050,000052
send message to PLC: 2021-04-06 01:38:22.915
time gap: 0:00:00.007539
2021-04-06 01:38:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:23: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:38:23: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:23.659
lastevent: 2021-04-06 01:38:23.636, last ten sensor data: [('2021-04-06 01:38:23.150', 'D+000005.2'), ('2021-04-06 01:38:23.170', 'D+000004.8'), ('2021-04-06 01:38:23.190', 'D+000005.0'), ('2021-04-06 01:38:23.210', 'D+000004.8'), ('2021-04-06 01:38:23.390', 'D+000004.6'), ('2021-04-06 01:38:23.410', 'D+000005.0'), ('2021-04-06 01:38:23.430', 'D+000005.0'), ('2021-04-06 01:38:23.450', 'D+000004.6'), ('2021-04-06 01:38:23.640', 'D+000004.4'), ('2021-04-06 01:38:23.660', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.0, 5.0, 4.6, 4.4, 4.0]
np.array X: [[4.6]
 [5. ]
 [5. ]
 [4.6]
 [4.4]
 [4. ]]
revised_weight: 4.4
2021-04-06 01:38:23.660: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:38:23.660
plc_result: True
sendmessage: 20210406013823660,1,000040,000044
send message to PLC: 2021-04-06 01:38:23.671
time gap: 0:00:00.012225
2021-04-06 01:38:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:23: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:23: select done
2021-04-06 01:38:23: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:38:23: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:38:23: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:38:23: count: 6 in httpPlcDataSender thread
2021-04-06 01:38:23: D+: 6 in httpPlcDataSender thread
2021-04-06 01:38:23: D-: 0 in httpPlcDataSender thread
2021-04-06 01:38:23: S+: 0 in httpPlcDataSender thread
2021-04-06 01:38:23: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.4', 'sensorAt': '2021-04-06 01:38:18.320'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:38:19.520'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:38:20.270'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:38:21.500'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:38:22.200'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:38:22.890'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:18.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:19.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:20.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:21.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:22.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:22.890'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:38:23', 'collectDate': '2021-04-06 01:38:22', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.4', 'sensorAt': '2021-04-06 01:38:18.320'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:38:19.520'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:38:20.270'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:38:21.500'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:38:22.200'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:38:22.890'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:18.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:19.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:20.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:21.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:22.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:22.890'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:38:23: send http
2021-04-06 01:38:23: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:38:24: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:38:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
2021-04-06 01:38:24: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:24.550
lastevent: 2021-04-06 01:38:24.540, last ten sensor data: [('2021-04-06 01:38:24.110', 'D+000003.6'), ('2021-04-06 01:38:24.130', 'D+000003.8'), ('2021-04-06 01:38:24.150', 'D+000003.8'), ('2021-04-06 01:38:24.170', 'D+000003.8'), ('2021-04-06 01:38:24.190', 'D+000003.8'), ('2021-04-06 01:38:24.340', 'D+000005.0'), ('2021-04-06 01:38:24.370', 'D+000004.4'), ('2021-04-06 01:38:24.390', 'D+000004.6'), ('2021-04-06 01:38:24.410', 'D+000004.6'), ('2021-04-06 01:38:24.430', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.0, 4.4, 4.6, 4.6, 5.2]
np.array X: [[3.8]
 [5. ]
 [4.4]
 [4.6]
 [4.6]
 [5.2]]
revised_weight: 4.0
2021-04-06 01:38:24.430: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:38:24.430
plc_result: True
sendmessage: 20210406013824430,1,000052,000040
send message to PLC: 2021-04-06 01:38:24.562
time gap: 0:00:00.011858
2021-04-06 01:38:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:25.900
lastevent: 2021-04-06 01:38:25.899, last ten sensor data: [('2021-04-06 01:38:25.380', 'D+000004.0'), ('2021-04-06 01:38:25.400', 'D+000004.0'), ('2021-04-06 01:38:25.580', 'D+000004.0'), ('2021-04-06 01:38:25.600', 'D+000004.0'), ('2021-04-06 01:38:25.620', 'D+000004.0'), ('2021-04-06 01:38:25.640', 'D+000003.8'), ('2021-04-06 01:38:25.820', 'D+000004.6'), ('2021-04-06 01:38:25.840', 'D+000004.8'), ('2021-04-06 01:38:25.860', 'D+000004.6'), ('2021-04-06 01:38:25.880', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.8, 4.6, 4.8, 4.6, 4.6]
np.array X: [[4. ]
 [3.8]
 [4.6]
 [4.8]
 [4.6]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:38:25.880: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:38:25.880
plc_result: True
sendmessage: 20210406013825880,1,000046,000046
send message to PLC: 2021-04-06 01:38:25.912
time gap: 0:00:00.011947
2021-04-06 01:38:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:27.119
lastevent: 2021-04-06 01:38:27.112, last ten sensor data: [('2021-04-06 01:38:26.610', 'D+000003.4'), ('2021-04-06 01:38:26.630', 'D+000003.4'), ('2021-04-06 01:38:26.810', 'D+000004.0'), ('2021-04-06 01:38:26.830', 'D+000004.0'), ('2021-04-06 01:38:26.850', 'D+000004.0'), ('2021-04-06 01:38:26.870', 'D+000004.0'), ('2021-04-06 01:38:27.050', 'D+000004.0'), ('2021-04-06 01:38:27.070', 'D+000004.4'), ('2021-04-06 01:38:27.090', 'D+000004.2'), ('2021-04-06 01:38:27.110', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 4.0, 4.4, 4.2, 4.2]
np.array X: [[4. ]
 [4. ]
 [4. ]
 [4.4]
 [4.2]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:38:27.110: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:38:27.110
plc_result: True
sendmessage: 20210406013827110,1,000042,000042
send message to PLC: 2021-04-06 01:38:27.133
time gap: 0:00:00.014047
2021-04-06 01:38:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:28.391
lastevent: 2021-04-06 01:38:28.385, last ten sensor data: [('2021-04-06 01:38:28.020', 'D+000003.2'), ('2021-04-06 01:38:28.040', 'D+000003.4'), ('2021-04-06 01:38:28.060', 'D+000003.8'), ('2021-04-06 01:38:28.080', 'D+000004.0'), ('2021-04-06 01:38:28.100', 'D+000004.4'), ('2021-04-06 01:38:28.250', 'D+000005.8'), ('2021-04-06 01:38:28.270', 'D+000006.0'), ('2021-04-06 01:38:28.290', 'D+000006.4'), ('2021-04-06 01:38:28.310', 'D+000006.0'), ('2021-04-06 01:38:28.330', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.8, 6.0, 6.4, 6.0, 5.8]
np.array X: [[4.4]
 [5.8]
 [6. ]
 [6.4]
 [6. ]
 [5.8]]
revised_weight: 5.9
2021-04-06 01:38:28.330: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:38:28.330
plc_result: True
sendmessage: 20210406013828330,1,000058,000059
send message to PLC: 2021-04-06 01:38:28.403
time gap: 0:00:00.011739
2021-04-06 01:38:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:29: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:38:29: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:29.206
lastevent: 2021-04-06 01:38:29.196, last ten sensor data: [('2021-04-06 01:38:28.580', 'D+000006.2'), ('2021-04-06 01:38:28.740', 'D+000006.0'), ('2021-04-06 01:38:28.760', 'D+000006.2'), ('2021-04-06 01:38:28.780', 'D+000006.4'), ('2021-04-06 01:38:28.800', 'D+000006.4'), ('2021-04-06 01:38:28.820', 'D+000006.0'), ('2021-04-06 01:38:29.000', 'D+000008.8'), ('2021-04-06 01:38:29.020', 'D+000009.8'), ('2021-04-06 01:38:29.040', 'D+000010.4'), ('2021-04-06 01:38:29.060', 'D+000011.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.0, 8.8, 9.8, 10.4, 11.0]
np.array X: [[ 6.4]
 [ 6. ]
 [ 8.8]
 [ 9.8]
 [10.4]
 [11. ]]
revised_weight: 9.8
2021-04-06 01:38:29.060: revising weight finished
revised_weight: 9.8 at 2021-04-06 01:38:29.060
plc_result: True
sendmessage: 20210406013829060,1,000110,000098
send message to PLC: 2021-04-06 01:38:29.217
time gap: 0:00:00.011455
2021-04-06 01:38:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:29: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:29: select done
2021-04-06 01:38:29: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:38:29: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:38:29: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:38:29: count: 6 in httpPlcDataSender thread
2021-04-06 01:38:29: D+: 6 in httpPlcDataSender thread
2021-04-06 01:38:29: D-: 0 in httpPlcDataSender thread
2021-04-06 01:38:29: S+: 0 in httpPlcDataSender thread
2021-04-06 01:38:29: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.4', 'sensorAt': '2021-04-06 01:38:23.660'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:38:24.430'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:38:25.880'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:38:27.110'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:38:28.330'}, {'value': '9.8', 'sensorAt': '2021-04-06 01:38:29.060'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:23.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:24.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:25.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:27.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:28.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:29.060'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:38:29', 'collectDate': '2021-04-06 01:38:29', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.4', 'sensorAt': '2021-04-06 01:38:23.660'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:38:24.430'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:38:25.880'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:38:27.110'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:38:28.330'}, {'value': '9.8', 'sensorAt': '2021-04-06 01:38:29.060'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:23.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:24.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:25.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:27.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:28.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:29.060'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:38:29: send http
2021-04-06 01:38:29: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:38:29: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:29: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:31.853
lastevent: 2021-04-06 01:38:31.843, last ten sensor data: [('2021-04-06 01:38:31.450', 'D+000001.8'), ('2021-04-06 01:38:31.470', 'D+000002.0'), ('2021-04-06 01:38:31.490', 'D+000002.2'), ('2021-04-06 01:38:31.510', 'D+000002.4'), ('2021-04-06 01:38:31.530', 'D+000002.2'), ('2021-04-06 01:38:31.550', 'D+000002.6'), ('2021-04-06 01:38:31.700', 'D+000003.8'), ('2021-04-06 01:38:31.720', 'D+000003.6'), ('2021-04-06 01:38:31.740', 'D+000003.4'), ('2021-04-06 01:38:31.760', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.6, 3.8, 3.6, 3.4, 3.2]
np.array X: [[2.2]
 [2.6]
 [3.8]
 [3.6]
 [3.4]
 [3.2]]
revised_weight: 3.5
2021-04-06 01:38:31.760: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:38:31.760
plc_result: True
sendmessage: 20210406013831760,1,000032,000035
send message to PLC: 2021-04-06 01:38:31.866
time gap: 0:00:00.012477
2021-04-06 01:38:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:34.572
lastevent: 2021-04-06 01:38:34.568, last ten sensor data: [('2021-04-06 01:38:33.980', 'D+000002.0'), ('2021-04-06 01:38:34.140', 'D+000002.2'), ('2021-04-06 01:38:34.160', 'D+000002.2'), ('2021-04-06 01:38:34.180', 'D+000002.2'), ('2021-04-06 01:38:34.200', 'D+000002.2'), ('2021-04-06 01:38:34.220', 'D+000002.2'), ('2021-04-06 01:38:34.400', 'D+000005.2'), ('2021-04-06 01:38:34.420', 'D+000005.4'), ('2021-04-06 01:38:34.440', 'D+000005.0'), ('2021-04-06 01:38:34.460', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.2, 5.2, 5.4, 5.0, 4.4]
np.array X: [[2.2]
 [2.2]
 [5.2]
 [5.4]
 [5. ]
 [4.4]]
revised_weight: 5.0
2021-04-06 01:38:34.460: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:38:34.460
plc_result: True
sendmessage: 20210406013834460,1,000044,000050
send message to PLC: 2021-04-06 01:38:34.585
time gap: 0:00:00.012887
2021-04-06 01:38:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:34: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:38:34: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:34: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:34: select done
2021-04-06 01:38:34: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:38:34: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:38:35: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:38:35: count: 2 in httpPlcDataSender thread
2021-04-06 01:38:35: D+: 2 in httpPlcDataSender thread
2021-04-06 01:38:35: D-: 0 in httpPlcDataSender thread
2021-04-06 01:38:35: S+: 0 in httpPlcDataSender thread
2021-04-06 01:38:35: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.5', 'sensorAt': '2021-04-06 01:38:31.760'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:38:34.460'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:31.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:34.460'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:38:35', 'collectDate': '2021-04-06 01:38:34', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.5', 'sensorAt': '2021-04-06 01:38:31.760'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:38:34.460'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:31.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:34.460'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:38:35: send http
2021-04-06 01:38:35: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:38:35: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:35: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:38.051
lastevent: 2021-04-06 01:38:38.039, last ten sensor data: [('2021-04-06 01:38:37.380', 'D+000002.0'), ('2021-04-06 01:38:37.400', 'D+000002.0'), ('2021-04-06 01:38:37.580', 'D+000002.4'), ('2021-04-06 01:38:37.600', 'D+000002.2'), ('2021-04-06 01:38:37.620', 'D+000002.2'), ('2021-04-06 01:38:37.640', 'D+000002.4'), ('2021-04-06 01:38:37.820', 'D+000004.2'), ('2021-04-06 01:38:37.840', 'D+000004.6'), ('2021-04-06 01:38:37.860', 'D+000004.8'), ('2021-04-06 01:38:37.880', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.4, 4.2, 4.6, 4.8, 4.6]
np.array X: [[2.2]
 [2.4]
 [4.2]
 [4.6]
 [4.8]
 [4.6]]
revised_weight: 4.1
2021-04-06 01:38:37.880: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:38:37.880
plc_result: True
sendmessage: 20210406013837880,1,000046,000041
send message to PLC: 2021-04-06 01:38:38.063
time gap: 0:00:00.011527
2021-04-06 01:38:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:40.066
lastevent: 2021-04-06 01:38:40.057, last ten sensor data: [('2021-04-06 01:38:39.670', 'D+000003.6'), ('2021-04-06 01:38:39.690', 'D+000004.0'), ('2021-04-06 01:38:39.710', 'D+000003.8'), ('2021-04-06 01:38:39.730', 'D+000004.0'), ('2021-04-06 01:38:39.750', 'D+000003.8'), ('2021-04-06 01:38:39.920', 'D+000004.2'), ('2021-04-06 01:38:39.940', 'D+000004.6'), ('2021-04-06 01:38:39.960', 'D+000004.6'), ('2021-04-06 01:38:39.980', 'D+000004.6'), ('2021-04-06 01:38:40.000', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.2, 4.6, 4.6, 4.6, 4.4]
np.array X: [[3.8]
 [4.2]
 [4.6]
 [4.6]
 [4.6]
 [4.4]]
revised_weight: 4.4
2021-04-06 01:38:40.000: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:38:40.000
plc_result: True
sendmessage: 20210406013840000,1,000044,000044
send message to PLC: 2021-04-06 01:38:40.078
time gap: 0:00:00.011778
2021-04-06 01:38:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:40: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:38:40: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:40: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:40: select done
2021-04-06 01:38:40: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:38:40: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:38:40: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:38:40: count: 2 in httpPlcDataSender thread
2021-04-06 01:38:40: D+: 2 in httpPlcDataSender thread
2021-04-06 01:38:40: D-: 0 in httpPlcDataSender thread
2021-04-06 01:38:40: S+: 0 in httpPlcDataSender thread
2021-04-06 01:38:40: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:38:37.880'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:38:40.000'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:37.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:40.000'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:38:40', 'collectDate': '2021-04-06 01:38:40', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:38:37.880'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:38:40.000'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:37.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:40.000'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:38:40: send http
2021-04-06 01:38:40: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:38:40: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:40.975
lastevent: 2021-04-06 01:38:40.962, last ten sensor data: [('2021-04-06 01:38:40.690', 'D+000004.4'), ('2021-04-06 01:38:40.710', 'D+000004.4'), ('2021-04-06 01:38:40.730', 'D+000004.6'), ('2021-04-06 01:38:40.760', 'D+000004.6'), ('2021-04-06 01:38:40.780', 'D+000005.0'), ('2021-04-06 01:38:40.880', 'D+000005.2'), ('2021-04-06 01:38:40.910', 'D+000005.2'), ('2021-04-06 01:38:40.930', 'D+000005.6'), ('2021-04-06 01:38:40.950', 'D+000005.6'), ('2021-04-06 01:38:40.970', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 5.2, 5.6, 5.6, 5.6]
2021-04-06 01:38:40: got 'update query' results  in httpPlcDataSender thread
np.array X: [[5. ]
 [5.2]
 [5.2]
 [5.6]
 [5.6]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:38:40.970: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:38:40.970
plc_result: True
sendmessage: 20210406013840970,1,000056,000055
send message to PLC: 2021-04-06 01:38:40.988
time gap: 0:00:00.013262
2021-04-06 01:38:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:42.488
lastevent: 2021-04-06 01:38:42.473, last ten sensor data: [('2021-04-06 01:38:42.110', 'D+000007.2'), ('2021-04-06 01:38:42.130', 'D+000008.0'), ('2021-04-06 01:38:42.150', 'D+000008.0'), ('2021-04-06 01:38:42.170', 'D+000008.2'), ('2021-04-06 01:38:42.190', 'D+000007.8'), ('2021-04-06 01:38:42.350', 'D+000007.0'), ('2021-04-06 01:38:42.370', 'D+000007.2'), ('2021-04-06 01:38:42.390', 'D+000007.4'), ('2021-04-06 01:38:42.410', 'D+000007.4'), ('2021-04-06 01:38:42.430', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.8, 7.0, 7.2, 7.4, 7.4, 7.8]
np.array X: [[7.8]
 [7. ]
 [7.2]
 [7.4]
 [7.4]
 [7.8]]
revised_weight: 7.5
2021-04-06 01:38:42.430: revising weight finished
revised_weight: 7.5 at 2021-04-06 01:38:42.430
plc_result: True
sendmessage: 20210406013842430,1,000078,000075
send message to PLC: 2021-04-06 01:38:42.499
time gap: 0:00:00.011696
2021-04-06 01:38:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:43.144
lastevent: 2021-04-06 01:38:43.132, last ten sensor data: [('2021-04-06 01:38:42.680', 'D+000007.2'), ('2021-04-06 01:38:42.830', 'D+000007.6'), ('2021-04-06 01:38:42.860', 'D+000007.0'), ('2021-04-06 01:38:42.880', 'D+000006.6'), ('2021-04-06 01:38:42.900', 'D+000006.4'), ('2021-04-06 01:38:42.920', 'D+000006.6'), ('2021-04-06 01:38:43.080', 'D+000007.0'), ('2021-04-06 01:38:43.100', 'D+000006.8'), ('2021-04-06 01:38:43.120', 'D+000006.8'), ('2021-04-06 01:38:43.140', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.6, 7.0, 6.8, 6.8, 6.8]
np.array X: [[6.4]
 [6.6]
 [7. ]
 [6.8]
 [6.8]
 [6.8]]
revised_weight: 6.7
2021-04-06 01:38:43.140: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:38:43.140
plc_result: True
sendmessage: 20210406013843140,1,000068,000067
send message to PLC: 2021-04-06 01:38:43.156
time gap: 0:00:00.012378
2021-04-06 01:38:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:43.873
lastevent: 2021-04-06 01:38:43.859, last ten sensor data: [('2021-04-06 01:38:43.400', 'D+000006.4'), ('2021-04-06 01:38:43.580', 'D+000006.6'), ('2021-04-06 01:38:43.600', 'D+000007.0'), ('2021-04-06 01:38:43.620', 'D+000007.0'), ('2021-04-06 01:38:43.640', 'D+000007.2'), ('2021-04-06 01:38:43.660', 'D+000007.2'), ('2021-04-06 01:38:43.820', 'D+000005.8'), ('2021-04-06 01:38:43.840', 'D+000007.4'), ('2021-04-06 01:38:43.860', 'D+000007.8'), ('2021-04-06 01:38:43.880', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 7.2, 5.8, 7.4, 7.8, 7.6]
np.array X: [[7.2]
 [7.2]
 [5.8]
 [7.4]
 [7.8]
 [7.6]]
revised_weight: 7.1
2021-04-06 01:38:43.880: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:38:43.880
plc_result: True
sendmessage: 20210406013843880,1,000076,000071
send message to PLC: 2021-04-06 01:38:43.885
time gap: 0:00:00.011970
2021-04-06 01:38:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:44.727
lastevent: 2021-04-06 01:38:44.713, last ten sensor data: [('2021-04-06 01:38:44.150', 'D+000007.2'), ('2021-04-06 01:38:44.310', 'D+000006.2'), ('2021-04-06 01:38:44.330', 'D+000006.4'), ('2021-04-06 01:38:44.350', 'D+000007.0'), ('2021-04-06 01:38:44.370', 'D+000006.6'), ('2021-04-06 01:38:44.390', 'D+000006.6'), ('2021-04-06 01:38:44.570', 'D+000005.8'), ('2021-04-06 01:38:44.590', 'D+000006.0'), ('2021-04-06 01:38:44.610', 'D+000006.0'), ('2021-04-06 01:38:44.630', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.6, 5.8, 6.0, 6.0, 5.8]
np.array X: [[6.6]
 [6.6]
 [5.8]
 [6. ]
 [6. ]
 [5.8]]
revised_weight: 6.3
2021-04-06 01:38:44.630: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:38:44.630
plc_result: True
sendmessage: 20210406013844630,1,000058,000063
send message to PLC: 2021-04-06 01:38:44.738
time gap: 0:00:00.011421
2021-04-06 01:38:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:45: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:38:45: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:46.058
lastevent: 2021-04-06 01:38:46.043, last ten sensor data: [('2021-04-06 01:38:45.570', 'D+000004.8'), ('2021-04-06 01:38:45.590', 'D+000004.8'), ('2021-04-06 01:38:45.610', 'D+000005.0'), ('2021-04-06 01:38:45.790', 'D+000004.8'), ('2021-04-06 01:38:45.810', 'D+000004.8'), ('2021-04-06 01:38:45.830', 'D+000004.8'), ('2021-04-06 01:38:45.850', 'D+000004.8'), ('2021-04-06 01:38:46.010', 'D+000005.6'), ('2021-04-06 01:38:46.040', 'D+000005.6'), ('2021-04-06 01:38:46.060', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.8, 5.6, 5.6, 6.0]
np.array X: [[4.8]
 [4.8]
 [4.8]
 [5.6]
 [5.6]
 [6. ]]
revised_weight: 5.8
2021-04-06 01:38:46.060: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:38:46.060
plc_result: True
sendmessage: 20210406013846060,1,000060,000058
send message to PLC: 2021-04-06 01:38:46.070
time gap: 0:00:00.011804
2021-04-06 01:38:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:46: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:46: select done
2021-04-06 01:38:46: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:38:46: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:38:46: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:38:46: count: 6 in httpPlcDataSender thread
2021-04-06 01:38:46: D+: 6 in httpPlcDataSender thread
2021-04-06 01:38:46: D-: 0 in httpPlcDataSender thread
2021-04-06 01:38:46: S+: 0 in httpPlcDataSender thread
2021-04-06 01:38:46: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.5', 'sensorAt': '2021-04-06 01:38:40.970'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:38:42.430'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:38:43.140'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:38:43.880'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:38:44.630'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:38:46.060'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:40.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:42.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:43.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:43.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:44.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:46.060'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:38:46', 'collectDate': '2021-04-06 01:38:46', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.5', 'sensorAt': '2021-04-06 01:38:40.970'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:38:42.430'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:38:43.140'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:38:43.880'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:38:44.630'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:38:46.060'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:40.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:42.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:43.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:43.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:44.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:46.060'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:38:46: send http
2021-04-06 01:38:46: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:38:46: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:46: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:47.539
lastevent: 2021-04-06 01:38:47.531, last ten sensor data: [('2021-04-06 01:38:47.040', 'D+000004.6'), ('2021-04-06 01:38:47.060', 'D+000004.4'), ('2021-04-06 01:38:47.240', 'D+000005.4'), ('2021-04-06 01:38:47.260', 'D+000005.4'), ('2021-04-06 01:38:47.280', 'D+000005.2'), ('2021-04-06 01:38:47.300', 'D+000005.2'), ('2021-04-06 01:38:47.480', 'D+000006.2'), ('2021-04-06 01:38:47.500', 'D+000005.4'), ('2021-04-06 01:38:47.520', 'D+000005.4'), ('2021-04-06 01:38:47.540', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 6.2, 5.4, 5.4, 6.2]
np.array X: [[5.2]
 [5.2]
 [6.2]
 [5.4]
 [5.4]
 [6.2]]
revised_weight: 5.8
2021-04-06 01:38:47.540: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:38:47.540
plc_result: True
sendmessage: 20210406013847540,1,000062,000058
send message to PLC: 2021-04-06 01:38:47.552
time gap: 0:00:00.012505
2021-04-06 01:38:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:48.918
lastevent: 2021-04-06 01:38:48.905, last ten sensor data: [('2021-04-06 01:38:48.270', 'D+000004.4'), ('2021-04-06 01:38:48.290', 'D+000004.4'), ('2021-04-06 01:38:48.470', 'D+000004.6'), ('2021-04-06 01:38:48.490', 'D+000004.4'), ('2021-04-06 01:38:48.510', 'D+000004.4'), ('2021-04-06 01:38:48.530', 'D+000004.2'), ('2021-04-06 01:38:48.700', 'D+000006.8'), ('2021-04-06 01:38:48.720', 'D+000007.0'), ('2021-04-06 01:38:48.740', 'D+000007.0'), ('2021-04-06 01:38:48.760', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.2, 6.8, 7.0, 7.0, 8.2]
np.array X: [[4.4]
 [4.2]
 [6.8]
 [7. ]
 [7. ]
 [8.2]]
revised_weight: 7.2
2021-04-06 01:38:48.760: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:38:48.760
plc_result: True
sendmessage: 20210406013848760,1,000082,000072
send message to PLC: 2021-04-06 01:38:48.925
time gap: 0:00:00.007076
2021-04-06 01:38:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:49.735
lastevent: 2021-04-06 01:38:49.722, last ten sensor data: [('2021-04-06 01:38:49.020', 'D+000009.2'), ('2021-04-06 01:38:49.190', 'D+000009.0'), ('2021-04-06 01:38:49.210', 'D+000008.8'), ('2021-04-06 01:38:49.230', 'D+000008.6'), ('2021-04-06 01:38:49.250', 'D+000008.2'), ('2021-04-06 01:38:49.270', 'D+000008.6'), ('2021-04-06 01:38:49.570', 'D+000006.6'), ('2021-04-06 01:38:49.590', 'D+000005.8'), ('2021-04-06 01:38:49.610', 'D+000005.6'), ('2021-04-06 01:38:49.630', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 8.6, 6.6, 5.8, 5.6, 6.0]
np.array X: [[8.2]
 [8.6]
 [6.6]
 [5.8]
 [5.6]
 [6. ]]
revised_weight: 6.9
2021-04-06 01:38:49.630: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:38:49.630
plc_result: True
sendmessage: 20210406013849630,1,000060,000069
send message to PLC: 2021-04-06 01:38:49.744
time gap: 0:00:00.009037
2021-04-06 01:38:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:50.594
lastevent: 2021-04-06 01:38:50.586, last ten sensor data: [('2021-04-06 01:38:50.140', 'D+000004.8'), ('2021-04-06 01:38:50.200', 'D+000005.2'), ('2021-04-06 01:38:50.220', 'D+000005.0'), ('2021-04-06 01:38:50.240', 'D+000005.2'), ('2021-04-06 01:38:50.260', 'D+000005.6'), ('2021-04-06 01:38:50.420', 'D+000006.4'), ('2021-04-06 01:38:50.440', 'D+000006.6'), ('2021-04-06 01:38:50.460', 'D+000006.8'), ('2021-04-06 01:38:50.480', 'D+000007.2'), ('2021-04-06 01:38:50.500', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.4, 6.6, 6.8, 7.2, 7.2]
np.array X: [[5.6]
 [6.4]
 [6.6]
 [6.8]
 [7.2]
 [7.2]]
revised_weight: 6.6
2021-04-06 01:38:50.500: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:38:50.500
plc_result: True
sendmessage: 20210406013850500,1,000072,000066
send message to PLC: 2021-04-06 01:38:50.606
time gap: 0:00:00.011759
2021-04-06 01:38:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:51: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:38:51: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:51.643
lastevent: 2021-04-06 01:38:51.626, last ten sensor data: [('2021-04-06 01:38:51.010', 'D+000006.4'), ('2021-04-06 01:38:51.180', 'D+000005.4'), ('2021-04-06 01:38:51.200', 'D+000005.2'), ('2021-04-06 01:38:51.220', 'D+000005.2'), ('2021-04-06 01:38:51.240', 'D+000005.2'), ('2021-04-06 01:38:51.260', 'D+000005.0'), ('2021-04-06 01:38:51.440', 'D+000005.8'), ('2021-04-06 01:38:51.460', 'D+000005.4'), ('2021-04-06 01:38:51.480', 'D+000005.4'), ('2021-04-06 01:38:51.500', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.0, 5.8, 5.4, 5.4, 5.8]
np.array X: [[5.2]
 [5. ]
 [5.8]
 [5.4]
 [5.4]
 [5.8]]
revised_weight: 5.6
2021-04-06 01:38:51.500: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:38:51.500
plc_result: True
sendmessage: 20210406013851500,1,000058,000056
send message to PLC: 2021-04-06 01:38:51.655
time gap: 0:00:00.011837
2021-04-06 01:38:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:51: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:51: select done
2021-04-06 01:38:51: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:38:51: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:38:51: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:38:51: count: 4 in httpPlcDataSender thread
2021-04-06 01:38:51: D+: 4 in httpPlcDataSender thread
2021-04-06 01:38:51: D-: 0 in httpPlcDataSender thread
2021-04-06 01:38:51: S+: 0 in httpPlcDataSender thread
2021-04-06 01:38:51: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:38:47.540'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:38:48.760'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:38:49.630'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:38:50.500'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:47.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:48.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:49.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:50.500'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:38:51', 'collectDate': '2021-04-06 01:38:50', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:38:47.540'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:38:48.760'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:38:49.630'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:38:50.500'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:47.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:48.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:49.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:50.500'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:38:51: send http
2021-04-06 01:38:51: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:38:52: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:52: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:52.508
lastevent: 2021-04-06 01:38:52.497, last ten sensor data: [('2021-04-06 01:38:51.970', 'D+000006.2'), ('2021-04-06 01:38:52.040', 'D+000005.0'), ('2021-04-06 01:38:52.060', 'D+000005.0'), ('2021-04-06 01:38:52.080', 'D+000005.0'), ('2021-04-06 01:38:52.100', 'D+000005.2'), ('2021-04-06 01:38:52.260', 'D+000006.2'), ('2021-04-06 01:38:52.280', 'D+000006.2'), ('2021-04-06 01:38:52.300', 'D+000006.4'), ('2021-04-06 01:38:52.320', 'D+000006.6'), ('2021-04-06 01:38:52.340', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 6.2, 6.2, 6.4, 6.6, 6.8]
np.array X: [[5.2]
 [6.2]
 [6.2]
 [6.4]
 [6.6]
 [6.8]]
revised_weight: 6.1
2021-04-06 01:38:52.340: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:38:52.340
plc_result: True
sendmessage: 20210406013852340,1,000068,000061
send message to PLC: 2021-04-06 01:38:52.516
time gap: 0:00:00.008086
2021-04-06 01:38:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:52.983
lastevent: 2021-04-06 01:38:52.970, last ten sensor data: [0, ('2021-04-06 01:38:52.520', 'D+000006.4'), ('2021-04-06 01:38:52.540', 'D+000006.8'), ('2021-04-06 01:38:52.560', 'D+000007.0'), ('2021-04-06 01:38:52.580', 'D+000007.6'), ('2021-04-06 01:38:52.600', 'D+000009.4'), ('2021-04-06 01:38:52.760', 'D+000012.8'), ('2021-04-06 01:38:52.780', 'D+000013.0'), ('2021-04-06 01:38:52.800', 'D+000013.4'), ('2021-04-06 01:38:52.820', 'D+000014.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.6, 9.4, 12.8, 13.0, 13.4, 14.4]
np.array X: [[ 7.6]
 [ 9.4]
 [12.8]
 [13. ]
 [13.4]
 [14.4]]
revised_weight: 12.4
2021-04-06 01:38:52.820: revising weight finished
revised_weight: 12.4 at 2021-04-06 01:38:52.820
plc_result: True
sendmessage: 20210406013852820,1,000144,000124
send message to PLC: 2021-04-06 01:38:52.991
time gap: 0:00:00.007910
2021-04-06 01:38:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:53.844
lastevent: 2021-04-06 01:38:53.836, last ten sensor data: [('2021-04-06 01:38:53.480', 'D+000007.0'), ('2021-04-06 01:38:53.510', 'D+000006.0'), ('2021-04-06 01:38:53.530', 'D+000005.2'), ('2021-04-06 01:38:53.550', 'D+000005.0'), ('2021-04-06 01:38:53.570', 'D+000005.6'), ('2021-04-06 01:38:53.730', 'D+000005.2'), ('2021-04-06 01:38:53.750', 'D+000005.2'), ('2021-04-06 01:38:53.770', 'D+000004.8'), ('2021-04-06 01:38:53.790', 'D+000005.0'), ('2021-04-06 01:38:53.810', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.2, 5.2, 4.8, 5.0, 4.8]
np.array X: [[5.6]
 [5.2]
 [5.2]
 [4.8]
 [5. ]
 [4.8]]
revised_weight: 5.2
2021-04-06 01:38:53.810: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:38:53.810
plc_result: True
sendmessage: 20210406013853810,1,000048,000052
send message to PLC: 2021-04-06 01:38:53.851
time gap: 0:00:00.006714
2021-04-06 01:38:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:54.932
lastevent: 2021-04-06 01:38:54.919, last ten sensor data: [('2021-04-06 01:38:54.460', 'D+000005.4'), ('2021-04-06 01:38:54.480', 'D+000005.0'), ('2021-04-06 01:38:54.500', 'D+000005.0'), ('2021-04-06 01:38:54.520', 'D+000004.8'), ('2021-04-06 01:38:54.540', 'D+000004.8'), ('2021-04-06 01:38:54.720', 'D+000007.2'), ('2021-04-06 01:38:54.740', 'D+000007.4'), ('2021-04-06 01:38:54.760', 'D+000008.0'), ('2021-04-06 01:38:54.780', 'D+000008.0'), ('2021-04-06 01:38:54.800', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 7.2, 7.4, 8.0, 8.0, 8.2]
np.array X: [[4.8]
 [7.2]
 [7.4]
 [8. ]
 [8. ]
 [8.2]]
revised_weight: 8.0
2021-04-06 01:38:54.800: revising weight finished
revised_weight: 8.0 at 2021-04-06 01:38:54.800
plc_result: True
sendmessage: 20210406013854800,1,000082,000080
send message to PLC: 2021-04-06 01:38:54.939
time gap: 0:00:00.006434
2021-04-06 01:38:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:55.528
lastevent: 2021-04-06 01:38:55.514, last ten sensor data: [('2021-04-06 01:38:55.040', 'D+000006.8'), ('2021-04-06 01:38:55.200', 'D+000009.0'), ('2021-04-06 01:38:55.220', 'D+000008.8'), ('2021-04-06 01:38:55.240', 'D+000008.2'), ('2021-04-06 01:38:55.260', 'D+000008.6'), ('2021-04-06 01:38:55.280', 'D+000009.2'), ('2021-04-06 01:38:55.460', 'D+000006.8'), ('2021-04-06 01:38:55.480', 'D+000006.8'), ('2021-04-06 01:38:55.500', 'D+000006.6'), ('2021-04-06 01:38:55.520', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 9.2, 6.8, 6.8, 6.6, 6.2]
np.array X: [[8.6]
 [9.2]
 [6.8]
 [6.8]
 [6.6]
 [6.2]]
revised_weight: 7.9
2021-04-06 01:38:55.520: revising weight finished
revised_weight: 7.9 at 2021-04-06 01:38:55.520
plc_result: True
sendmessage: 20210406013855520,1,000062,000079
send message to PLC: 2021-04-06 01:38:55.534
time gap: 0:00:00.006677
2021-04-06 01:38:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:56.058
lastevent: 2021-04-06 01:38:56.049, last ten sensor data: [0, ('2021-04-06 01:38:55.690', 'D+000007.0'), ('2021-04-06 01:38:55.710', 'D+000007.0'), ('2021-04-06 01:38:55.730', 'D+000007.0'), ('2021-04-06 01:38:55.750', 'D+000007.2'), ('2021-04-06 01:38:55.940', 'D+000007.8'), ('2021-04-06 01:38:55.960', 'D+000007.6'), ('2021-04-06 01:38:55.980', 'D+000007.4'), ('2021-04-06 01:38:56.000', 'D+000007.0'), ('2021-04-06 01:38:56.020', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 7.8, 7.6, 7.4, 7.0, 7.2]
np.array X: [[7.2]
 [7.8]
 [7.6]
 [7.4]
 [7. ]
 [7.2]]
revised_weight: 7.4
2021-04-06 01:38:56.020: revising weight finished
revised_weight: 7.4 at 2021-04-06 01:38:56.020
plc_result: True
sendmessage: 20210406013856020,1,000072,000074
send message to PLC: 2021-04-06 01:38:56.064
time gap: 0:00:00.006578
2021-04-06 01:38:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:57: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:38:57: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:57: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:38:57: select done
2021-04-06 01:38:57: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:38:57: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:38:57: sendjson called, 7 records in httpPlcDataSender thread
2021-04-06 01:38:57: count: 7 in httpPlcDataSender thread
2021-04-06 01:38:57: D+: 7 in httpPlcDataSender thread
2021-04-06 01:38:57: D-: 0 in httpPlcDataSender thread
2021-04-06 01:38:57: S+: 0 in httpPlcDataSender thread
2021-04-06 01:38:57: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.6', 'sensorAt': '2021-04-06 01:38:51.500'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:38:52.340'}, {'value': '12.4', 'sensorAt': '2021-04-06 01:38:52.820'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:38:53.810'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:38:54.800'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:38:55.520'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:38:56.020'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:51.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:52.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:52.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:53.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:54.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:55.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:56.020'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:38:57', 'collectDate': '2021-04-06 01:38:56', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.6', 'sensorAt': '2021-04-06 01:38:51.500'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:38:52.340'}, {'value': '12.4', 'sensorAt': '2021-04-06 01:38:52.820'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:38:53.810'}, {'value': '8.0', 'sensorAt': '2021-04-06 01:38:54.800'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:38:55.520'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:38:56.020'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:51.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:52.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:52.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:53.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:54.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:55.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:56.020'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:38:57: send http
2021-04-06 01:38:57: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:38:57: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:38:57: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:38:57.816
lastevent: 2021-04-06 01:38:57.809, last ten sensor data: [('2021-04-06 01:38:57.180', 'D+000005.0'), ('2021-04-06 01:38:57.200', 'D+000005.0'), ('2021-04-06 01:38:57.220', 'D+000005.0'), ('2021-04-06 01:38:57.440', 'D+000004.4'), ('2021-04-06 01:38:57.460', 'D+000004.4'), ('2021-04-06 01:38:57.480', 'D+000004.4'), ('2021-04-06 01:38:57.650', 'D+000008.4'), ('2021-04-06 01:38:57.670', 'D+000009.6'), ('2021-04-06 01:38:57.690', 'D+000010.2'), ('2021-04-06 01:38:57.710', 'D+000011.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 8.4, 9.6, 10.2, 11.2]
np.array X: [[ 4.4]
 [ 4.4]
 [ 8.4]
 [ 9.6]
 [10.2]
 [11.2]]
revised_weight: 9.9
2021-04-06 01:38:57.710: revising weight finished
revised_weight: 9.9 at 2021-04-06 01:38:57.710
plc_result: True
sendmessage: 20210406013857710,1,000112,000099
send message to PLC: 2021-04-06 01:38:57.823
time gap: 0:00:00.006796
2021-04-06 01:38:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:58.616
lastevent: 2021-04-06 01:38:58.603, last ten sensor data: [('2021-04-06 01:38:57.980', 'D+000012.2'), ('2021-04-06 01:38:58.190', 'D+000011.4'), ('2021-04-06 01:38:58.210', 'D+000010.6'), ('2021-04-06 01:38:58.230', 'D+000010.0'), ('2021-04-06 01:38:58.250', 'D+000008.4'), ('2021-04-06 01:38:58.430', 'D+000010.0'), ('2021-04-06 01:38:58.450', 'D+000010.8'), ('2021-04-06 01:38:58.470', 'D+000011.2'), ('2021-04-06 01:38:58.490', 'D+000012.6'), ('2021-04-06 01:38:58.510', 'D+000013.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.4, 10.0, 10.8, 11.2, 12.6, 13.8]
np.array X: [[ 8.4]
 [10. ]
 [10.8]
 [11.2]
 [12.6]
 [13.8]]
revised_weight: 11.9
2021-04-06 01:38:58.510: revising weight finished
revised_weight: 11.9 at 2021-04-06 01:38:58.510
plc_result: True
sendmessage: 20210406013858510,1,000138,000119
send message to PLC: 2021-04-06 01:38:58.629
time gap: 0:00:00.012497
2021-04-06 01:38:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:38:59.299
lastevent: 2021-04-06 01:38:59.291, last ten sensor data: [('2021-04-06 01:38:58.920', 'D+000013.8'), ('2021-04-06 01:38:58.940', 'D+000013.6'), ('2021-04-06 01:38:58.960', 'D+000013.6'), ('2021-04-06 01:38:58.980', 'D+000013.8'), ('2021-04-06 01:38:59.000', 'D+000013.6'), ('2021-04-06 01:38:59.160', 'D+000005.8'), ('2021-04-06 01:38:59.180', 'D+000005.4'), ('2021-04-06 01:38:59.200', 'D+000005.6'), ('2021-04-06 01:38:59.220', 'D+000005.6'), ('2021-04-06 01:38:59.240', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [13.6, 5.8, 5.4, 5.6, 5.6, 5.0]
np.array X: [[13.6]
 [ 5.8]
 [ 5.4]
 [ 5.6]
 [ 5.6]
 [ 5. ]]
revised_weight: 6.2
2021-04-06 01:38:59.240: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:38:59.240
plc_result: True
sendmessage: 20210406013859240,1,000050,000062
send message to PLC: 2021-04-06 01:38:59.306
time gap: 0:00:00.006871
2021-04-06 01:38:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:01.224
lastevent: 2021-04-06 01:39:01.217, last ten sensor data: [('2021-04-06 01:39:00.770', 'D+000003.2'), ('2021-04-06 01:39:00.790', 'D+000003.2'), ('2021-04-06 01:39:00.810', 'D+000003.4'), ('2021-04-06 01:39:00.830', 'D+000003.2'), ('2021-04-06 01:39:00.970', 'D+000005.8'), ('2021-04-06 01:39:00.990', 'D+000006.0'), ('2021-04-06 01:39:01.010', 'D+000005.8'), ('2021-04-06 01:39:01.030', 'D+000005.6'), ('2021-04-06 01:39:01.050', 'D+000005.8'), ('2021-04-06 01:39:01.070', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.0, 5.8, 5.6, 5.8, 6.0]
np.array X: [[5.8]
 [6. ]
 [5.8]
 [5.6]
 [5.8]
 [6. ]]
revised_weight: 5.7
2021-04-06 01:39:01.070: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:39:01.070
plc_result: True
sendmessage: 20210406013901070,1,000060,000057
send message to PLC: 2021-04-06 01:39:01.231
time gap: 0:00:00.006974
2021-04-06 01:39:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:02.344
lastevent: 2021-04-06 01:39:02.330, last ten sensor data: [('2021-04-06 01:39:01.770', 'D+000005.6'), ('2021-04-06 01:39:01.790', 'D+000005.4'), ('2021-04-06 01:39:01.960', 'D+000005.6'), ('2021-04-06 01:39:01.980', 'D+000005.4'), ('2021-04-06 01:39:02.000', 'D+000005.2'), ('2021-04-06 01:39:02.020', 'D+000005.4'), ('2021-04-06 01:39:02.210', 'D+000009.6'), ('2021-04-06 01:39:02.230', 'D+000009.8'), ('2021-04-06 01:39:02.250', 'D+000009.6'), ('2021-04-06 01:39:02.270', 'D+000009.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.4, 9.6, 9.8, 9.6, 9.4]
np.array X: [[5.2]
 [5.4]
 [9.6]
 [9.8]
 [9.6]
 [9.4]]
revised_weight: 8.7
2021-04-06 01:39:02.270: revising weight finished
revised_weight: 8.7 at 2021-04-06 01:39:02.270
plc_result: True
sendmessage: 20210406013902270,1,000094,000087
send message to PLC: 2021-04-06 01:39:02.351
time gap: 0:00:00.006745
2021-04-06 01:39:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:02: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:39:02: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:02: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:02: select done
2021-04-06 01:39:02: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:39:02: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:39:02: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:39:02: count: 5 in httpPlcDataSender thread
2021-04-06 01:39:02: D+: 5 in httpPlcDataSender thread
2021-04-06 01:39:02: D-: 0 in httpPlcDataSender thread
2021-04-06 01:39:02: S+: 0 in httpPlcDataSender thread
2021-04-06 01:39:02: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.9', 'sensorAt': '2021-04-06 01:38:57.710'}, {'value': '11.9', 'sensorAt': '2021-04-06 01:38:58.510'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:38:59.240'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:39:01.070'}, {'value': '8.7', 'sensorAt': '2021-04-06 01:39:02.270'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:57.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:58.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:59.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:01.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:02.270'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:39:02', 'collectDate': '2021-04-06 01:39:02', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.9', 'sensorAt': '2021-04-06 01:38:57.710'}, {'value': '11.9', 'sensorAt': '2021-04-06 01:38:58.510'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:38:59.240'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:39:01.070'}, {'value': '8.7', 'sensorAt': '2021-04-06 01:39:02.270'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:38:57.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:58.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:38:59.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:01.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:02.270'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:39:03: send http
2021-04-06 01:39:03: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:39:03.230
lastevent: 2021-04-06 01:39:03.217, last ten sensor data: [('2021-04-06 01:39:02.890', 'D+000006.2'), ('2021-04-06 01:39:02.910', 'D+000006.2'), ('2021-04-06 01:39:02.930', 'D+000005.8'), ('2021-04-06 01:39:02.950', 'D+000005.8'), ('2021-04-06 01:39:02.970', 'D+000005.8'), ('2021-04-06 01:39:02.990', 'D+000005.8'), ('2021-04-06 01:39:03.010', 'D+000005.8'), ('2021-04-06 01:39:03.180', 'D+000006.4'), ('2021-04-06 01:39:03.200', 'D+000006.4'), ('2021-04-06 01:39:03.220', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.8, 5.8, 6.4, 6.4, 6.8]
np.array X: [[5.8]
 [5.8]
 [5.8]
 [6.4]
 [6.4]
 [6.8]]
revised_weight: 6.5
2021-04-06 01:39:03.220: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:39:03.220
plc_result: True
sendmessage: 20210406013903220,1,000068,000065
send message to PLC: 2021-04-06 01:39:03.237
time gap: 0:00:00.006658
2021-04-06 01:39:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
Backupserver True
2021-04-06 01:39:03: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:03: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:04.909
lastevent: 2021-04-06 01:39:04.894, last ten sensor data: [('2021-04-06 01:39:04.490', 'D+000004.2'), ('2021-04-06 01:39:04.510', 'D+000004.0'), ('2021-04-06 01:39:04.530', 'D+000003.8'), ('2021-04-06 01:39:04.550', 'D+000003.6'), ('2021-04-06 01:39:04.570', 'D+000003.6'), ('2021-04-06 01:39:04.740', 'D+000006.6'), ('2021-04-06 01:39:04.760', 'D+000006.4'), ('2021-04-06 01:39:04.780', 'D+000006.4'), ('2021-04-06 01:39:04.800', 'D+000006.0'), ('2021-04-06 01:39:04.820', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 6.6, 6.4, 6.4, 6.0, 5.8]
np.array X: [[3.6]
 [6.6]
 [6.4]
 [6.4]
 [6. ]
 [5.8]]
revised_weight: 6.7
2021-04-06 01:39:04.820: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:39:04.820
plc_result: True
sendmessage: 20210406013904820,1,000058,000067
send message to PLC: 2021-04-06 01:39:04.915
time gap: 0:00:00.006294
2021-04-06 01:39:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:05.763
lastevent: 2021-04-06 01:39:05.752, last ten sensor data: [('2021-04-06 01:39:05.270', 'D+000005.6'), ('2021-04-06 01:39:05.290', 'D+000005.6'), ('2021-04-06 01:39:05.310', 'D+000005.8'), ('2021-04-06 01:39:05.480', 'D+000005.6'), ('2021-04-06 01:39:05.500', 'D+000005.6'), ('2021-04-06 01:39:05.520', 'D+000005.6'), ('2021-04-06 01:39:05.540', 'D+000005.8'), ('2021-04-06 01:39:05.720', 'D+000006.2'), ('2021-04-06 01:39:05.740', 'D+000005.6'), ('2021-04-06 01:39:05.760', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.6, 5.8, 6.2, 5.6, 5.6]
np.array X: [[5.6]
 [5.6]
 [5.8]
 [6.2]
 [5.6]
 [5.6]]
revised_weight: 5.7
2021-04-06 01:39:05.760: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:39:05.760
plc_result: True
sendmessage: 20210406013905760,1,000056,000057
send message to PLC: 2021-04-06 01:39:05.771
time gap: 0:00:00.007598
2021-04-06 01:39:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:07.473
lastevent: 2021-04-06 01:39:07.460, last ten sensor data: [('2021-04-06 01:39:06.990', 'D+000004.6'), ('2021-04-06 01:39:07.010', 'D+000004.2'), ('2021-04-06 01:39:07.160', 'D+000005.2'), ('2021-04-06 01:39:07.180', 'D+000005.0'), ('2021-04-06 01:39:07.200', 'D+000005.2'), ('2021-04-06 01:39:07.220', 'D+000004.8'), ('2021-04-06 01:39:07.240', 'D+000004.8'), ('2021-04-06 01:39:07.430', 'D+000005.0'), ('2021-04-06 01:39:07.450', 'D+000005.2'), ('2021-04-06 01:39:07.470', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 4.8, 4.8, 5.0, 5.2, 5.0]
np.array X: [[5.2]
 [4.8]
 [4.8]
 [5. ]
 [5.2]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:39:07.470: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:39:07.470
plc_result: True
sendmessage: 20210406013907470,1,000050,000051
send message to PLC: 2021-04-06 01:39:07.479
time gap: 0:00:00.006489
2021-04-06 01:39:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:08: httpScaleDataSender thread Timeout occurred
2021-04-06 01:39:08: [13725] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
2021-04-06 01:39:08: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2021-04-06 01:39:08: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:39:08: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:08: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:08: select done
2021-04-06 01:39:08: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:39:08: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:39:08: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:39:08: count: 4 in httpPlcDataSender thread
2021-04-06 01:39:08: D+: 4 in httpPlcDataSender thread
2021-04-06 01:39:08: D-: 0 in httpPlcDataSender thread
2021-04-06 01:39:08: S+: 0 in httpPlcDataSender thread
2021-04-06 01:39:08: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:39:03.220'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:39:04.820'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:39:05.760'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:39:07.470'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:03.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:04.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:05.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:07.470'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:39:08', 'collectDate': '2021-04-06 01:39:07', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:39:03.220'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:39:04.820'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:39:05.760'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:39:07.470'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:03.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:04.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:05.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:07.470'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:39:08: send http
2021-04-06 01:39:08: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:39:08: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:09.201
lastevent: 2021-04-06 01:39:09.187, last ten sensor data: [('2021-04-06 01:39:08.700', 'D+000003.6'), ('2021-04-06 01:39:08.720', 'D+000003.4'), ('2021-04-06 01:39:08.880', 'D+000003.8'), ('2021-04-06 01:39:08.900', 'D+000003.8'), ('2021-04-06 01:39:08.920', 'D+000004.0'), ('2021-04-06 01:39:08.940', 'D+000004.2'), ('2021-04-06 01:39:08.960', 'D+000004.8'), ('2021-04-06 01:39:09.140', 'D+000006.6'), ('2021-04-06 01:39:09.160', 'D+000006.8'), ('2021-04-06 01:39:09.180', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 4.8, 6.6, 6.8, 7.0]
np.array X: [[4. ]
 [4.2]
 [4.8]
 [6.6]
 [6.8]
 [7. ]]
revised_weight: 6.0
2021-04-06 01:39:09.180: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:39:09.180
plc_result: True
sendmessage: 20210406013909180,1,000070,000060
send message to PLC: 2021-04-06 01:39:09.209
time gap: 0:00:00.008467
2021-04-06 01:39:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:09: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:09.985
lastevent: 2021-04-06 01:39:09.978, last ten sensor data: [('2021-04-06 01:39:09.510', 'D+000006.4'), ('2021-04-06 01:39:09.530', 'D+000006.0'), ('2021-04-06 01:39:09.550', 'D+000006.0'), ('2021-04-06 01:39:09.570', 'D+000006.0'), ('2021-04-06 01:39:09.590', 'D+000006.2'), ('2021-04-06 01:39:09.740', 'D+000004.8'), ('2021-04-06 01:39:09.760', 'D+000005.0'), ('2021-04-06 01:39:09.780', 'D+000005.0'), ('2021-04-06 01:39:09.800', 'D+000004.6'), ('2021-04-06 01:39:09.970', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 4.8, 5.0, 5.0, 4.6, 4.0]
np.array X: [[6.2]
 [4.8]
 [5. ]
 [5. ]
 [4.6]
 [4. ]]
revised_weight: 4.4
2021-04-06 01:39:09.970: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:39:09.970
plc_result: True
sendmessage: 20210406013909970,1,000040,000044
send message to PLC: 2021-04-06 01:39:09.992
time gap: 0:00:00.007267
2021-04-06 01:39:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:11.969
lastevent: 2021-04-06 01:39:11.957, last ten sensor data: [('2021-04-06 01:39:11.460', 'D+000002.6'), ('2021-04-06 01:39:11.480', 'D+000002.6'), ('2021-04-06 01:39:11.620', 'D+000002.6'), ('2021-04-06 01:39:11.640', 'D+000002.4'), ('2021-04-06 01:39:11.660', 'D+000002.6'), ('2021-04-06 01:39:11.680', 'D+000002.2'), ('2021-04-06 01:39:11.700', 'D+000002.2'), ('2021-04-06 01:39:11.880', 'D+000002.8'), ('2021-04-06 01:39:11.900', 'D+000003.0'), ('2021-04-06 01:39:11.920', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.2, 2.2, 2.8, 3.0, 2.6]
np.array X: [[2.6]
 [2.2]
 [2.2]
 [2.8]
 [3. ]
 [2.6]]
revised_weight: 2.3
2021-04-06 01:39:11.920: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:39:11.920
plc_result: True
sendmessage: 20210406013911920,1,000026,000023
send message to PLC: 2021-04-06 01:39:11.976
time gap: 0:00:00.006929
2021-04-06 01:39:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:14.016
lastevent: 2021-04-06 01:39:13.999, last ten sensor data: [('2021-04-06 01:39:13.580', 'D+000002.6'), ('2021-04-06 01:39:13.600', 'D+000003.2'), ('2021-04-06 01:39:13.620', 'D+000003.2'), ('2021-04-06 01:39:13.640', 'D+000003.2'), ('2021-04-06 01:39:13.810', 'D+000005.0'), ('2021-04-06 01:39:13.830', 'D+000005.4'), ('2021-04-06 01:39:13.850', 'D+000005.4'), ('2021-04-06 01:39:13.870', 'D+000006.0'), ('2021-04-06 01:39:13.930', 'D+000005.0'), ('2021-04-06 01:39:14.000', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.4, 5.4, 6.0, 5.0, 6.2]
np.array X: [[5. ]
 [5.4]
 [5.4]
 [6. ]
 [5. ]
 [6.2]]
revised_weight: 5.9
2021-04-06 01:39:14.000: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:39:14.000
plc_result: True
sendmessage: 20210406013914000,1,000062,000059
send message to PLC: 2021-04-06 01:39:14.022
time gap: 0:00:00.006661
2021-04-06 01:39:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:39:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
2021-04-06 01:39:14: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:39:14: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:14: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:14.396
lastevent: 2021-04-06 01:39:14.387, last ten sensor data: [('2021-04-06 01:39:14.040', 'D+000008.0'), ('2021-04-06 01:39:14.060', 'D+000008.2'), ('2021-04-06 01:39:14.080', 'D+000008.6'), ('2021-04-06 01:39:14.100', 'D+000008.8'), ('2021-04-06 01:39:14.120', 'D+000008.8'), ('2021-04-06 01:39:14.290', 'D+000008.6'), ('2021-04-06 01:39:14.310', 'D+000009.4'), ('2021-04-06 01:39:14.330', 'D+000009.4'), ('2021-04-06 01:39:14.350', 'D+000009.8'), ('2021-04-06 01:39:14.370', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.8, 8.6, 9.4, 9.4, 9.8, 8.2]
np.array X: [[8.8]
 [8.6]
 [9.4]
 [9.4]
 [9.8]
 [8.2]]
2021-04-06 01:39:14: select done
2021-04-06 01:39:14: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:39:14: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
revised_weight: 8.5
2021-04-06 01:39:14.370: revising weight finished
revised_weight: 8.5 at 2021-04-06 01:39:14.370
plc_result: True
sendmessage: 20210406013914370,1,000082,000085
send message to PLC: 2021-04-06 01:39:14.421
time gap: 0:00:00.024457
2021-04-06 01:39:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:14: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:39:14: count: 4 in httpPlcDataSender thread
2021-04-06 01:39:14: D+: 4 in httpPlcDataSender thread
2021-04-06 01:39:14: D-: 0 in httpPlcDataSender thread
2021-04-06 01:39:14: S+: 0 in httpPlcDataSender thread
2021-04-06 01:39:14: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.0', 'sensorAt': '2021-04-06 01:39:09.180'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:39:09.970'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:39:11.920'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:39:14.000'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:09.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:09.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:11.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:14.000'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:39:14', 'collectDate': '2021-04-06 01:39:13', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.0', 'sensorAt': '2021-04-06 01:39:09.180'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:39:09.970'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:39:11.920'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:39:14.000'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:09.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:09.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:11.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:14.000'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:39:14: send http
2021-04-06 01:39:14: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:39:14: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:14: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:17.008
lastevent: 2021-04-06 01:39:16.997, last ten sensor data: [('2021-04-06 01:39:16.540', 'D+000003.2'), ('2021-04-06 01:39:16.560', 'D+000003.4'), ('2021-04-06 01:39:16.720', 'D+000005.8'), ('2021-04-06 01:39:16.740', 'D+000006.8'), ('2021-04-06 01:39:16.760', 'D+000007.4'), ('2021-04-06 01:39:16.780', 'D+000008.0'), ('2021-04-06 01:39:16.800', 'D+000008.6'), ('2021-04-06 01:39:16.970', 'D+000017.0'), ('2021-04-06 01:39:16.990', 'D+000011.6'), ('2021-04-06 01:39:17.010', 'D+000012.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 8.0, 8.6, 17.0, 11.6, 12.6]
np.array X: [[ 7.4]
 [ 8. ]
 [ 8.6]
 [17. ]
 [11.6]
 [12.6]]
revised_weight: 14.5
2021-04-06 01:39:17.010: revising weight finished
revised_weight: 14.5 at 2021-04-06 01:39:17.010
plc_result: True
sendmessage: 20210406013917010,1,000126,000145
send message to PLC: 2021-04-06 01:39:17.021
time gap: 0:00:00.012235
2021-04-06 01:39:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:17.815
lastevent: 2021-04-06 01:39:17.804, last ten sensor data: [('2021-04-06 01:39:17.490', 'D+000007.2'), ('2021-04-06 01:39:17.510', 'D+000006.8'), ('2021-04-06 01:39:17.530', 'D+000006.2'), ('2021-04-06 01:39:17.550', 'D+000006.2'), ('2021-04-06 01:39:17.570', 'D+000006.0'), ('2021-04-06 01:39:17.730', 'D+000005.2'), ('2021-04-06 01:39:17.750', 'D+000004.8'), ('2021-04-06 01:39:17.770', 'D+000006.0'), ('2021-04-06 01:39:17.790', 'D+000005.8'), ('2021-04-06 01:39:17.810', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 5.2, 4.8, 6.0, 5.8, 4.8]
np.array X: [[6. ]
 [5.2]
 [4.8]
 [6. ]
 [5.8]
 [4.8]]
revised_weight: 4.9
2021-04-06 01:39:17.810: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:39:17.810
plc_result: True
sendmessage: 20210406013917810,1,000048,000049
send message to PLC: 2021-04-06 01:39:17.826
time gap: 0:00:00.011569
2021-04-06 01:39:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:19.556
lastevent: 2021-04-06 01:39:19.554, last ten sensor data: [('2021-04-06 01:39:19.040', 'D+000003.4'), ('2021-04-06 01:39:19.210', 'D+000003.4'), ('2021-04-06 01:39:19.230', 'D+000003.6'), ('2021-04-06 01:39:19.250', 'D+000003.6'), ('2021-04-06 01:39:19.270', 'D+000003.4'), ('2021-04-06 01:39:19.440', 'D+000004.2'), ('2021-04-06 01:39:19.460', 'D+000004.0'), ('2021-04-06 01:39:19.480', 'D+000004.0'), ('2021-04-06 01:39:19.500', 'D+000003.8'), ('2021-04-06 01:39:19.520', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.2, 4.0, 4.0, 3.8, 4.0]
np.array X: [[3.4]
 [4.2]
 [4. ]
 [4. ]
 [3.8]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:39:19.520: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:39:19.520
plc_result: True
sendmessage: 20210406013919520,1,000040,000040
send message to PLC: 2021-04-06 01:39:19.569
time gap: 0:00:00.013078
2021-04-06 01:39:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:19: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:39:19: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:19: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:19: select done
2021-04-06 01:39:19: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:39:19: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:39:20: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:39:20: count: 4 in httpPlcDataSender thread
2021-04-06 01:39:20: D+: 4 in httpPlcDataSender thread
2021-04-06 01:39:20: D-: 0 in httpPlcDataSender thread
2021-04-06 01:39:20: S+: 0 in httpPlcDataSender thread
2021-04-06 01:39:20: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.5', 'sensorAt': '2021-04-06 01:39:14.370'}, {'value': '14.5', 'sensorAt': '2021-04-06 01:39:17.010'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:39:17.810'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:39:19.520'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:14.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:17.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:17.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:19.520'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:39:20', 'collectDate': '2021-04-06 01:39:19', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.5', 'sensorAt': '2021-04-06 01:39:14.370'}, {'value': '14.5', 'sensorAt': '2021-04-06 01:39:17.010'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:39:17.810'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:39:19.520'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:14.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:17.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:17.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:19.520'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:39:20: send http
2021-04-06 01:39:20: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:39:20.260
lastevent: 2021-04-06 01:39:20.258, last ten sensor data: [('2021-04-06 01:39:19.980', 'D+000003.8'), ('2021-04-06 01:39:20.000', 'D+000004.2'), ('2021-04-06 01:39:20.090', 'D+000005.0'), ('2021-04-06 01:39:20.110', 'D+000004.8'), ('2021-04-06 01:39:20.130', 'D+000004.6'), ('2021-04-06 01:39:20.170', 'D+000004.8'), ('2021-04-06 01:39:20.190', 'D+000004.4'), ('2021-04-06 01:39:20.210', 'D+000005.2'), ('2021-04-06 01:39:20.230', 'D+000005.8'), ('2021-04-06 01:39:20.250', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.8, 4.4, 5.2, 5.8, 5.4]
np.array X: [[4.6]
 [4.8]
 [4.4]
 [5.2]
 [5.8]
 [5.4]]
revised_weight: 5.0
2021-04-06 01:39:20.250: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:39:20.250
plc_result: True
sendmessage: 20210406013920250,1,000054,000050
send message to PLC: 2021-04-06 01:39:20.267
time gap: 0:00:00.007690
2021-04-06 01:39:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
Backupserver True
2021-04-06 01:39:20: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:20: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:22.853
lastevent: 2021-04-06 01:39:22.849, last ten sensor data: [('2021-04-06 01:39:22.370', 'D+000003.0'), ('2021-04-06 01:39:22.390', 'D+000002.8'), ('2021-04-06 01:39:22.410', 'D+000002.8'), ('2021-04-06 01:39:22.430', 'D+000002.8'), ('2021-04-06 01:39:22.450', 'D+000003.0'), ('2021-04-06 01:39:22.600', 'D+000003.8'), ('2021-04-06 01:39:22.620', 'D+000004.2'), ('2021-04-06 01:39:22.640', 'D+000004.4'), ('2021-04-06 01:39:22.660', 'D+000004.2'), ('2021-04-06 01:39:22.680', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.8, 4.2, 4.4, 4.2, 4.2]
np.array X: [[3. ]
 [3.8]
 [4.2]
 [4.4]
 [4.2]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:39:22.680: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:39:22.680
plc_result: True
sendmessage: 20210406013922680,1,000042,000042
send message to PLC: 2021-04-06 01:39:22.867
time gap: 0:00:00.013789
2021-04-06 01:39:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:23.789
lastevent: 2021-04-06 01:39:23.783, last ten sensor data: [('2021-04-06 01:39:23.180', 'D+000005.0'), ('2021-04-06 01:39:23.350', 'D+000004.6'), ('2021-04-06 01:39:23.370', 'D+000004.6'), ('2021-04-06 01:39:23.390', 'D+000004.8'), ('2021-04-06 01:39:23.410', 'D+000004.4'), ('2021-04-06 01:39:23.600', 'D+000005.6'), ('2021-04-06 01:39:23.620', 'D+000005.8'), ('2021-04-06 01:39:23.640', 'D+000006.0'), ('2021-04-06 01:39:23.660', 'D+000006.4'), ('2021-04-06 01:39:23.680', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.6, 5.8, 6.0, 6.4, 6.8]
np.array X: [[4.4]
 [5.6]
 [5.8]
 [6. ]
 [6.4]
 [6.8]]
revised_weight: 6.3
2021-04-06 01:39:23.680: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:39:23.680
plc_result: True
sendmessage: 20210406013923680,1,000068,000063
send message to PLC: 2021-04-06 01:39:23.802
time gap: 0:00:00.012655
2021-04-06 01:39:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:25: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:39:25: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:25.504
lastevent: 2021-04-06 01:39:25.494, last ten sensor data: [('2021-04-06 01:39:24.890', 'D+000004.6'), ('2021-04-06 01:39:25.050', 'D+000004.4'), ('2021-04-06 01:39:25.070', 'D+000004.4'), ('2021-04-06 01:39:25.090', 'D+000004.4'), ('2021-04-06 01:39:25.110', 'D+000004.4'), ('2021-04-06 01:39:25.130', 'D+000004.0'), ('2021-04-06 01:39:25.310', 'D+000006.0'), ('2021-04-06 01:39:25.330', 'D+000006.2'), ('2021-04-06 01:39:25.350', 'D+000006.4'), ('2021-04-06 01:39:25.370', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.0, 6.0, 6.2, 6.4, 6.8]
np.array X: [[4.4]
 [4. ]
 [6. ]
 [6.2]
 [6.4]
 [6.8]]
revised_weight: 6.1
2021-04-06 01:39:25.370: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:39:25.370
plc_result: True
sendmessage: 20210406013925370,1,000068,000061
send message to PLC: 2021-04-06 01:39:25.517
time gap: 0:00:00.012521
2021-04-06 01:39:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:25: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:25: select done
2021-04-06 01:39:25: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:39:25: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:39:25: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:39:25: count: 4 in httpPlcDataSender thread
2021-04-06 01:39:25: D+: 4 in httpPlcDataSender thread
2021-04-06 01:39:25: D-: 0 in httpPlcDataSender thread
2021-04-06 01:39:25: S+: 0 in httpPlcDataSender thread
2021-04-06 01:39:25: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.0', 'sensorAt': '2021-04-06 01:39:20.250'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:39:22.680'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:39:23.680'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:39:25.370'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:20.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:22.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:23.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:25.370'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:39:25', 'collectDate': '2021-04-06 01:39:25', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.0', 'sensorAt': '2021-04-06 01:39:20.250'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:39:22.680'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:39:23.680'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:39:25.370'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:20.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:22.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:23.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:25.370'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:39:25: send http
2021-04-06 01:39:25: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:39:25: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:26: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:26.595
lastevent: 2021-04-06 01:39:26.584, last ten sensor data: [('2021-04-06 01:39:26.290', 'D+000005.6'), ('2021-04-06 01:39:26.310', 'D+000005.8'), ('2021-04-06 01:39:26.330', 'D+000005.6'), ('2021-04-06 01:39:26.350', 'D+000006.0'), ('2021-04-06 01:39:26.500', 'D+000006.4'), ('2021-04-06 01:39:26.520', 'D+000006.6'), ('2021-04-06 01:39:26.540', 'D+000006.4'), ('2021-04-06 01:39:26.560', 'D+000006.8'), ('2021-04-06 01:39:26.580', 'D+000007.0'), ('2021-04-06 01:39:26.600', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.6, 6.4, 6.8, 7.0, 6.8]
np.array X: [[6.4]
 [6.6]
 [6.4]
 [6.8]
 [7. ]
 [6.8]]
revised_weight: 6.7
2021-04-06 01:39:26.600: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:39:26.600
plc_result: True
sendmessage: 20210406013926600,1,000068,000067
send message to PLC: 2021-04-06 01:39:26.630
time gap: 0:00:00.035223
2021-04-06 01:39:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:27.593
lastevent: 2021-04-06 01:39:27.588, last ten sensor data: [('2021-04-06 01:39:27.080', 'D+000005.4'), ('2021-04-06 01:39:27.260', 'D+000006.4'), ('2021-04-06 01:39:27.280', 'D+000007.0'), ('2021-04-06 01:39:27.300', 'D+000007.4'), ('2021-04-06 01:39:27.320', 'D+000008.4'), ('2021-04-06 01:39:27.340', 'D+000011.0'), ('2021-04-06 01:39:27.500', 'D+000019.2'), ('2021-04-06 01:39:27.520', 'D+000017.4'), ('2021-04-06 01:39:27.540', 'D+000020.8'), ('2021-04-06 01:39:27.560', 'D+000024.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.4, 11.0, 19.2, 17.4, 20.8, 24.6]
np.array X: [[ 8.4]
 [11. ]
 [19.2]
 [17.4]
 [20.8]
 [24.6]]
revised_weight: 20.8
2021-04-06 01:39:27.560: revising weight finished
revised_weight: 20.8 at 2021-04-06 01:39:27.560
plc_result: False
sendmessage: 20210406013927560,0,000246,000208
send message to PLC: 2021-04-06 01:39:27.604
time gap: 0:00:00.011136
2021-04-06 01:39:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:28.973
lastevent: 2021-04-06 01:39:28.960, last ten sensor data: [('2021-04-06 01:39:28.310', 'D+000005.2'), ('2021-04-06 01:39:28.470', 'D+000005.0'), ('2021-04-06 01:39:28.490', 'D+000005.2'), ('2021-04-06 01:39:28.510', 'D+000005.0'), ('2021-04-06 01:39:28.530', 'D+000005.0'), ('2021-04-06 01:39:28.550', 'D+000005.2'), ('2021-04-06 01:39:28.730', 'D+000006.0'), ('2021-04-06 01:39:28.750', 'D+000006.0'), ('2021-04-06 01:39:28.770', 'D+000006.0'), ('2021-04-06 01:39:28.790', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 6.0, 6.0, 6.0, 6.2]
np.array X: [[5. ]
 [5.2]
 [6. ]
 [6. ]
 [6. ]
 [6.2]]
revised_weight: 6.0
2021-04-06 01:39:28.790: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:39:28.790
plc_result: True
sendmessage: 20210406013928790,1,000062,000060
send message to PLC: 2021-04-06 01:39:28.984
time gap: 0:00:00.011583
2021-04-06 01:39:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:29.534
lastevent: 2021-04-06 01:39:29.526, last ten sensor data: [('2021-04-06 01:39:29.030', 'D+000005.8'), ('2021-04-06 01:39:29.050', 'D+000005.6'), ('2021-04-06 01:39:29.240', 'D+000005.6'), ('2021-04-06 01:39:29.260', 'D+000005.8'), ('2021-04-06 01:39:29.280', 'D+000006.0'), ('2021-04-06 01:39:29.300', 'D+000006.2'), ('2021-04-06 01:39:29.480', 'D+000006.6'), ('2021-04-06 01:39:29.500', 'D+000005.8'), ('2021-04-06 01:39:29.520', 'D+000005.8'), ('2021-04-06 01:39:29.540', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.2, 6.6, 5.8, 5.8, 6.4]
np.array X: [[6. ]
 [6.2]
 [6.6]
 [5.8]
 [5.8]
 [6.4]]
revised_weight: 6.0
2021-04-06 01:39:29.540: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:39:29.540
plc_result: True
sendmessage: 20210406013929540,1,000064,000060
send message to PLC: 2021-04-06 01:39:29.545
time gap: 0:00:00.011296
2021-04-06 01:39:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:29.928
lastevent: 2021-04-06 01:39:29.916, last ten sensor data: [0, 0, 0, 0, 0, 0, ('2021-04-06 01:39:29.720', 'D+000006.4'), ('2021-04-06 01:39:29.740', 'D+000007.2'), ('2021-04-06 01:39:29.760', 'D+000007.2'), ('2021-04-06 01:39:29.780', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 0, 6.4, 7.2, 7.2, 6.6]
np.array X: [[0. ]
 [0. ]
 [6.4]
 [7.2]
 [7.2]
 [6.6]]
revised_weight: 5.7
2021-04-06 01:39:29.780: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:39:29.780
plc_result: True
sendmessage: 20210406013929780,1,000066,000057
send message to PLC: 2021-04-06 01:39:29.940
time gap: 0:00:00.011067
2021-04-06 01:39:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:30.266
lastevent: 2021-04-06 01:39:30.255, last ten sensor data: [0, ('2021-04-06 01:39:29.950', 'D+000006.4'), ('2021-04-06 01:39:29.970', 'D+000006.6'), ('2021-04-06 01:39:29.990', 'D+000006.4'), ('2021-04-06 01:39:30.010', 'D+000006.0'), ('2021-04-06 01:39:30.040', 'D+000005.8'), ('2021-04-06 01:39:30.200', 'D+000005.2'), ('2021-04-06 01:39:30.220', 'D+000005.4'), ('2021-04-06 01:39:30.240', 'D+000005.8'), ('2021-04-06 01:39:30.260', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 5.8, 5.2, 5.4, 5.8, 6.0]
np.array X: [[6. ]
 [5.8]
 [5.2]
 [5.4]
 [5.8]
 [6. ]]
revised_weight: 5.7
2021-04-06 01:39:30.260: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:39:30.260
plc_result: True
sendmessage: 20210406013930260,1,000060,000057
send message to PLC: 2021-04-06 01:39:30.277
time gap: 0:00:00.011178
2021-04-06 01:39:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:31: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:39:31: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:31: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:31: select done
2021-04-06 01:39:31: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:39:31: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:39:31: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:39:31: count: 6 in httpPlcDataSender thread
2021-04-06 01:39:31: D+: 6 in httpPlcDataSender thread
2021-04-06 01:39:31: D-: 0 in httpPlcDataSender thread
2021-04-06 01:39:31: S+: 0 in httpPlcDataSender thread
2021-04-06 01:39:31: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.7', 'sensorAt': '2021-04-06 01:39:26.600'}, {'value': '20.8', 'sensorAt': '2021-04-06 01:39:27.560'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:39:28.790'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:39:29.540'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:39:29.780'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:39:30.260'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:26.600'}, {'value': 0, 'sensorAt': '2021-04-06 01:39:27.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:28.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:29.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:29.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:30.260'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:39:31', 'collectDate': '2021-04-06 01:39:30', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.7', 'sensorAt': '2021-04-06 01:39:26.600'}, {'value': '20.8', 'sensorAt': '2021-04-06 01:39:27.560'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:39:28.790'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:39:29.540'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:39:29.780'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:39:30.260'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:26.600'}, {'value': 0, 'sensorAt': '2021-04-06 01:39:27.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:28.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:29.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:29.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:30.260'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:31.402
lastevent: 2021-04-06 01:39:31.391, last ten sensor data: [('2021-04-06 01:39:31.000', 'D+000004.8'), ('2021-04-06 01:39:31.020', 'D+000004.8'), ('2021-04-06 01:39:31.040', 'D+000005.0'), ('2021-04-06 01:39:31.220', 'D+000005.8'), ('2021-04-06 01:39:31.240', 'D+000006.2'), ('2021-04-06 01:39:31.260', 'D+000006.4'), ('2021-04-06 01:39:31.280', 'D+000006.6'), ('2021-04-06 01:39:31.340', 'D+000006.4'), ('2021-04-06 01:39:31.360', 'D+000006.4'), ('2021-04-06 01:39:31.380', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.4, 6.6, 6.4, 6.4, 6.2]
np.array X: [[6.2]
 [6.4]
 [6.6]
 [6.4]
 [6.4]
 [6.2]]
revised_weight: 6.2
2021-04-06 01:39:31.380: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:39:31.380
plc_result: True
sendmessage: 20210406013931380,1,000062,000062
send message to PLC: 2021-04-06 01:39:31.411
time gap: 0:00:00.008214
2021-04-06 01:39:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:31: send http
2021-04-06 01:39:31: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:39:31: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:31: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:33.457
lastevent: 2021-04-06 01:39:33.443, last ten sensor data: [('2021-04-06 01:39:33.010', 'D+000003.4'), ('2021-04-06 01:39:33.170', 'D+000004.0'), ('2021-04-06 01:39:33.190', 'D+000004.2'), ('2021-04-06 01:39:33.210', 'D+000004.6'), ('2021-04-06 01:39:33.230', 'D+000004.6'), ('2021-04-06 01:39:33.250', 'D+000004.8'), ('2021-04-06 01:39:33.410', 'D+000004.2'), ('2021-04-06 01:39:33.430', 'D+000005.2'), ('2021-04-06 01:39:33.450', 'D+000005.8'), ('2021-04-06 01:39:33.470', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.8, 4.2, 5.2, 5.8, 5.6]
np.array X: [[4.6]
 [4.8]
 [4.2]
 [5.2]
 [5.8]
 [5.6]]
revised_weight: 4.7
2021-04-06 01:39:33.470: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:39:33.470
plc_result: True
sendmessage: 20210406013933470,1,000056,000047
send message to PLC: 2021-04-06 01:39:33.470
time gap: 0:00:00.012540
2021-04-06 01:39:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:34.242
lastevent: 2021-04-06 01:39:34.235, last ten sensor data: [('2021-04-06 01:39:33.790', 'D+000005.0'), ('2021-04-06 01:39:33.810', 'D+000004.8'), ('2021-04-06 01:39:33.830', 'D+000004.8'), ('2021-04-06 01:39:33.850', 'D+000004.8'), ('2021-04-06 01:39:33.870', 'D+000005.4'), ('2021-04-06 01:39:34.050', 'D+000006.0'), ('2021-04-06 01:39:34.070', 'D+000006.0'), ('2021-04-06 01:39:34.090', 'D+000006.6'), ('2021-04-06 01:39:34.110', 'D+000007.2'), ('2021-04-06 01:39:34.130', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 6.0, 6.0, 6.6, 7.2, 6.4]
np.array X: [[5.4]
 [6. ]
 [6. ]
 [6.6]
 [7.2]
 [6.4]]
revised_weight: 6.3
2021-04-06 01:39:34.130: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:39:34.130
plc_result: True
sendmessage: 20210406013934130,1,000064,000063
send message to PLC: 2021-04-06 01:39:34.255
time gap: 0:00:00.012797
2021-04-06 01:39:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:34.635
lastevent: 2021-04-06 01:39:34.620, last ten sensor data: [0, ('2021-04-06 01:39:34.260', 'D+000007.2'), ('2021-04-06 01:39:34.310', 'D+000008.2'), ('2021-04-06 01:39:34.330', 'D+000008.8'), ('2021-04-06 01:39:34.350', 'D+000008.8'), ('2021-04-06 01:39:34.370', 'D+000009.8'), ('2021-04-06 01:39:34.540', 'D+000011.6'), ('2021-04-06 01:39:34.560', 'D+000011.2'), ('2021-04-06 01:39:34.580', 'D+000010.0'), ('2021-04-06 01:39:34.600', 'D+000010.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.8, 9.8, 11.6, 11.2, 10.0, 10.4]
np.array X: [[ 8.8]
 [ 9.8]
 [11.6]
 [11.2]
 [10. ]
 [10.4]]
revised_weight: 10.7
2021-04-06 01:39:34.600: revising weight finished
revised_weight: 10.7 at 2021-04-06 01:39:34.600
plc_result: True
sendmessage: 20210406013934600,1,000104,000107
send message to PLC: 2021-04-06 01:39:34.648
time gap: 0:00:00.013096
2021-04-06 01:39:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:36: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:39:36: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:36.690
lastevent: 2021-04-06 01:39:36.677, last ten sensor data: [('2021-04-06 01:39:36.260', 'D+000004.4'), ('2021-04-06 01:39:36.280', 'D+000004.4'), ('2021-04-06 01:39:36.300', 'D+000004.2'), ('2021-04-06 01:39:36.320', 'D+000004.2'), ('2021-04-06 01:39:36.490', 'D+000005.2'), ('2021-04-06 01:39:36.510', 'D+000005.6'), ('2021-04-06 01:39:36.530', 'D+000005.4'), ('2021-04-06 01:39:36.550', 'D+000005.2'), ('2021-04-06 01:39:36.570', 'D+000005.2'), ('2021-04-06 01:39:36.590', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.6, 5.4, 5.2, 5.2, 4.8]
np.array X: [[5.2]
 [5.6]
 [5.4]
 [5.2]
 [5.2]
 [4.8]]
revised_weight: 5.3
2021-04-06 01:39:36.590: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:39:36.590
plc_result: True
sendmessage: 20210406013936590,1,000048,000053
send message to PLC: 2021-04-06 01:39:36.697
time gap: 0:00:00.007746
2021-04-06 01:39:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:36: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:36: select done
2021-04-06 01:39:36: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:39:36: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:39:36: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:39:36: count: 5 in httpPlcDataSender thread
2021-04-06 01:39:36: D+: 5 in httpPlcDataSender thread
2021-04-06 01:39:36: D-: 0 in httpPlcDataSender thread
2021-04-06 01:39:36: S+: 0 in httpPlcDataSender thread
2021-04-06 01:39:36: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.2', 'sensorAt': '2021-04-06 01:39:31.380'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:39:33.470'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:39:34.130'}, {'value': '10.7', 'sensorAt': '2021-04-06 01:39:34.600'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:39:36.590'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:31.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:33.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:34.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:34.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:36.590'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:39:36', 'collectDate': '2021-04-06 01:39:36', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.2', 'sensorAt': '2021-04-06 01:39:31.380'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:39:33.470'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:39:34.130'}, {'value': '10.7', 'sensorAt': '2021-04-06 01:39:34.600'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:39:36.590'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:31.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:33.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:34.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:34.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:36.590'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:39:37: send http
2021-04-06 01:39:37: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:39:37: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:37.188
lastevent: 2021-04-06 01:39:37.178, last ten sensor data: [('2021-04-06 01:39:36.790', 'D+000005.0'), ('2021-04-06 01:39:36.810', 'D+000005.0'), ('2021-04-06 01:39:36.830', 'D+000005.0'), ('2021-04-06 01:39:36.930', 'D+000005.6'), ('2021-04-06 01:39:36.950', 'D+000006.0'), ('2021-04-06 01:39:36.980', 'D+000008.2'), ('2021-04-06 01:39:37.000', 'D+000007.8'), ('2021-04-06 01:39:37.020', 'D+000007.0'), ('2021-04-06 01:39:37.040', 'D+000006.8'), ('2021-04-06 01:39:37.060', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 8.2, 7.8, 7.0, 6.8, 8.2]
np.array X: [[6. ]
 [8.2]
 [7.8]
 [7. ]
 [6.8]
 [8.2]]
revised_weight: 8.0
2021-04-06 01:39:37.060: revising weight finished
revised_weight: 8.0 at 2021-04-06 01:39:37.060
plc_result: True
sendmessage: 20210406013937060,1,000082,000080
send message to PLC: 2021-04-06 01:39:37.195
time gap: 0:00:00.006681
2021-04-06 01:39:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:37: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:37.461
lastevent: 2021-04-06 01:39:37.448, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:39:37.230', 'D+000009.2'), ('2021-04-06 01:39:37.250', 'D+000009.2'), ('2021-04-06 01:39:37.270', 'D+000009.4'), ('2021-04-06 01:39:37.290', 'D+000009.4'), ('2021-04-06 01:39:37.310', 'D+000008.8'), ('2021-04-06 01:39:37.450', 'D+000008.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.2, 9.2, 9.4, 9.4, 8.8, 8.8]
np.array X: [[9.2]
 [9.2]
 [9.4]
 [9.4]
 [8.8]
 [8.8]]
revised_weight: 9.0
2021-04-06 01:39:37.450: revising weight finished
revised_weight: 9.0 at 2021-04-06 01:39:37.450
plc_result: True
sendmessage: 20210406013937450,1,000088,000090
send message to PLC: 2021-04-06 01:39:37.467
time gap: 0:00:00.006654
2021-04-06 01:39:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:38.108
lastevent: 2021-04-06 01:39:38.093, last ten sensor data: [('2021-04-06 01:39:37.480', 'D+000008.4'), ('2021-04-06 01:39:37.500', 'D+000008.2'), ('2021-04-06 01:39:37.520', 'D+000007.8'), ('2021-04-06 01:39:37.540', 'D+000007.6'), ('2021-04-06 01:39:37.720', 'D+000005.8'), ('2021-04-06 01:39:37.740', 'D+000005.8'), ('2021-04-06 01:39:37.760', 'D+000005.8'), ('2021-04-06 01:39:37.780', 'D+000006.0'), ('2021-04-06 01:39:37.940', 'D+000005.8'), ('2021-04-06 01:39:38.090', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.8, 5.8, 6.0, 5.8, 5.4]
np.array X: [[5.8]
 [5.8]
 [5.8]
 [6. ]
 [5.8]
 [5.4]]
revised_weight: 5.7
2021-04-06 01:39:38.090: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:39:38.090
plc_result: True
sendmessage: 20210406013938090,1,000054,000057
send message to PLC: 2021-04-06 01:39:38.121
time gap: 0:00:00.012549
2021-04-06 01:39:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:39.140
lastevent: 2021-04-06 01:39:39.130, last ten sensor data: [('2021-04-06 01:39:38.660', 'D+000004.2'), ('2021-04-06 01:39:38.830', 'D+000004.8'), ('2021-04-06 01:39:38.850', 'D+000004.6'), ('2021-04-06 01:39:38.870', 'D+000004.8'), ('2021-04-06 01:39:38.890', 'D+000005.0'), ('2021-04-06 01:39:38.920', 'D+000005.0'), ('2021-04-06 01:39:39.080', 'D+000004.2'), ('2021-04-06 01:39:39.100', 'D+000004.4'), ('2021-04-06 01:39:39.120', 'D+000004.6'), ('2021-04-06 01:39:39.140', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 4.2, 4.4, 4.6, 4.8]
np.array X: [[5. ]
 [5. ]
 [4.2]
 [4.4]
 [4.6]
 [4.8]]
revised_weight: 4.8
2021-04-06 01:39:39.140: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:39:39.140
plc_result: True
sendmessage: 20210406013939140,1,000048,000048
send message to PLC: 2021-04-06 01:39:39.153
time gap: 0:00:00.012860
2021-04-06 01:39:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:42: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:39:42: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:42: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:42: select done
2021-04-06 01:39:42: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:39:42: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:39:42: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:39:42: count: 4 in httpPlcDataSender thread
2021-04-06 01:39:42: D+: 4 in httpPlcDataSender thread
2021-04-06 01:39:42: D-: 0 in httpPlcDataSender thread
2021-04-06 01:39:42: S+: 0 in httpPlcDataSender thread
2021-04-06 01:39:42: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.0', 'sensorAt': '2021-04-06 01:39:37.060'}, {'value': '9.0', 'sensorAt': '2021-04-06 01:39:37.450'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:39:38.090'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:39:39.140'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:37.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:37.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:38.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:39.140'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:39:42', 'collectDate': '2021-04-06 01:39:39', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '8.0', 'sensorAt': '2021-04-06 01:39:37.060'}, {'value': '9.0', 'sensorAt': '2021-04-06 01:39:37.450'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:39:38.090'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:39:39.140'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:37.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:37.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:38.090'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:39.140'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:39:42: send http
2021-04-06 01:39:42: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:39:42: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:42: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:39:47: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:39:47: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:39:47: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:47: select done
2021-04-06 01:39:47: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:39:47: No Data remains in httpPlcDataSender thread
2021-04-06 01:39:47: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:39:48: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:39:48: current db filename:  in httpPlcDataSender thread
2021-04-06 01:39:48: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:39:57.871
lastevent: 2021-04-06 01:39:57.855, last ten sensor data: [('2021-04-06 01:39:57.450', 'D+000005.8'), ('2021-04-06 01:39:57.470', 'D+000005.8'), ('2021-04-06 01:39:57.490', 'D+000005.8'), ('2021-04-06 01:39:57.510', 'D+000005.8'), ('2021-04-06 01:39:57.670', 'D+000004.4'), ('2021-04-06 01:39:57.690', 'D+000004.4'), ('2021-04-06 01:39:57.710', 'D+000004.8'), ('2021-04-06 01:39:57.730', 'D+000005.2'), ('2021-04-06 01:39:57.750', 'D+000005.0'), ('2021-04-06 01:39:57.770', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 4.8, 5.2, 5.0, 5.0]
np.array X: [[4.4]
 [4.4]
 [4.8]
 [5.2]
 [5. ]
 [5. ]]
revised_weight: 5.0
2021-04-06 01:39:57.770: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:39:57.770
plc_result: True
sendmessage: 20210406013957770,1,000050,000050
send message to PLC: 2021-04-06 01:39:57.877
time gap: 0:00:00.006181
2021-04-06 01:39:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
trigger sensor detected: 2021-04-06 01:39:58.894
lastevent: 2021-04-06 01:39:58.885, last ten sensor data: [('2021-04-06 01:39:58.250', 'D+000004.2'), ('2021-04-06 01:39:58.420', 'D+000004.8'), ('2021-04-06 01:39:58.440', 'D+000004.6'), ('2021-04-06 01:39:58.460', 'D+000004.4'), ('2021-04-06 01:39:58.480', 'D+000004.4'), ('2021-04-06 01:39:58.600', 'D+000005.2'), ('2021-04-06 01:39:58.660', 'D+000005.2'), ('2021-04-06 01:39:58.680', 'D+000005.4'), ('2021-04-06 01:39:58.700', 'D+000005.4'), ('2021-04-06 01:39:58.720', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.2, 5.2, 5.4, 5.4, 5.4]
np.array X: [[4.4]
 [5.2]
 [5.2]
 [5.4]
 [5.4]
 [5.4]]
revised_weight: 5.2
2021-04-06 01:39:58.720: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:39:58.720
plc_result: True
sendmessage: 20210406013958720,1,000054,000052
send message to PLC: 2021-04-06 01:39:58.900
time gap: 0:00:00.006137
2021-04-06 01:39:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
current_plcdb_name: plcdata2021-04-06_01_40.db
1[922]: datalist_to_store size: 922
2021-04-06 01:40:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
2021-04-06 01:40:08: httpScaleDataSender thread Timeout occurred
2021-04-06 01:40:08: [13726] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_30.db in httpScaleDataSender thread
2021-04-06 01:40:08: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:40:08: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
2021-04-06 01:40:08: select done
2021-04-06 01:40:08: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:40:08: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:40:08: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:40:08: count: 3000 in httpScaleDataSender thread
2021-04-06 01:40:08: D+: 2841 in httpScaleDataSender thread
2021-04-06 01:40:08: D-: 34 in httpScaleDataSender thread
2021-04-06 01:40:08: S+: 102 in httpScaleDataSender thread
2021-04-06 01:40:08: S-: 23 in httpScaleDataSender thread
True in httpScaleDataSender thread
2021-04-06 01:40:12: send http
2021-04-06 01:40:12: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:40:12: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:40:12: got 'update query' results  in httpScaleDataSender thread
2021-04-06 01:40:22: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:40:22: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:40:23: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
2021-04-06 01:40:23: select done
2021-04-06 01:40:23: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:40:23: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:40:23: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:40:23: count: 3000 in httpScaleDataSender thread
2021-04-06 01:40:23: D+: 3000 in httpScaleDataSender thread
2021-04-06 01:40:23: D-: 0 in httpScaleDataSender thread
2021-04-06 01:40:23: S+: 0 in httpScaleDataSender thread
2021-04-06 01:40:23: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
2021-04-06 01:40:25: send http
2021-04-06 01:40:25: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:40:25: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:40:26: got 'update query' results  in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:40:26.337
lastevent: 2021-04-06 01:40:26.325, last ten sensor data: [('2021-04-06 01:40:25.780', 'D+000004.4'), ('2021-04-06 01:40:25.890', 'D+000004.6'), ('2021-04-06 01:40:25.940', 'D+000005.2'), ('2021-04-06 01:40:25.960', 'D+000005.4'), ('2021-04-06 01:40:25.980', 'D+000005.6'), ('2021-04-06 01:40:26.000', 'D+000005.8'), ('2021-04-06 01:40:26.180', 'D+000006.0'), ('2021-04-06 01:40:26.200', 'D+000006.2'), ('2021-04-06 01:40:26.220', 'D+000006.4'), ('2021-04-06 01:40:26.250', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.8, 6.0, 6.2, 6.4, 6.6]
np.array X: [[5.6]
 [5.8]
 [6. ]
 [6.2]
 [6.4]
 [6.6]]
revised_weight: 6.3
2021-04-06 01:40:26.250: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:40:26.250
plc_result: True
sendmessage: 20210406014026250,1,000066,000063
send message to PLC: 2021-04-06 01:40:26.344
time gap: 0:00:00.006585
2021-04-06 01:40:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:26.857
lastevent: 2021-04-06 01:40:26.854, last ten sensor data: [('2021-04-06 01:40:26.410', 'D+000006.2'), ('2021-04-06 01:40:26.430', 'D+000006.0'), ('2021-04-06 01:40:26.450', 'D+000005.8'), ('2021-04-06 01:40:26.470', 'D+000005.8'), ('2021-04-06 01:40:26.490', 'D+000005.6'), ('2021-04-06 01:40:26.510', 'D+000005.6'), ('2021-04-06 01:40:26.670', 'D+000006.2'), ('2021-04-06 01:40:26.690', 'D+000006.2'), ('2021-04-06 01:40:26.710', 'D+000006.4'), ('2021-04-06 01:40:26.730', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.6, 6.2, 6.2, 6.4, 6.6]
np.array X: [[5.6]
 [5.6]
 [6.2]
 [6.2]
 [6.4]
 [6.6]]
revised_weight: 6.3
2021-04-06 01:40:26.730: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:40:26.730
plc_result: True
sendmessage: 20210406014026730,1,000066,000063
send message to PLC: 2021-04-06 01:40:26.869
time gap: 0:00:00.012062
2021-04-06 01:40:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:27.959
lastevent: 2021-04-06 01:40:27.943, last ten sensor data: [('2021-04-06 01:40:27.500', 'D+000005.4'), ('2021-04-06 01:40:27.650', 'D+000005.8'), ('2021-04-06 01:40:27.670', 'D+000006.0'), ('2021-04-06 01:40:27.690', 'D+000006.2'), ('2021-04-06 01:40:27.710', 'D+000006.2'), ('2021-04-06 01:40:27.730', 'D+000006.4'), ('2021-04-06 01:40:27.900', 'D+000007.0'), ('2021-04-06 01:40:27.920', 'D+000006.8'), ('2021-04-06 01:40:27.940', 'D+000006.4'), ('2021-04-06 01:40:27.960', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.4, 7.0, 6.8, 6.4, 6.4]
np.array X: [[6.2]
 [6.4]
 [7. ]
 [6.8]
 [6.4]
 [6.4]]
revised_weight: 6.5
2021-04-06 01:40:27.960: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:40:27.960
plc_result: True
sendmessage: 20210406014027960,1,000064,000065
send message to PLC: 2021-04-06 01:40:27.976
time gap: 0:00:00.016540
2021-04-06 01:40:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:28.638
lastevent: 2021-04-06 01:40:28.631, last ten sensor data: [('2021-04-06 01:40:28.000', 'D+000006.8'), ('2021-04-06 01:40:28.160', 'D+000006.8'), ('2021-04-06 01:40:28.180', 'D+000006.8'), ('2021-04-06 01:40:28.200', 'D+000006.8'), ('2021-04-06 01:40:28.220', 'D+000006.8'), ('2021-04-06 01:40:28.390', 'D+000007.0'), ('2021-04-06 01:40:28.410', 'D+000007.0'), ('2021-04-06 01:40:28.430', 'D+000007.0'), ('2021-04-06 01:40:28.450', 'D+000007.0'), ('2021-04-06 01:40:28.630', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 7.0, 7.0, 7.0, 7.0, 7.4]
np.array X: [[6.8]
 [7. ]
 [7. ]
 [7. ]
 [7. ]
 [7.4]]
revised_weight: 7.0
2021-04-06 01:40:28.630: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:40:28.630
plc_result: True
sendmessage: 20210406014028630,1,000074,000070
send message to PLC: 2021-04-06 01:40:28.644
time gap: 0:00:00.006098
2021-04-06 01:40:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:29.523
lastevent: 2021-04-06 01:40:29.513, last ten sensor data: [('2021-04-06 01:40:29.110', 'D+000006.6'), ('2021-04-06 01:40:29.150', 'D+000006.8'), ('2021-04-06 01:40:29.170', 'D+000006.8'), ('2021-04-06 01:40:29.190', 'D+000006.8'), ('2021-04-06 01:40:29.210', 'D+000006.8'), ('2021-04-06 01:40:29.370', 'D+000007.2'), ('2021-04-06 01:40:29.390', 'D+000007.0'), ('2021-04-06 01:40:29.410', 'D+000007.4'), ('2021-04-06 01:40:29.430', 'D+000007.6'), ('2021-04-06 01:40:29.450', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 7.2, 7.0, 7.4, 7.6, 7.2]
np.array X: [[6.8]
 [7.2]
 [7. ]
 [7.4]
 [7.6]
 [7.2]]
revised_weight: 7.0
2021-04-06 01:40:29.450: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:40:29.450
plc_result: True
sendmessage: 20210406014029450,1,000072,000070
send message to PLC: 2021-04-06 01:40:29.534
time gap: 0:00:00.011293
2021-04-06 01:40:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:29.943
lastevent: 2021-04-06 01:40:29.926, last ten sensor data: [0, ('2021-04-06 01:40:29.620', 'D+000008.2'), ('2021-04-06 01:40:29.640', 'D+000007.8'), ('2021-04-06 01:40:29.660', 'D+000007.8'), ('2021-04-06 01:40:29.680', 'D+000008.0'), ('2021-04-06 01:40:29.700', 'D+000007.8'), ('2021-04-06 01:40:29.870', 'D+000007.4'), ('2021-04-06 01:40:29.890', 'D+000007.2'), ('2021-04-06 01:40:29.910', 'D+000007.4'), ('2021-04-06 01:40:29.930', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.0, 7.8, 7.4, 7.2, 7.4, 7.4]
np.array X: [[8. ]
 [7.8]
 [7.4]
 [7.2]
 [7.4]
 [7.4]]
revised_weight: 7.6
2021-04-06 01:40:29.930: revising weight finished
revised_weight: 7.6 at 2021-04-06 01:40:29.930
plc_result: True
sendmessage: 20210406014029930,1,000074,000076
send message to PLC: 2021-04-06 01:40:29.955
time gap: 0:00:00.011563
2021-04-06 01:40:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:31.027
lastevent: 2021-04-06 01:40:31.018, last ten sensor data: [('2021-04-06 01:40:30.590', 'D+000005.0'), ('2021-04-06 01:40:30.610', 'D+000005.0'), ('2021-04-06 01:40:30.630', 'D+000005.0'), ('2021-04-06 01:40:30.650', 'D+000005.0'), ('2021-04-06 01:40:30.670', 'D+000005.2'), ('2021-04-06 01:40:30.830', 'D+000006.2'), ('2021-04-06 01:40:30.850', 'D+000006.0'), ('2021-04-06 01:40:30.870', 'D+000005.8'), ('2021-04-06 01:40:30.890', 'D+000006.6'), ('2021-04-06 01:40:30.910', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 6.2, 6.0, 5.8, 6.6, 5.4]
np.array X: [[5.2]
 [6.2]
 [6. ]
 [5.8]
 [6.6]
 [5.4]]
revised_weight: 5.7
2021-04-06 01:40:30.910: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:40:30.910
plc_result: True
sendmessage: 20210406014030910,1,000054,000057
send message to PLC: 2021-04-06 01:40:31.039
time gap: 0:00:00.011689
2021-04-06 01:40:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:31.413
lastevent: 2021-04-06 01:40:31.400, last ten sensor data: [('2021-04-06 01:40:31.040', 'D+000006.8'), ('2021-04-06 01:40:31.080', 'D+000006.2'), ('2021-04-06 01:40:31.100', 'D+000006.2'), ('2021-04-06 01:40:31.120', 'D+000006.4'), ('2021-04-06 01:40:31.140', 'D+000006.2'), ('2021-04-06 01:40:31.160', 'D+000006.2'), ('2021-04-06 01:40:31.340', 'D+000005.6'), ('2021-04-06 01:40:31.360', 'D+000005.4'), ('2021-04-06 01:40:31.380', 'D+000005.4'), ('2021-04-06 01:40:31.400', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.2, 5.6, 5.4, 5.4, 5.4]
np.array X: [[6.2]
 [6.2]
 [5.6]
 [5.4]
 [5.4]
 [5.4]]
revised_weight: 5.9
2021-04-06 01:40:31.400: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:40:31.400
plc_result: True
sendmessage: 20210406014031400,1,000054,000059
send message to PLC: 2021-04-06 01:40:31.424
time gap: 0:00:00.011159
2021-04-06 01:40:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:34.336
lastevent: 2021-04-06 01:40:34.326, last ten sensor data: [('2021-04-06 01:40:34.030', 'D+000004.2'), ('2021-04-06 01:40:34.050', 'D+000004.0'), ('2021-04-06 01:40:34.070', 'D+000004.0'), ('2021-04-06 01:40:34.090', 'D+000004.2'), ('2021-04-06 01:40:34.240', 'D+000004.0'), ('2021-04-06 01:40:34.260', 'D+000004.2'), ('2021-04-06 01:40:34.280', 'D+000004.4'), ('2021-04-06 01:40:34.300', 'D+000005.2'), ('2021-04-06 01:40:34.320', 'D+000006.0'), ('2021-04-06 01:40:34.340', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 4.4, 5.2, 6.0, 7.6]
np.array X: [[4. ]
 [4.2]
 [4.4]
 [5.2]
 [6. ]
 [7.6]]
revised_weight: 6.1
2021-04-06 01:40:34.340: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:40:34.340
plc_result: True
sendmessage: 20210406014034340,1,000076,000061
send message to PLC: 2021-04-06 01:40:34.342
time gap: 0:00:00.006243
2021-04-06 01:40:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:36.070
lastevent: 2021-04-06 01:40:36.052, last ten sensor data: [('2021-04-06 01:40:35.490', 'D+000006.0'), ('2021-04-06 01:40:35.510', 'D+000005.8'), ('2021-04-06 01:40:35.690', 'D+000006.0'), ('2021-04-06 01:40:35.710', 'D+000006.0'), ('2021-04-06 01:40:35.730', 'D+000005.8'), ('2021-04-06 01:40:35.750', 'D+000006.0'), ('2021-04-06 01:40:35.930', 'D+000006.8'), ('2021-04-06 01:40:35.950', 'D+000006.8'), ('2021-04-06 01:40:35.970', 'D+000006.8'), ('2021-04-06 01:40:35.990', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.0, 6.8, 6.8, 6.8, 7.0]
np.array X: [[5.8]
 [6. ]
 [6.8]
 [6.8]
 [6.8]
 [7. ]]
revised_weight: 6.7
2021-04-06 01:40:35.990: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:40:35.990
plc_result: True
sendmessage: 20210406014035990,1,000070,000067
send message to PLC: 2021-04-06 01:40:36.083
time gap: 0:00:00.012689
2021-04-06 01:40:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:40:36: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:40:36: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:40:36: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
2021-04-06 01:40:36: select done
2021-04-06 01:40:36: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:40:36: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:40:36: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:40:36: count: 3000 in httpScaleDataSender thread
2021-04-06 01:40:36: D+: 2844 in httpScaleDataSender thread
2021-04-06 01:40:36: D-: 0 in httpScaleDataSender thread
2021-04-06 01:40:36: S+: 156 in httpScaleDataSender thread
2021-04-06 01:40:36: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:40:36.751
lastevent: 2021-04-06 01:40:36.745, last ten sensor data: [('2021-04-06 01:40:36.440', 'D+000006.6'), ('2021-04-06 01:40:36.460', 'D+000006.4'), ('2021-04-06 01:40:36.480', 'D+000006.2'), ('2021-04-06 01:40:36.600', 'D+000006.8'), ('2021-04-06 01:40:36.620', 'D+000006.8'), ('2021-04-06 01:40:36.650', 'D+000006.8'), ('2021-04-06 01:40:36.670', 'D+000006.6'), ('2021-04-06 01:40:36.690', 'D+000006.6'), ('2021-04-06 01:40:36.710', 'D+000006.4'), ('2021-04-06 01:40:36.730', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.8, 6.6, 6.6, 6.4, 5.6]
np.array X: [[6.8]
 [6.8]
 [6.6]
 [6.6]
 [6.4]
 [5.6]]
revised_weight: 6.5
2021-04-06 01:40:36.730: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:40:36.730
plc_result: True
sendmessage: 20210406014036730,1,000056,000065
send message to PLC: 2021-04-06 01:40:36.758
time gap: 0:00:00.006659
2021-04-06 01:40:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:37.904
lastevent: 2021-04-06 01:40:37.893, last ten sensor data: [('2021-04-06 01:40:37.410', 'D+000018.0'), ('2021-04-06 01:40:37.430', 'D+000017.8'), ('2021-04-06 01:40:37.450', 'D+000017.8'), ('2021-04-06 01:40:37.630', 'D+000007.2'), ('2021-04-06 01:40:37.650', 'D+000007.4'), ('2021-04-06 01:40:37.670', 'D+000007.2'), ('2021-04-06 01:40:37.690', 'D+000006.4'), ('2021-04-06 01:40:37.710', 'D+000006.4'), ('2021-04-06 01:40:37.880', 'D+000006.6'), ('2021-04-06 01:40:37.900', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 7.2, 6.4, 6.4, 6.6, 6.6]
np.array X: [[7.4]
 [7.2]
 [6.4]
 [6.4]
 [6.6]
 [6.6]]
revised_weight: 6.9
2021-04-06 01:40:37.900: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:40:37.900
plc_result: True
sendmessage: 20210406014037900,1,000066,000069
send message to PLC: 2021-04-06 01:40:37.911
time gap: 0:00:00.007064
2021-04-06 01:40:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:38.451
lastevent: 2021-04-06 01:40:38.436, last ten sensor data: [('2021-04-06 01:40:37.940', 'D+000006.8'), ('2021-04-06 01:40:38.110', 'D+000007.2'), ('2021-04-06 01:40:38.130', 'D+000007.2'), ('2021-04-06 01:40:38.150', 'D+000007.2'), ('2021-04-06 01:40:38.170', 'D+000007.4'), ('2021-04-06 01:40:38.190', 'D+000007.4'), ('2021-04-06 01:40:38.210', 'D+000007.4'), ('2021-04-06 01:40:38.350', 'D+000007.4'), ('2021-04-06 01:40:38.370', 'D+000007.0'), ('2021-04-06 01:40:38.390', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 7.4, 7.4, 7.4, 7.0, 7.0]
np.array X: [[7.4]
 [7.4]
 [7.4]
 [7.4]
 [7. ]
 [7. ]]
revised_weight: 7.2
2021-04-06 01:40:38.390: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:40:38.390
plc_result: True
sendmessage: 20210406014038390,1,000070,000072
send message to PLC: 2021-04-06 01:40:38.458
time gap: 0:00:00.007021
2021-04-06 01:40:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:40:38: send http
2021-04-06 01:40:38: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:40:38: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:40:38.923
lastevent: 2021-04-06 01:40:38.903, last ten sensor data: [('2021-04-06 01:40:38.570', 'D+000006.6'), ('2021-04-06 01:40:38.590', 'D+000006.6'), ('2021-04-06 01:40:38.610', 'D+000006.6'), ('2021-04-06 01:40:38.630', 'D+000006.8'), ('2021-04-06 01:40:38.770', 'D+000009.0'), ('2021-04-06 01:40:38.800', 'D+000008.8'), ('2021-04-06 01:40:38.820', 'D+000008.4'), ('2021-04-06 01:40:38.840', 'D+000008.2'), ('2021-04-06 01:40:38.880', 'D+000007.6'), ('2021-04-06 01:40:38.900', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.0, 8.8, 8.4, 8.2, 7.6, 7.6]
np.array X: [[9. ]
 [8.8]
 [8.4]
 [8.2]
 [7.6]
 [7.6]]
revised_weight: 8.5
2021-04-06 01:40:38.900: revising weight finished
revised_weight: 8.5 at 2021-04-06 01:40:38.900
plc_result: True
sendmessage: 20210406014038900,1,000076,000085
send message to PLC: 2021-04-06 01:40:38.936
time gap: 0:00:00.012445
2021-04-06 01:40:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:40:39: got 'update query' results  in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:40:39.645
lastevent: 2021-04-06 01:40:39.633, last ten sensor data: [('2021-04-06 01:40:39.110', 'D+000009.0'), ('2021-04-06 01:40:39.130', 'D+000009.0'), ('2021-04-06 01:40:39.290', 'D+000008.0'), ('2021-04-06 01:40:39.310', 'D+000007.6'), ('2021-04-06 01:40:39.330', 'D+000007.4'), ('2021-04-06 01:40:39.460', 'D+000006.8'), ('2021-04-06 01:40:39.480', 'D+000006.6'), ('2021-04-06 01:40:39.500', 'D+000006.8'), ('2021-04-06 01:40:39.520', 'D+000007.2'), ('2021-04-06 01:40:39.540', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 6.8, 6.6, 6.8, 7.2, 7.2]
np.array X: [[7.4]
 [6.8]
 [6.6]
 [6.8]
 [7.2]
 [7.2]]
revised_weight: 7.1
2021-04-06 01:40:39.540: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:40:39.540
plc_result: True
sendmessage: 20210406014039540,1,000072,000071
send message to PLC: 2021-04-06 01:40:39.657
time gap: 0:00:00.012089
2021-04-06 01:40:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:41.147
lastevent: 2021-04-06 01:40:41.141, last ten sensor data: [('2021-04-06 01:40:40.650', 'D+000018.6'), ('2021-04-06 01:40:40.670', 'D+000018.6'), ('2021-04-06 01:40:40.690', 'D+000017.0'), ('2021-04-06 01:40:40.870', 'D+000010.2'), ('2021-04-06 01:40:40.890', 'D+000007.4'), ('2021-04-06 01:40:40.910', 'D+000006.8'), ('2021-04-06 01:40:40.930', 'D+000006.4'), ('2021-04-06 01:40:40.950', 'D+000006.6'), ('2021-04-06 01:40:41.120', 'D+000006.0'), ('2021-04-06 01:40:41.140', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 6.8, 6.4, 6.6, 6.0, 5.8]
np.array X: [[7.4]
 [6.8]
 [6.4]
 [6.6]
 [6. ]
 [5.8]]
revised_weight: 6.6
2021-04-06 01:40:41.140: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:40:41.140
plc_result: True
sendmessage: 20210406014041140,1,000058,000066
send message to PLC: 2021-04-06 01:40:41.167
time gap: 0:00:00.019770
2021-04-06 01:40:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:41.722
lastevent: 2021-04-06 01:40:41.712, last ten sensor data: [('2021-04-06 01:40:41.360', 'D+000006.2'), ('2021-04-06 01:40:41.380', 'D+000006.2'), ('2021-04-06 01:40:41.400', 'D+000006.2'), ('2021-04-06 01:40:41.420', 'D+000006.4'), ('2021-04-06 01:40:41.440', 'D+000006.8'), ('2021-04-06 01:40:41.600', 'D+000007.0'), ('2021-04-06 01:40:41.620', 'D+000007.2'), ('2021-04-06 01:40:41.640', 'D+000007.2'), ('2021-04-06 01:40:41.660', 'D+000006.6'), ('2021-04-06 01:40:41.680', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 7.0, 7.2, 7.2, 6.6, 6.6]
np.array X: [[6.8]
 [7. ]
 [7.2]
 [7.2]
 [6.6]
 [6.6]]
revised_weight: 6.8
2021-04-06 01:40:41.680: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:40:41.680
plc_result: True
sendmessage: 20210406014041680,1,000066,000068
send message to PLC: 2021-04-06 01:40:41.729
time gap: 0:00:00.006913
2021-04-06 01:40:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:40:42.243
lastevent: 2021-04-06 01:40:42.235, last ten sensor data: [0, ('2021-04-06 01:40:41.850', 'D+000006.8'), ('2021-04-06 01:40:41.870', 'D+000006.8'), ('2021-04-06 01:40:41.890', 'D+000007.0'), ('2021-04-06 01:40:41.910', 'D+000007.0'), ('2021-04-06 01:40:41.930', 'D+000007.0'), ('2021-04-06 01:40:42.100', 'D+000007.6'), ('2021-04-06 01:40:42.130', 'D+000007.6'), ('2021-04-06 01:40:42.150', 'D+000007.6'), ('2021-04-06 01:40:42.170', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 7.0, 7.6, 7.6, 7.6, 8.2]
np.array X: [[7. ]
 [7. ]
 [7.6]
 [7.6]
 [7.6]
 [8.2]]
revised_weight: 7.7
2021-04-06 01:40:42.170: revising weight finished
revised_weight: 7.7 at 2021-04-06 01:40:42.170
plc_result: True
sendmessage: 20210406014042170,1,000082,000077
send message to PLC: 2021-04-06 01:40:42.250
time gap: 0:00:00.006591
2021-04-06 01:40:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:40:48: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db', '/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db']
2021-04-06 01:40:48: [13091] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_40.db
select_plcdb_filename: b
2021-04-06 01:40:48: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:40:48: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:40:48: select done
2021-04-06 01:40:48: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:40:48: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:40:48: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:40:48: count: 2 in httpPlcDataSender thread
2021-04-06 01:40:48: D+: 2 in httpPlcDataSender thread
2021-04-06 01:40:48: D-: 0 in httpPlcDataSender thread
2021-04-06 01:40:48: S+: 0 in httpPlcDataSender thread
2021-04-06 01:40:48: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.0', 'sensorAt': '2021-04-06 01:39:57.770'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:39:58.720'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:57.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:58.720'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:40:48', 'collectDate': '2021-04-06 01:39:58', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.0', 'sensorAt': '2021-04-06 01:39:57.770'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:39:58.720'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:39:57.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:39:58.720'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:40:48: send http
2021-04-06 01:40:48: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:40:48: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:40:48: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:40:49: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:40:49: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:40:49: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
2021-04-06 01:40:49: select done
2021-04-06 01:40:49: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:40:49: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:40:49: sendjson called, 2922 records in httpScaleDataSender thread
2021-04-06 01:40:49: count: 2922 in httpScaleDataSender thread
2021-04-06 01:40:49: D+: 2890 in httpScaleDataSender thread
2021-04-06 01:40:49: D-: 0 in httpScaleDataSender thread
2021-04-06 01:40:49: S+: 32 in httpScaleDataSender thread
2021-04-06 01:40:49: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:40:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:40:51: send http
2021-04-06 01:40:51: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:40:51: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:40:51: got 'update query' results  in httpScaleDataSender thread
2021-04-06 01:40:53: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:40:53: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:40:54: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:40:54: select done
2021-04-06 01:40:54: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:40:54: No Data remains in httpPlcDataSender thread
2021-04-06 01:40:54: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_30.db
2021-04-06 01:40:54: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
2021-04-06 01:40:54: current db filename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_40.db
select_plcdb_filename: b
2021-04-06 01:40:54: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:40:54: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:40:54: select done
2021-04-06 01:40:54: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:40:54: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:40:54: sendjson called, 18 records in httpPlcDataSender thread
2021-04-06 01:40:54: count: 18 in httpPlcDataSender thread
2021-04-06 01:40:54: D+: 18 in httpPlcDataSender thread
2021-04-06 01:40:54: D-: 0 in httpPlcDataSender thread
2021-04-06 01:40:54: S+: 0 in httpPlcDataSender thread
2021-04-06 01:40:54: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.3', 'sensorAt': '2021-04-06 01:40:26.250'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:40:26.730'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:40:27.960'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:40:28.630'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:40:29.450'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:40:29.930'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:40:30.910'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:40:31.400'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:40:34.340'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:40:35.990'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:40:36.730'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:40:37.900'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:40:38.390'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:40:38.900'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:40:39.540'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:40:41.140'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:40:41.680'}, {'value': '7.7', 'sensorAt': '2021-04-06 01:40:42.170'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:40:26.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:26.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:27.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:28.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:29.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:29.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:30.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:31.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:34.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:35.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:36.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:37.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:38.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:38.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:39.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:41.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:41.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:42.170'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:40:54', 'collectDate': '2021-04-06 01:40:42', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.3', 'sensorAt': '2021-04-06 01:40:26.250'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:40:26.730'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:40:27.960'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:40:28.630'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:40:29.450'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:40:29.930'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:40:30.910'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:40:31.400'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:40:34.340'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:40:35.990'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:40:36.730'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:40:37.900'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:40:38.390'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:40:38.900'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:40:39.540'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:40:41.140'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:40:41.680'}, {'value': '7.7', 'sensorAt': '2021-04-06 01:40:42.170'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:40:26.250'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:26.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:27.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:28.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:29.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:29.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:30.910'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:31.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:34.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:35.990'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:36.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:37.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:38.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:38.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:39.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:41.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:41.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:40:42.170'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:40:54: send http
2021-04-06 01:40:54: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:40:54: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:40:54: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:40:59: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:40:59: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:40:59: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:40:59: select done
2021-04-06 01:40:59: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:40:59: No Data remains in httpPlcDataSender thread
2021-04-06 01:40:59: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:41:00: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:41:00: current db filename:  in httpPlcDataSender thread
2021-04-06 01:41:00: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:41:01: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:41:01: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:41:01: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
2021-04-06 01:41:01: select done
2021-04-06 01:41:01: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:41:01: No Data remains in httpScaleDataSender thread
2021-04-06 01:41:01: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpScaleDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_30.db
2021-04-06 01:41:01: HTTPSThreadState.STATE_DONE in httpScaleDataSender thread
['/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db']
2021-04-06 01:41:01: current db filename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
2021-04-06 01:41:01: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:41:05.304
lastevent: 2021-04-06 01:41:05.292, last ten sensor data: [('2021-04-06 01:41:04.860', 'S+000002.6'), ('2021-04-06 01:41:05.020', 'D+000002.6'), ('2021-04-06 01:41:05.040', 'D+000002.4'), ('2021-04-06 01:41:05.060', 'D+000002.6'), ('2021-04-06 01:41:05.080', 'D+000002.4'), ('2021-04-06 01:41:05.110', 'D+000002.4'), ('2021-04-06 01:41:05.180', 'D+000005.2'), ('2021-04-06 01:41:05.200', 'D+000005.6'), ('2021-04-06 01:41:05.220', 'D+000005.6'), ('2021-04-06 01:41:05.240', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 5.2, 5.6, 5.6, 5.6]
np.array X: [[2.4]
 [2.4]
 [5.2]
 [5.6]
 [5.6]
 [5.6]]
revised_weight: 5.2
2021-04-06 01:41:05.240: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:41:05.240
plc_result: True
sendmessage: 20210406014105240,1,000056,000052
send message to PLC: 2021-04-06 01:41:05.325
time gap: 0:00:00.020492
2021-04-06 01:41:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:08.413
lastevent: 2021-04-06 01:41:08.407, last ten sensor data: [('2021-04-06 01:41:08.080', 'D+000002.4'), ('2021-04-06 01:41:08.110', 'D+000002.6'), ('2021-04-06 01:41:08.130', 'D+000002.6'), ('2021-04-06 01:41:08.150', 'D+000002.6'), ('2021-04-06 01:41:08.170', 'D+000002.6'), ('2021-04-06 01:41:08.340', 'D+000003.4'), ('2021-04-06 01:41:08.360', 'D+000003.0'), ('2021-04-06 01:41:08.380', 'D+000002.8'), ('2021-04-06 01:41:08.400', 'D+000003.2'), ('2021-04-06 01:41:08.420', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.4, 3.0, 2.8, 3.2, 3.4]
np.array X: [[2.6]
 [3.4]
 [3. ]
 [2.8]
 [3.2]
 [3.4]]
revised_weight: 3.2
2021-04-06 01:41:08.420: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:41:08.420
plc_result: True
sendmessage: 20210406014108420,1,000034,000032
send message to PLC: 2021-04-06 01:41:08.424
time gap: 0:00:00.011322
2021-04-06 01:41:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:09.468
lastevent: 2021-04-06 01:41:09.453, last ten sensor data: [('2021-04-06 01:41:09.080', 'D+000003.8'), ('2021-04-06 01:41:09.100', 'D+000003.6'), ('2021-04-06 01:41:09.120', 'D+000003.8'), ('2021-04-06 01:41:09.140', 'D+000003.8'), ('2021-04-06 01:41:09.160', 'D+000003.8'), ('2021-04-06 01:41:09.320', 'D+000005.4'), ('2021-04-06 01:41:09.340', 'D+000005.0'), ('2021-04-06 01:41:09.360', 'D+000005.8'), ('2021-04-06 01:41:09.380', 'D+000006.6'), ('2021-04-06 01:41:09.400', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.4, 5.0, 5.8, 6.6, 5.0]
np.array X: [[3.8]
 [5.4]
 [5. ]
 [5.8]
 [6.6]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:41:09.400: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:41:09.400
plc_result: True
sendmessage: 20210406014109400,1,000050,000051
send message to PLC: 2021-04-06 01:41:09.479
time gap: 0:00:00.011558
2021-04-06 01:41:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:09.862
lastevent: 2021-04-06 01:41:09.847, last ten sensor data: [('2021-04-06 01:41:09.570', 'D+000006.8'), ('2021-04-06 01:41:09.590', 'D+000007.0'), ('2021-04-06 01:41:09.610', 'D+000007.0'), ('2021-04-06 01:41:09.630', 'D+000007.0'), ('2021-04-06 01:41:09.650', 'D+000007.8'), ('2021-04-06 01:41:09.790', 'D+000008.0'), ('2021-04-06 01:41:09.810', 'D+000007.8'), ('2021-04-06 01:41:09.830', 'D+000007.2'), ('2021-04-06 01:41:09.850', 'D+000007.4'), ('2021-04-06 01:41:09.870', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.8, 8.0, 7.8, 7.2, 7.4, 8.0]
np.array X: [[7.8]
 [8. ]
 [7.8]
 [7.2]
 [7.4]
 [8. ]]
revised_weight: 7.6
2021-04-06 01:41:09.870: revising weight finished
revised_weight: 7.6 at 2021-04-06 01:41:09.870
plc_result: True
sendmessage: 20210406014109870,1,000080,000076
send message to PLC: 2021-04-06 01:41:09.874
time gap: 0:00:00.011448
2021-04-06 01:41:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:10.240
lastevent: 2021-04-06 01:41:10.232, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:41:09.890', 'D+000008.2'), ('2021-04-06 01:41:10.080', 'D+000008.4'), ('2021-04-06 01:41:10.100', 'D+000008.6'), ('2021-04-06 01:41:10.120', 'D+000008.2'), ('2021-04-06 01:41:10.140', 'D+000008.0'), ('2021-04-06 01:41:10.160', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 8.4, 8.6, 8.2, 8.0, 8.0]
np.array X: [[8.2]
 [8.4]
 [8.6]
 [8.2]
 [8. ]
 [8. ]]
revised_weight: 8.1
2021-04-06 01:41:10.160: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:41:10.160
plc_result: True
sendmessage: 20210406014110160,1,000080,000081
send message to PLC: 2021-04-06 01:41:10.251
time gap: 0:00:00.011324
2021-04-06 01:41:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:11.275
lastevent: 2021-04-06 01:41:11.262, last ten sensor data: [('2021-04-06 01:41:10.630', 'D+000008.0'), ('2021-04-06 01:41:10.810', 'D+000007.0'), ('2021-04-06 01:41:10.830', 'D+000006.8'), ('2021-04-06 01:41:10.850', 'D+000007.0'), ('2021-04-06 01:41:10.870', 'D+000006.6'), ('2021-04-06 01:41:10.890', 'D+000006.6'), ('2021-04-06 01:41:11.070', 'D+000007.4'), ('2021-04-06 01:41:11.090', 'D+000006.8'), ('2021-04-06 01:41:11.110', 'D+000006.4'), ('2021-04-06 01:41:11.130', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.6, 7.4, 6.8, 6.4, 6.4]
np.array X: [[6.6]
 [6.6]
 [7.4]
 [6.8]
 [6.4]
 [6.4]]
revised_weight: 6.6
2021-04-06 01:41:11.130: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:41:11.130
plc_result: True
sendmessage: 20210406014111130,1,000064,000066
send message to PLC: 2021-04-06 01:41:11.287
time gap: 0:00:00.011435
2021-04-06 01:41:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:11.666
lastevent: 2021-04-06 01:41:11.651, last ten sensor data: [('2021-04-06 01:41:11.310', 'D+000007.2'), ('2021-04-06 01:41:11.330', 'D+000007.4'), ('2021-04-06 01:41:11.350', 'D+000007.6'), ('2021-04-06 01:41:11.370', 'D+000007.6'), ('2021-04-06 01:41:11.390', 'D+000007.6'), ('2021-04-06 01:41:11.550', 'D+000007.4'), ('2021-04-06 01:41:11.570', 'D+000007.0'), ('2021-04-06 01:41:11.590', 'D+000007.0'), ('2021-04-06 01:41:11.610', 'D+000006.8'), ('2021-04-06 01:41:11.630', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.6, 7.4, 7.0, 7.0, 6.8, 6.8]
np.array X: [[7.6]
 [7.4]
 [7. ]
 [7. ]
 [6.8]
 [6.8]]
revised_weight: 7.2
2021-04-06 01:41:11.630: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:41:11.630
plc_result: True
sendmessage: 20210406014111630,1,000068,000072
send message to PLC: 2021-04-06 01:41:11.677
time gap: 0:00:00.011245
2021-04-06 01:41:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:12.106
lastevent: 2021-04-06 01:41:12.091, last ten sensor data: [0, 0, 0, ('2021-04-06 01:41:11.790', 'D+000006.6'), ('2021-04-06 01:41:11.810', 'D+000006.4'), ('2021-04-06 01:41:11.830', 'D+000006.4'), ('2021-04-06 01:41:12.010', 'D+000005.8'), ('2021-04-06 01:41:12.030', 'D+000005.2'), ('2021-04-06 01:41:12.050', 'D+000005.0'), ('2021-04-06 01:41:12.070', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.4, 5.8, 5.2, 5.0, 5.2]
np.array X: [[6.4]
 [6.4]
 [5.8]
 [5.2]
 [5. ]
 [5.2]]
revised_weight: 5.9
2021-04-06 01:41:12.070: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:41:12.070
plc_result: True
sendmessage: 20210406014112070,1,000052,000059
send message to PLC: 2021-04-06 01:41:12.117
time gap: 0:00:00.010991
2021-04-06 01:41:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:13.097
lastevent: 2021-04-06 01:41:13.081, last ten sensor data: [('2021-04-06 01:41:12.530', 'D+000005.0'), ('2021-04-06 01:41:12.550', 'D+000005.0'), ('2021-04-06 01:41:12.570', 'D+000005.0'), ('2021-04-06 01:41:12.730', 'D+000004.6'), ('2021-04-06 01:41:12.750', 'D+000004.6'), ('2021-04-06 01:41:12.850', 'D+000005.8'), ('2021-04-06 01:41:12.870', 'D+000006.0'), ('2021-04-06 01:41:12.890', 'D+000006.2'), ('2021-04-06 01:41:12.910', 'D+000006.6'), ('2021-04-06 01:41:12.930', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.8, 6.0, 6.2, 6.6, 6.6]
np.array X: [[4.6]
 [5.8]
 [6. ]
 [6.2]
 [6.6]
 [6.6]]
revised_weight: 5.9
2021-04-06 01:41:12.930: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:41:12.930
plc_result: True
sendmessage: 20210406014112930,1,000066,000059
send message to PLC: 2021-04-06 01:41:13.108
time gap: 0:00:00.011816
2021-04-06 01:41:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:15.091
lastevent: 2021-04-06 01:41:15.075, last ten sensor data: [('2021-04-06 01:41:14.660', 'D+000003.8'), ('2021-04-06 01:41:14.750', 'D+000004.2'), ('2021-04-06 01:41:14.770', 'D+000004.0'), ('2021-04-06 01:41:14.790', 'D+000004.2'), ('2021-04-06 01:41:14.810', 'D+000004.2'), ('2021-04-06 01:41:14.990', 'D+000005.2'), ('2021-04-06 01:41:15.010', 'D+000005.6'), ('2021-04-06 01:41:15.030', 'D+000005.0'), ('2021-04-06 01:41:15.050', 'D+000004.4'), ('2021-04-06 01:41:15.070', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.2, 5.6, 5.0, 4.4, 5.6]
np.array X: [[4.2]
 [5.2]
 [5.6]
 [5. ]
 [4.4]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:41:15.070: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:41:15.070
plc_result: True
sendmessage: 20210406014115070,1,000056,000054
send message to PLC: 2021-04-06 01:41:15.102
time gap: 0:00:00.011765
2021-04-06 01:41:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:16.378
lastevent: 2021-04-06 01:41:16.366, last ten sensor data: [('2021-04-06 01:41:15.780', 'D+000005.2'), ('2021-04-06 01:41:15.980', 'D+000004.4'), ('2021-04-06 01:41:16.000', 'D+000004.8'), ('2021-04-06 01:41:16.020', 'D+000005.0'), ('2021-04-06 01:41:16.040', 'D+000005.0'), ('2021-04-06 01:41:16.200', 'D+000005.6'), ('2021-04-06 01:41:16.220', 'D+000005.4'), ('2021-04-06 01:41:16.240', 'D+000006.0'), ('2021-04-06 01:41:16.260', 'D+000006.6'), ('2021-04-06 01:41:16.280', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.6, 5.4, 6.0, 6.6, 6.2]
np.array X: [[5. ]
 [5.6]
 [5.4]
 [6. ]
 [6.6]
 [6.2]]
revised_weight: 5.5
2021-04-06 01:41:16.280: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:41:16.280
plc_result: True
sendmessage: 20210406014116280,1,000062,000055
send message to PLC: 2021-04-06 01:41:16.394
time gap: 0:00:00.015819
2021-04-06 01:41:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:17.525
lastevent: 2021-04-06 01:41:17.511, last ten sensor data: [('2021-04-06 01:41:17.190', 'D+000005.8'), ('2021-04-06 01:41:17.210', 'D+000005.6'), ('2021-04-06 01:41:17.230', 'D+000005.6'), ('2021-04-06 01:41:17.250', 'D+000005.8'), ('2021-04-06 01:41:17.270', 'D+000006.0'), ('2021-04-06 01:41:17.410', 'D+000006.0'), ('2021-04-06 01:41:17.440', 'D+000005.6'), ('2021-04-06 01:41:17.460', 'D+000005.8'), ('2021-04-06 01:41:17.480', 'D+000005.8'), ('2021-04-06 01:41:17.500', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.0, 5.6, 5.8, 5.8, 5.6]
np.array X: [[6. ]
 [6. ]
 [5.6]
 [5.8]
 [5.8]
 [5.6]]
revised_weight: 5.8
2021-04-06 01:41:17.500: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:41:17.500
plc_result: True
sendmessage: 20210406014117500,1,000056,000058
send message to PLC: 2021-04-06 01:41:17.533
time gap: 0:00:00.008101
2021-04-06 01:41:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:17.958
lastevent: 2021-04-06 01:41:17.952, last ten sensor data: [0, ('2021-04-06 01:41:17.670', 'D+000006.6'), ('2021-04-06 01:41:17.690', 'D+000006.8'), ('2021-04-06 01:41:17.710', 'D+000007.0'), ('2021-04-06 01:41:17.730', 'D+000006.6'), ('2021-04-06 01:41:17.750', 'D+000006.4'), ('2021-04-06 01:41:17.900', 'D+000006.8'), ('2021-04-06 01:41:17.930', 'D+000006.8'), ('2021-04-06 01:41:17.950', 'D+000006.6'), ('2021-04-06 01:41:17.970', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.4, 6.8, 6.8, 6.6, 6.4]
np.array X: [[6.6]
 [6.4]
 [6.8]
 [6.8]
 [6.6]
 [6.4]]
revised_weight: 6.4
2021-04-06 01:41:17.970: revising weight finished
revised_weight: 6.4 at 2021-04-06 01:41:17.970
plc_result: True
sendmessage: 20210406014117970,1,000064,000064
send message to PLC: 2021-04-06 01:41:17.965
time gap: 0:00:00.006607
2021-04-06 01:41:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:18.380
lastevent: 2021-04-06 01:41:18.375, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:41:18.160', 'D+000007.2'), ('2021-04-06 01:41:18.180', 'D+000007.2'), ('2021-04-06 01:41:18.200', 'D+000007.0'), ('2021-04-06 01:41:18.220', 'D+000007.0'), ('2021-04-06 01:41:18.240', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 7.2, 7.2, 7.0, 7.0, 7.4]
np.array X: [[0. ]
 [7.2]
 [7.2]
 [7. ]
 [7. ]
 [7.4]]
revised_weight: 6.6
2021-04-06 01:41:18.240: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:41:18.240
plc_result: True
sendmessage: 20210406014118240,1,000074,000066
send message to PLC: 2021-04-06 01:41:18.386
time gap: 0:00:00.006255
2021-04-06 01:41:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:22.899
lastevent: 2021-04-06 01:41:22.885, last ten sensor data: [('2021-04-06 01:41:22.440', 'D+000002.0'), ('2021-04-06 01:41:22.460', 'D+000002.0'), ('2021-04-06 01:41:22.480', 'D+000002.0'), ('2021-04-06 01:41:22.500', 'D+000002.2'), ('2021-04-06 01:41:22.520', 'D+000002.2'), ('2021-04-06 01:41:22.700', 'D+000002.8'), ('2021-04-06 01:41:22.720', 'D+000003.2'), ('2021-04-06 01:41:22.740', 'D+000003.4'), ('2021-04-06 01:41:22.760', 'D+000003.2'), ('2021-04-06 01:41:22.780', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.8, 3.2, 3.4, 3.2, 2.8]
np.array X: [[2.2]
 [2.8]
 [3.2]
 [3.4]
 [3.2]
 [2.8]]
revised_weight: 2.8
2021-04-06 01:41:22.780: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:41:22.780
plc_result: True
sendmessage: 20210406014122780,1,000028,000028
send message to PLC: 2021-04-06 01:41:22.906
time gap: 0:00:00.006844
2021-04-06 01:41:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:24.951
lastevent: 2021-04-06 01:41:24.940, last ten sensor data: [('2021-04-06 01:41:24.490', 'D+000002.8'), ('2021-04-06 01:41:24.640', 'D+000004.2'), ('2021-04-06 01:41:24.660', 'D+000004.6'), ('2021-04-06 01:41:24.680', 'D+000005.0'), ('2021-04-06 01:41:24.700', 'D+000005.2'), ('2021-04-06 01:41:24.880', 'D+000006.0'), ('2021-04-06 01:41:24.900', 'D+000005.0'), ('2021-04-06 01:41:24.920', 'D+000005.0'), ('2021-04-06 01:41:24.940', 'D+000006.6'), ('2021-04-06 01:41:24.960', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 6.0, 5.0, 5.0, 6.6, 7.2]
np.array X: [[5.2]
 [6. ]
 [5. ]
 [5. ]
 [6.6]
 [7.2]]
revised_weight: 6.2
2021-04-06 01:41:24.960: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:41:24.960
plc_result: True
sendmessage: 20210406014124960,1,000072,000062
send message to PLC: 2021-04-06 01:41:24.974
time gap: 0:00:00.023295
2021-04-06 01:41:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:27.693
lastevent: 2021-04-06 01:41:27.673, last ten sensor data: [('2021-04-06 01:41:27.350', 'D+000003.2'), ('2021-04-06 01:41:27.370', 'D+000003.8'), ('2021-04-06 01:41:27.390', 'D+000003.8'), ('2021-04-06 01:41:27.410', 'D+000004.0'), ('2021-04-06 01:41:27.570', 'D+000004.6'), ('2021-04-06 01:41:27.590', 'D+000004.6'), ('2021-04-06 01:41:27.610', 'D+000004.4'), ('2021-04-06 01:41:27.630', 'D+000004.6'), ('2021-04-06 01:41:27.650', 'D+000004.8'), ('2021-04-06 01:41:27.680', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 4.4, 4.6, 4.8, 4.2]
np.array X: [[4.6]
 [4.6]
 [4.4]
 [4.6]
 [4.8]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:41:27.680: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:41:27.680
plc_result: True
sendmessage: 20210406014127680,1,000042,000043
send message to PLC: 2021-04-06 01:41:27.703
time gap: 0:00:00.009632
2021-04-06 01:41:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:28.363
lastevent: 2021-04-06 01:41:28.355, last ten sensor data: [('2021-04-06 01:41:27.980', 'D+000004.6'), ('2021-04-06 01:41:28.000', 'D+000004.6'), ('2021-04-06 01:41:28.020', 'D+000004.6'), ('2021-04-06 01:41:28.040', 'D+000004.8'), ('2021-04-06 01:41:28.180', 'D+000005.4'), ('2021-04-06 01:41:28.200', 'D+000005.4'), ('2021-04-06 01:41:28.220', 'D+000005.2'), ('2021-04-06 01:41:28.240', 'D+000005.2'), ('2021-04-06 01:41:28.260', 'D+000005.4'), ('2021-04-06 01:41:28.280', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.4, 5.2, 5.2, 5.4, 6.0]
np.array X: [[5.4]
 [5.4]
 [5.2]
 [5.2]
 [5.4]
 [6. ]]
revised_weight: 5.4
2021-04-06 01:41:28.280: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:41:28.280
plc_result: True
sendmessage: 20210406014128280,1,000060,000054
send message to PLC: 2021-04-06 01:41:28.370
time gap: 0:00:00.006773
2021-04-06 01:41:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:29.705
lastevent: 2021-04-06 01:41:29.697, last ten sensor data: [('2021-04-06 01:41:29.250', 'D+000004.6'), ('2021-04-06 01:41:29.410', 'D+000005.8'), ('2021-04-06 01:41:29.430', 'D+000006.0'), ('2021-04-06 01:41:29.450', 'D+000006.2'), ('2021-04-06 01:41:29.470', 'D+000006.2'), ('2021-04-06 01:41:29.490', 'D+000006.2'), ('2021-04-06 01:41:29.510', 'D+000006.2'), ('2021-04-06 01:41:29.670', 'D+000006.8'), ('2021-04-06 01:41:29.690', 'D+000006.8'), ('2021-04-06 01:41:29.710', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.2, 6.2, 6.8, 6.8, 6.6]
np.array X: [[6.2]
 [6.2]
 [6.2]
 [6.8]
 [6.8]
 [6.6]]
revised_weight: 6.6
2021-04-06 01:41:29.710: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:41:29.710
plc_result: True
sendmessage: 20210406014129710,1,000066,000066
send message to PLC: 2021-04-06 01:41:29.712
time gap: 0:00:00.006671
2021-04-06 01:41:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:30.442
lastevent: 2021-04-06 01:41:30.434, last ten sensor data: [('2021-04-06 01:41:29.990', 'D+000006.4'), ('2021-04-06 01:41:30.110', 'D+000006.6'), ('2021-04-06 01:41:30.150', 'D+000006.4'), ('2021-04-06 01:41:30.170', 'D+000006.0'), ('2021-04-06 01:41:30.190', 'D+000006.2'), ('2021-04-06 01:41:30.210', 'D+000006.6'), ('2021-04-06 01:41:30.230', 'D+000007.2'), ('2021-04-06 01:41:30.400', 'D+000006.4'), ('2021-04-06 01:41:30.420', 'D+000006.8'), ('2021-04-06 01:41:30.440', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.6, 7.2, 6.4, 6.8, 7.2]
np.array X: [[6.2]
 [6.6]
 [7.2]
 [6.4]
 [6.8]
 [7.2]]
revised_weight: 6.5
2021-04-06 01:41:30.440: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:41:30.440
plc_result: True
sendmessage: 20210406014130440,1,000072,000065
send message to PLC: 2021-04-06 01:41:30.449
time gap: 0:00:00.006899
2021-04-06 01:41:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:31.451
lastevent: 2021-04-06 01:41:31.450, last ten sensor data: [('2021-04-06 01:41:31.140', 'D+000006.0'), ('2021-04-06 01:41:31.160', 'D+000005.6'), ('2021-04-06 01:41:31.180', 'D+000005.4'), ('2021-04-06 01:41:31.200', 'D+000005.4'), ('2021-04-06 01:41:31.220', 'D+000005.6'), ('2021-04-06 01:41:31.360', 'D+000006.0'), ('2021-04-06 01:41:31.380', 'D+000005.8'), ('2021-04-06 01:41:31.400', 'D+000005.8'), ('2021-04-06 01:41:31.420', 'D+000006.0'), ('2021-04-06 01:41:31.440', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.0, 5.8, 5.8, 6.0, 6.0]
np.array X: [[5.6]
 [6. ]
 [5.8]
 [5.8]
 [6. ]
 [6. ]]
revised_weight: 5.8
2021-04-06 01:41:31.440: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:41:31.440
plc_result: True
sendmessage: 20210406014131440,1,000060,000058
send message to PLC: 2021-04-06 01:41:31.458
time gap: 0:00:00.006478
2021-04-06 01:41:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:33.091
lastevent: 2021-04-06 01:41:33.076, last ten sensor data: [('2021-04-06 01:41:32.410', 'D+000004.2'), ('2021-04-06 01:41:32.600', 'D+000004.4'), ('2021-04-06 01:41:32.620', 'D+000004.2'), ('2021-04-06 01:41:32.640', 'D+000004.2'), ('2021-04-06 01:41:32.840', 'D+000004.6'), ('2021-04-06 01:41:32.860', 'D+000005.0'), ('2021-04-06 01:41:32.880', 'D+000004.8'), ('2021-04-06 01:41:32.900', 'D+000004.4'), ('2021-04-06 01:41:32.920', 'D+000004.4'), ('2021-04-06 01:41:33.080', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.0, 4.8, 4.4, 4.4, 5.4]
np.array X: [[4.6]
 [5. ]
 [4.8]
 [4.4]
 [4.4]
 [5.4]]
revised_weight: 4.7
2021-04-06 01:41:33.080: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:41:33.080
plc_result: True
sendmessage: 20210406014133080,1,000054,000047
send message to PLC: 2021-04-06 01:41:33.098
time gap: 0:00:00.006451
2021-04-06 01:41:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:34.046
lastevent: 2021-04-06 01:41:34.031, last ten sensor data: [('2021-04-06 01:41:33.550', 'D+000004.6'), ('2021-04-06 01:41:33.580', 'D+000004.4'), ('2021-04-06 01:41:33.600', 'D+000004.4'), ('2021-04-06 01:41:33.620', 'D+000004.6'), ('2021-04-06 01:41:33.640', 'D+000004.8'), ('2021-04-06 01:41:33.810', 'D+000008.8'), ('2021-04-06 01:41:33.830', 'D+000008.8'), ('2021-04-06 01:41:33.850', 'D+000009.0'), ('2021-04-06 01:41:33.870', 'D+000009.4'), ('2021-04-06 01:41:33.890', 'D+000010.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 8.8, 8.8, 9.0, 9.4, 10.2]
np.array X: [[ 4.8]
 [ 8.8]
 [ 8.8]
 [ 9. ]
 [ 9.4]
 [10.2]]
revised_weight: 10.3
2021-04-06 01:41:33.890: revising weight finished
revised_weight: 10.3 at 2021-04-06 01:41:33.890
plc_result: True
sendmessage: 20210406014133890,1,000102,000103
send message to PLC: 2021-04-06 01:41:34.061
time gap: 0:00:00.015034
2021-04-06 01:41:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:35.114
lastevent: 2021-04-06 01:41:35.107, last ten sensor data: [('2021-04-06 01:41:34.840', 'D+000004.4'), ('2021-04-06 01:41:34.860', 'D+000004.4'), ('2021-04-06 01:41:34.880', 'D+000004.4'), ('2021-04-06 01:41:34.910', 'D+000004.4'), ('2021-04-06 01:41:34.960', 'D+000004.4'), ('2021-04-06 01:41:35.020', 'D+000004.8'), ('2021-04-06 01:41:35.050', 'D+000004.8'), ('2021-04-06 01:41:35.070', 'D+000004.8'), ('2021-04-06 01:41:35.090', 'D+000004.6'), ('2021-04-06 01:41:35.110', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.8, 4.8, 4.8, 4.6, 4.6]
np.array X: [[4.4]
 [4.8]
 [4.8]
 [4.8]
 [4.6]
 [4.6]]
revised_weight: 4.7
2021-04-06 01:41:35.110: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:41:35.110
plc_result: True
sendmessage: 20210406014135110,1,000046,000047
send message to PLC: 2021-04-06 01:41:35.121
time gap: 0:00:00.007043
2021-04-06 01:41:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:35.747
lastevent: 2021-04-06 01:41:35.732, last ten sensor data: [('2021-04-06 01:41:35.290', 'D+000004.4'), ('2021-04-06 01:41:35.310', 'D+000004.4'), ('2021-04-06 01:41:35.330', 'D+000004.6'), ('2021-04-06 01:41:35.350', 'D+000004.8'), ('2021-04-06 01:41:35.530', 'D+000005.8'), ('2021-04-06 01:41:35.550', 'D+000005.8'), ('2021-04-06 01:41:35.570', 'D+000006.0'), ('2021-04-06 01:41:35.590', 'D+000006.4'), ('2021-04-06 01:41:35.610', 'D+000006.4'), ('2021-04-06 01:41:35.710', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.8, 6.0, 6.4, 6.4, 5.8]
np.array X: [[5.8]
 [5.8]
 [6. ]
 [6.4]
 [6.4]
 [5.8]]
revised_weight: 5.8
2021-04-06 01:41:35.710: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:41:35.710
plc_result: True
sendmessage: 20210406014135710,1,000058,000058
send message to PLC: 2021-04-06 01:41:35.760
time gap: 0:00:00.012548
2021-04-06 01:41:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:37.345
lastevent: 2021-04-06 01:41:37.323, last ten sensor data: [('2021-04-06 01:41:36.810', 'D+000004.0'), ('2021-04-06 01:41:36.990', 'D+000005.0'), ('2021-04-06 01:41:37.010', 'D+000005.0'), ('2021-04-06 01:41:37.030', 'D+000005.4'), ('2021-04-06 01:41:37.050', 'D+000005.2'), ('2021-04-06 01:41:37.070', 'D+000005.4'), ('2021-04-06 01:41:37.240', 'D+000006.6'), ('2021-04-06 01:41:37.260', 'D+000005.6'), ('2021-04-06 01:41:37.280', 'D+000005.6'), ('2021-04-06 01:41:37.300', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.4, 6.6, 5.6, 5.6, 6.6]
np.array X: [[5.2]
 [5.4]
 [6.6]
 [5.6]
 [5.6]
 [6.6]]
revised_weight: 6.3
2021-04-06 01:41:37.300: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:41:37.300
plc_result: True
sendmessage: 20210406014137300,1,000066,000063
send message to PLC: 2021-04-06 01:41:37.358
time gap: 0:00:00.012849
2021-04-06 01:41:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:38.658
lastevent: 2021-04-06 01:41:38.656, last ten sensor data: [('2021-04-06 01:41:38.220', 'D+000003.8'), ('2021-04-06 01:41:38.240', 'D+000003.8'), ('2021-04-06 01:41:38.260', 'D+000003.6'), ('2021-04-06 01:41:38.280', 'D+000003.8'), ('2021-04-06 01:41:38.300', 'D+000004.0'), ('2021-04-06 01:41:38.460', 'D+000003.8'), ('2021-04-06 01:41:38.480', 'D+000003.8'), ('2021-04-06 01:41:38.500', 'D+000003.8'), ('2021-04-06 01:41:38.520', 'D+000003.8'), ('2021-04-06 01:41:38.540', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.8, 3.8, 3.8, 3.8, 3.8]
np.array X: [[4. ]
 [3.8]
 [3.8]
 [3.8]
 [3.8]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:41:38.540: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:41:38.540
plc_result: True
sendmessage: 20210406014138540,1,000038,000038
send message to PLC: 2021-04-06 01:41:38.665
time gap: 0:00:00.006993
2021-04-06 01:41:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:41:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:39.747
lastevent: 2021-04-06 01:41:39.741, last ten sensor data: [('2021-04-06 01:41:39.310', 'D+000003.2'), ('2021-04-06 01:41:39.330', 'D+000003.4'), ('2021-04-06 01:41:39.350', 'D+000003.6'), ('2021-04-06 01:41:39.370', 'D+000003.6'), ('2021-04-06 01:41:39.390', 'D+000003.6'), ('2021-04-06 01:41:39.560', 'D+000004.4'), ('2021-04-06 01:41:39.580', 'D+000004.2'), ('2021-04-06 01:41:39.600', 'D+000004.4'), ('2021-04-06 01:41:39.620', 'D+000004.8'), ('2021-04-06 01:41:39.640', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.4, 4.2, 4.4, 4.8, 4.4]
np.array X: [[3.6]
 [4.4]
 [4.2]
 [4.4]
 [4.8]
 [4.4]]
revised_weight: 4.3
2021-04-06 01:41:39.640: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:41:39.640
plc_result: True
sendmessage: 20210406014139640,1,000044,000043
send message to PLC: 2021-04-06 01:41:39.759
time gap: 0:00:00.011754
2021-04-06 01:41:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:40.751
lastevent: 2021-04-06 01:41:40.750, last ten sensor data: [('2021-04-06 01:41:40.100', 'D+000005.0'), ('2021-04-06 01:41:40.120', 'D+000004.8'), ('2021-04-06 01:41:40.290', 'D+000004.6'), ('2021-04-06 01:41:40.310', 'D+000004.6'), ('2021-04-06 01:41:40.330', 'D+000004.4'), ('2021-04-06 01:41:40.350', 'D+000004.4'), ('2021-04-06 01:41:40.540', 'D+000008.0'), ('2021-04-06 01:41:40.560', 'D+000008.0'), ('2021-04-06 01:41:40.580', 'D+000007.8'), ('2021-04-06 01:41:40.600', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 8.0, 8.0, 7.8, 6.8]
np.array X: [[4.4]
 [4.4]
 [8. ]
 [8. ]
 [7.8]
 [6.8]]
revised_weight: 7.4
2021-04-06 01:41:40.600: revising weight finished
revised_weight: 7.4 at 2021-04-06 01:41:40.600
plc_result: True
sendmessage: 20210406014140600,1,000068,000074
send message to PLC: 2021-04-06 01:41:40.762
time gap: 0:00:00.011667
2021-04-06 01:41:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:42.329
lastevent: 2021-04-06 01:41:42.319, last ten sensor data: [('2021-04-06 01:41:41.780', 'D+000004.6'), ('2021-04-06 01:41:41.920', 'D+000004.4'), ('2021-04-06 01:41:41.950', 'D+000005.0'), ('2021-04-06 01:41:41.970', 'D+000005.4'), ('2021-04-06 01:41:41.990', 'D+000005.6'), ('2021-04-06 01:41:42.010', 'D+000005.8'), ('2021-04-06 01:41:42.180', 'D+000011.0'), ('2021-04-06 01:41:42.200', 'D+000011.8'), ('2021-04-06 01:41:42.220', 'D+000013.6'), ('2021-04-06 01:41:42.240', 'D+000013.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.8, 11.0, 11.8, 13.6, 13.6]
np.array X: [[ 5.6]
 [ 5.8]
 [11. ]
 [11.8]
 [13.6]
 [13.6]]
revised_weight: 11.7
2021-04-06 01:41:42.240: revising weight finished
revised_weight: 11.7 at 2021-04-06 01:41:42.240
plc_result: True
sendmessage: 20210406014142240,1,000136,000117
send message to PLC: 2021-04-06 01:41:42.345
time gap: 0:00:00.016021
2021-04-06 01:41:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:42.940
lastevent: 2021-04-06 01:41:42.930, last ten sensor data: [('2021-04-06 01:41:42.430', 'D+000011.6'), ('2021-04-06 01:41:42.450', 'D+000012.2'), ('2021-04-06 01:41:42.470', 'D+000012.0'), ('2021-04-06 01:41:42.490', 'D+000011.6'), ('2021-04-06 01:41:42.670', 'D+000013.4'), ('2021-04-06 01:41:42.690', 'D+000013.6'), ('2021-04-06 01:41:42.710', 'D+000014.0'), ('2021-04-06 01:41:42.730', 'D+000013.2'), ('2021-04-06 01:41:42.910', 'D+000010.6'), ('2021-04-06 01:41:42.930', 'D+000009.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [13.4, 13.6, 14.0, 13.2, 10.6, 9.4]
np.array X: [[13.4]
 [13.6]
 [14. ]
 [13.2]
 [10.6]
 [ 9.4]]
revised_weight: 11.3
2021-04-06 01:41:42.930: revising weight finished
revised_weight: 11.3 at 2021-04-06 01:41:42.930
plc_result: True
sendmessage: 20210406014142930,1,000094,000113
send message to PLC: 2021-04-06 01:41:42.947
time gap: 0:00:00.006957
2021-04-06 01:41:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:43.662
lastevent: 2021-04-06 01:41:43.652, last ten sensor data: [('2021-04-06 01:41:43.340', 'D+000009.2'), ('2021-04-06 01:41:43.360', 'D+000009.0'), ('2021-04-06 01:41:43.380', 'D+000008.4'), ('2021-04-06 01:41:43.400', 'D+000008.0'), ('2021-04-06 01:41:43.540', 'D+000008.6'), ('2021-04-06 01:41:43.560', 'D+000008.8'), ('2021-04-06 01:41:43.580', 'D+000008.4'), ('2021-04-06 01:41:43.600', 'D+000007.8'), ('2021-04-06 01:41:43.620', 'D+000007.6'), ('2021-04-06 01:41:43.640', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.6, 8.8, 8.4, 7.8, 7.6, 8.0]
np.array X: [[8.6]
 [8.8]
 [8.4]
 [7.8]
 [7.6]
 [8. ]]
revised_weight: 8.4
2021-04-06 01:41:43.640: revising weight finished
revised_weight: 8.4 at 2021-04-06 01:41:43.640
plc_result: True
sendmessage: 20210406014143640,1,000080,000084
send message to PLC: 2021-04-06 01:41:43.675
time gap: 0:00:00.012649
2021-04-06 01:41:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:44.937
lastevent: 2021-04-06 01:41:44.927, last ten sensor data: [('2021-04-06 01:41:44.550', 'D+000003.8'), ('2021-04-06 01:41:44.570', 'D+000004.0'), ('2021-04-06 01:41:44.590', 'D+000004.2'), ('2021-04-06 01:41:44.610', 'D+000004.4'), ('2021-04-06 01:41:44.770', 'D+000005.4'), ('2021-04-06 01:41:44.790', 'D+000005.4'), ('2021-04-06 01:41:44.810', 'D+000005.4'), ('2021-04-06 01:41:44.830', 'D+000005.6'), ('2021-04-06 01:41:44.850', 'D+000005.8'), ('2021-04-06 01:41:44.870', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.4, 5.4, 5.6, 5.8, 5.6]
np.array X: [[5.4]
 [5.4]
 [5.4]
 [5.6]
 [5.8]
 [5.6]]
revised_weight: 5.6
2021-04-06 01:41:44.870: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:41:44.870
plc_result: True
sendmessage: 20210406014144870,1,000056,000056
send message to PLC: 2021-04-06 01:41:44.950
time gap: 0:00:00.012835
2021-04-06 01:41:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:46.918
lastevent: 2021-04-06 01:41:46.914, last ten sensor data: [('2021-04-06 01:41:46.300', 'D+000002.8'), ('2021-04-06 01:41:46.320', 'D+000002.8'), ('2021-04-06 01:41:46.500', 'D+000002.4'), ('2021-04-06 01:41:46.520', 'D+000002.4'), ('2021-04-06 01:41:46.540', 'D+000002.4'), ('2021-04-06 01:41:46.560', 'D+000002.4'), ('2021-04-06 01:41:46.720', 'D+000002.2'), ('2021-04-06 01:41:46.750', 'D+000002.4'), ('2021-04-06 01:41:46.770', 'D+000002.6'), ('2021-04-06 01:41:46.790', 'D+000002.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.4, 2.2, 2.4, 2.6, 2.6]
np.array X: [[2.4]
 [2.4]
 [2.2]
 [2.4]
 [2.6]
 [2.6]]
revised_weight: 2.5
2021-04-06 01:41:46.790: revising weight finished
revised_weight: 2.5 at 2021-04-06 01:41:46.790
plc_result: True
sendmessage: 20210406014146790,1,000026,000025
send message to PLC: 2021-04-06 01:41:46.931
time gap: 0:00:00.012979
2021-04-06 01:41:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:48.323
lastevent: 2021-04-06 01:41:48.317, last ten sensor data: [('2021-04-06 01:41:47.950', 'D+000002.8'), ('2021-04-06 01:41:47.970', 'D+000002.8'), ('2021-04-06 01:41:47.990', 'D+000002.8'), ('2021-04-06 01:41:48.010', 'D+000002.6'), ('2021-04-06 01:41:48.030', 'D+000002.8'), ('2021-04-06 01:41:48.190', 'D+000003.0'), ('2021-04-06 01:41:48.210', 'D+000003.0'), ('2021-04-06 01:41:48.230', 'D+000003.0'), ('2021-04-06 01:41:48.250', 'D+000003.0'), ('2021-04-06 01:41:48.270', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.0, 3.0, 3.0, 3.0, 3.0]
np.array X: [[2.8]
 [3. ]
 [3. ]
 [3. ]
 [3. ]
 [3. ]]
revised_weight: 3.0
2021-04-06 01:41:48.270: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:41:48.270
plc_result: True
sendmessage: 20210406014148270,1,000030,000030
send message to PLC: 2021-04-06 01:41:48.335
time gap: 0:00:00.012758
2021-04-06 01:41:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:49.639
lastevent: 2021-04-06 01:41:49.626, last ten sensor data: [('2021-04-06 01:41:48.990', 'D+000002.4'), ('2021-04-06 01:41:49.170', 'D+000002.4'), ('2021-04-06 01:41:49.190', 'D+000002.6'), ('2021-04-06 01:41:49.210', 'D+000002.6'), ('2021-04-06 01:41:49.230', 'D+000002.6'), ('2021-04-06 01:41:49.250', 'D+000002.6'), ('2021-04-06 01:41:49.420', 'D+000002.6'), ('2021-04-06 01:41:49.440', 'D+000002.6'), ('2021-04-06 01:41:49.460', 'D+000002.8'), ('2021-04-06 01:41:49.480', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 2.6, 2.6, 2.8, 3.0]
np.array X: [[2.6]
 [2.6]
 [2.6]
 [2.6]
 [2.8]
 [3. ]]
revised_weight: 2.9
2021-04-06 01:41:49.480: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:41:49.480
plc_result: True
sendmessage: 20210406014149480,1,000030,000029
send message to PLC: 2021-04-06 01:41:49.650
time gap: 0:00:00.011207
2021-04-06 01:41:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:50.266
lastevent: 2021-04-06 01:41:50.256, last ten sensor data: [('2021-04-06 01:41:49.900', 'D+000003.6'), ('2021-04-06 01:41:49.920', 'D+000004.0'), ('2021-04-06 01:41:49.940', 'D+000004.0'), ('2021-04-06 01:41:49.960', 'D+000004.0'), ('2021-04-06 01:41:49.980', 'D+000003.8'), ('2021-04-06 01:41:50.160', 'D+000003.8'), ('2021-04-06 01:41:50.180', 'D+000003.8'), ('2021-04-06 01:41:50.200', 'D+000004.0'), ('2021-04-06 01:41:50.220', 'D+000003.8'), ('2021-04-06 01:41:50.240', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 3.8, 4.0, 3.8, 3.2]
np.array X: [[3.8]
 [3.8]
 [3.8]
 [4. ]
 [3.8]
 [3.2]]
revised_weight: 3.2
2021-04-06 01:41:50.240: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:41:50.240
plc_result: True
sendmessage: 20210406014150240,1,000032,000032
send message to PLC: 2021-04-06 01:41:50.280
time gap: 0:00:00.014168
2021-04-06 01:41:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:51.549
lastevent: 2021-04-06 01:41:51.541, last ten sensor data: [('2021-04-06 01:41:50.950', 'D+000003.0'), ('2021-04-06 01:41:51.130', 'D+000003.0'), ('2021-04-06 01:41:51.150', 'D+000003.2'), ('2021-04-06 01:41:51.170', 'D+000003.4'), ('2021-04-06 01:41:51.190', 'D+000003.2'), ('2021-04-06 01:41:51.370', 'D+000003.8'), ('2021-04-06 01:41:51.390', 'D+000003.6'), ('2021-04-06 01:41:51.410', 'D+000003.6'), ('2021-04-06 01:41:51.430', 'D+000003.6'), ('2021-04-06 01:41:51.450', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.8, 3.6, 3.6, 3.6, 3.8]
np.array X: [[3.2]
 [3.8]
 [3.6]
 [3.6]
 [3.6]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:41:51.450: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:41:51.450
plc_result: True
sendmessage: 20210406014151450,1,000038,000038
send message to PLC: 2021-04-06 01:41:51.561
time gap: 0:00:00.011836
2021-04-06 01:41:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:52.069
lastevent: 2021-04-06 01:41:52.062, last ten sensor data: [('2021-04-06 01:41:51.700', 'D+000003.4'), ('2021-04-06 01:41:51.720', 'D+000003.4'), ('2021-04-06 01:41:51.740', 'D+000003.6'), ('2021-04-06 01:41:51.760', 'D+000003.6'), ('2021-04-06 01:41:51.780', 'D+000003.8'), ('2021-04-06 01:41:51.800', 'D+000005.2'), ('2021-04-06 01:41:51.940', 'D+000003.2'), ('2021-04-06 01:41:51.980', 'D+000004.2'), ('2021-04-06 01:41:52.000', 'D+000003.8'), ('2021-04-06 01:41:52.020', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.2, 3.2, 4.2, 3.8, 3.8]
np.array X: [[3.8]
 [5.2]
 [3.2]
 [4.2]
 [3.8]
 [3.8]]
revised_weight: 3.4
2021-04-06 01:41:52.020: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:41:52.020
plc_result: True
sendmessage: 20210406014152020,1,000038,000034
send message to PLC: 2021-04-06 01:41:52.080
time gap: 0:00:00.011488
2021-04-06 01:41:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:52.903
lastevent: 2021-04-06 01:41:52.893, last ten sensor data: [('2021-04-06 01:41:52.260', 'D+000003.6'), ('2021-04-06 01:41:52.280', 'D+000003.8'), ('2021-04-06 01:41:52.460', 'D+000003.4'), ('2021-04-06 01:41:52.480', 'D+000003.4'), ('2021-04-06 01:41:52.500', 'D+000003.4'), ('2021-04-06 01:41:52.690', 'D+000003.8'), ('2021-04-06 01:41:52.710', 'D+000003.6'), ('2021-04-06 01:41:52.730', 'D+000003.6'), ('2021-04-06 01:41:52.750', 'D+000003.8'), ('2021-04-06 01:41:52.770', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.8, 3.6, 3.6, 3.8, 4.0]
np.array X: [[3.4]
 [3.8]
 [3.6]
 [3.6]
 [3.8]
 [4. ]]
revised_weight: 3.9
2021-04-06 01:41:52.770: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:41:52.770
plc_result: True
sendmessage: 20210406014152770,1,000040,000039
send message to PLC: 2021-04-06 01:41:52.914
time gap: 0:00:00.011177
2021-04-06 01:41:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:53.625
lastevent: 2021-04-06 01:41:53.613, last ten sensor data: [('2021-04-06 01:41:53.180', 'D+000003.4'), ('2021-04-06 01:41:53.200', 'D+000003.4'), ('2021-04-06 01:41:53.220', 'D+000003.4'), ('2021-04-06 01:41:53.240', 'D+000003.4'), ('2021-04-06 01:41:53.260', 'D+000003.2'), ('2021-04-06 01:41:53.380', 'D+000003.8'), ('2021-04-06 01:41:53.400', 'D+000003.8'), ('2021-04-06 01:41:53.420', 'D+000003.8'), ('2021-04-06 01:41:53.440', 'D+000003.8'), ('2021-04-06 01:41:53.460', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.8, 3.8, 3.8, 3.8, 3.8]
np.array X: [[3.2]
 [3.8]
 [3.8]
 [3.8]
 [3.8]
 [3.8]]
revised_weight: 3.9
2021-04-06 01:41:53.460: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:41:53.460
plc_result: True
sendmessage: 20210406014153460,1,000038,000039
send message to PLC: 2021-04-06 01:41:53.636
time gap: 0:00:00.011413
2021-04-06 01:41:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:54.526
lastevent: 2021-04-06 01:41:54.517, last ten sensor data: [('2021-04-06 01:41:53.930', 'D+000003.4'), ('2021-04-06 01:41:53.950', 'D+000003.6'), ('2021-04-06 01:41:54.140', 'D+000003.8'), ('2021-04-06 01:41:54.160', 'D+000004.0'), ('2021-04-06 01:41:54.180', 'D+000004.0'), ('2021-04-06 01:41:54.360', 'D+000004.2'), ('2021-04-06 01:41:54.380', 'D+000004.4'), ('2021-04-06 01:41:54.400', 'D+000004.2'), ('2021-04-06 01:41:54.420', 'D+000003.8'), ('2021-04-06 01:41:54.440', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 4.4, 4.2, 3.8, 4.0]
np.array X: [[4. ]
 [4.2]
 [4.4]
 [4.2]
 [3.8]
 [4. ]]
revised_weight: 4.1
2021-04-06 01:41:54.440: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:41:54.440
plc_result: True
sendmessage: 20210406014154440,1,000040,000041
send message to PLC: 2021-04-06 01:41:54.537
time gap: 0:00:00.011159
2021-04-06 01:41:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:55.677
lastevent: 2021-04-06 01:41:55.666, last ten sensor data: [('2021-04-06 01:41:55.350', 'D+000003.8'), ('2021-04-06 01:41:55.370', 'D+000004.0'), ('2021-04-06 01:41:55.390', 'D+000003.8'), ('2021-04-06 01:41:55.410', 'D+000003.8'), ('2021-04-06 01:41:55.430', 'D+000003.6'), ('2021-04-06 01:41:55.570', 'D+000003.6'), ('2021-04-06 01:41:55.610', 'D+000003.4'), ('2021-04-06 01:41:55.630', 'D+000003.6'), ('2021-04-06 01:41:55.650', 'D+000003.6'), ('2021-04-06 01:41:55.670', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.4, 3.6, 3.6, 3.6]
np.array X: [[3.6]
 [3.6]
 [3.4]
 [3.6]
 [3.6]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:41:55.670: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:41:55.670
plc_result: True
sendmessage: 20210406014155670,1,000036,000036
send message to PLC: 2021-04-06 01:41:55.688
time gap: 0:00:00.011298
2021-04-06 01:41:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:57.046
lastevent: 2021-04-06 01:41:57.037, last ten sensor data: [('2021-04-06 01:41:56.570', 'D+000003.0'), ('2021-04-06 01:41:56.590', 'D+000002.8'), ('2021-04-06 01:41:56.610', 'D+000002.6'), ('2021-04-06 01:41:56.630', 'D+000002.8'), ('2021-04-06 01:41:56.800', 'D+000003.2'), ('2021-04-06 01:41:56.820', 'D+000003.2'), ('2021-04-06 01:41:56.840', 'D+000003.2'), ('2021-04-06 01:41:56.860', 'D+000003.0'), ('2021-04-06 01:41:56.880', 'D+000003.4'), ('2021-04-06 01:41:56.900', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.2, 3.0, 3.4, 4.0]
np.array X: [[3.2]
 [3.2]
 [3.2]
 [3. ]
 [3.4]
 [4. ]]
revised_weight: 3.7
2021-04-06 01:41:56.900: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:41:56.900
plc_result: True
sendmessage: 20210406014156900,1,000040,000037
send message to PLC: 2021-04-06 01:41:57.058
time gap: 0:00:00.012500
2021-04-06 01:41:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:57.874
lastevent: 2021-04-06 01:41:57.867, last ten sensor data: [('2021-04-06 01:41:57.340', 'D+000003.0'), ('2021-04-06 01:41:57.360', 'D+000002.8'), ('2021-04-06 01:41:57.550', 'D+000003.0'), ('2021-04-06 01:41:57.570', 'D+000003.0'), ('2021-04-06 01:41:57.590', 'D+000003.2'), ('2021-04-06 01:41:57.610', 'D+000003.2'), ('2021-04-06 01:41:57.780', 'D+000003.6'), ('2021-04-06 01:41:57.800', 'D+000003.8'), ('2021-04-06 01:41:57.820', 'D+000003.6'), ('2021-04-06 01:41:57.840', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.6, 3.8, 3.6, 3.4]
np.array X: [[3.2]
 [3.2]
 [3.6]
 [3.8]
 [3.6]
 [3.4]]
revised_weight: 3.3
2021-04-06 01:41:57.840: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:41:57.840
plc_result: True
sendmessage: 20210406014157840,1,000034,000033
send message to PLC: 2021-04-06 01:41:57.886
time gap: 0:00:00.011684
2021-04-06 01:41:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:41:58.736
lastevent: 2021-04-06 01:41:58.721, last ten sensor data: [('2021-04-06 01:41:58.290', 'D+000002.8'), ('2021-04-06 01:41:58.310', 'D+000002.8'), ('2021-04-06 01:41:58.330', 'D+000003.0'), ('2021-04-06 01:41:58.350', 'D+000003.0'), ('2021-04-06 01:41:58.510', 'D+000003.4'), ('2021-04-06 01:41:58.530', 'D+000003.4'), ('2021-04-06 01:41:58.550', 'D+000003.4'), ('2021-04-06 01:41:58.570', 'D+000003.2'), ('2021-04-06 01:41:58.590', 'D+000003.4'), ('2021-04-06 01:41:58.610', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.4, 3.4, 3.2, 3.4, 3.6]
np.array X: [[3.4]
 [3.4]
 [3.4]
 [3.2]
 [3.4]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:41:58.610: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:41:58.610
plc_result: True
sendmessage: 20210406014158610,1,000036,000036
send message to PLC: 2021-04-06 01:41:58.748
time gap: 0:00:00.012005
2021-04-06 01:41:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:00: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db']
2021-04-06 01:42:00: [13092] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_40.db
select_plcdb_filename: b
2021-04-06 01:42:00: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:00: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:00: select done
2021-04-06 01:42:00: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:42:00: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:42:00: sendjson called, 46 records in httpPlcDataSender thread
2021-04-06 01:42:00: count: 46 in httpPlcDataSender thread
2021-04-06 01:42:00: D+: 46 in httpPlcDataSender thread
2021-04-06 01:42:00: D-: 0 in httpPlcDataSender thread
2021-04-06 01:42:00: S+: 0 in httpPlcDataSender thread
2021-04-06 01:42:00: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.2', 'sensorAt': '2021-04-06 01:41:05.240'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:41:08.420'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:41:09.400'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:41:09.870'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:41:10.160'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:41:11.130'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:41:11.630'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:41:12.070'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:41:12.930'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:41:15.070'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:41:16.280'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:41:17.500'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:41:17.970'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:41:18.240'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:41:22.780'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:41:24.960'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:41:27.680'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:41:28.280'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:41:29.710'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:41:30.440'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:41:31.440'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:41:33.080'}, {'value': '10.3', 'sensorAt': '2021-04-06 01:41:33.890'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:41:35.110'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:41:35.710'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:41:37.300'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:41:38.540'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:41:39.640'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:41:40.600'}, {'value': '11.7', 'sensorAt': '2021-04-06 01:41:42.240'}, {'value': '11.3', 'sensorAt': '2021-04-06 01:41:42.930'}, {'value': '8.4', 'sensorAt': '2021-04-06 01:41:43.640'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:41:44.870'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:41:46.790'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:41:48.270'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:41:49.480'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:41:50.240'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:41:51.450'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:41:52.020'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:41:52.770'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:41:53.460'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:41:54.440'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:41:55.670'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:41:56.900'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:41:57.840'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:41:58.610'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:41:05.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:08.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:09.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:09.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:10.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:11.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:11.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:12.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:12.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:15.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:16.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:17.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:17.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:18.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:22.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:24.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:27.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:28.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:29.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:30.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:31.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:33.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:33.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:35.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:35.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:37.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:38.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:39.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:40.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:42.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:42.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:43.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:44.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:46.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:48.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:49.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:50.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:51.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:52.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:52.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:53.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:54.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:55.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:56.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:57.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:58.610'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:42:00', 'collectDate': '2021-04-06 01:41:58', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.2', 'sensorAt': '2021-04-06 01:41:05.240'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:41:08.420'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:41:09.400'}, {'value': '7.6', 'sensorAt': '2021-04-06 01:41:09.870'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:41:10.160'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:41:11.130'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:41:11.630'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:41:12.070'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:41:12.930'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:41:15.070'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:41:16.280'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:41:17.500'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:41:17.970'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:41:18.240'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:41:22.780'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:41:24.960'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:41:27.680'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:41:28.280'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:41:29.710'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:41:30.440'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:41:31.440'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:41:33.080'}, {'value': '10.3', 'sensorAt': '2021-04-06 01:41:33.890'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:41:35.110'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:41:35.710'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:41:37.300'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:41:38.540'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:41:39.640'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:41:40.600'}, {'value': '11.7', 'sensorAt': '2021-04-06 01:41:42.240'}, {'value': '11.3', 'sensorAt': '2021-04-06 01:41:42.930'}, {'value': '8.4', 'sensorAt': '2021-04-06 01:41:43.640'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:41:44.870'}, {'value': '2.5', 'sensorAt': '2021-04-06 01:41:46.790'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:41:48.270'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:41:49.480'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:41:50.240'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:41:51.450'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:41:52.020'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:41:52.770'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:41:53.460'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:41:54.440'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:41:55.670'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:41:56.900'}, {'value': '3.3', 'sensorAt': '2021-04-06 01:41:57.840'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:41:58.610'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:41:05.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:08.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:09.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:09.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:10.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:11.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:11.630'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:12.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:12.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:15.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:16.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:17.500'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:17.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:18.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:22.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:24.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:27.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:28.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:29.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:30.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:31.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:33.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:33.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:35.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:35.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:37.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:38.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:39.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:40.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:42.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:42.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:43.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:44.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:46.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:48.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:49.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:50.240'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:51.450'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:52.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:52.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:53.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:54.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:55.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:56.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:57.840'}, {'value': 1, 'sensorAt': '2021-04-06 01:41:58.610'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:00.556
lastevent: 2021-04-06 01:42:00.531, last ten sensor data: [('2021-04-06 01:42:00.030', 'D+000002.6'), ('2021-04-06 01:42:00.050', 'D+000002.6'), ('2021-04-06 01:42:00.070', 'D+000002.6'), ('2021-04-06 01:42:00.230', 'D+000002.8'), ('2021-04-06 01:42:00.250', 'D+000002.8'), ('2021-04-06 01:42:00.270', 'D+000002.8'), ('2021-04-06 01:42:00.290', 'D+000003.0'), ('2021-04-06 01:42:00.460', 'D+000003.2'), ('2021-04-06 01:42:00.480', 'D+000003.4'), ('2021-04-06 01:42:00.560', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 2.8, 3.0, 3.2, 3.4, 3.4]
np.array X: [[2.8]
 [2.8]
 [3. ]
 [3.2]
 [3.4]
 [3.4]]
revised_weight: 3.3
2021-04-06 01:42:00.560: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:42:00.560
plc_result: True
sendmessage: 20210406014200560,1,000034,000033
send message to PLC: 2021-04-06 01:42:00.570
time gap: 0:00:00.013986
2021-04-06 01:42:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:00: send http
2021-04-06 01:42:00: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:42:00: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:01: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:01.194
lastevent: 2021-04-06 01:42:01.182, last ten sensor data: [('2021-04-06 01:42:00.700', 'D+000003.0'), ('2021-04-06 01:42:00.720', 'D+000003.0'), ('2021-04-06 01:42:00.740', 'D+000003.2'), ('2021-04-06 01:42:00.760', 'D+000003.0'), ('2021-04-06 01:42:00.780', 'D+000003.0'), ('2021-04-06 01:42:00.960', 'D+000003.4'), ('2021-04-06 01:42:00.980', 'D+000003.4'), ('2021-04-06 01:42:01.000', 'D+000003.4'), ('2021-04-06 01:42:01.020', 'D+000003.2'), ('2021-04-06 01:42:01.180', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.4, 3.4, 3.4, 3.2, 3.6]
np.array X: [[3. ]
 [3.4]
 [3.4]
 [3.4]
 [3.2]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:42:01.180: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:42:01.180
plc_result: True
sendmessage: 20210406014201180,1,000036,000036
send message to PLC: 2021-04-06 01:42:01.201
time gap: 0:00:00.006700
2021-04-06 01:42:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:01: httpScaleDataSender thread Timeout occurred
2021-04-06 01:42:01: [13727] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
2021-04-06 01:42:01: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:42:03.047
lastevent: 2021-04-06 01:42:03.035, last ten sensor data: [('2021-04-06 01:42:02.650', 'D+000002.4'), ('2021-04-06 01:42:02.670', 'D+000002.2'), ('2021-04-06 01:42:02.690', 'D+000002.4'), ('2021-04-06 01:42:02.710', 'D+000002.6'), ('2021-04-06 01:42:02.730', 'D+000002.6'), ('2021-04-06 01:42:02.750', 'D+000002.6'), ('2021-04-06 01:42:02.900', 'D+000002.6'), ('2021-04-06 01:42:02.930', 'D+000002.6'), ('2021-04-06 01:42:02.950', 'D+000002.6'), ('2021-04-06 01:42:02.970', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 2.6, 2.6, 2.6, 2.6, 2.8]
np.array X: [[2.6]
 [2.6]
 [2.6]
 [2.6]
 [2.6]
 [2.8]]
revised_weight: 2.7
2021-04-06 01:42:02.970: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:42:02.970
plc_result: True
sendmessage: 20210406014202970,1,000028,000027
send message to PLC: 2021-04-06 01:42:03.054
time gap: 0:00:00.006614
2021-04-06 01:42:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:05.657
lastevent: 2021-04-06 01:42:05.650, last ten sensor data: [('2021-04-06 01:42:05.170', 'D+000002.8'), ('2021-04-06 01:42:05.350', 'D+000003.0'), ('2021-04-06 01:42:05.370', 'D+000003.2'), ('2021-04-06 01:42:05.390', 'D+000003.2'), ('2021-04-06 01:42:05.410', 'D+000003.6'), ('2021-04-06 01:42:05.430', 'D+000004.0'), ('2021-04-06 01:42:05.590', 'D+000005.6'), ('2021-04-06 01:42:05.610', 'D+000006.6'), ('2021-04-06 01:42:05.630', 'D+000007.0'), ('2021-04-06 01:42:05.650', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 5.6, 6.6, 7.0, 6.6]
np.array X: [[3.6]
 [4. ]
 [5.6]
 [6.6]
 [7. ]
 [6.6]]
revised_weight: 5.6
2021-04-06 01:42:05.650: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:42:05.650
plc_result: True
sendmessage: 20210406014205650,1,000066,000056
send message to PLC: 2021-04-06 01:42:05.665
time gap: 0:00:00.007061
2021-04-06 01:42:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:06: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:42:06: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:06.098
lastevent: 2021-04-06 01:42:06.087, last ten sensor data: [0, 0, 0, ('2021-04-06 01:42:05.670', 'D+000005.8'), ('2021-04-06 01:42:05.830', 'D+000008.2'), ('2021-04-06 01:42:05.850', 'D+000008.6'), ('2021-04-06 01:42:05.870', 'D+000008.8'), ('2021-04-06 01:42:05.890', 'D+000009.2'), ('2021-04-06 01:42:05.910', 'D+000009.2'), ('2021-04-06 01:42:06.090', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 8.6, 8.8, 9.2, 9.2, 8.0]
np.array X: [[8.2]
 [8.6]
 [8.8]
 [9.2]
 [9.2]
 [8. ]]
revised_weight: 8.3
2021-04-06 01:42:06.090: revising weight finished
revised_weight: 8.3 at 2021-04-06 01:42:06.090
plc_result: True
sendmessage: 20210406014206090,1,000080,000083
send message to PLC: 2021-04-06 01:42:06.105
time gap: 0:00:00.007195
2021-04-06 01:42:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:06: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:06: select done
2021-04-06 01:42:06: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:42:06: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:42:06: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:42:06: count: 5 in httpPlcDataSender thread
2021-04-06 01:42:06: D+: 5 in httpPlcDataSender thread
2021-04-06 01:42:06: D-: 0 in httpPlcDataSender thread
2021-04-06 01:42:06: S+: 0 in httpPlcDataSender thread
2021-04-06 01:42:06: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:42:00.560'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:42:01.180'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:42:02.970'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:42:05.650'}, {'value': '8.3', 'sensorAt': '2021-04-06 01:42:06.090'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:00.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:01.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:02.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:05.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:06.090'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:42:06', 'collectDate': '2021-04-06 01:42:06', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:42:00.560'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:42:01.180'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:42:02.970'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:42:05.650'}, {'value': '8.3', 'sensorAt': '2021-04-06 01:42:06.090'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:00.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:01.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:02.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:05.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:06.090'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:42:06: send http
2021-04-06 01:42:06: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:42:06: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:06: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:07.809
lastevent: 2021-04-06 01:42:07.801, last ten sensor data: [('2021-04-06 01:42:07.320', 'D+000004.4'), ('2021-04-06 01:42:07.340', 'D+000004.6'), ('2021-04-06 01:42:07.360', 'D+000004.8'), ('2021-04-06 01:42:07.380', 'D+000005.0'), ('2021-04-06 01:42:07.550', 'D+000005.2'), ('2021-04-06 01:42:07.570', 'D+000005.2'), ('2021-04-06 01:42:07.590', 'D+000005.2'), ('2021-04-06 01:42:07.610', 'D+000005.2'), ('2021-04-06 01:42:07.780', 'D+000007.2'), ('2021-04-06 01:42:07.800', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 5.2, 5.2, 7.2, 7.2]
np.array X: [[5.2]
 [5.2]
 [5.2]
 [5.2]
 [7.2]
 [7.2]]
revised_weight: 6.7
2021-04-06 01:42:07.800: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:42:07.800
plc_result: True
sendmessage: 20210406014207800,1,000072,000067
send message to PLC: 2021-04-06 01:42:07.822
time gap: 0:00:00.012786
2021-04-06 01:42:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:08.717
lastevent: 2021-04-06 01:42:08.703, last ten sensor data: [('2021-04-06 01:42:08.090', 'D+000006.2'), ('2021-04-06 01:42:08.280', 'D+000005.8'), ('2021-04-06 01:42:08.300', 'D+000005.6'), ('2021-04-06 01:42:08.320', 'D+000005.4'), ('2021-04-06 01:42:08.340', 'D+000005.0'), ('2021-04-06 01:42:08.360', 'D+000005.0'), ('2021-04-06 01:42:08.530', 'D+000005.2'), ('2021-04-06 01:42:08.550', 'D+000005.2'), ('2021-04-06 01:42:08.570', 'D+000004.8'), ('2021-04-06 01:42:08.590', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 5.2, 5.2, 4.8, 5.2]
np.array X: [[5. ]
 [5. ]
 [5.2]
 [5.2]
 [4.8]
 [5.2]]
revised_weight: 5.1
2021-04-06 01:42:08.590: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:42:08.590
plc_result: True
sendmessage: 20210406014208590,1,000052,000051
send message to PLC: 2021-04-06 01:42:08.726
time gap: 0:00:00.009907
2021-04-06 01:42:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:09.612
lastevent: 2021-04-06 01:42:09.598, last ten sensor data: [('2021-04-06 01:42:09.250', 'D+000004.2'), ('2021-04-06 01:42:09.270', 'D+000004.4'), ('2021-04-06 01:42:09.290', 'D+000004.4'), ('2021-04-06 01:42:09.310', 'D+000004.2'), ('2021-04-06 01:42:09.340', 'D+000004.6'), ('2021-04-06 01:42:09.490', 'D+000004.4'), ('2021-04-06 01:42:09.510', 'D+000005.2'), ('2021-04-06 01:42:09.530', 'D+000005.0'), ('2021-04-06 01:42:09.550', 'D+000004.6'), ('2021-04-06 01:42:09.570', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.4, 5.2, 5.0, 4.6, 4.6]
np.array X: [[4.6]
 [4.4]
 [5.2]
 [5. ]
 [4.6]
 [4.6]]
revised_weight: 4.9
2021-04-06 01:42:09.570: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:42:09.570
plc_result: True
sendmessage: 20210406014209570,1,000046,000049
send message to PLC: 2021-04-06 01:42:09.624
time gap: 0:00:00.011586
2021-04-06 01:42:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:10.578
lastevent: 2021-04-06 01:42:10.561, last ten sensor data: [('2021-04-06 01:42:10.210', 'D+000004.6'), ('2021-04-06 01:42:10.240', 'D+000004.6'), ('2021-04-06 01:42:10.260', 'D+000004.4'), ('2021-04-06 01:42:10.280', 'D+000004.2'), ('2021-04-06 01:42:10.300', 'D+000004.4'), ('2021-04-06 01:42:10.470', 'D+000004.6'), ('2021-04-06 01:42:10.490', 'D+000004.4'), ('2021-04-06 01:42:10.510', 'D+000004.8'), ('2021-04-06 01:42:10.530', 'D+000004.8'), ('2021-04-06 01:42:10.550', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 4.4, 4.8, 4.8, 4.2]
np.array X: [[4.4]
 [4.6]
 [4.4]
 [4.8]
 [4.8]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:42:10.550: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:42:10.550
plc_result: True
sendmessage: 20210406014210550,1,000042,000042
send message to PLC: 2021-04-06 01:42:10.589
time gap: 0:00:00.011527
2021-04-06 01:42:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:11.125
lastevent: 2021-04-06 01:42:11.118, last ten sensor data: [('2021-04-06 01:42:10.600', 'D+000004.4'), ('2021-04-06 01:42:10.720', 'D+000004.6'), ('2021-04-06 01:42:10.740', 'D+000004.8'), ('2021-04-06 01:42:10.760', 'D+000005.2'), ('2021-04-06 01:42:10.780', 'D+000005.4'), ('2021-04-06 01:42:10.960', 'D+000007.0'), ('2021-04-06 01:42:10.980', 'D+000007.0'), ('2021-04-06 01:42:11.000', 'D+000007.0'), ('2021-04-06 01:42:11.020', 'D+000007.2'), ('2021-04-06 01:42:11.040', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 7.0, 7.0, 7.0, 7.2, 7.4]
np.array X: [[5.4]
 [7. ]
 [7. ]
 [7. ]
 [7.2]
 [7.4]]
revised_weight: 6.6
2021-04-06 01:42:11.040: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:42:11.040
plc_result: True
sendmessage: 20210406014211040,1,000074,000066
send message to PLC: 2021-04-06 01:42:11.132
time gap: 0:00:00.006370
2021-04-06 01:42:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:11: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:42:11: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:11: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:11: select done
2021-04-06 01:42:11: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:42:11: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:42:11: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:42:11: count: 5 in httpPlcDataSender thread
2021-04-06 01:42:11: D+: 5 in httpPlcDataSender thread
2021-04-06 01:42:11: D-: 0 in httpPlcDataSender thread
2021-04-06 01:42:11: S+: 0 in httpPlcDataSender thread
2021-04-06 01:42:11: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.7', 'sensorAt': '2021-04-06 01:42:07.800'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:42:08.590'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:42:09.570'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:42:10.550'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:42:11.040'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:07.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:08.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:09.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:10.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:11.040'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:42:11', 'collectDate': '2021-04-06 01:42:11', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.7', 'sensorAt': '2021-04-06 01:42:07.800'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:42:08.590'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:42:09.570'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:42:10.550'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:42:11.040'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:07.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:08.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:09.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:10.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:11.040'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:11.906
lastevent: 2021-04-06 01:42:11.894, last ten sensor data: [('2021-04-06 01:42:11.490', 'D+000006.8'), ('2021-04-06 01:42:11.510', 'D+000006.4'), ('2021-04-06 01:42:11.530', 'D+000005.8'), ('2021-04-06 01:42:11.680', 'D+000005.8'), ('2021-04-06 01:42:11.700', 'D+000005.6'), ('2021-04-06 01:42:11.720', 'D+000005.2'), ('2021-04-06 01:42:11.740', 'D+000004.8'), ('2021-04-06 01:42:11.760', 'D+000005.0'), ('2021-04-06 01:42:11.780', 'D+000005.0'), ('2021-04-06 01:42:11.900', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.2, 4.8, 5.0, 5.0, 5.8]
np.array X: [[5.6]
 [5.2]
 [4.8]
 [5. ]
 [5. ]
 [5.8]]
revised_weight: 5.3
2021-04-06 01:42:11.900: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:42:11.900
plc_result: True
sendmessage: 20210406014211900,1,000058,000053
send message to PLC: 2021-04-06 01:42:11.917
time gap: 0:00:00.011580
2021-04-06 01:42:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:12: send http
2021-04-06 01:42:12: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:42:12: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:12: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:13.123
lastevent: 2021-04-06 01:42:13.104, last ten sensor data: [('2021-04-06 01:42:12.670', 'D+000004.4'), ('2021-04-06 01:42:12.690', 'D+000004.2'), ('2021-04-06 01:42:12.710', 'D+000004.4'), ('2021-04-06 01:42:12.730', 'D+000004.6'), ('2021-04-06 01:42:12.750', 'D+000004.6'), ('2021-04-06 01:42:12.920', 'D+000005.4'), ('2021-04-06 01:42:12.940', 'D+000006.4'), ('2021-04-06 01:42:12.960', 'D+000007.0'), ('2021-04-06 01:42:12.980', 'D+000007.0'), ('2021-04-06 01:42:13.000', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.4, 6.4, 7.0, 7.0, 6.8]
np.array X: [[4.6]
 [5.4]
 [6.4]
 [7. ]
 [7. ]
 [6.8]]
revised_weight: 6.5
2021-04-06 01:42:13.000: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:42:13.000
plc_result: True
sendmessage: 20210406014213000,1,000068,000065
send message to PLC: 2021-04-06 01:42:13.135
time gap: 0:00:00.011723
2021-04-06 01:42:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:14.003
lastevent: 2021-04-06 01:42:13.999, last ten sensor data: [('2021-04-06 01:42:13.450', 'D+000007.0'), ('2021-04-06 01:42:13.470', 'D+000006.6'), ('2021-04-06 01:42:13.490', 'D+000006.4'), ('2021-04-06 01:42:13.650', 'D+000006.0'), ('2021-04-06 01:42:13.670', 'D+000005.8'), ('2021-04-06 01:42:13.690', 'D+000005.6'), ('2021-04-06 01:42:13.710', 'D+000005.6'), ('2021-04-06 01:42:13.910', 'D+000006.0'), ('2021-04-06 01:42:13.930', 'D+000006.2'), ('2021-04-06 01:42:13.950', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.6, 5.6, 6.0, 6.2, 6.2]
np.array X: [[5.8]
 [5.6]
 [5.6]
 [6. ]
 [6.2]
 [6.2]]
revised_weight: 6.1
2021-04-06 01:42:13.950: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:42:13.950
plc_result: True
sendmessage: 20210406014213950,1,000062,000061
send message to PLC: 2021-04-06 01:42:14.015
time gap: 0:00:00.011804
2021-04-06 01:42:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:14.454
lastevent: 2021-04-06 01:42:14.448, last ten sensor data: [('2021-04-06 01:42:14.020', 'D+000006.0'), ('2021-04-06 01:42:14.130', 'D+000006.4'), ('2021-04-06 01:42:14.150', 'D+000006.4'), ('2021-04-06 01:42:14.170', 'D+000006.8'), ('2021-04-06 01:42:14.190', 'D+000006.6'), ('2021-04-06 01:42:14.210', 'D+000006.6'), ('2021-04-06 01:42:14.380', 'D+000006.0'), ('2021-04-06 01:42:14.400', 'D+000006.0'), ('2021-04-06 01:42:14.420', 'D+000006.0'), ('2021-04-06 01:42:14.440', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.6, 6.0, 6.0, 6.0, 6.4]
np.array X: [[6.6]
 [6.6]
 [6. ]
 [6. ]
 [6. ]
 [6.4]]
revised_weight: 6.3
2021-04-06 01:42:14.440: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:42:14.440
plc_result: True
sendmessage: 20210406014214440,1,000064,000063
send message to PLC: 2021-04-06 01:42:14.460
time gap: 0:00:00.006293
2021-04-06 01:42:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:14.834
lastevent: 2021-04-06 01:42:14.821, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:42:14.610', 'D+000007.2'), ('2021-04-06 01:42:14.630', 'D+000007.2'), ('2021-04-06 01:42:14.650', 'D+000007.6'), ('2021-04-06 01:42:14.670', 'D+000007.8'), ('2021-04-06 01:42:14.690', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 7.2, 7.2, 7.6, 7.8, 7.8]
np.array X: [[0. ]
 [7.2]
 [7.2]
 [7.6]
 [7.8]
 [7.8]]
revised_weight: 6.9
2021-04-06 01:42:14.690: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:42:14.690
plc_result: True
sendmessage: 20210406014214690,1,000078,000069
send message to PLC: 2021-04-06 01:42:14.846
time gap: 0:00:00.011197
2021-04-06 01:42:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:15.763
lastevent: 2021-04-06 01:42:15.743, last ten sensor data: [('2021-04-06 01:42:15.190', 'D+000007.4'), ('2021-04-06 01:42:15.340', 'D+000006.8'), ('2021-04-06 01:42:15.360', 'D+000006.6'), ('2021-04-06 01:42:15.380', 'D+000006.4'), ('2021-04-06 01:42:15.400', 'D+000006.4'), ('2021-04-06 01:42:15.420', 'D+000006.4'), ('2021-04-06 01:42:15.610', 'D+000005.4'), ('2021-04-06 01:42:15.630', 'D+000005.6'), ('2021-04-06 01:42:15.650', 'D+000005.2'), ('2021-04-06 01:42:15.670', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.4, 6.4, 5.4, 5.6, 5.2, 5.4]
np.array X: [[6.4]
 [6.4]
 [5.4]
 [5.6]
 [5.2]
 [5.4]]
revised_weight: 6.0
2021-04-06 01:42:15.670: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:42:15.670
plc_result: True
sendmessage: 20210406014215670,1,000054,000060
send message to PLC: 2021-04-06 01:42:15.777
time gap: 0:00:00.014031
2021-04-06 01:42:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:16.517
lastevent: 2021-04-06 01:42:16.506, last ten sensor data: [('2021-04-06 01:42:16.110', 'D+000005.2'), ('2021-04-06 01:42:16.130', 'D+000005.6'), ('2021-04-06 01:42:16.150', 'D+000005.6'), ('2021-04-06 01:42:16.170', 'D+000005.4'), ('2021-04-06 01:42:16.330', 'D+000004.4'), ('2021-04-06 01:42:16.350', 'D+000004.6'), ('2021-04-06 01:42:16.370', 'D+000004.4'), ('2021-04-06 01:42:16.390', 'D+000004.6'), ('2021-04-06 01:42:16.410', 'D+000004.6'), ('2021-04-06 01:42:16.430', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.6, 4.4, 4.6, 4.6, 4.6]
np.array X: [[4.4]
 [4.6]
 [4.4]
 [4.6]
 [4.6]
 [4.6]]
revised_weight: 4.7
2021-04-06 01:42:16.430: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:42:16.430
plc_result: True
sendmessage: 20210406014216430,1,000046,000047
send message to PLC: 2021-04-06 01:42:16.525
time gap: 0:00:00.007557
2021-04-06 01:42:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:17.219
lastevent: 2021-04-06 01:42:17.212, last ten sensor data: [('2021-04-06 01:42:16.650', 'D+000004.0'), ('2021-04-06 01:42:16.670', 'D+000004.2'), ('2021-04-06 01:42:16.820', 'D+000003.8'), ('2021-04-06 01:42:16.840', 'D+000004.2'), ('2021-04-06 01:42:16.860', 'D+000004.8'), ('2021-04-06 01:42:16.880', 'D+000005.0'), ('2021-04-06 01:42:17.070', 'D+000004.6'), ('2021-04-06 01:42:17.090', 'D+000004.6'), ('2021-04-06 01:42:17.110', 'D+000004.6'), ('2021-04-06 01:42:17.130', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.0, 4.6, 4.6, 4.6, 4.8]
np.array X: [[4.8]
 [5. ]
 [4.6]
 [4.6]
 [4.6]
 [4.8]]
revised_weight: 4.7
2021-04-06 01:42:17.130: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:42:17.130
plc_result: True
sendmessage: 20210406014217130,1,000048,000047
send message to PLC: 2021-04-06 01:42:17.226
time gap: 0:00:00.007190
2021-04-06 01:42:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:17: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:42:17: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:17: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:17: select done
2021-04-06 01:42:17: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:42:17: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:42:17: sendjson called, 8 records in httpPlcDataSender thread
2021-04-06 01:42:17: count: 8 in httpPlcDataSender thread
2021-04-06 01:42:17: D+: 8 in httpPlcDataSender thread
2021-04-06 01:42:17: D-: 0 in httpPlcDataSender thread
2021-04-06 01:42:17: S+: 0 in httpPlcDataSender thread
2021-04-06 01:42:17: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.3', 'sensorAt': '2021-04-06 01:42:11.900'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:42:13.000'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:42:13.950'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:42:14.440'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:42:14.690'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:42:15.670'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:42:16.430'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:42:17.130'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:11.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:13.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:13.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:14.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:14.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:15.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:16.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:17.130'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:42:17', 'collectDate': '2021-04-06 01:42:17', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.3', 'sensorAt': '2021-04-06 01:42:11.900'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:42:13.000'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:42:13.950'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:42:14.440'}, {'value': '6.9', 'sensorAt': '2021-04-06 01:42:14.690'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:42:15.670'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:42:16.430'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:42:17.130'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:11.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:13.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:13.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:14.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:14.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:15.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:16.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:17.130'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:42:17: send http
2021-04-06 01:42:17: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:42:17: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:17: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:19.116
lastevent: 2021-04-06 01:42:19.103, last ten sensor data: [('2021-04-06 01:42:18.620', 'D+000003.0'), ('2021-04-06 01:42:18.780', 'D+000003.2'), ('2021-04-06 01:42:18.800', 'D+000003.2'), ('2021-04-06 01:42:18.820', 'D+000004.2'), ('2021-04-06 01:42:18.840', 'D+000004.4'), ('2021-04-06 01:42:19.030', 'D+000006.0'), ('2021-04-06 01:42:19.050', 'D+000006.6'), ('2021-04-06 01:42:19.070', 'D+000006.4'), ('2021-04-06 01:42:19.090', 'D+000006.0'), ('2021-04-06 01:42:19.110', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 6.0, 6.6, 6.4, 6.0, 6.4]
np.array X: [[4.4]
 [6. ]
 [6.6]
 [6.4]
 [6. ]
 [6.4]]
revised_weight: 6.5
2021-04-06 01:42:19.110: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:42:19.110
plc_result: True
sendmessage: 20210406014219110,1,000064,000065
send message to PLC: 2021-04-06 01:42:19.123
time gap: 0:00:00.006147
2021-04-06 01:42:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:19.777
lastevent: 2021-04-06 01:42:19.769, last ten sensor data: [('2021-04-06 01:42:19.310', 'D+000006.2'), ('2021-04-06 01:42:19.330', 'D+000006.2'), ('2021-04-06 01:42:19.350', 'D+000006.2'), ('2021-04-06 01:42:19.520', 'D+000006.4'), ('2021-04-06 01:42:19.540', 'D+000006.8'), ('2021-04-06 01:42:19.560', 'D+000006.8'), ('2021-04-06 01:42:19.580', 'D+000006.8'), ('2021-04-06 01:42:19.600', 'D+000007.0'), ('2021-04-06 01:42:19.750', 'D+000006.0'), ('2021-04-06 01:42:19.770', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.8, 6.8, 7.0, 6.0, 6.2]
np.array X: [[6.8]
 [6.8]
 [6.8]
 [7. ]
 [6. ]
 [6.2]]
revised_weight: 6.5
2021-04-06 01:42:19.770: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:42:19.770
plc_result: True
sendmessage: 20210406014219770,1,000062,000065
send message to PLC: 2021-04-06 01:42:19.784
time gap: 0:00:00.006579
2021-04-06 01:42:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:20.180
lastevent: 2021-04-06 01:42:20.170, last ten sensor data: [0, ('2021-04-06 01:42:19.790', 'D+000006.4'), ('2021-04-06 01:42:19.810', 'D+000006.8'), ('2021-04-06 01:42:19.830', 'D+000006.6'), ('2021-04-06 01:42:19.850', 'D+000006.8'), ('2021-04-06 01:42:20.000', 'D+000006.2'), ('2021-04-06 01:42:20.020', 'D+000006.6'), ('2021-04-06 01:42:20.040', 'D+000006.6'), ('2021-04-06 01:42:20.060', 'D+000006.2'), ('2021-04-06 01:42:20.080', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.2, 6.6, 6.6, 6.2, 6.6]
np.array X: [[6.8]
 [6.2]
 [6.6]
 [6.6]
 [6.2]
 [6.6]]
revised_weight: 6.5
2021-04-06 01:42:20.080: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:42:20.080
plc_result: True
sendmessage: 20210406014220080,1,000066,000065
send message to PLC: 2021-04-06 01:42:20.187
time gap: 0:00:00.006313
2021-04-06 01:42:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:20.960
lastevent: 2021-04-06 01:42:20.946, last ten sensor data: [('2021-04-06 01:42:20.310', 'D+000005.4'), ('2021-04-06 01:42:20.330', 'D+000005.6'), ('2021-04-06 01:42:20.500', 'D+000004.8'), ('2021-04-06 01:42:20.520', 'D+000005.0'), ('2021-04-06 01:42:20.540', 'D+000005.0'), ('2021-04-06 01:42:20.560', 'D+000005.0'), ('2021-04-06 01:42:20.750', 'D+000006.6'), ('2021-04-06 01:42:20.770', 'D+000007.2'), ('2021-04-06 01:42:20.790', 'D+000007.6'), ('2021-04-06 01:42:20.810', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 6.6, 7.2, 7.6, 7.4]
np.array X: [[5. ]
 [5. ]
 [6.6]
 [7.2]
 [7.6]
 [7.4]]
revised_weight: 6.5
2021-04-06 01:42:20.810: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:42:20.810
plc_result: True
sendmessage: 20210406014220810,1,000074,000065
send message to PLC: 2021-04-06 01:42:20.967
time gap: 0:00:00.006456
2021-04-06 01:42:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:21.707
lastevent: 2021-04-06 01:42:21.693, last ten sensor data: [('2021-04-06 01:42:21.230', 'D+000007.6'), ('2021-04-06 01:42:21.250', 'D+000007.4'), ('2021-04-06 01:42:21.270', 'D+000007.6'), ('2021-04-06 01:42:21.290', 'D+000007.2'), ('2021-04-06 01:42:21.310', 'D+000006.8'), ('2021-04-06 01:42:21.460', 'D+000007.8'), ('2021-04-06 01:42:21.480', 'D+000007.6'), ('2021-04-06 01:42:21.500', 'D+000007.6'), ('2021-04-06 01:42:21.520', 'D+000007.6'), ('2021-04-06 01:42:21.540', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 7.8, 7.6, 7.6, 7.6, 8.0]
np.array X: [[6.8]
 [7.8]
 [7.6]
 [7.6]
 [7.6]
 [8. ]]
revised_weight: 7.4
2021-04-06 01:42:21.540: revising weight finished
revised_weight: 7.4 at 2021-04-06 01:42:21.540
plc_result: True
sendmessage: 20210406014221540,1,000080,000074
send message to PLC: 2021-04-06 01:42:21.720
time gap: 0:00:00.013153
2021-04-06 01:42:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:22.645
lastevent: 2021-04-06 01:42:22.629, last ten sensor data: [('2021-04-06 01:42:22.210', 'D+000006.0'), ('2021-04-06 01:42:22.230', 'D+000005.4'), ('2021-04-06 01:42:22.250', 'D+000005.6'), ('2021-04-06 01:42:22.270', 'D+000005.6'), ('2021-04-06 01:42:22.440', 'D+000006.2'), ('2021-04-06 01:42:22.460', 'D+000006.2'), ('2021-04-06 01:42:22.480', 'D+000006.4'), ('2021-04-06 01:42:22.500', 'D+000006.4'), ('2021-04-06 01:42:22.520', 'D+000007.4'), ('2021-04-06 01:42:22.540', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.2, 6.4, 6.4, 7.4, 7.8]
np.array X: [[6.2]
 [6.2]
 [6.4]
 [6.4]
 [7.4]
 [7.8]]
revised_weight: 7.0
2021-04-06 01:42:22.540: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:42:22.540
plc_result: True
sendmessage: 20210406014222540,1,000078,000070
send message to PLC: 2021-04-06 01:42:22.652
time gap: 0:00:00.006756
2021-04-06 01:42:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:22: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:42:22: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:23: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:23: select done
2021-04-06 01:42:23: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:42:23: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:42:23: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:42:23: count: 6 in httpPlcDataSender thread
2021-04-06 01:42:23: D+: 6 in httpPlcDataSender thread
2021-04-06 01:42:23: D-: 0 in httpPlcDataSender thread
2021-04-06 01:42:23: S+: 0 in httpPlcDataSender thread
2021-04-06 01:42:23: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:42:19.110'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:42:19.770'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:42:20.080'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:42:20.810'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:42:21.540'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:42:22.540'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:19.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:19.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:20.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:20.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:21.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:22.540'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:42:23', 'collectDate': '2021-04-06 01:42:22', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:42:19.110'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:42:19.770'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:42:20.080'}, {'value': '6.5', 'sensorAt': '2021-04-06 01:42:20.810'}, {'value': '7.4', 'sensorAt': '2021-04-06 01:42:21.540'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:42:22.540'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:19.110'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:19.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:20.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:20.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:21.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:22.540'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:42:23: send http
2021-04-06 01:42:23: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:42:23: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:23: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:23.683
lastevent: 2021-04-06 01:42:23.672, last ten sensor data: [('2021-04-06 01:42:23.320', 'D+000004.8'), ('2021-04-06 01:42:23.340', 'D+000004.6'), ('2021-04-06 01:42:23.360', 'D+000004.8'), ('2021-04-06 01:42:23.410', 'D+000005.4'), ('2021-04-06 01:42:23.430', 'D+000005.4'), ('2021-04-06 01:42:23.450', 'D+000005.6'), ('2021-04-06 01:42:23.470', 'D+000006.0'), ('2021-04-06 01:42:23.490', 'D+000006.2'), ('2021-04-06 01:42:23.510', 'D+000006.0'), ('2021-04-06 01:42:23.650', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 6.0, 6.2, 6.0, 6.8]
np.array X: [[5.4]
 [5.6]
 [6. ]
 [6.2]
 [6. ]
 [6.8]]
revised_weight: 6.3
2021-04-06 01:42:23.650: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:42:23.650
plc_result: True
sendmessage: 20210406014223650,1,000068,000063
send message to PLC: 2021-04-06 01:42:23.689
time gap: 0:00:00.006479
2021-04-06 01:42:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:25.151
lastevent: 2021-04-06 01:42:25.140, last ten sensor data: [('2021-04-06 01:42:24.670', 'D+000004.2'), ('2021-04-06 01:42:24.690', 'D+000004.2'), ('2021-04-06 01:42:24.710', 'D+000004.2'), ('2021-04-06 01:42:24.730', 'D+000004.2'), ('2021-04-06 01:42:24.900', 'D+000005.0'), ('2021-04-06 01:42:24.920', 'D+000004.6'), ('2021-04-06 01:42:24.940', 'D+000004.6'), ('2021-04-06 01:42:24.960', 'D+000004.6'), ('2021-04-06 01:42:24.980', 'D+000004.6'), ('2021-04-06 01:42:25.020', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.6, 4.6, 4.6, 4.6, 4.8]
np.array X: [[5. ]
 [4.6]
 [4.6]
 [4.6]
 [4.6]
 [4.8]]
revised_weight: 4.8
2021-04-06 01:42:25.020: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:42:25.020
plc_result: True
sendmessage: 20210406014225020,1,000048,000048
send message to PLC: 2021-04-06 01:42:25.158
time gap: 0:00:00.006466
2021-04-06 01:42:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:25.782
lastevent: 2021-04-06 01:42:25.778, last ten sensor data: [('2021-04-06 01:42:25.180', 'D+000004.4'), ('2021-04-06 01:42:25.200', 'D+000004.2'), ('2021-04-06 01:42:25.390', 'D+000003.8'), ('2021-04-06 01:42:25.410', 'D+000003.8'), ('2021-04-06 01:42:25.430', 'D+000003.8'), ('2021-04-06 01:42:25.450', 'D+000004.0'), ('2021-04-06 01:42:25.640', 'D+000003.8'), ('2021-04-06 01:42:25.660', 'D+000003.8'), ('2021-04-06 01:42:25.680', 'D+000003.6'), ('2021-04-06 01:42:25.700', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.0, 3.8, 3.8, 3.6, 4.2]
np.array X: [[3.8]
 [4. ]
 [3.8]
 [3.8]
 [3.6]
 [4.2]]
revised_weight: 4.0
2021-04-06 01:42:25.700: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:42:25.700
plc_result: True
sendmessage: 20210406014225700,1,000042,000040
send message to PLC: 2021-04-06 01:42:25.795
time gap: 0:00:00.012478
2021-04-06 01:42:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:27.188
lastevent: 2021-04-06 01:42:27.173, last ten sensor data: [('2021-04-06 01:42:26.850', 'D+000003.4'), ('2021-04-06 01:42:26.870', 'D+000003.6'), ('2021-04-06 01:42:26.890', 'D+000003.6'), ('2021-04-06 01:42:26.910', 'D+000003.8'), ('2021-04-06 01:42:26.930', 'D+000003.8'), ('2021-04-06 01:42:27.090', 'D+000003.8'), ('2021-04-06 01:42:27.110', 'D+000004.0'), ('2021-04-06 01:42:27.130', 'D+000004.0'), ('2021-04-06 01:42:27.150', 'D+000004.0'), ('2021-04-06 01:42:27.170', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 4.0, 4.0, 4.0, 4.0]
np.array X: [[3.8]
 [3.8]
 [4. ]
 [4. ]
 [4. ]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:42:27.170: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:42:27.170
plc_result: True
sendmessage: 20210406014227170,1,000040,000040
send message to PLC: 2021-04-06 01:42:27.194
time gap: 0:00:00.006243
2021-04-06 01:42:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:27.875
lastevent: 2021-04-06 01:42:27.864, last ten sensor data: [('2021-04-06 01:42:27.400', 'D+000004.0'), ('2021-04-06 01:42:27.500', 'D+000004.0'), ('2021-04-06 01:42:27.580', 'D+000004.2'), ('2021-04-06 01:42:27.600', 'D+000004.0'), ('2021-04-06 01:42:27.620', 'D+000004.0'), ('2021-04-06 01:42:27.640', 'D+000004.0'), ('2021-04-06 01:42:27.660', 'D+000004.0'), ('2021-04-06 01:42:27.830', 'D+000003.6'), ('2021-04-06 01:42:27.850', 'D+000004.0'), ('2021-04-06 01:42:27.870', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 4.0, 3.6, 4.0, 4.2]
np.array X: [[4. ]
 [4. ]
 [4. ]
 [3.6]
 [4. ]
 [4.2]]
revised_weight: 4.1
2021-04-06 01:42:27.870: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:42:27.870
plc_result: True
sendmessage: 20210406014227870,1,000042,000041
send message to PLC: 2021-04-06 01:42:27.881
time gap: 0:00:00.006505
2021-04-06 01:42:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:28: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:42:28: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:28: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:28: select done
2021-04-06 01:42:28: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:42:28: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:42:28: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:42:28: count: 5 in httpPlcDataSender thread
2021-04-06 01:42:28: D+: 5 in httpPlcDataSender thread
2021-04-06 01:42:28: D-: 0 in httpPlcDataSender thread
2021-04-06 01:42:28: S+: 0 in httpPlcDataSender thread
2021-04-06 01:42:28: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.3', 'sensorAt': '2021-04-06 01:42:23.650'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:42:25.020'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:42:25.700'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:42:27.170'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:42:27.870'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:23.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:25.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:25.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:27.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:27.870'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:42:28', 'collectDate': '2021-04-06 01:42:27', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.3', 'sensorAt': '2021-04-06 01:42:23.650'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:42:25.020'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:42:25.700'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:42:27.170'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:42:27.870'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:23.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:25.020'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:25.700'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:27.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:27.870'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:42:28: send http
2021-04-06 01:42:28: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:42:28: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:29: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:29.322
lastevent: 2021-04-06 01:42:29.306, last ten sensor data: [('2021-04-06 01:42:28.830', 'D+000003.0'), ('2021-04-06 01:42:28.850', 'D+000002.8'), ('2021-04-06 01:42:28.870', 'D+000003.0'), ('2021-04-06 01:42:28.890', 'D+000003.2'), ('2021-04-06 01:42:29.060', 'D+000003.6'), ('2021-04-06 01:42:29.080', 'D+000003.6'), ('2021-04-06 01:42:29.100', 'D+000003.4'), ('2021-04-06 01:42:29.120', 'D+000003.6'), ('2021-04-06 01:42:29.290', 'D+000003.8'), ('2021-04-06 01:42:29.310', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.4, 3.6, 3.8, 4.0]
np.array X: [[3.6]
 [3.6]
 [3.4]
 [3.6]
 [3.8]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:42:29.310: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:42:29.310
plc_result: True
sendmessage: 20210406014229310,1,000040,000040
send message to PLC: 2021-04-06 01:42:29.329
time gap: 0:00:00.006613
2021-04-06 01:42:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:42:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:29.974
lastevent: 2021-04-06 01:42:29.967, last ten sensor data: [('2021-04-06 01:42:29.370', 'D+000003.6'), ('2021-04-06 01:42:29.560', 'D+000004.0'), ('2021-04-06 01:42:29.580', 'D+000004.2'), ('2021-04-06 01:42:29.600', 'D+000004.2'), ('2021-04-06 01:42:29.620', 'D+000004.2'), ('2021-04-06 01:42:29.800', 'D+000004.8'), ('2021-04-06 01:42:29.820', 'D+000005.0'), ('2021-04-06 01:42:29.840', 'D+000005.0'), ('2021-04-06 01:42:29.860', 'D+000005.6'), ('2021-04-06 01:42:29.880', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.8, 5.0, 5.0, 5.6, 5.6]
np.array X: [[4.2]
 [4.8]
 [5. ]
 [5. ]
 [5.6]
 [5.6]]
revised_weight: 5.1
2021-04-06 01:42:29.880: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:42:29.880
plc_result: True
sendmessage: 20210406014229880,1,000056,000051
send message to PLC: 2021-04-06 01:42:29.986
time gap: 0:00:00.012183
2021-04-06 01:42:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:30.862
lastevent: 2021-04-06 01:42:30.859, last ten sensor data: [('2021-04-06 01:42:30.520', 'D+000005.0'), ('2021-04-06 01:42:30.540', 'D+000004.8'), ('2021-04-06 01:42:30.560', 'D+000004.8'), ('2021-04-06 01:42:30.580', 'D+000005.6'), ('2021-04-06 01:42:30.600', 'D+000006.0'), ('2021-04-06 01:42:30.780', 'D+000014.4'), ('2021-04-06 01:42:30.800', 'D+000014.6'), ('2021-04-06 01:42:30.820', 'D+000014.8'), ('2021-04-06 01:42:30.840', 'D+000014.8'), ('2021-04-06 01:42:30.860', 'D+000014.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 14.4, 14.6, 14.8, 14.8, 14.2]
np.array X: [[ 6. ]
 [14.4]
 [14.6]
 [14.8]
 [14.8]
 [14.2]]
revised_weight: 16.8
2021-04-06 01:42:30.860: revising weight finished
revised_weight: 16.8 at 2021-04-06 01:42:30.860
plc_result: False
sendmessage: 20210406014230860,0,000142,000168
send message to PLC: 2021-04-06 01:42:30.877
time gap: 0:00:00.014782
2021-04-06 01:42:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:31.569
lastevent: 2021-04-06 01:42:31.561, last ten sensor data: [('2021-04-06 01:42:31.080', 'D+000014.8'), ('2021-04-06 01:42:31.260', 'D+000015.8'), ('2021-04-06 01:42:31.280', 'D+000015.2'), ('2021-04-06 01:42:31.300', 'D+000014.0'), ('2021-04-06 01:42:31.320', 'D+000014.0'), ('2021-04-06 01:42:31.340', 'D+000011.4'), ('2021-04-06 01:42:31.510', 'D+000007.0'), ('2021-04-06 01:42:31.530', 'D+000006.4'), ('2021-04-06 01:42:31.550', 'D+000006.2'), ('2021-04-06 01:42:31.570', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [14.0, 11.4, 7.0, 6.4, 6.2, 6.4]
np.array X: [[14. ]
 [11.4]
 [ 7. ]
 [ 6.4]
 [ 6.2]
 [ 6.4]]
revised_weight: 10.0
2021-04-06 01:42:31.570: revising weight finished
revised_weight: 10.0 at 2021-04-06 01:42:31.570
plc_result: True
sendmessage: 20210406014231570,1,000064,000100
send message to PLC: 2021-04-06 01:42:31.576
time gap: 0:00:00.006325
2021-04-06 01:42:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:32.696
lastevent: 2021-04-06 01:42:32.691, last ten sensor data: [('2021-04-06 01:42:32.250', 'D+000004.2'), ('2021-04-06 01:42:32.270', 'D+000004.2'), ('2021-04-06 01:42:32.290', 'D+000004.2'), ('2021-04-06 01:42:32.310', 'D+000004.2'), ('2021-04-06 01:42:32.330', 'D+000004.2'), ('2021-04-06 01:42:32.470', 'D+000004.2'), ('2021-04-06 01:42:32.490', 'D+000004.4'), ('2021-04-06 01:42:32.510', 'D+000004.8'), ('2021-04-06 01:42:32.530', 'D+000004.8'), ('2021-04-06 01:42:32.550', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 4.4, 4.8, 4.8, 5.0]
np.array X: [[4.2]
 [4.2]
 [4.4]
 [4.8]
 [4.8]
 [5. ]]
revised_weight: 4.9
2021-04-06 01:42:32.550: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:42:32.550
plc_result: True
sendmessage: 20210406014232550,1,000050,000049
send message to PLC: 2021-04-06 01:42:32.703
time gap: 0:00:00.006596
2021-04-06 01:42:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:34.000
lastevent: 2021-04-06 01:42:33.992, last ten sensor data: [('2021-04-06 01:42:33.520', 'D+000003.6'), ('2021-04-06 01:42:33.540', 'D+000003.6'), ('2021-04-06 01:42:33.700', 'D+000004.4'), ('2021-04-06 01:42:33.720', 'D+000004.0'), ('2021-04-06 01:42:33.740', 'D+000003.8'), ('2021-04-06 01:42:33.760', 'D+000003.8'), ('2021-04-06 01:42:33.940', 'D+000004.2'), ('2021-04-06 01:42:33.960', 'D+000004.2'), ('2021-04-06 01:42:33.980', 'D+000004.4'), ('2021-04-06 01:42:34.000', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 4.2, 4.2, 4.4, 4.0]
np.array X: [[3.8]
 [3.8]
 [4.2]
 [4.2]
 [4.4]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:42:34.000: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:42:34.000
plc_result: True
sendmessage: 20210406014234000,1,000040,000040
send message to PLC: 2021-04-06 01:42:34.006
time gap: 0:00:00.006407
2021-04-06 01:42:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:34: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:42:34: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:34: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:34: select done
2021-04-06 01:42:34: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:42:34: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:42:34: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:42:34: count: 6 in httpPlcDataSender thread
2021-04-06 01:42:34: D+: 6 in httpPlcDataSender thread
2021-04-06 01:42:34: D-: 0 in httpPlcDataSender thread
2021-04-06 01:42:34: S+: 0 in httpPlcDataSender thread
2021-04-06 01:42:34: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.0', 'sensorAt': '2021-04-06 01:42:29.310'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:42:29.880'}, {'value': '16.8', 'sensorAt': '2021-04-06 01:42:30.860'}, {'value': '10.0', 'sensorAt': '2021-04-06 01:42:31.570'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:42:32.550'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:42:34.000'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:29.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:29.880'}, {'value': 0, 'sensorAt': '2021-04-06 01:42:30.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:31.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:32.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:34.000'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:42:34', 'collectDate': '2021-04-06 01:42:33', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.0', 'sensorAt': '2021-04-06 01:42:29.310'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:42:29.880'}, {'value': '16.8', 'sensorAt': '2021-04-06 01:42:30.860'}, {'value': '10.0', 'sensorAt': '2021-04-06 01:42:31.570'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:42:32.550'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:42:34.000'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:29.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:29.880'}, {'value': 0, 'sensorAt': '2021-04-06 01:42:30.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:31.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:32.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:34.000'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:42:34: send http
2021-04-06 01:42:34: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:42:34: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:34: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:35.018
lastevent: 2021-04-06 01:42:35.015, last ten sensor data: [('2021-04-06 01:42:34.500', 'D+000003.8'), ('2021-04-06 01:42:34.660', 'D+000004.0'), ('2021-04-06 01:42:34.680', 'D+000003.8'), ('2021-04-06 01:42:34.700', 'D+000003.8'), ('2021-04-06 01:42:34.720', 'D+000003.8'), ('2021-04-06 01:42:34.740', 'D+000003.8'), ('2021-04-06 01:42:34.920', 'D+000006.2'), ('2021-04-06 01:42:34.940', 'D+000005.8'), ('2021-04-06 01:42:34.960', 'D+000006.4'), ('2021-04-06 01:42:34.980', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 6.2, 5.8, 6.4, 7.2]
np.array X: [[3.8]
 [3.8]
 [6.2]
 [5.8]
 [6.4]
 [7.2]]
revised_weight: 6.5
2021-04-06 01:42:34.980: revising weight finished
revised_weight: 6.5 at 2021-04-06 01:42:34.980
plc_result: True
sendmessage: 20210406014234980,1,000072,000065
send message to PLC: 2021-04-06 01:42:35.037
time gap: 0:00:00.019319
2021-04-06 01:42:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:35.755
lastevent: 2021-04-06 01:42:35.752, last ten sensor data: [('2021-04-06 01:42:35.230', 'D+000007.4'), ('2021-04-06 01:42:35.290', 'D+000006.8'), ('2021-04-06 01:42:35.310', 'D+000006.8'), ('2021-04-06 01:42:35.330', 'D+000006.6'), ('2021-04-06 01:42:35.350', 'D+000006.6'), ('2021-04-06 01:42:35.520', 'D+000004.8'), ('2021-04-06 01:42:35.540', 'D+000004.8'), ('2021-04-06 01:42:35.560', 'D+000005.0'), ('2021-04-06 01:42:35.580', 'D+000004.8'), ('2021-04-06 01:42:35.600', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 4.8, 4.8, 5.0, 4.8, 4.8]
np.array X: [[6.6]
 [4.8]
 [4.8]
 [5. ]
 [4.8]
 [4.8]]
revised_weight: 4.7
2021-04-06 01:42:35.600: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:42:35.600
plc_result: True
sendmessage: 20210406014235600,1,000048,000047
send message to PLC: 2021-04-06 01:42:35.762
time gap: 0:00:00.006983
2021-04-06 01:42:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:36.662
lastevent: 2021-04-06 01:42:36.651, last ten sensor data: [('2021-04-06 01:42:36.250', 'D+000004.8'), ('2021-04-06 01:42:36.270', 'D+000004.8'), ('2021-04-06 01:42:36.290', 'D+000004.6'), ('2021-04-06 01:42:36.310', 'D+000004.4'), ('2021-04-06 01:42:36.330', 'D+000004.4'), ('2021-04-06 01:42:36.350', 'D+000004.4'), ('2021-04-06 01:42:36.510', 'D+000005.4'), ('2021-04-06 01:42:36.530', 'D+000005.4'), ('2021-04-06 01:42:36.550', 'D+000005.6'), ('2021-04-06 01:42:36.570', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 5.4, 5.4, 5.6, 5.8]
np.array X: [[4.4]
 [4.4]
 [5.4]
 [5.4]
 [5.6]
 [5.8]]
revised_weight: 5.5
2021-04-06 01:42:36.570: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:42:36.570
plc_result: True
sendmessage: 20210406014236570,1,000058,000055
send message to PLC: 2021-04-06 01:42:36.675
time gap: 0:00:00.013297
2021-04-06 01:42:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:37.602
lastevent: 2021-04-06 01:42:37.590, last ten sensor data: [('2021-04-06 01:42:37.070', 'D+000005.2'), ('2021-04-06 01:42:37.240', 'D+000004.4'), ('2021-04-06 01:42:37.260', 'D+000004.2'), ('2021-04-06 01:42:37.280', 'D+000004.2'), ('2021-04-06 01:42:37.300', 'D+000004.0'), ('2021-04-06 01:42:37.480', 'D+000005.0'), ('2021-04-06 01:42:37.500', 'D+000005.2'), ('2021-04-06 01:42:37.520', 'D+000006.0'), ('2021-04-06 01:42:37.540', 'D+000005.8'), ('2021-04-06 01:42:37.560', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 5.0, 5.2, 6.0, 5.8, 5.2]
np.array X: [[4. ]
 [5. ]
 [5.2]
 [6. ]
 [5.8]
 [5.2]]
revised_weight: 5.2
2021-04-06 01:42:37.560: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:42:37.560
plc_result: True
sendmessage: 20210406014237560,1,000052,000052
send message to PLC: 2021-04-06 01:42:37.614
time gap: 0:00:00.012844
2021-04-06 01:42:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:38.009
lastevent: 2021-04-06 01:42:38.006, last ten sensor data: [0, 0, 0, ('2021-04-06 01:42:37.720', 'D+000006.8'), ('2021-04-06 01:42:37.740', 'D+000007.0'), ('2021-04-06 01:42:37.760', 'D+000007.2'), ('2021-04-06 01:42:37.780', 'D+000007.8'), ('2021-04-06 01:42:37.800', 'D+000008.2'), ('2021-04-06 01:42:37.980', 'D+000006.8'), ('2021-04-06 01:42:38.000', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 7.2, 7.8, 8.2, 6.8, 7.0]
np.array X: [[7. ]
 [7.2]
 [7.8]
 [8.2]
 [6.8]
 [7. ]]
revised_weight: 7.3
2021-04-06 01:42:38.000: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:42:38.000
plc_result: True
sendmessage: 20210406014238000,1,000070,000073
send message to PLC: 2021-04-06 01:42:38.022
time gap: 0:00:00.012906
2021-04-06 01:42:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:38.497
lastevent: 2021-04-06 01:42:38.486, last ten sensor data: [('2021-04-06 01:42:38.020', 'D+000008.6'), ('2021-04-06 01:42:38.040', 'D+000008.2'), ('2021-04-06 01:42:38.060', 'D+000007.6'), ('2021-04-06 01:42:38.200', 'D+000007.4'), ('2021-04-06 01:42:38.230', 'D+000007.8'), ('2021-04-06 01:42:38.250', 'D+000007.8'), ('2021-04-06 01:42:38.270', 'D+000007.8'), ('2021-04-06 01:42:38.290', 'D+000007.8'), ('2021-04-06 01:42:38.470', 'D+000005.6'), ('2021-04-06 01:42:38.490', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.8, 7.8, 7.8, 7.8, 5.6, 5.6]
np.array X: [[7.8]
 [7.8]
 [7.8]
 [7.8]
 [5.6]
 [5.6]]
revised_weight: 6.0
2021-04-06 01:42:38.490: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:42:38.490
plc_result: True
sendmessage: 20210406014238490,1,000056,000060
send message to PLC: 2021-04-06 01:42:38.511
time gap: 0:00:00.013153
2021-04-06 01:42:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:39.680
lastevent: 2021-04-06 01:42:39.676, last ten sensor data: [('2021-04-06 01:42:39.230', 'D+000004.8'), ('2021-04-06 01:42:39.250', 'D+000004.8'), ('2021-04-06 01:42:39.270', 'D+000004.8'), ('2021-04-06 01:42:39.430', 'D+000005.4'), ('2021-04-06 01:42:39.450', 'D+000005.4'), ('2021-04-06 01:42:39.470', 'D+000005.6'), ('2021-04-06 01:42:39.490', 'D+000006.0'), ('2021-04-06 01:42:39.510', 'D+000005.8'), ('2021-04-06 01:42:39.530', 'D+000005.6'), ('2021-04-06 01:42:39.670', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 6.0, 5.8, 5.6, 4.8]
np.array X: [[5.4]
 [5.6]
 [6. ]
 [5.8]
 [5.6]
 [4.8]]
revised_weight: 5.4
2021-04-06 01:42:39.670: revising weight finished
2021-04-06 01:42:39: HTTP Send finished in httpPlcDataSender thread
revised_weight: 5.4 at 2021-04-06 01:42:39.670
2021-04-06 01:42:39: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
plc_result: True
sendmessage: 20210406014239670,1,000048,000054
send message to PLC: 2021-04-06 01:42:39.695
time gap: 0:00:00.014740
2021-04-06 01:42:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:39: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:39: select done
2021-04-06 01:42:39: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:42:39: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:42:39: sendjson called, 7 records in httpPlcDataSender thread
2021-04-06 01:42:39: count: 7 in httpPlcDataSender thread
2021-04-06 01:42:39: D+: 7 in httpPlcDataSender thread
2021-04-06 01:42:39: D-: 0 in httpPlcDataSender thread
2021-04-06 01:42:39: S+: 0 in httpPlcDataSender thread
2021-04-06 01:42:39: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:42:34.980'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:42:35.600'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:42:36.570'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:42:37.560'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:42:38.000'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:42:38.490'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:42:39.670'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:34.980'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:35.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:36.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:37.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:38.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:38.490'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:39.670'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:42:39', 'collectDate': '2021-04-06 01:42:39', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.5', 'sensorAt': '2021-04-06 01:42:34.980'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:42:35.600'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:42:36.570'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:42:37.560'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:42:38.000'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:42:38.490'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:42:39.670'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:34.980'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:35.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:36.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:37.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:38.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:38.490'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:39.670'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:42:40: send http
2021-04-06 01:42:40: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:42:40: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:40: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:40.950
lastevent: 2021-04-06 01:42:40.938, last ten sensor data: [('2021-04-06 01:42:40.280', 'D+000005.0'), ('2021-04-06 01:42:40.300', 'D+000005.0'), ('2021-04-06 01:42:40.470', 'D+000004.8'), ('2021-04-06 01:42:40.490', 'D+000004.6'), ('2021-04-06 01:42:40.510', 'D+000004.6'), ('2021-04-06 01:42:40.530', 'D+000004.4'), ('2021-04-06 01:42:40.720', 'D+000005.0'), ('2021-04-06 01:42:40.740', 'D+000005.4'), ('2021-04-06 01:42:40.760', 'D+000005.2'), ('2021-04-06 01:42:40.780', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.4, 5.0, 5.4, 5.2, 5.6]
np.array X: [[4.6]
 [4.4]
 [5. ]
 [5.4]
 [5.2]
 [5.6]]
revised_weight: 5.4
2021-04-06 01:42:40.780: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:42:40.780
plc_result: True
sendmessage: 20210406014240780,1,000056,000054
send message to PLC: 2021-04-06 01:42:40.963
time gap: 0:00:00.013585
2021-04-06 01:42:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:41.413
lastevent: 2021-04-06 01:42:41.407, last ten sensor data: [('2021-04-06 01:42:40.970', 'D+000006.0'), ('2021-04-06 01:42:40.990', 'D+000006.0'), ('2021-04-06 01:42:41.010', 'D+000005.8'), ('2021-04-06 01:42:41.030', 'D+000005.8'), ('2021-04-06 01:42:41.200', 'D+000007.6'), ('2021-04-06 01:42:41.220', 'D+000008.2'), ('2021-04-06 01:42:41.240', 'D+000008.2'), ('2021-04-06 01:42:41.260', 'D+000008.0'), ('2021-04-06 01:42:41.280', 'D+000007.8'), ('2021-04-06 01:42:41.300', 'D+000007.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.6, 8.2, 8.2, 8.0, 7.8, 7.6]
np.array X: [[7.6]
 [8.2]
 [8.2]
 [8. ]
 [7.8]
 [7.6]]
revised_weight: 7.8
2021-04-06 01:42:41.300: revising weight finished
revised_weight: 7.8 at 2021-04-06 01:42:41.300
plc_result: True
sendmessage: 20210406014241300,1,000076,000078
send message to PLC: 2021-04-06 01:42:41.427
time gap: 0:00:00.013396
2021-04-06 01:42:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:42.636
lastevent: 2021-04-06 01:42:42.631, last ten sensor data: [('2021-04-06 01:42:42.110', 'D+000003.6'), ('2021-04-06 01:42:42.290', 'D+000003.6'), ('2021-04-06 01:42:42.310', 'D+000004.2'), ('2021-04-06 01:42:42.330', 'D+000004.2'), ('2021-04-06 01:42:42.350', 'D+000004.2'), ('2021-04-06 01:42:42.510', 'D+000005.0'), ('2021-04-06 01:42:42.530', 'D+000005.2'), ('2021-04-06 01:42:42.550', 'D+000004.6'), ('2021-04-06 01:42:42.570', 'D+000004.4'), ('2021-04-06 01:42:42.590', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.0, 5.2, 4.6, 4.4, 5.2]
np.array X: [[4.2]
 [5. ]
 [5.2]
 [4.6]
 [4.4]
 [5.2]]
revised_weight: 4.8
2021-04-06 01:42:42.590: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:42:42.590
plc_result: True
sendmessage: 20210406014242590,1,000052,000048
send message to PLC: 2021-04-06 01:42:42.649
time gap: 0:00:00.012829
2021-04-06 01:42:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:44.427
lastevent: 2021-04-06 01:42:44.413, last ten sensor data: [('2021-04-06 01:42:43.810', 'D+000002.8'), ('2021-04-06 01:42:44.000', 'D+000002.8'), ('2021-04-06 01:42:44.020', 'D+000002.6'), ('2021-04-06 01:42:44.040', 'D+000002.4'), ('2021-04-06 01:42:44.060', 'D+000002.8'), ('2021-04-06 01:42:44.230', 'D+000003.6'), ('2021-04-06 01:42:44.250', 'D+000003.4'), ('2021-04-06 01:42:44.270', 'D+000003.6'), ('2021-04-06 01:42:44.290', 'D+000003.6'), ('2021-04-06 01:42:44.310', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.6, 3.4, 3.6, 3.6, 3.8]
np.array X: [[2.8]
 [3.6]
 [3.4]
 [3.6]
 [3.6]
 [3.8]]
revised_weight: 3.5
2021-04-06 01:42:44.310: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:42:44.310
plc_result: True
sendmessage: 20210406014244310,1,000038,000035
send message to PLC: 2021-04-06 01:42:44.440
time gap: 0:00:00.013747
2021-04-06 01:42:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:45.051
lastevent: 2021-04-06 01:42:45.045, last ten sensor data: [('2021-04-06 01:42:44.570', 'D+000003.4'), ('2021-04-06 01:42:44.720', 'D+000003.6'), ('2021-04-06 01:42:44.740', 'D+000003.2'), ('2021-04-06 01:42:44.760', 'D+000003.2'), ('2021-04-06 01:42:44.780', 'D+000003.6'), ('2021-04-06 01:42:44.970', 'D+000003.4'), ('2021-04-06 01:42:44.990', 'D+000003.2'), ('2021-04-06 01:42:45.010', 'D+000003.2'), ('2021-04-06 01:42:45.030', 'D+000003.2'), ('2021-04-06 01:42:45.050', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.4, 3.2, 3.2, 3.2, 3.4]
np.array X: [[3.6]
 [3.4]
 [3.2]
 [3.2]
 [3.2]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:42:45.050: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:42:45.050
plc_result: True
sendmessage: 20210406014245050,1,000034,000034
send message to PLC: 2021-04-06 01:42:45.066
time gap: 0:00:00.014501
2021-04-06 01:42:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:45: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:42:45: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:45: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:45: select done
2021-04-06 01:42:45: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:42:45: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:42:45: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:42:45: count: 5 in httpPlcDataSender thread
2021-04-06 01:42:45: D+: 5 in httpPlcDataSender thread
2021-04-06 01:42:45: D-: 0 in httpPlcDataSender thread
2021-04-06 01:42:45: S+: 0 in httpPlcDataSender thread
2021-04-06 01:42:45: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.4', 'sensorAt': '2021-04-06 01:42:40.780'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:42:41.300'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:42:42.590'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:42:44.310'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:42:45.050'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:40.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:41.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:42.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:44.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:45.050'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:42:45', 'collectDate': '2021-04-06 01:42:45', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.4', 'sensorAt': '2021-04-06 01:42:40.780'}, {'value': '7.8', 'sensorAt': '2021-04-06 01:42:41.300'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:42:42.590'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:42:44.310'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:42:45.050'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:40.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:41.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:42.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:44.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:45.050'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:42:45: send http
2021-04-06 01:42:45: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:42:45: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:45: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:46.241
lastevent: 2021-04-06 01:42:46.234, last ten sensor data: [('2021-04-06 01:42:45.730', 'D+000003.6'), ('2021-04-06 01:42:45.910', 'D+000004.8'), ('2021-04-06 01:42:45.930', 'D+000004.8'), ('2021-04-06 01:42:45.950', 'D+000004.6'), ('2021-04-06 01:42:45.970', 'D+000004.8'), ('2021-04-06 01:42:46.150', 'D+000007.4'), ('2021-04-06 01:42:46.170', 'D+000007.0'), ('2021-04-06 01:42:46.190', 'D+000006.8'), ('2021-04-06 01:42:46.210', 'D+000006.8'), ('2021-04-06 01:42:46.230', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 7.4, 7.0, 6.8, 6.8, 7.0]
np.array X: [[4.8]
 [7.4]
 [7. ]
 [6.8]
 [6.8]
 [7. ]]
revised_weight: 7.1
2021-04-06 01:42:46.230: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:42:46.230
plc_result: True
sendmessage: 20210406014246230,1,000070,000071
send message to PLC: 2021-04-06 01:42:46.254
time gap: 0:00:00.012735
2021-04-06 01:42:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:47.398
lastevent: 2021-04-06 01:42:47.385, last ten sensor data: [('2021-04-06 01:42:46.710', 'D+000006.4'), ('2021-04-06 01:42:46.890', 'D+000003.4'), ('2021-04-06 01:42:46.910', 'D+000003.4'), ('2021-04-06 01:42:46.930', 'D+000003.6'), ('2021-04-06 01:42:46.950', 'D+000003.4'), ('2021-04-06 01:42:47.130', 'D+000004.2'), ('2021-04-06 01:42:47.150', 'D+000004.2'), ('2021-04-06 01:42:47.170', 'D+000004.2'), ('2021-04-06 01:42:47.190', 'D+000004.4'), ('2021-04-06 01:42:47.390', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.2, 4.2, 4.2, 4.4, 3.6]
np.array X: [[3.4]
 [4.2]
 [4.2]
 [4.2]
 [4.4]
 [3.6]]
revised_weight: 3.8
2021-04-06 01:42:47.390: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:42:47.390
plc_result: True
sendmessage: 20210406014247390,1,000036,000038
send message to PLC: 2021-04-06 01:42:47.411
time gap: 0:00:00.013008
2021-04-06 01:42:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:49.911
lastevent: 2021-04-06 01:42:49.900, last ten sensor data: [('2021-04-06 01:42:49.390', 'D+000002.2'), ('2021-04-06 01:42:49.410', 'D+000002.4'), ('2021-04-06 01:42:49.580', 'D+000002.4'), ('2021-04-06 01:42:49.600', 'D+000002.8'), ('2021-04-06 01:42:49.620', 'D+000002.8'), ('2021-04-06 01:42:49.820', 'D+000005.4'), ('2021-04-06 01:42:49.840', 'D+000004.2'), ('2021-04-06 01:42:49.860', 'D+000003.2'), ('2021-04-06 01:42:49.880', 'D+000004.2'), ('2021-04-06 01:42:49.900', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 5.4, 4.2, 3.2, 4.2, 5.2]
np.array X: [[2.8]
 [5.4]
 [4.2]
 [3.2]
 [4.2]
 [5.2]]
revised_weight: 4.7
2021-04-06 01:42:49.900: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:42:49.900
plc_result: True
sendmessage: 20210406014249900,1,000052,000047
send message to PLC: 2021-04-06 01:42:49.923
time gap: 0:00:00.012217
2021-04-06 01:42:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:50.573
lastevent: 2021-04-06 01:42:50.563, last ten sensor data: [('2021-04-06 01:42:50.090', 'D+000004.6'), ('2021-04-06 01:42:50.110', 'D+000004.4'), ('2021-04-06 01:42:50.130', 'D+000004.4'), ('2021-04-06 01:42:50.290', 'D+000003.6'), ('2021-04-06 01:42:50.310', 'D+000004.2'), ('2021-04-06 01:42:50.330', 'D+000004.4'), ('2021-04-06 01:42:50.350', 'D+000004.0'), ('2021-04-06 01:42:50.370', 'D+000004.0'), ('2021-04-06 01:42:50.550', 'D+000003.6'), ('2021-04-06 01:42:50.570', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.4, 4.0, 4.0, 3.6, 3.8]
np.array X: [[4.2]
 [4.4]
 [4. ]
 [4. ]
 [3.6]
 [3.8]]
revised_weight: 3.9
2021-04-06 01:42:50.570: revising weight finished
revised_weight: 3.9 at 2021-04-06 01:42:50.570
plc_result: True
sendmessage: 20210406014250570,1,000038,000039
send message to PLC: 2021-04-06 01:42:50.585
time gap: 0:00:00.012031
2021-04-06 01:42:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:50: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:42:50: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:50: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:50: select done
2021-04-06 01:42:50: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:42:50: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:42:51: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:42:51: count: 4 in httpPlcDataSender thread
2021-04-06 01:42:51: D+: 4 in httpPlcDataSender thread
2021-04-06 01:42:51: D-: 0 in httpPlcDataSender thread
2021-04-06 01:42:51: S+: 0 in httpPlcDataSender thread
2021-04-06 01:42:51: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.1', 'sensorAt': '2021-04-06 01:42:46.230'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:42:47.390'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:42:49.900'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:42:50.570'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:46.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:47.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:49.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:50.570'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:42:51', 'collectDate': '2021-04-06 01:42:50', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.1', 'sensorAt': '2021-04-06 01:42:46.230'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:42:47.390'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:42:49.900'}, {'value': '3.9', 'sensorAt': '2021-04-06 01:42:50.570'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:46.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:47.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:49.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:50.570'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:42:51: send http
2021-04-06 01:42:51: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:42:51: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:51: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:52.389
lastevent: 2021-04-06 01:42:52.374, last ten sensor data: [('2021-04-06 01:42:52.020', 'D+000002.6'), ('2021-04-06 01:42:52.040', 'D+000002.6'), ('2021-04-06 01:42:52.060', 'D+000002.6'), ('2021-04-06 01:42:52.080', 'D+000002.4'), ('2021-04-06 01:42:52.100', 'D+000002.2'), ('2021-04-06 01:42:52.260', 'D+000003.0'), ('2021-04-06 01:42:52.280', 'D+000003.0'), ('2021-04-06 01:42:52.300', 'D+000002.8'), ('2021-04-06 01:42:52.320', 'D+000002.8'), ('2021-04-06 01:42:52.340', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 3.0, 3.0, 2.8, 2.8, 3.0]
np.array X: [[2.2]
 [3. ]
 [3. ]
 [2.8]
 [2.8]
 [3. ]]
revised_weight: 3.1
2021-04-06 01:42:52.340: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:42:52.340
plc_result: True
sendmessage: 20210406014252340,1,000030,000031
send message to PLC: 2021-04-06 01:42:52.401
time gap: 0:00:00.011843
2021-04-06 01:42:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:54.236
lastevent: 2021-04-06 01:42:54.221, last ten sensor data: [('2021-04-06 01:42:53.540', 'D+000003.0'), ('2021-04-06 01:42:53.730', 'D+000003.2'), ('2021-04-06 01:42:53.750', 'D+000003.4'), ('2021-04-06 01:42:53.770', 'D+000003.0'), ('2021-04-06 01:42:53.790', 'D+000003.0'), ('2021-04-06 01:42:53.810', 'D+000003.0'), ('2021-04-06 01:42:53.990', 'D+000004.0'), ('2021-04-06 01:42:54.010', 'D+000004.0'), ('2021-04-06 01:42:54.030', 'D+000004.0'), ('2021-04-06 01:42:54.230', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 4.0, 4.0, 4.0, 4.2]
np.array X: [[3. ]
 [3. ]
 [4. ]
 [4. ]
 [4. ]
 [4.2]]
revised_weight: 4.0
2021-04-06 01:42:54.230: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:42:54.230
plc_result: True
sendmessage: 20210406014254230,1,000042,000040
send message to PLC: 2021-04-06 01:42:54.247
time gap: 0:00:00.011203
2021-04-06 01:42:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:55.483
lastevent: 2021-04-06 01:42:55.468, last ten sensor data: [('2021-04-06 01:42:55.030', 'D+000004.0'), ('2021-04-06 01:42:55.200', 'D+000004.2'), ('2021-04-06 01:42:55.220', 'D+000004.2'), ('2021-04-06 01:42:55.240', 'D+000004.4'), ('2021-04-06 01:42:55.260', 'D+000004.4'), ('2021-04-06 01:42:55.280', 'D+000004.4'), ('2021-04-06 01:42:55.420', 'D+000005.8'), ('2021-04-06 01:42:55.440', 'D+000005.6'), ('2021-04-06 01:42:55.460', 'D+000005.4'), ('2021-04-06 01:42:55.480', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 5.8, 5.6, 5.4, 5.2]
np.array X: [[4.4]
 [4.4]
 [5.8]
 [5.6]
 [5.4]
 [5.2]]
revised_weight: 5.2
2021-04-06 01:42:55.480: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:42:55.480
plc_result: True
sendmessage: 20210406014255480,1,000052,000052
send message to PLC: 2021-04-06 01:42:55.495
time gap: 0:00:00.011921
2021-04-06 01:42:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:56.168
lastevent: 2021-04-06 01:42:56.157, last ten sensor data: [('2021-04-06 01:42:55.520', 'D+000005.4'), ('2021-04-06 01:42:55.680', 'D+000005.2'), ('2021-04-06 01:42:55.700', 'D+000005.2'), ('2021-04-06 01:42:55.720', 'D+000005.0'), ('2021-04-06 01:42:55.740', 'D+000005.0'), ('2021-04-06 01:42:55.920', 'D+000005.2'), ('2021-04-06 01:42:55.940', 'D+000005.4'), ('2021-04-06 01:42:55.960', 'D+000005.4'), ('2021-04-06 01:42:55.980', 'D+000005.0'), ('2021-04-06 01:42:56.000', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 5.4, 5.4, 5.0, 5.0]
np.array X: [[5. ]
 [5.2]
 [5.4]
 [5.4]
 [5. ]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:42:56.000: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:42:56.000
plc_result: True
sendmessage: 20210406014256000,1,000050,000051
send message to PLC: 2021-04-06 01:42:56.174
time gap: 0:00:00.006624
2021-04-06 01:42:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:56: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:42:56: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:56: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:56: select done
2021-04-06 01:42:56: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:42:56: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:42:56: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:42:56: count: 4 in httpPlcDataSender thread
2021-04-06 01:42:56: D+: 4 in httpPlcDataSender thread
2021-04-06 01:42:56: D-: 0 in httpPlcDataSender thread
2021-04-06 01:42:56: S+: 0 in httpPlcDataSender thread
2021-04-06 01:42:56: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.1', 'sensorAt': '2021-04-06 01:42:52.340'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:42:54.230'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:42:55.480'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:42:56.000'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:52.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:54.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:55.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:56.000'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:42:56', 'collectDate': '2021-04-06 01:42:56', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.1', 'sensorAt': '2021-04-06 01:42:52.340'}, {'value': '4.0', 'sensorAt': '2021-04-06 01:42:54.230'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:42:55.480'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:42:56.000'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:52.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:54.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:55.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:56.000'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:56.714
lastevent: 2021-04-06 01:42:56.696, last ten sensor data: [('2021-04-06 01:42:56.200', 'D+000004.6'), ('2021-04-06 01:42:56.220', 'D+000005.0'), ('2021-04-06 01:42:56.400', 'D+000004.4'), ('2021-04-06 01:42:56.420', 'D+000004.4'), ('2021-04-06 01:42:56.440', 'D+000004.8'), ('2021-04-06 01:42:56.460', 'D+000005.0'), ('2021-04-06 01:42:56.480', 'D+000005.2'), ('2021-04-06 01:42:56.540', 'D+000005.0'), ('2021-04-06 01:42:56.700', 'D+000004.6'), ('2021-04-06 01:42:56.720', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.0, 5.2, 5.0, 4.6, 5.2]
np.array X: [[4.8]
 [5. ]
 [5.2]
 [5. ]
 [4.6]
 [5.2]]
revised_weight: 5.1
2021-04-06 01:42:56.720: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:42:56.720
plc_result: True
sendmessage: 20210406014256720,1,000052,000051
send message to PLC: 2021-04-06 01:42:56.720
time gap: 0:00:00.006475
2021-04-06 01:42:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:42:56: send http
2021-04-06 01:42:56: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:42:56: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:42:57: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:42:57.196
lastevent: 2021-04-06 01:42:57.191, last ten sensor data: [('2021-04-06 01:42:56.830', 'D+000004.6'), ('2021-04-06 01:42:56.890', 'D+000005.2'), ('2021-04-06 01:42:56.910', 'D+000005.4'), ('2021-04-06 01:42:56.930', 'D+000005.4'), ('2021-04-06 01:42:56.950', 'D+000005.4'), ('2021-04-06 01:42:56.970', 'D+000005.2'), ('2021-04-06 01:42:57.130', 'D+000005.4'), ('2021-04-06 01:42:57.150', 'D+000005.4'), ('2021-04-06 01:42:57.170', 'D+000005.6'), ('2021-04-06 01:42:57.190', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.2, 5.4, 5.4, 5.6, 6.0]
np.array X: [[5.4]
 [5.2]
 [5.4]
 [5.4]
 [5.6]
 [6. ]]
revised_weight: 5.6
2021-04-06 01:42:57.190: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:42:57.190
plc_result: True
sendmessage: 20210406014257190,1,000060,000056
send message to PLC: 2021-04-06 01:42:57.202
time gap: 0:00:00.006708
2021-04-06 01:42:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:57.871
lastevent: 2021-04-06 01:42:57.854, last ten sensor data: [('2021-04-06 01:42:57.210', 'D+000005.4'), ('2021-04-06 01:42:57.390', 'D+000005.2'), ('2021-04-06 01:42:57.410', 'D+000005.2'), ('2021-04-06 01:42:57.430', 'D+000005.2'), ('2021-04-06 01:42:57.450', 'D+000005.0'), ('2021-04-06 01:42:57.470', 'D+000004.8'), ('2021-04-06 01:42:57.650', 'D+000004.6'), ('2021-04-06 01:42:57.670', 'D+000004.6'), ('2021-04-06 01:42:57.690', 'D+000004.6'), ('2021-04-06 01:42:57.710', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.8, 4.6, 4.6, 4.6, 4.8]
np.array X: [[5. ]
 [4.8]
 [4.6]
 [4.6]
 [4.6]
 [4.8]]
revised_weight: 4.8
2021-04-06 01:42:57.710: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:42:57.710
plc_result: True
sendmessage: 20210406014257710,1,000048,000048
send message to PLC: 2021-04-06 01:42:57.882
time gap: 0:00:00.011522
2021-04-06 01:42:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:42:59.895
lastevent: 2021-04-06 01:42:59.890, last ten sensor data: [('2021-04-06 01:42:59.440', 'D+000002.8'), ('2021-04-06 01:42:59.500', 'D+000002.4'), ('2021-04-06 01:42:59.520', 'D+000002.6'), ('2021-04-06 01:42:59.540', 'D+000002.8'), ('2021-04-06 01:42:59.560', 'D+000003.0'), ('2021-04-06 01:42:59.740', 'D+000004.0'), ('2021-04-06 01:42:59.760', 'D+000004.0'), ('2021-04-06 01:42:59.780', 'D+000004.2'), ('2021-04-06 01:42:59.800', 'D+000004.2'), ('2021-04-06 01:42:59.820', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 4.0, 4.0, 4.2, 4.2, 4.2]
np.array X: [[3. ]
 [4. ]
 [4. ]
 [4.2]
 [4.2]
 [4.2]]
revised_weight: 3.8
2021-04-06 01:42:59.820: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:42:59.820
plc_result: True
sendmessage: 20210406014259820,1,000042,000038
send message to PLC: 2021-04-06 01:42:59.901
time gap: 0:00:00.006621
2021-04-06 01:42:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:00.683
lastevent: 2021-04-06 01:43:00.670, last ten sensor data: [('2021-04-06 01:43:00.230', 'D+000003.6'), ('2021-04-06 01:43:00.250', 'D+000003.8'), ('2021-04-06 01:43:00.270', 'D+000003.8'), ('2021-04-06 01:43:00.290', 'D+000003.6'), ('2021-04-06 01:43:00.310', 'D+000003.4'), ('2021-04-06 01:43:00.460', 'D+000004.4'), ('2021-04-06 01:43:00.480', 'D+000004.4'), ('2021-04-06 01:43:00.500', 'D+000004.4'), ('2021-04-06 01:43:00.520', 'D+000004.4'), ('2021-04-06 01:43:00.540', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 4.4, 4.4, 4.4, 4.4, 4.4]
np.array X: [[3.4]
 [4.4]
 [4.4]
 [4.4]
 [4.4]
 [4.4]]
revised_weight: 4.3
2021-04-06 01:43:00.540: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:43:00.540
plc_result: True
sendmessage: 20210406014300540,1,000044,000043
send message to PLC: 2021-04-06 01:43:00.690
time gap: 0:00:00.006672
2021-04-06 01:43:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:01.277
lastevent: 2021-04-06 01:43:01.270, last ten sensor data: [('2021-04-06 01:43:00.780', 'D+000004.6'), ('2021-04-06 01:43:00.800', 'D+000004.8'), ('2021-04-06 01:43:00.940', 'D+000005.0'), ('2021-04-06 01:43:00.970', 'D+000005.0'), ('2021-04-06 01:43:00.990', 'D+000005.2'), ('2021-04-06 01:43:01.010', 'D+000005.2'), ('2021-04-06 01:43:01.200', 'D+000004.4'), ('2021-04-06 01:43:01.220', 'D+000004.6'), ('2021-04-06 01:43:01.240', 'D+000005.0'), ('2021-04-06 01:43:01.260', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 4.4, 4.6, 5.0, 5.0]
np.array X: [[5.2]
 [5.2]
 [4.4]
 [4.6]
 [5. ]
 [5. ]]
revised_weight: 5.0
2021-04-06 01:43:01.260: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:43:01.260
plc_result: True
sendmessage: 20210406014301260,1,000050,000050
send message to PLC: 2021-04-06 01:43:01.287
time gap: 0:00:00.010377
2021-04-06 01:43:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:01: httpScaleDataSender thread Timeout occurred
2021-04-06 01:43:01: [13728] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
2021-04-06 01:43:01: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2021-04-06 01:43:02: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:43:02: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:02: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:02: select done
2021-04-06 01:43:02: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:43:02: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:43:02: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:43:02: count: 6 in httpPlcDataSender thread
2021-04-06 01:43:02: D+: 6 in httpPlcDataSender thread
2021-04-06 01:43:02: D-: 0 in httpPlcDataSender thread
2021-04-06 01:43:02: S+: 0 in httpPlcDataSender thread
2021-04-06 01:43:02: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.1', 'sensorAt': '2021-04-06 01:42:56.720'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:42:57.190'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:42:57.710'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:42:59.820'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:43:00.540'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:43:01.260'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:56.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:57.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:57.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:59.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:00.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:01.260'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:43:02', 'collectDate': '2021-04-06 01:43:01', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.1', 'sensorAt': '2021-04-06 01:42:56.720'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:42:57.190'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:42:57.710'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:42:59.820'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:43:00.540'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:43:01.260'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:42:56.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:57.190'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:57.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:42:59.820'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:00.540'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:01.260'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:43:02: send http
2021-04-06 01:43:02: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:43:02: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:02: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:03.377
lastevent: 2021-04-06 01:43:03.363, last ten sensor data: [('2021-04-06 01:43:02.730', 'D+000002.6'), ('2021-04-06 01:43:02.920', 'D+000003.0'), ('2021-04-06 01:43:02.940', 'D+000003.4'), ('2021-04-06 01:43:02.960', 'D+000003.4'), ('2021-04-06 01:43:02.980', 'D+000003.4'), ('2021-04-06 01:43:03.130', 'D+000003.2'), ('2021-04-06 01:43:03.160', 'D+000003.6'), ('2021-04-06 01:43:03.180', 'D+000003.6'), ('2021-04-06 01:43:03.200', 'D+000003.6'), ('2021-04-06 01:43:03.220', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.2, 3.6, 3.6, 3.6, 3.6]
np.array X: [[3.4]
 [3.2]
 [3.6]
 [3.6]
 [3.6]
 [3.6]]
revised_weight: 3.5
2021-04-06 01:43:03.220: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:43:03.220
plc_result: True
sendmessage: 20210406014303220,1,000036,000035
send message to PLC: 2021-04-06 01:43:03.384
time gap: 0:00:00.007363
2021-04-06 01:43:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:03.876
lastevent: 2021-04-06 01:43:03.868, last ten sensor data: [0, 0, 0, ('2021-04-06 01:43:03.390', 'D+000003.8'), ('2021-04-06 01:43:03.410', 'D+000003.8'), ('2021-04-06 01:43:03.430', 'D+000003.8'), ('2021-04-06 01:43:03.450', 'D+000003.6'), ('2021-04-06 01:43:03.650', 'D+000004.0'), ('2021-04-06 01:43:03.670', 'D+000004.0'), ('2021-04-06 01:43:03.690', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 3.6, 4.0, 4.0, 4.2]
np.array X: [[3.8]
 [3.8]
 [3.6]
 [4. ]
 [4. ]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:43:03.690: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:43:03.690
plc_result: True
sendmessage: 20210406014303690,1,000042,000043
send message to PLC: 2021-04-06 01:43:03.883
time gap: 0:00:00.007601
2021-04-06 01:43:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:05.105
lastevent: 2021-04-06 01:43:05.100, last ten sensor data: [('2021-04-06 01:43:04.600', 'D+000004.4'), ('2021-04-06 01:43:04.640', 'D+000004.6'), ('2021-04-06 01:43:04.660', 'D+000004.6'), ('2021-04-06 01:43:04.680', 'D+000004.8'), ('2021-04-06 01:43:04.860', 'D+000004.4'), ('2021-04-06 01:43:04.880', 'D+000004.4'), ('2021-04-06 01:43:04.900', 'D+000004.6'), ('2021-04-06 01:43:04.920', 'D+000004.8'), ('2021-04-06 01:43:04.940', 'D+000004.8'), ('2021-04-06 01:43:04.960', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 4.6, 4.8, 4.8, 4.6]
np.array X: [[4.4]
 [4.4]
 [4.6]
 [4.8]
 [4.8]
 [4.6]]
revised_weight: 4.7
2021-04-06 01:43:04.960: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:43:04.960
plc_result: True
sendmessage: 20210406014304960,1,000046,000047
send message to PLC: 2021-04-06 01:43:05.112
time gap: 0:00:00.006947
2021-04-06 01:43:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:05.889
lastevent: 2021-04-06 01:43:05.881, last ten sensor data: [('2021-04-06 01:43:05.410', 'D+000004.0'), ('2021-04-06 01:43:05.430', 'D+000004.2'), ('2021-04-06 01:43:05.460', 'D+000004.6'), ('2021-04-06 01:43:05.620', 'D+000004.4'), ('2021-04-06 01:43:05.640', 'D+000004.6'), ('2021-04-06 01:43:05.660', 'D+000004.6'), ('2021-04-06 01:43:05.680', 'D+000004.4'), ('2021-04-06 01:43:05.700', 'D+000004.4'), ('2021-04-06 01:43:05.860', 'D+000004.4'), ('2021-04-06 01:43:05.880', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 4.4, 4.4, 4.4, 4.4]
np.array X: [[4.6]
 [4.6]
 [4.4]
 [4.4]
 [4.4]
 [4.4]]
revised_weight: 4.5
2021-04-06 01:43:05.880: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:43:05.880
plc_result: True
sendmessage: 20210406014305880,1,000044,000045
send message to PLC: 2021-04-06 01:43:05.897
time gap: 0:00:00.008438
2021-04-06 01:43:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:07.412
lastevent: 2021-04-06 01:43:07.397, last ten sensor data: [('2021-04-06 01:43:06.910', 'D+000003.6'), ('2021-04-06 01:43:07.090', 'D+000004.4'), ('2021-04-06 01:43:07.110', 'D+000004.2'), ('2021-04-06 01:43:07.130', 'D+000004.4'), ('2021-04-06 01:43:07.150', 'D+000004.6'), ('2021-04-06 01:43:07.330', 'D+000004.6'), ('2021-04-06 01:43:07.350', 'D+000004.6'), ('2021-04-06 01:43:07.370', 'D+000004.6'), ('2021-04-06 01:43:07.390', 'D+000004.4'), ('2021-04-06 01:43:07.410', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 4.6, 4.6, 4.4, 4.6]
np.array X: [[4.6]
 [4.6]
 [4.6]
 [4.6]
 [4.4]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:43:07.410: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:43:07.410
plc_result: True
sendmessage: 20210406014307410,1,000046,000046
send message to PLC: 2021-04-06 01:43:07.420
time gap: 0:00:00.007574
2021-04-06 01:43:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:07: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:43:07: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:07: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:07: select done
2021-04-06 01:43:07: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:43:07: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:43:07: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:43:07: count: 5 in httpPlcDataSender thread
2021-04-06 01:43:07: D+: 5 in httpPlcDataSender thread
2021-04-06 01:43:07: D-: 0 in httpPlcDataSender thread
2021-04-06 01:43:07: S+: 0 in httpPlcDataSender thread
2021-04-06 01:43:07: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.5', 'sensorAt': '2021-04-06 01:43:03.220'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:43:03.690'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:43:04.960'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:43:05.880'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:43:07.410'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:03.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:03.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:04.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:05.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:07.410'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:43:07', 'collectDate': '2021-04-06 01:43:07', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.5', 'sensorAt': '2021-04-06 01:43:03.220'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:43:03.690'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:43:04.960'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:43:05.880'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:43:07.410'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:03.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:03.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:04.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:05.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:07.410'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:43:08: send http
2021-04-06 01:43:08: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:43:08: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:08.182
lastevent: 2021-04-06 01:43:08.170, last ten sensor data: [('2021-04-06 01:43:07.650', 'D+000004.6'), ('2021-04-06 01:43:07.670', 'D+000004.6'), ('2021-04-06 01:43:07.810', 'D+000004.8'), ('2021-04-06 01:43:07.840', 'D+000005.4'), ('2021-04-06 01:43:07.860', 'D+000005.8'), ('2021-04-06 01:43:07.880', 'D+000005.8'), ('2021-04-06 01:43:07.900', 'D+000005.4'), ('2021-04-06 01:43:08.140', 'D+000008.2'), ('2021-04-06 01:43:08.160', 'D+000007.2'), ('2021-04-06 01:43:08.180', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.8, 5.4, 8.2, 7.2, 6.8]
np.array X: [[5.8]
 [5.8]
 [5.4]
 [8.2]
 [7.2]
 [6.8]]
revised_weight: 6.9
2021-04-06 01:43:08.180: revising weight finished
revised_weight: 6.9 at 2021-04-06 01:43:08.180
plc_result: True
sendmessage: 20210406014308180,1,000068,000069
send message to PLC: 2021-04-06 01:43:08.189
time gap: 0:00:00.006846
2021-04-06 01:43:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:08: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:08.577
lastevent: 2021-04-06 01:43:08.567, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:43:08.200', 'D+000007.0'), ('2021-04-06 01:43:08.380', 'D+000008.0'), ('2021-04-06 01:43:08.400', 'D+000009.4'), ('2021-04-06 01:43:08.420', 'D+000009.4'), ('2021-04-06 01:43:08.440', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 7.0, 8.0, 9.4, 9.4, 7.8]
np.array X: [[0. ]
 [7. ]
 [8. ]
 [9.4]
 [9.4]
 [7.8]]
revised_weight: 7.0
2021-04-06 01:43:08.440: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:43:08.440
plc_result: True
sendmessage: 20210406014308440,1,000078,000070
send message to PLC: 2021-04-06 01:43:08.583
time gap: 0:00:00.006709
2021-04-06 01:43:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:09.069
lastevent: 2021-04-06 01:43:09.054, last ten sensor data: [('2021-04-06 01:43:08.620', 'D+000007.2'), ('2021-04-06 01:43:08.640', 'D+000007.0'), ('2021-04-06 01:43:08.660', 'D+000007.0'), ('2021-04-06 01:43:08.680', 'D+000006.6'), ('2021-04-06 01:43:08.700', 'D+000006.6'), ('2021-04-06 01:43:08.860', 'D+000006.4'), ('2021-04-06 01:43:08.880', 'D+000006.0'), ('2021-04-06 01:43:08.900', 'D+000006.0'), ('2021-04-06 01:43:08.920', 'D+000005.6'), ('2021-04-06 01:43:08.940', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.4, 6.0, 6.0, 5.6, 5.8]
np.array X: [[6.6]
 [6.4]
 [6. ]
 [6. ]
 [5.6]
 [5.8]]
revised_weight: 6.2
2021-04-06 01:43:08.940: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:43:08.940
plc_result: True
sendmessage: 20210406014308940,1,000058,000062
send message to PLC: 2021-04-06 01:43:09.075
time gap: 0:00:00.006724
2021-04-06 01:43:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:09.940
lastevent: 2021-04-06 01:43:09.924, last ten sensor data: [('2021-04-06 01:43:09.600', 'D+000005.4'), ('2021-04-06 01:43:09.620', 'D+000005.4'), ('2021-04-06 01:43:09.640', 'D+000005.6'), ('2021-04-06 01:43:09.660', 'D+000006.0'), ('2021-04-06 01:43:09.680', 'D+000006.2'), ('2021-04-06 01:43:09.850', 'D+000007.4'), ('2021-04-06 01:43:09.870', 'D+000005.8'), ('2021-04-06 01:43:09.890', 'D+000005.6'), ('2021-04-06 01:43:09.910', 'D+000007.2'), ('2021-04-06 01:43:09.930', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 7.4, 5.8, 5.6, 7.2, 6.2]
np.array X: [[6.2]
 [7.4]
 [5.8]
 [5.6]
 [7.2]
 [6.2]]
revised_weight: 5.9
2021-04-06 01:43:09.930: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:43:09.930
plc_result: True
sendmessage: 20210406014309930,1,000062,000059
send message to PLC: 2021-04-06 01:43:09.955
time gap: 0:00:00.014667
2021-04-06 01:43:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:10.385
lastevent: 2021-04-06 01:43:10.377, last ten sensor data: [('2021-04-06 01:43:09.960', 'D+000006.6'), ('2021-04-06 01:43:10.070', 'D+000006.4'), ('2021-04-06 01:43:10.100', 'D+000006.6'), ('2021-04-06 01:43:10.120', 'D+000006.6'), ('2021-04-06 01:43:10.140', 'D+000006.8'), ('2021-04-06 01:43:10.260', 'D+000006.4'), ('2021-04-06 01:43:10.280', 'D+000006.2'), ('2021-04-06 01:43:10.300', 'D+000006.0'), ('2021-04-06 01:43:10.320', 'D+000006.2'), ('2021-04-06 01:43:10.340', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.4, 6.2, 6.0, 6.2, 6.4]
np.array X: [[6.8]
 [6.4]
 [6.2]
 [6. ]
 [6.2]
 [6.4]]
revised_weight: 6.4
2021-04-06 01:43:10.340: revising weight finished
revised_weight: 6.4 at 2021-04-06 01:43:10.340
plc_result: True
sendmessage: 20210406014310340,1,000064,000064
send message to PLC: 2021-04-06 01:43:10.392
time gap: 0:00:00.007451
2021-04-06 01:43:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:10.907
lastevent: 2021-04-06 01:43:10.885, last ten sensor data: [('2021-04-06 01:43:10.480', 'D+000005.8'), ('2021-04-06 01:43:10.510', 'D+000005.4'), ('2021-04-06 01:43:10.530', 'D+000005.8'), ('2021-04-06 01:43:10.550', 'D+000006.0'), ('2021-04-06 01:43:10.570', 'D+000005.8'), ('2021-04-06 01:43:10.750', 'D+000006.0'), ('2021-04-06 01:43:10.770', 'D+000005.6'), ('2021-04-06 01:43:10.790', 'D+000005.6'), ('2021-04-06 01:43:10.810', 'D+000006.0'), ('2021-04-06 01:43:10.830', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.0, 5.6, 5.6, 6.0, 6.0]
np.array X: [[5.8]
 [6. ]
 [5.6]
 [5.6]
 [6. ]
 [6. ]]
revised_weight: 5.7
2021-04-06 01:43:10.830: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:43:10.830
plc_result: True
sendmessage: 20210406014310830,1,000060,000057
send message to PLC: 2021-04-06 01:43:10.919
time gap: 0:00:00.011932
2021-04-06 01:43:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:11.357
lastevent: 2021-04-06 01:43:11.347, last ten sensor data: [('2021-04-06 01:43:11.010', 'D+000006.2'), ('2021-04-06 01:43:11.030', 'D+000006.2'), ('2021-04-06 01:43:11.050', 'D+000006.4'), ('2021-04-06 01:43:11.070', 'D+000006.2'), ('2021-04-06 01:43:11.230', 'D+000007.0'), ('2021-04-06 01:43:11.250', 'D+000006.8'), ('2021-04-06 01:43:11.270', 'D+000007.4'), ('2021-04-06 01:43:11.290', 'D+000007.4'), ('2021-04-06 01:43:11.310', 'D+000007.0'), ('2021-04-06 01:43:11.330', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 6.8, 7.4, 7.4, 7.0, 7.0]
np.array X: [[7. ]
 [6.8]
 [7.4]
 [7.4]
 [7. ]
 [7. ]]
revised_weight: 7.0
2021-04-06 01:43:11.330: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:43:11.330
plc_result: True
sendmessage: 20210406014311330,1,000070,000070
send message to PLC: 2021-04-06 01:43:11.365
time gap: 0:00:00.007259
2021-04-06 01:43:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:12.739
lastevent: 2021-04-06 01:43:12.731, last ten sensor data: [('2021-04-06 01:43:12.260', 'D+000004.2'), ('2021-04-06 01:43:12.280', 'D+000004.4'), ('2021-04-06 01:43:12.450', 'D+000005.2'), ('2021-04-06 01:43:12.470', 'D+000005.2'), ('2021-04-06 01:43:12.490', 'D+000005.0'), ('2021-04-06 01:43:12.510', 'D+000005.2'), ('2021-04-06 01:43:12.530', 'D+000005.2'), ('2021-04-06 01:43:12.700', 'D+000005.8'), ('2021-04-06 01:43:12.720', 'D+000006.2'), ('2021-04-06 01:43:12.740', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 5.2, 5.8, 6.2, 6.2]
np.array X: [[5. ]
 [5.2]
 [5.2]
 [5.8]
 [6.2]
 [6.2]]
revised_weight: 6.0
2021-04-06 01:43:12.740: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:43:12.740
plc_result: True
sendmessage: 20210406014312740,1,000062,000060
send message to PLC: 2021-04-06 01:43:12.746
time gap: 0:00:00.006641
2021-04-06 01:43:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:13: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:43:13: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:13: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:13: select done
2021-04-06 01:43:13: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:43:13: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:13.454
lastevent: 2021-04-06 01:43:13.438, last ten sensor data: [('2021-04-06 01:43:12.990', 'D+000006.0'), ('2021-04-06 01:43:13.010', 'D+000005.8'), ('2021-04-06 01:43:13.190', 'D+000006.4'), ('2021-04-06 01:43:13.210', 'D+000007.0'), ('2021-04-06 01:43:13.230', 'D+000007.4'), ('2021-04-06 01:43:13.250', 'D+000008.2'), ('2021-04-06 01:43:13.270', 'D+000008.4'), ('2021-04-06 01:43:13.310', 'D+000007.6'), ('2021-04-06 01:43:13.420', 'D+000009.8'), ('2021-04-06 01:43:13.440', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 8.2, 8.4, 7.6, 9.8, 7.2]
np.array X: [[7.4]
 [8.2]
 [8.4]
 [7.6]
 [9.8]
 [7.2]]
revised_weight: 7.8
2021-04-06 01:43:13.440: revising weight finished
revised_weight: 7.8 at 2021-04-06 01:43:13.440
plc_result: True
sendmessage: 20210406014313440,1,000072,000078
2021-04-06 01:43:13: sendjson called, 8 records in httpPlcDataSender thread
2021-04-06 01:43:13: count: 8 in httpPlcDataSender thread
2021-04-06 01:43:13: D+: 8 in httpPlcDataSender thread
2021-04-06 01:43:13: D-: 0 in httpPlcDataSender thread
send message to PLC: 2021-04-06 01:43:13.462
2021-04-06 01:43:13: S+: 0 in httpPlcDataSender thread
time gap: 0:00:00.008533
2021-04-06 01:43:13: S-: 0 in httpPlcDataSender thread
2021-04-06 01:43:13: insertdb called
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.9', 'sensorAt': '2021-04-06 01:43:08.180'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:43:08.440'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:43:08.940'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:43:09.930'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:43:10.340'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:43:10.830'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:43:11.330'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:43:12.740'}]} in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:08.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:08.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:08.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:09.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:10.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:10.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:11.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:12.740'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:43:13', 'collectDate': '2021-04-06 01:43:12', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.9', 'sensorAt': '2021-04-06 01:43:08.180'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:43:08.440'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:43:08.940'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:43:09.930'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:43:10.340'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:43:10.830'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:43:11.330'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:43:12.740'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:08.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:08.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:08.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:09.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:10.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:10.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:11.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:12.740'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:43:13: send http
2021-04-06 01:43:13: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:43:13: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:13: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:13.868
lastevent: 2021-04-06 01:43:13.857, last ten sensor data: [0, 0, ('2021-04-06 01:43:13.460', 'D+000007.0'), ('2021-04-06 01:43:13.480', 'D+000008.2'), ('2021-04-06 01:43:13.500', 'D+000008.2'), ('2021-04-06 01:43:13.660', 'D+000009.4'), ('2021-04-06 01:43:13.680', 'D+000010.6'), ('2021-04-06 01:43:13.700', 'D+000009.8'), ('2021-04-06 01:43:13.720', 'D+000008.2'), ('2021-04-06 01:43:13.740', 'D+000009.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.2, 9.4, 10.6, 9.8, 8.2, 9.2]
np.array X: [[ 8.2]
 [ 9.4]
 [10.6]
 [ 9.8]
 [ 8.2]
 [ 9.2]]
revised_weight: 9.9
2021-04-06 01:43:13.740: revising weight finished
revised_weight: 9.9 at 2021-04-06 01:43:13.740
plc_result: True
sendmessage: 20210406014313740,1,000092,000099
send message to PLC: 2021-04-06 01:43:13.875
time gap: 0:00:00.006827
2021-04-06 01:43:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:14.678
lastevent: 2021-04-06 01:43:14.668, last ten sensor data: [('2021-04-06 01:43:14.170', 'D+000005.0'), ('2021-04-06 01:43:14.190', 'D+000005.2'), ('2021-04-06 01:43:14.210', 'D+000005.6'), ('2021-04-06 01:43:14.230', 'D+000005.2'), ('2021-04-06 01:43:14.420', 'D+000005.0'), ('2021-04-06 01:43:14.440', 'D+000005.2'), ('2021-04-06 01:43:14.460', 'D+000005.4'), ('2021-04-06 01:43:14.480', 'D+000005.6'), ('2021-04-06 01:43:14.650', 'D+000006.4'), ('2021-04-06 01:43:14.670', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 5.4, 5.6, 6.4, 6.6]
np.array X: [[5. ]
 [5.2]
 [5.4]
 [5.6]
 [6.4]
 [6.6]]
revised_weight: 6.0
2021-04-06 01:43:14.670: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:43:14.670
plc_result: True
sendmessage: 20210406014314670,1,000066,000060
send message to PLC: 2021-04-06 01:43:14.685
time gap: 0:00:00.007213
2021-04-06 01:43:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:15.869
lastevent: 2021-04-06 01:43:15.853, last ten sensor data: [('2021-04-06 01:43:15.250', 'D+000006.4'), ('2021-04-06 01:43:15.270', 'D+000006.4'), ('2021-04-06 01:43:15.440', 'D+000005.2'), ('2021-04-06 01:43:15.460', 'D+000005.6'), ('2021-04-06 01:43:15.480', 'D+000005.6'), ('2021-04-06 01:43:15.510', 'D+000005.0'), ('2021-04-06 01:43:15.680', 'D+000005.8'), ('2021-04-06 01:43:15.700', 'D+000006.0'), ('2021-04-06 01:43:15.720', 'D+000005.8'), ('2021-04-06 01:43:15.740', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.0, 5.8, 6.0, 5.8, 5.8]
np.array X: [[5.6]
 [5. ]
 [5.8]
 [6. ]
 [5.8]
 [5.8]]
revised_weight: 5.7
2021-04-06 01:43:15.740: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:43:15.740
plc_result: True
sendmessage: 20210406014315740,1,000058,000057
send message to PLC: 2021-04-06 01:43:15.876
time gap: 0:00:00.007006
2021-04-06 01:43:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:16.983
lastevent: 2021-04-06 01:43:16.967, last ten sensor data: [('2021-04-06 01:43:16.460', 'D+000005.6'), ('2021-04-06 01:43:16.480', 'D+000005.4'), ('2021-04-06 01:43:16.500', 'D+000005.6'), ('2021-04-06 01:43:16.550', 'D+000006.0'), ('2021-04-06 01:43:16.640', 'D+000005.2'), ('2021-04-06 01:43:16.810', 'D+000006.2'), ('2021-04-06 01:43:16.830', 'D+000006.0'), ('2021-04-06 01:43:16.850', 'D+000005.8'), ('2021-04-06 01:43:16.870', 'D+000006.6'), ('2021-04-06 01:43:16.890', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 6.2, 6.0, 5.8, 6.6, 7.2]
np.array X: [[5.2]
 [6.2]
 [6. ]
 [5.8]
 [6.6]
 [7.2]]
revised_weight: 6.2
2021-04-06 01:43:16.890: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:43:16.890
plc_result: True
sendmessage: 20210406014316890,1,000072,000062
send message to PLC: 2021-04-06 01:43:16.989
time gap: 0:00:00.006262
2021-04-06 01:43:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:17.380
lastevent: 2021-04-06 01:43:17.367, last ten sensor data: [('2021-04-06 01:43:17.050', 'D+000006.6'), ('2021-04-06 01:43:17.070', 'D+000006.6'), ('2021-04-06 01:43:17.090', 'D+000006.6'), ('2021-04-06 01:43:17.110', 'D+000007.2'), ('2021-04-06 01:43:17.130', 'D+000007.4'), ('2021-04-06 01:43:17.300', 'D+000006.6'), ('2021-04-06 01:43:17.320', 'D+000006.6'), ('2021-04-06 01:43:17.340', 'D+000006.8'), ('2021-04-06 01:43:17.360', 'D+000006.2'), ('2021-04-06 01:43:17.380', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 6.6, 6.6, 6.8, 6.2, 6.2]
np.array X: [[7.4]
 [6.6]
 [6.6]
 [6.8]
 [6.2]
 [6.2]]
revised_weight: 6.7
2021-04-06 01:43:17.380: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:43:17.380
plc_result: True
sendmessage: 20210406014317380,1,000062,000067
send message to PLC: 2021-04-06 01:43:17.387
time gap: 0:00:00.006263
2021-04-06 01:43:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:17.815
lastevent: 2021-04-06 01:43:17.807, last ten sensor data: [0, 0, 0, ('2021-04-06 01:43:17.530', 'D+000005.8'), ('2021-04-06 01:43:17.560', 'D+000005.6'), ('2021-04-06 01:43:17.580', 'D+000005.4'), ('2021-04-06 01:43:17.600', 'D+000005.4'), ('2021-04-06 01:43:17.620', 'D+000005.8'), ('2021-04-06 01:43:17.790', 'D+000005.0'), ('2021-04-06 01:43:17.810', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.4, 5.4, 5.8, 5.0, 5.2]
np.array X: [[5.6]
 [5.4]
 [5.4]
 [5.8]
 [5. ]
 [5.2]]
revised_weight: 5.3
2021-04-06 01:43:17.810: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:43:17.810
plc_result: True
sendmessage: 20210406014317810,1,000052,000053
send message to PLC: 2021-04-06 01:43:17.822
time gap: 0:00:00.006553
2021-04-06 01:43:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:18: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:43:18: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:18: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:18: select done
2021-04-06 01:43:18: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:43:18: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:18.997
lastevent: 2021-04-06 01:43:18.981, last ten sensor data: [('2021-04-06 01:43:18.620', 'D+000004.4'), ('2021-04-06 01:43:18.640', 'D+000004.4'), ('2021-04-06 01:43:18.670', 'D+000004.2'), ('2021-04-06 01:43:18.820', 'D+000004.8'), ('2021-04-06 01:43:18.840', 'D+000004.6'), ('2021-04-06 01:43:18.860', 'D+000004.6'), ('2021-04-06 01:43:18.880', 'D+000004.0'), ('2021-04-06 01:43:18.900', 'D+000004.2'), ('2021-04-06 01:43:18.920', 'D+000004.4'), ('2021-04-06 01:43:18.970', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.6, 4.0, 4.2, 4.4, 3.8]
np.array X: [[4.6]
 [4.6]
 [4. ]
 [4.2]
 [4.4]
 [3.8]]
revised_weight: 4.1
2021-04-06 01:43:18.970: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:43:18.970
plc_result: True
sendmessage: 20210406014318970,1,000038,000041
send message to PLC: 2021-04-06 01:43:19.004
time gap: 0:00:00.006629
2021-04-06 01:43:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:19: sendjson called, 7 records in httpPlcDataSender thread
2021-04-06 01:43:19: count: 7 in httpPlcDataSender thread
2021-04-06 01:43:19: D+: 7 in httpPlcDataSender thread
2021-04-06 01:43:19: D-: 0 in httpPlcDataSender thread
2021-04-06 01:43:19: S+: 0 in httpPlcDataSender thread
2021-04-06 01:43:19: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.8', 'sensorAt': '2021-04-06 01:43:13.440'}, {'value': '9.9', 'sensorAt': '2021-04-06 01:43:13.740'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:43:14.670'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:43:15.740'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:43:16.890'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:43:17.380'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:43:17.810'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:13.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:13.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:14.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:15.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:16.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:17.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:17.810'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:43:19', 'collectDate': '2021-04-06 01:43:17', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.8', 'sensorAt': '2021-04-06 01:43:13.440'}, {'value': '9.9', 'sensorAt': '2021-04-06 01:43:13.740'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:43:14.670'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:43:15.740'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:43:16.890'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:43:17.380'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:43:17.810'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:13.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:13.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:14.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:15.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:16.890'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:17.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:17.810'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:43:19: send http
2021-04-06 01:43:19: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:43:19: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:19.413
lastevent: 2021-04-06 01:43:19.404, last ten sensor data: [('2021-04-06 01:43:19.100', 'D+000004.6'), ('2021-04-06 01:43:19.120', 'D+000004.6'), ('2021-04-06 01:43:19.140', 'D+000004.6'), ('2021-04-06 01:43:19.160', 'D+000004.4'), ('2021-04-06 01:43:19.220', 'D+000004.8'), ('2021-04-06 01:43:19.320', 'D+000004.6'), ('2021-04-06 01:43:19.340', 'D+000004.8'), ('2021-04-06 01:43:19.360', 'D+000004.4'), ('2021-04-06 01:43:19.380', 'D+000004.4'), ('2021-04-06 01:43:19.400', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.6, 4.8, 4.4, 4.4, 4.2]
np.array X: [[4.8]
 [4.6]
 [4.8]
 [4.4]
 [4.4]
 [4.2]]
revised_weight: 4.5
2021-04-06 01:43:19.400: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:43:19.400
plc_result: True
sendmessage: 20210406014319400,1,000042,000045
send message to PLC: 2021-04-06 01:43:19.420
time gap: 0:00:00.007273
2021-04-06 01:43:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:19: got 'update query' results  in httpPlcDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:43:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:20.822
lastevent: 2021-04-06 01:43:20.815, last ten sensor data: [('2021-04-06 01:43:20.350', 'D+000003.6'), ('2021-04-06 01:43:20.370', 'D+000003.6'), ('2021-04-06 01:43:20.530', 'D+000005.0'), ('2021-04-06 01:43:20.550', 'D+000005.0'), ('2021-04-06 01:43:20.570', 'D+000005.0'), ('2021-04-06 01:43:20.590', 'D+000005.0'), ('2021-04-06 01:43:20.610', 'D+000005.0'), ('2021-04-06 01:43:20.790', 'D+000006.0'), ('2021-04-06 01:43:20.810', 'D+000005.8'), ('2021-04-06 01:43:20.830', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.0, 5.0, 6.0, 5.8, 6.0]
np.array X: [[5. ]
 [5. ]
 [5. ]
 [6. ]
 [5.8]
 [6. ]]
revised_weight: 6.0
2021-04-06 01:43:20.830: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:43:20.830
plc_result: True
sendmessage: 20210406014320830,1,000060,000060
send message to PLC: 2021-04-06 01:43:20.828
time gap: 0:00:00.006367
2021-04-06 01:43:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:21.574
lastevent: 2021-04-06 01:43:21.573, last ten sensor data: [('2021-04-06 01:43:21.260', 'D+000006.8'), ('2021-04-06 01:43:21.280', 'D+000007.0'), ('2021-04-06 01:43:21.300', 'D+000007.4'), ('2021-04-06 01:43:21.320', 'D+000007.2'), ('2021-04-06 01:43:21.340', 'D+000007.4'), ('2021-04-06 01:43:21.360', 'D+000007.2'), ('2021-04-06 01:43:21.520', 'D+000007.2'), ('2021-04-06 01:43:21.540', 'D+000008.2'), ('2021-04-06 01:43:21.560', 'D+000007.8'), ('2021-04-06 01:43:21.580', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.4, 7.2, 7.2, 8.2, 7.8, 7.2]
np.array X: [[7.4]
 [7.2]
 [7.2]
 [8.2]
 [7.8]
 [7.2]]
revised_weight: 7.3
2021-04-06 01:43:21.580: revising weight finished
revised_weight: 7.3 at 2021-04-06 01:43:21.580
plc_result: True
sendmessage: 20210406014321580,1,000072,000073
send message to PLC: 2021-04-06 01:43:21.582
time gap: 0:00:00.007459
2021-04-06 01:43:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:23.676
lastevent: 2021-04-06 01:43:23.670, last ten sensor data: [('2021-04-06 01:43:23.230', 'D+000004.2'), ('2021-04-06 01:43:23.250', 'D+000004.4'), ('2021-04-06 01:43:23.270', 'D+000004.4'), ('2021-04-06 01:43:23.290', 'D+000004.2'), ('2021-04-06 01:43:23.310', 'D+000004.0'), ('2021-04-06 01:43:23.470', 'D+000004.4'), ('2021-04-06 01:43:23.490', 'D+000004.6'), ('2021-04-06 01:43:23.510', 'D+000004.8'), ('2021-04-06 01:43:23.530', 'D+000004.8'), ('2021-04-06 01:43:23.550', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.4, 4.6, 4.8, 4.8, 5.0]
np.array X: [[4. ]
 [4.4]
 [4.6]
 [4.8]
 [4.8]
 [5. ]]
revised_weight: 4.8
2021-04-06 01:43:23.550: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:43:23.550
plc_result: True
sendmessage: 20210406014323550,1,000050,000048
send message to PLC: 2021-04-06 01:43:23.683
time gap: 0:00:00.006989
2021-04-06 01:43:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:24: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:43:24: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:24: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:24: select done
2021-04-06 01:43:24: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:43:24: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:43:24: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:43:24: count: 5 in httpPlcDataSender thread
2021-04-06 01:43:24: D+: 5 in httpPlcDataSender thread
2021-04-06 01:43:24: D-: 0 in httpPlcDataSender thread
2021-04-06 01:43:24: S+: 0 in httpPlcDataSender thread
2021-04-06 01:43:24: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:43:18.970'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:43:19.400'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:43:20.830'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:43:21.580'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:43:23.550'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:18.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:19.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:20.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:21.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:23.550'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:43:24', 'collectDate': '2021-04-06 01:43:23', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:43:18.970'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:43:19.400'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:43:20.830'}, {'value': '7.3', 'sensorAt': '2021-04-06 01:43:21.580'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:43:23.550'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:18.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:19.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:20.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:21.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:23.550'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:43:24: send http
2021-04-06 01:43:24: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:43:24: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:25: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:25.716
lastevent: 2021-04-06 01:43:25.710, last ten sensor data: [('2021-04-06 01:43:25.220', 'D+000004.4'), ('2021-04-06 01:43:25.240', 'D+000004.4'), ('2021-04-06 01:43:25.260', 'D+000004.4'), ('2021-04-06 01:43:25.440', 'D+000005.0'), ('2021-04-06 01:43:25.460', 'D+000005.0'), ('2021-04-06 01:43:25.480', 'D+000005.8'), ('2021-04-06 01:43:25.500', 'D+000006.2'), ('2021-04-06 01:43:25.660', 'D+000007.4'), ('2021-04-06 01:43:25.690', 'D+000005.8'), ('2021-04-06 01:43:25.710', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.8, 6.2, 7.4, 5.8, 6.2]
np.array X: [[5. ]
 [5.8]
 [6.2]
 [7.4]
 [5.8]
 [6.2]]
revised_weight: 6.6
2021-04-06 01:43:25.710: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:43:25.710
plc_result: True
sendmessage: 20210406014325710,1,000062,000066
send message to PLC: 2021-04-06 01:43:25.728
time gap: 0:00:00.012061
2021-04-06 01:43:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:26.081
lastevent: 2021-04-06 01:43:26.073, last ten sensor data: [0, 0, 0, ('2021-04-06 01:43:25.730', 'D+000006.8'), ('2021-04-06 01:43:25.750', 'D+000006.6'), ('2021-04-06 01:43:25.920', 'D+000007.0'), ('2021-04-06 01:43:25.940', 'D+000006.8'), ('2021-04-06 01:43:25.960', 'D+000006.6'), ('2021-04-06 01:43:25.980', 'D+000006.6'), ('2021-04-06 01:43:26.000', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 7.0, 6.8, 6.6, 6.6, 6.6]
np.array X: [[6.6]
 [7. ]
 [6.8]
 [6.6]
 [6.6]
 [6.6]]
revised_weight: 6.6
2021-04-06 01:43:26.000: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:43:26.000
plc_result: True
sendmessage: 20210406014326000,1,000066,000066
send message to PLC: 2021-04-06 01:43:26.093
time gap: 0:00:00.011505
2021-04-06 01:43:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:26.424
lastevent: 2021-04-06 01:43:26.421, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:43:26.170', 'D+000007.0'), ('2021-04-06 01:43:26.190', 'D+000006.8'), ('2021-04-06 01:43:26.210', 'D+000006.8'), ('2021-04-06 01:43:26.230', 'D+000006.4'), ('2021-04-06 01:43:26.410', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 7.0, 6.8, 6.8, 6.4, 6.6]
np.array X: [[0. ]
 [7. ]
 [6.8]
 [6.8]
 [6.4]
 [6.6]]
revised_weight: 5.9
2021-04-06 01:43:26.410: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:43:26.410
plc_result: True
sendmessage: 20210406014326410,1,000066,000059
send message to PLC: 2021-04-06 01:43:26.435
time gap: 0:00:00.011751
2021-04-06 01:43:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:26.759
lastevent: 2021-04-06 01:43:26.753, last ten sensor data: [0, 0, ('2021-04-06 01:43:26.440', 'D+000006.2'), ('2021-04-06 01:43:26.460', 'D+000006.4'), ('2021-04-06 01:43:26.480', 'D+000007.2'), ('2021-04-06 01:43:26.650', 'D+000007.0'), ('2021-04-06 01:43:26.670', 'D+000007.2'), ('2021-04-06 01:43:26.690', 'D+000007.6'), ('2021-04-06 01:43:26.710', 'D+000007.4'), ('2021-04-06 01:43:26.730', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.2, 7.0, 7.2, 7.6, 7.4, 7.4]
np.array X: [[7.2]
 [7. ]
 [7.2]
 [7.6]
 [7.4]
 [7.4]]
revised_weight: 7.2
2021-04-06 01:43:26.730: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:43:26.730
plc_result: True
sendmessage: 20210406014326730,1,000074,000072
send message to PLC: 2021-04-06 01:43:26.773
time gap: 0:00:00.013763
2021-04-06 01:43:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:27.114
lastevent: 2021-04-06 01:43:27.112, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:43:26.790', 'D+000008.4'), ('2021-04-06 01:43:26.890', 'D+000007.4'), ('2021-04-06 01:43:26.910', 'D+000007.4'), ('2021-04-06 01:43:26.930', 'D+000008.0'), ('2021-04-06 01:43:26.950', 'D+000008.8'), ('2021-04-06 01:43:26.970', 'D+000008.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.4, 7.4, 7.4, 8.0, 8.8, 8.4]
np.array X: [[8.4]
 [7.4]
 [7.4]
 [8. ]
 [8.8]
 [8.4]]
revised_weight: 8.1
2021-04-06 01:43:26.970: revising weight finished
revised_weight: 8.1 at 2021-04-06 01:43:26.970
plc_result: True
sendmessage: 20210406014326970,1,000084,000081
send message to PLC: 2021-04-06 01:43:27.121
time gap: 0:00:00.006332
2021-04-06 01:43:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:28.218
lastevent: 2021-04-06 01:43:28.205, last ten sensor data: [('2021-04-06 01:43:27.680', 'D+000004.8'), ('2021-04-06 01:43:27.700', 'D+000004.6'), ('2021-04-06 01:43:27.870', 'D+000004.6'), ('2021-04-06 01:43:27.890', 'D+000004.6'), ('2021-04-06 01:43:27.910', 'D+000004.8'), ('2021-04-06 01:43:27.930', 'D+000004.8'), ('2021-04-06 01:43:28.120', 'D+000005.0'), ('2021-04-06 01:43:28.140', 'D+000004.8'), ('2021-04-06 01:43:28.160', 'D+000004.8'), ('2021-04-06 01:43:28.180', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 5.0, 4.8, 4.8, 4.8]
np.array X: [[4.8]
 [4.8]
 [5. ]
 [4.8]
 [4.8]
 [4.8]]
revised_weight: 4.8
2021-04-06 01:43:28.180: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:43:28.180
plc_result: True
sendmessage: 20210406014328180,1,000048,000048
send message to PLC: 2021-04-06 01:43:28.230
time gap: 0:00:00.011834
2021-04-06 01:43:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:28.707
lastevent: 2021-04-06 01:43:28.703, last ten sensor data: [0, ('2021-04-06 01:43:28.360', 'D+000004.4'), ('2021-04-06 01:43:28.380', 'D+000004.4'), ('2021-04-06 01:43:28.400', 'D+000004.4'), ('2021-04-06 01:43:28.420', 'D+000004.2'), ('2021-04-06 01:43:28.570', 'D+000004.2'), ('2021-04-06 01:43:28.590', 'D+000004.2'), ('2021-04-06 01:43:28.610', 'D+000004.0'), ('2021-04-06 01:43:28.630', 'D+000003.8'), ('2021-04-06 01:43:28.650', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 4.2, 4.0, 3.8, 3.6]
np.array X: [[4.2]
 [4.2]
 [4.2]
 [4. ]
 [3.8]
 [3.6]]
revised_weight: 3.7
2021-04-06 01:43:28.650: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:43:28.650
plc_result: True
sendmessage: 20210406014328650,1,000036,000037
send message to PLC: 2021-04-06 01:43:28.714
time gap: 0:00:00.006450
2021-04-06 01:43:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:29.944
lastevent: 2021-04-06 01:43:29.934, last ten sensor data: [('2021-04-06 01:43:29.390', 'D+000004.0'), ('2021-04-06 01:43:29.550', 'D+000003.8'), ('2021-04-06 01:43:29.570', 'D+000003.8'), ('2021-04-06 01:43:29.590', 'D+000004.2'), ('2021-04-06 01:43:29.610', 'D+000004.4'), ('2021-04-06 01:43:29.770', 'D+000004.8'), ('2021-04-06 01:43:29.800', 'D+000006.6'), ('2021-04-06 01:43:29.820', 'D+000004.8'), ('2021-04-06 01:43:29.840', 'D+000004.4'), ('2021-04-06 01:43:29.860', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.8, 6.6, 4.8, 4.4, 6.0]
np.array X: [[4.4]
 [4.8]
 [6.6]
 [4.8]
 [4.4]
 [6. ]]
revised_weight: 6.6
2021-04-06 01:43:29.860: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:43:29.860
plc_result: True
sendmessage: 20210406014329860,1,000060,000066
send message to PLC: 2021-04-06 01:43:29.955
time gap: 0:00:00.011262
2021-04-06 01:43:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:30: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:43:30: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:30: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:30: select done
2021-04-06 01:43:30: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:43:30: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:43:30: sendjson called, 8 records in httpPlcDataSender thread
2021-04-06 01:43:30: count: 8 in httpPlcDataSender thread
2021-04-06 01:43:30: D+: 8 in httpPlcDataSender thread
2021-04-06 01:43:30: D-: 0 in httpPlcDataSender thread
2021-04-06 01:43:30: S+: 0 in httpPlcDataSender thread
2021-04-06 01:43:30: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.6', 'sensorAt': '2021-04-06 01:43:25.710'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:43:26.000'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:43:26.410'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:43:26.730'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:43:26.970'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:43:28.180'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:43:28.650'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:43:29.860'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:25.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:26.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:26.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:26.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:26.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:28.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:28.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:29.860'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:43:30', 'collectDate': '2021-04-06 01:43:29', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.6', 'sensorAt': '2021-04-06 01:43:25.710'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:43:26.000'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:43:26.410'}, {'value': '7.2', 'sensorAt': '2021-04-06 01:43:26.730'}, {'value': '8.1', 'sensorAt': '2021-04-06 01:43:26.970'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:43:28.180'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:43:28.650'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:43:29.860'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:25.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:26.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:26.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:26.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:26.970'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:28.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:28.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:29.860'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:30.319
lastevent: 2021-04-06 01:43:30.313, last ten sensor data: [0, ('2021-04-06 01:43:29.960', 'D+000006.2'), ('2021-04-06 01:43:30.030', 'D+000006.0'), ('2021-04-06 01:43:30.050', 'D+000006.2'), ('2021-04-06 01:43:30.070', 'D+000006.2'), ('2021-04-06 01:43:30.090', 'D+000006.0'), ('2021-04-06 01:43:30.250', 'D+000005.6'), ('2021-04-06 01:43:30.290', 'D+000005.6'), ('2021-04-06 01:43:30.310', 'D+000005.6'), ('2021-04-06 01:43:30.330', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.0, 5.6, 5.6, 5.6, 5.6]
np.array X: [[6.2]
 [6. ]
 [5.6]
 [5.6]
 [5.6]
 [5.6]]
revised_weight: 5.8
2021-04-06 01:43:30.330: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:43:30.330
plc_result: True
sendmessage: 20210406014330330,1,000056,000058
send message to PLC: 2021-04-06 01:43:30.331
time gap: 0:00:00.011364
2021-04-06 01:43:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:30: send http
2021-04-06 01:43:30: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:43:30: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:30: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:30.943
lastevent: 2021-04-06 01:43:30.931, last ten sensor data: [('2021-04-06 01:43:30.540', 'D+000005.2'), ('2021-04-06 01:43:30.560', 'D+000005.0'), ('2021-04-06 01:43:30.580', 'D+000005.2'), ('2021-04-06 01:43:30.600', 'D+000005.6'), ('2021-04-06 01:43:30.760', 'D+000005.8'), ('2021-04-06 01:43:30.780', 'D+000005.2'), ('2021-04-06 01:43:30.800', 'D+000005.2'), ('2021-04-06 01:43:30.820', 'D+000005.8'), ('2021-04-06 01:43:30.840', 'D+000005.6'), ('2021-04-06 01:43:30.860', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 5.2, 5.2, 5.8, 5.6, 5.0]
np.array X: [[5.8]
 [5.2]
 [5.2]
 [5.8]
 [5.6]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:43:30.860: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:43:30.860
plc_result: True
sendmessage: 20210406014330860,1,000050,000051
send message to PLC: 2021-04-06 01:43:30.949
time gap: 0:00:00.006254
2021-04-06 01:43:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:31.332
lastevent: 2021-04-06 01:43:31.325, last ten sensor data: [('2021-04-06 01:43:31.000', 'D+000006.8'), ('2021-04-06 01:43:31.020', 'D+000007.2'), ('2021-04-06 01:43:31.040', 'D+000007.4'), ('2021-04-06 01:43:31.060', 'D+000007.2'), ('2021-04-06 01:43:31.080', 'D+000007.0'), ('2021-04-06 01:43:31.240', 'D+000007.2'), ('2021-04-06 01:43:31.270', 'D+000007.2'), ('2021-04-06 01:43:31.290', 'D+000007.4'), ('2021-04-06 01:43:31.310', 'D+000008.0'), ('2021-04-06 01:43:31.330', 'D+000008.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 7.2, 7.2, 7.4, 8.0, 8.0]
np.array X: [[7. ]
 [7.2]
 [7.2]
 [7.4]
 [8. ]
 [8. ]]
revised_weight: 7.5
2021-04-06 01:43:31.330: revising weight finished
revised_weight: 7.5 at 2021-04-06 01:43:31.330
plc_result: True
sendmessage: 20210406014331330,1,000080,000075
send message to PLC: 2021-04-06 01:43:31.343
time gap: 0:00:00.010992
2021-04-06 01:43:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:31.671
lastevent: 2021-04-06 01:43:31.664, last ten sensor data: [0, 0, 0, 0, 0, 0, ('2021-04-06 01:43:31.500', 'D+000008.4'), ('2021-04-06 01:43:31.520', 'D+000007.8'), ('2021-04-06 01:43:31.540', 'D+000006.6'), ('2021-04-06 01:43:31.560', 'D+000007.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 0, 8.4, 7.8, 6.6, 7.2]
np.array X: [[0. ]
 [0. ]
 [8.4]
 [7.8]
 [6.6]
 [7.2]]
revised_weight: 6.8
2021-04-06 01:43:31.560: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:43:31.560
plc_result: True
sendmessage: 20210406014331560,1,000072,000068
send message to PLC: 2021-04-06 01:43:31.682
time gap: 0:00:00.011199
2021-04-06 01:43:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:32.354
lastevent: 2021-04-06 01:43:32.342, last ten sensor data: [('2021-04-06 01:43:31.810', 'D+000006.0'), ('2021-04-06 01:43:31.990', 'D+000005.6'), ('2021-04-06 01:43:32.010', 'D+000005.4'), ('2021-04-06 01:43:32.030', 'D+000005.4'), ('2021-04-06 01:43:32.050', 'D+000005.6'), ('2021-04-06 01:43:32.230', 'D+000005.6'), ('2021-04-06 01:43:32.250', 'D+000006.2'), ('2021-04-06 01:43:32.270', 'D+000006.2'), ('2021-04-06 01:43:32.290', 'D+000005.8'), ('2021-04-06 01:43:32.310', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.6, 6.2, 6.2, 5.8, 5.8]
np.array X: [[5.6]
 [5.6]
 [6.2]
 [6.2]
 [5.8]
 [5.8]]
revised_weight: 5.9
2021-04-06 01:43:32.310: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:43:32.310
plc_result: True
sendmessage: 20210406014332310,1,000058,000059
send message to PLC: 2021-04-06 01:43:32.365
time gap: 0:00:00.011288
2021-04-06 01:43:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:32.784
lastevent: 2021-04-06 01:43:32.777, last ten sensor data: [0, ('2021-04-06 01:43:32.470', 'D+000006.2'), ('2021-04-06 01:43:32.490', 'D+000006.4'), ('2021-04-06 01:43:32.510', 'D+000006.4'), ('2021-04-06 01:43:32.530', 'D+000006.2'), ('2021-04-06 01:43:32.710', 'D+000006.8'), ('2021-04-06 01:43:32.730', 'D+000006.2'), ('2021-04-06 01:43:32.750', 'D+000005.8'), ('2021-04-06 01:43:32.770', 'D+000006.4'), ('2021-04-06 01:43:32.790', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.8, 6.2, 5.8, 6.4, 6.6]
np.array X: [[6.2]
 [6.8]
 [6.2]
 [5.8]
 [6.4]
 [6.6]]
revised_weight: 6.0
2021-04-06 01:43:32.790: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:43:32.790
plc_result: True
sendmessage: 20210406014332790,1,000066,000060
send message to PLC: 2021-04-06 01:43:32.795
time gap: 0:00:00.011270
2021-04-06 01:43:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:33.780
lastevent: 2021-04-06 01:43:33.774, last ten sensor data: [('2021-04-06 01:43:33.430', 'D+000004.6'), ('2021-04-06 01:43:33.460', 'D+000004.8'), ('2021-04-06 01:43:33.480', 'D+000004.6'), ('2021-04-06 01:43:33.500', 'D+000004.4'), ('2021-04-06 01:43:33.520', 'D+000004.2'), ('2021-04-06 01:43:33.690', 'D+000005.0'), ('2021-04-06 01:43:33.710', 'D+000005.0'), ('2021-04-06 01:43:33.730', 'D+000004.6'), ('2021-04-06 01:43:33.750', 'D+000004.4'), ('2021-04-06 01:43:33.770', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.0, 5.0, 4.6, 4.4, 4.8]
np.array X: [[4.2]
 [5. ]
 [5. ]
 [4.6]
 [4.4]
 [4.8]]
revised_weight: 4.7
2021-04-06 01:43:33.770: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:43:33.770
plc_result: True
sendmessage: 20210406014333770,1,000048,000047
send message to PLC: 2021-04-06 01:43:33.793
time gap: 0:00:00.013006
2021-04-06 01:43:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:34.477
lastevent: 2021-04-06 01:43:34.469, last ten sensor data: [('2021-04-06 01:43:34.000', 'D+000004.4'), ('2021-04-06 01:43:34.020', 'D+000004.6'), ('2021-04-06 01:43:34.040', 'D+000004.6'), ('2021-04-06 01:43:34.060', 'D+000004.4'), ('2021-04-06 01:43:34.210', 'D+000005.2'), ('2021-04-06 01:43:34.240', 'D+000005.6'), ('2021-04-06 01:43:34.260', 'D+000006.0'), ('2021-04-06 01:43:34.280', 'D+000006.0'), ('2021-04-06 01:43:34.300', 'D+000006.0'), ('2021-04-06 01:43:34.470', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.6, 6.0, 6.0, 6.0, 5.6]
np.array X: [[5.2]
 [5.6]
 [6. ]
 [6. ]
 [6. ]
 [5.6]]
revised_weight: 5.6
2021-04-06 01:43:34.470: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:43:34.470
plc_result: True
sendmessage: 20210406014334470,1,000056,000056
send message to PLC: 2021-04-06 01:43:34.485
time gap: 0:00:00.007343
2021-04-06 01:43:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:34.893
lastevent: 2021-04-06 01:43:34.879, last ten sensor data: [0, 0, 0, ('2021-04-06 01:43:34.490', 'D+000005.6'), ('2021-04-06 01:43:34.510', 'D+000006.6'), ('2021-04-06 01:43:34.530', 'D+000006.4'), ('2021-04-06 01:43:34.720', 'D+000006.0'), ('2021-04-06 01:43:34.740', 'D+000006.6'), ('2021-04-06 01:43:34.760', 'D+000006.4'), ('2021-04-06 01:43:34.780', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.6, 6.4, 6.0, 6.6, 6.4, 6.0]
np.array X: [[6.6]
 [6.4]
 [6. ]
 [6.6]
 [6.4]
 [6. ]]
revised_weight: 6.3
2021-04-06 01:43:34.780: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:43:34.780
plc_result: True
sendmessage: 20210406014334780,1,000060,000063
send message to PLC: 2021-04-06 01:43:34.906
time gap: 0:00:00.012902
2021-04-06 01:43:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:35: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:43:35: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:35: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:35: select done
2021-04-06 01:43:35: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:43:35: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:43:35: sendjson called, 9 records in httpPlcDataSender thread
2021-04-06 01:43:35: count: 9 in httpPlcDataSender thread
2021-04-06 01:43:35: D+: 9 in httpPlcDataSender thread
2021-04-06 01:43:35: D-: 0 in httpPlcDataSender thread
2021-04-06 01:43:35: S+: 0 in httpPlcDataSender thread
2021-04-06 01:43:35: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:43:30.330'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:43:30.860'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:43:31.330'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:43:31.560'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:43:32.310'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:43:32.790'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:43:33.770'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:43:34.470'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:43:34.780'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:30.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:30.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:31.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:31.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:32.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:32.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:33.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:34.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:34.780'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:43:35', 'collectDate': '2021-04-06 01:43:34', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.8', 'sensorAt': '2021-04-06 01:43:30.330'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:43:30.860'}, {'value': '7.5', 'sensorAt': '2021-04-06 01:43:31.330'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:43:31.560'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:43:32.310'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:43:32.790'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:43:33.770'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:43:34.470'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:43:34.780'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:30.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:30.860'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:31.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:31.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:32.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:32.790'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:33.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:34.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:34.780'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:43:35: send http
2021-04-06 01:43:35: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:43:36: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:36: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:36.404
lastevent: 2021-04-06 01:43:36.391, last ten sensor data: [('2021-04-06 01:43:35.850', 'D+000003.6'), ('2021-04-06 01:43:35.870', 'D+000003.6'), ('2021-04-06 01:43:35.940', 'D+000003.4'), ('2021-04-06 01:43:35.960', 'D+000003.6'), ('2021-04-06 01:43:35.990', 'D+000003.6'), ('2021-04-06 01:43:36.010', 'D+000003.6'), ('2021-04-06 01:43:36.200', 'D+000003.2'), ('2021-04-06 01:43:36.220', 'D+000003.2'), ('2021-04-06 01:43:36.240', 'D+000003.4'), ('2021-04-06 01:43:36.260', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.2, 3.2, 3.4, 3.2]
np.array X: [[3.6]
 [3.6]
 [3.2]
 [3.2]
 [3.4]
 [3.2]]
revised_weight: 3.2
2021-04-06 01:43:36.260: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:43:36.260
plc_result: True
sendmessage: 20210406014336260,1,000032,000032
send message to PLC: 2021-04-06 01:43:36.419
time gap: 0:00:00.015326
2021-04-06 01:43:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:38.321
lastevent: 2021-04-06 01:43:38.312, last ten sensor data: [('2021-04-06 01:43:37.870', 'D+000002.4'), ('2021-04-06 01:43:37.900', 'D+000002.4'), ('2021-04-06 01:43:37.920', 'D+000002.4'), ('2021-04-06 01:43:37.940', 'D+000002.4'), ('2021-04-06 01:43:37.960', 'D+000002.2'), ('2021-04-06 01:43:38.130', 'D+000002.6'), ('2021-04-06 01:43:38.150', 'D+000002.4'), ('2021-04-06 01:43:38.170', 'D+000002.6'), ('2021-04-06 01:43:38.190', 'D+000002.6'), ('2021-04-06 01:43:38.210', 'D+000002.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.6, 2.4, 2.6, 2.6, 2.4]
np.array X: [[2.2]
 [2.6]
 [2.4]
 [2.6]
 [2.6]
 [2.4]]
revised_weight: 2.3
2021-04-06 01:43:38.210: revising weight finished
revised_weight: 2.3 at 2021-04-06 01:43:38.210
plc_result: True
sendmessage: 20210406014338210,1,000024,000023
send message to PLC: 2021-04-06 01:43:38.334
time gap: 0:00:00.013680
2021-04-06 01:43:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:40.174
lastevent: 2021-04-06 01:43:40.166, last ten sensor data: [('2021-04-06 01:43:39.820', 'D+000002.6'), ('2021-04-06 01:43:39.850', 'D+000002.8'), ('2021-04-06 01:43:39.870', 'D+000003.2'), ('2021-04-06 01:43:39.890', 'D+000003.4'), ('2021-04-06 01:43:39.910', 'D+000003.6'), ('2021-04-06 01:43:40.080', 'D+000005.0'), ('2021-04-06 01:43:40.100', 'D+000005.0'), ('2021-04-06 01:43:40.120', 'D+000004.8'), ('2021-04-06 01:43:40.140', 'D+000004.8'), ('2021-04-06 01:43:40.160', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 5.0, 5.0, 4.8, 4.8, 5.0]
np.array X: [[3.6]
 [5. ]
 [5. ]
 [4.8]
 [4.8]
 [5. ]]
revised_weight: 4.9
2021-04-06 01:43:40.160: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:43:40.160
plc_result: True
sendmessage: 20210406014340160,1,000050,000049
send message to PLC: 2021-04-06 01:43:40.188
time gap: 0:00:00.014158
2021-04-06 01:43:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:41: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:43:41: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:41.241
lastevent: 2021-04-06 01:43:41.225, last ten sensor data: [('2021-04-06 01:43:40.630', 'D+000004.4'), ('2021-04-06 01:43:40.810', 'D+000003.6'), ('2021-04-06 01:43:40.830', 'D+000003.8'), ('2021-04-06 01:43:40.850', 'D+000003.6'), ('2021-04-06 01:43:40.870', 'D+000003.8'), ('2021-04-06 01:43:40.890', 'D+000003.8'), ('2021-04-06 01:43:41.060', 'D+000004.4'), ('2021-04-06 01:43:41.080', 'D+000004.4'), ('2021-04-06 01:43:41.100', 'D+000004.6'), ('2021-04-06 01:43:41.130', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 4.4, 4.4, 4.6, 4.4]
np.array X: [[3.8]
 [3.8]
 [4.4]
 [4.4]
 [4.6]
 [4.4]]
revised_weight: 4.4
2021-04-06 01:43:41.130: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:43:41.130
plc_result: True
sendmessage: 20210406014341130,1,000044,000044
send message to PLC: 2021-04-06 01:43:41.260
time gap: 0:00:00.018902
2021-04-06 01:43:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:41: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:41: select done
2021-04-06 01:43:41: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:43:41: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:43:41: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:43:41: count: 4 in httpPlcDataSender thread
2021-04-06 01:43:41: D+: 4 in httpPlcDataSender thread
2021-04-06 01:43:41: D-: 0 in httpPlcDataSender thread
2021-04-06 01:43:41: S+: 0 in httpPlcDataSender thread
2021-04-06 01:43:41: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.2', 'sensorAt': '2021-04-06 01:43:36.260'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:43:38.210'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:43:40.160'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:43:41.130'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:36.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:38.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:40.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:41.130'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:43:41', 'collectDate': '2021-04-06 01:43:41', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.2', 'sensorAt': '2021-04-06 01:43:36.260'}, {'value': '2.3', 'sensorAt': '2021-04-06 01:43:38.210'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:43:40.160'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:43:41.130'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:36.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:38.210'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:40.160'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:41.130'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:43:41: send http
2021-04-06 01:43:41: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:43:41: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:41: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:42.110
lastevent: 2021-04-06 01:43:42.102, last ten sensor data: [('2021-04-06 01:43:41.610', 'D+000004.4'), ('2021-04-06 01:43:41.790', 'D+000004.0'), ('2021-04-06 01:43:41.810', 'D+000004.0'), ('2021-04-06 01:43:41.830', 'D+000003.8'), ('2021-04-06 01:43:41.850', 'D+000003.8'), ('2021-04-06 01:43:42.010', 'D+000003.4'), ('2021-04-06 01:43:42.040', 'D+000003.4'), ('2021-04-06 01:43:42.060', 'D+000003.2'), ('2021-04-06 01:43:42.080', 'D+000003.2'), ('2021-04-06 01:43:42.100', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.4, 3.4, 3.2, 3.2, 3.0]
np.array X: [[3.8]
 [3.4]
 [3.4]
 [3.2]
 [3.2]
 [3. ]]
revised_weight: 3.0
2021-04-06 01:43:42.100: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:43:42.100
plc_result: True
sendmessage: 20210406014342100,1,000030,000030
send message to PLC: 2021-04-06 01:43:42.119
time gap: 0:00:00.008715
2021-04-06 01:43:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:43.512
lastevent: 2021-04-06 01:43:43.502, last ten sensor data: [('2021-04-06 01:43:43.000', 'D+000002.8'), ('2021-04-06 01:43:43.020', 'D+000003.2'), ('2021-04-06 01:43:43.040', 'D+000003.2'), ('2021-04-06 01:43:43.060', 'D+000003.0'), ('2021-04-06 01:43:43.080', 'D+000003.0'), ('2021-04-06 01:43:43.250', 'D+000003.2'), ('2021-04-06 01:43:43.270', 'D+000003.2'), ('2021-04-06 01:43:43.290', 'D+000003.2'), ('2021-04-06 01:43:43.310', 'D+000003.4'), ('2021-04-06 01:43:43.330', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.2, 3.2, 3.2, 3.4, 3.2]
np.array X: [[3. ]
 [3.2]
 [3.2]
 [3.2]
 [3.4]
 [3.2]]
revised_weight: 3.2
2021-04-06 01:43:43.330: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:43:43.330
plc_result: True
sendmessage: 20210406014343330,1,000032,000032
send message to PLC: 2021-04-06 01:43:43.520
time gap: 0:00:00.008220
2021-04-06 01:43:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:44.322
lastevent: 2021-04-06 01:43:44.306, last ten sensor data: [('2021-04-06 01:43:43.700', 'D+000003.6'), ('2021-04-06 01:43:43.850', 'D+000003.6'), ('2021-04-06 01:43:43.870', 'D+000003.4'), ('2021-04-06 01:43:43.890', 'D+000003.2'), ('2021-04-06 01:43:43.910', 'D+000003.4'), ('2021-04-06 01:43:43.930', 'D+000003.6'), ('2021-04-06 01:43:44.110', 'D+000003.8'), ('2021-04-06 01:43:44.130', 'D+000003.8'), ('2021-04-06 01:43:44.150', 'D+000003.8'), ('2021-04-06 01:43:44.170', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 3.8, 3.8, 3.8, 3.8]
np.array X: [[3.4]
 [3.6]
 [3.8]
 [3.8]
 [3.8]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:43:44.170: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:43:44.170
plc_result: True
sendmessage: 20210406014344170,1,000038,000038
send message to PLC: 2021-04-06 01:43:44.341
time gap: 0:00:00.018523
2021-04-06 01:43:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:44.879
lastevent: 2021-04-06 01:43:44.867, last ten sensor data: [('2021-04-06 01:43:44.410', 'D+000004.0'), ('2021-04-06 01:43:44.430', 'D+000003.8'), ('2021-04-06 01:43:44.590', 'D+000004.4'), ('2021-04-06 01:43:44.610', 'D+000004.4'), ('2021-04-06 01:43:44.630', 'D+000004.6'), ('2021-04-06 01:43:44.650', 'D+000004.8'), ('2021-04-06 01:43:44.670', 'D+000004.6'), ('2021-04-06 01:43:44.830', 'D+000004.2'), ('2021-04-06 01:43:44.850', 'D+000004.4'), ('2021-04-06 01:43:44.870', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.8, 4.6, 4.2, 4.4, 4.4]
np.array X: [[4.6]
 [4.8]
 [4.6]
 [4.2]
 [4.4]
 [4.4]]
revised_weight: 4.6
2021-04-06 01:43:44.870: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:43:44.870
plc_result: True
sendmessage: 20210406014344870,1,000044,000046
send message to PLC: 2021-04-06 01:43:44.886
time gap: 0:00:00.007382
2021-04-06 01:43:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:45.508
lastevent: 2021-04-06 01:43:45.495, last ten sensor data: [('2021-04-06 01:43:44.890', 'D+000004.2'), ('2021-04-06 01:43:44.910', 'D+000004.4'), ('2021-04-06 01:43:45.070', 'D+000004.4'), ('2021-04-06 01:43:45.100', 'D+000004.4'), ('2021-04-06 01:43:45.120', 'D+000004.4'), ('2021-04-06 01:43:45.140', 'D+000004.4'), ('2021-04-06 01:43:45.330', 'D+000004.4'), ('2021-04-06 01:43:45.350', 'D+000004.4'), ('2021-04-06 01:43:45.370', 'D+000004.2'), ('2021-04-06 01:43:45.390', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.4, 4.4, 4.4, 4.2, 4.2]
np.array X: [[4.4]
 [4.4]
 [4.4]
 [4.4]
 [4.2]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:43:45.390: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:43:45.390
plc_result: True
sendmessage: 20210406014345390,1,000042,000043
send message to PLC: 2021-04-06 01:43:45.517
time gap: 0:00:00.008806
2021-04-06 01:43:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:46: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:43:46: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:46.851
lastevent: 2021-04-06 01:43:46.835, last ten sensor data: [('2021-04-06 01:43:46.370', 'D+000004.4'), ('2021-04-06 01:43:46.390', 'D+000004.2'), ('2021-04-06 01:43:46.550', 'D+000003.8'), ('2021-04-06 01:43:46.570', 'D+000003.8'), ('2021-04-06 01:43:46.590', 'D+000003.8'), ('2021-04-06 01:43:46.610', 'D+000004.0'), ('2021-04-06 01:43:46.800', 'D+000004.2'), ('2021-04-06 01:43:46.820', 'D+000004.2'), ('2021-04-06 01:43:46.840', 'D+000004.2'), ('2021-04-06 01:43:46.860', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.0, 4.2, 4.2, 4.2, 4.0]
np.array X: [[3.8]
 [4. ]
 [4.2]
 [4.2]
 [4.2]
 [4. ]]
revised_weight: 4.1
2021-04-06 01:43:46.860: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:43:46.860
plc_result: True
sendmessage: 20210406014346860,1,000040,000041
send message to PLC: 2021-04-06 01:43:46.863
time gap: 0:00:00.012530
2021-04-06 01:43:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:46: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:46: select done
2021-04-06 01:43:46: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:43:46: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:43:46: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:43:46: count: 6 in httpPlcDataSender thread
2021-04-06 01:43:46: D+: 6 in httpPlcDataSender thread
2021-04-06 01:43:46: D-: 0 in httpPlcDataSender thread
2021-04-06 01:43:46: S+: 0 in httpPlcDataSender thread
2021-04-06 01:43:47: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.0', 'sensorAt': '2021-04-06 01:43:42.100'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:43:43.330'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:43:44.170'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:43:44.870'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:43:45.390'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:43:46.860'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:42.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:43.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:44.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:44.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:45.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:46.860'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:43:47', 'collectDate': '2021-04-06 01:43:46', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.0', 'sensorAt': '2021-04-06 01:43:42.100'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:43:43.330'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:43:44.170'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:43:44.870'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:43:45.390'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:43:46.860'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:42.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:43.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:44.170'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:44.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:45.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:46.860'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:43:47: send http
2021-04-06 01:43:47: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:43:47: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:47: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:47.954
lastevent: 2021-04-06 01:43:47.939, last ten sensor data: [('2021-04-06 01:43:47.340', 'D+000004.2'), ('2021-04-06 01:43:47.360', 'D+000004.2'), ('2021-04-06 01:43:47.520', 'D+000004.2'), ('2021-04-06 01:43:47.540', 'D+000004.2'), ('2021-04-06 01:43:47.560', 'D+000004.0'), ('2021-04-06 01:43:47.580', 'D+000004.2'), ('2021-04-06 01:43:47.770', 'D+000006.8'), ('2021-04-06 01:43:47.790', 'D+000006.4'), ('2021-04-06 01:43:47.810', 'D+000006.4'), ('2021-04-06 01:43:47.830', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.2, 6.8, 6.4, 6.4, 5.2]
np.array X: [[4. ]
 [4.2]
 [6.8]
 [6.4]
 [6.4]
 [5.2]]
revised_weight: 6.0
2021-04-06 01:43:47.830: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:43:47.830
plc_result: True
sendmessage: 20210406014347830,1,000052,000060
send message to PLC: 2021-04-06 01:43:47.971
time gap: 0:00:00.016907
2021-04-06 01:43:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:49.527
lastevent: 2021-04-06 01:43:49.514, last ten sensor data: [('2021-04-06 01:43:49.200', 'D+000004.2'), ('2021-04-06 01:43:49.220', 'D+000004.2'), ('2021-04-06 01:43:49.240', 'D+000004.2'), ('2021-04-06 01:43:49.260', 'D+000004.2'), ('2021-04-06 01:43:49.420', 'D+000005.0'), ('2021-04-06 01:43:49.440', 'D+000004.6'), ('2021-04-06 01:43:49.460', 'D+000004.4'), ('2021-04-06 01:43:49.480', 'D+000004.8'), ('2021-04-06 01:43:49.500', 'D+000004.8'), ('2021-04-06 01:43:49.520', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 4.6, 4.4, 4.8, 4.8, 4.8]
np.array X: [[5. ]
 [4.6]
 [4.4]
 [4.8]
 [4.8]
 [4.8]]
revised_weight: 4.8
2021-04-06 01:43:49.520: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:43:49.520
plc_result: True
sendmessage: 20210406014349520,1,000048,000048
send message to PLC: 2021-04-06 01:43:49.535
time gap: 0:00:00.007759
2021-04-06 01:43:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:50.312
lastevent: 2021-04-06 01:43:50.299, last ten sensor data: [('2021-04-06 01:43:49.750', 'D+000005.6'), ('2021-04-06 01:43:49.910', 'D+000005.0'), ('2021-04-06 01:43:49.930', 'D+000004.8'), ('2021-04-06 01:43:49.950', 'D+000004.8'), ('2021-04-06 01:43:49.970', 'D+000004.8'), ('2021-04-06 01:43:49.990', 'D+000004.8'), ('2021-04-06 01:43:50.170', 'D+000004.6'), ('2021-04-06 01:43:50.190', 'D+000004.6'), ('2021-04-06 01:43:50.210', 'D+000004.2'), ('2021-04-06 01:43:50.230', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.6, 4.6, 4.2, 4.2]
np.array X: [[4.8]
 [4.8]
 [4.6]
 [4.6]
 [4.2]
 [4.2]]
revised_weight: 4.4
2021-04-06 01:43:50.230: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:43:50.230
plc_result: True
sendmessage: 20210406014350230,1,000042,000044
send message to PLC: 2021-04-06 01:43:50.320
time gap: 0:00:00.007247
2021-04-06 01:43:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:52: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:43:52: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:52: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:52: select done
2021-04-06 01:43:52: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:43:52: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:43:52: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:43:52: count: 3 in httpPlcDataSender thread
2021-04-06 01:43:52: D+: 3 in httpPlcDataSender thread
2021-04-06 01:43:52: D-: 0 in httpPlcDataSender thread
2021-04-06 01:43:52: S+: 0 in httpPlcDataSender thread
2021-04-06 01:43:52: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.0', 'sensorAt': '2021-04-06 01:43:47.830'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:43:49.520'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:43:50.230'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:47.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:49.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:50.230'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:43:52', 'collectDate': '2021-04-06 01:43:50', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.0', 'sensorAt': '2021-04-06 01:43:47.830'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:43:49.520'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:43:50.230'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:47.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:49.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:50.230'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:52.703
lastevent: 2021-04-06 01:43:52.697, last ten sensor data: [('2021-04-06 01:43:52.360', 'D+000002.8'), ('2021-04-06 01:43:52.380', 'D+000002.8'), ('2021-04-06 01:43:52.400', 'D+000002.8'), ('2021-04-06 01:43:52.420', 'D+000003.0'), ('2021-04-06 01:43:52.440', 'D+000003.0'), ('2021-04-06 01:43:52.460', 'D+000003.0'), ('2021-04-06 01:43:52.600', 'D+000003.4'), ('2021-04-06 01:43:52.620', 'D+000002.8'), ('2021-04-06 01:43:52.650', 'D+000003.0'), ('2021-04-06 01:43:52.670', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 3.4, 2.8, 3.0, 3.4]
np.array X: [[3. ]
 [3. ]
 [3.4]
 [2.8]
 [3. ]
 [3.4]]
revised_weight: 3.3
2021-04-06 01:43:52.670: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:43:52.670
plc_result: True
sendmessage: 20210406014352670,1,000034,000033
send message to PLC: 2021-04-06 01:43:52.711
time gap: 0:00:00.007699
2021-04-06 01:43:52: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:52: send http
2021-04-06 01:43:52: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:43:52: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:53: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:53.696
lastevent: 2021-04-06 01:43:53.688, last ten sensor data: [('2021-04-06 01:43:53.320', 'D+000004.0'), ('2021-04-06 01:43:53.350', 'D+000004.0'), ('2021-04-06 01:43:53.370', 'D+000003.8'), ('2021-04-06 01:43:53.390', 'D+000003.8'), ('2021-04-06 01:43:53.410', 'D+000004.0'), ('2021-04-06 01:43:53.570', 'D+000004.4'), ('2021-04-06 01:43:53.590', 'D+000004.4'), ('2021-04-06 01:43:53.610', 'D+000004.4'), ('2021-04-06 01:43:53.630', 'D+000004.6'), ('2021-04-06 01:43:53.650', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.4, 4.4, 4.4, 4.6, 5.0]
np.array X: [[4. ]
 [4.4]
 [4.4]
 [4.4]
 [4.6]
 [5. ]]
revised_weight: 4.6
2021-04-06 01:43:53.650: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:43:53.650
plc_result: True
sendmessage: 20210406014353650,1,000050,000046
send message to PLC: 2021-04-06 01:43:53.703
time gap: 0:00:00.006913
2021-04-06 01:43:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:54.368
lastevent: 2021-04-06 01:43:54.363, last ten sensor data: [('2021-04-06 01:43:53.890', 'D+000005.0'), ('2021-04-06 01:43:54.070', 'D+000004.8'), ('2021-04-06 01:43:54.090', 'D+000004.8'), ('2021-04-06 01:43:54.110', 'D+000005.0'), ('2021-04-06 01:43:54.130', 'D+000005.4'), ('2021-04-06 01:43:54.150', 'D+000005.6'), ('2021-04-06 01:43:54.310', 'D+000004.8'), ('2021-04-06 01:43:54.330', 'D+000005.4'), ('2021-04-06 01:43:54.350', 'D+000006.0'), ('2021-04-06 01:43:54.370', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 4.8, 5.4, 6.0, 6.0]
np.array X: [[5.4]
 [5.6]
 [4.8]
 [5.4]
 [6. ]
 [6. ]]
revised_weight: 5.5
2021-04-06 01:43:54.370: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:43:54.370
plc_result: True
sendmessage: 20210406014354370,1,000060,000055
send message to PLC: 2021-04-06 01:43:54.378
time gap: 0:00:00.010240
2021-04-06 01:43:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:54.776
lastevent: 2021-04-06 01:43:54.770, last ten sensor data: [0, 0, 0, ('2021-04-06 01:43:54.390', 'D+000005.6'), ('2021-04-06 01:43:54.550', 'D+000005.6'), ('2021-04-06 01:43:54.570', 'D+000005.6'), ('2021-04-06 01:43:54.590', 'D+000005.4'), ('2021-04-06 01:43:54.610', 'D+000005.4'), ('2021-04-06 01:43:54.630', 'D+000005.4'), ('2021-04-06 01:43:54.650', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.6, 5.4, 5.4, 5.4, 5.6]
np.array X: [[5.6]
 [5.6]
 [5.4]
 [5.4]
 [5.4]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:43:54.650: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:43:54.650
plc_result: True
sendmessage: 20210406014354650,1,000056,000055
send message to PLC: 2021-04-06 01:43:54.783
time gap: 0:00:00.006916
2021-04-06 01:43:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:55.794
lastevent: 2021-04-06 01:43:55.786, last ten sensor data: [('2021-04-06 01:43:55.130', 'D+000004.8'), ('2021-04-06 01:43:55.300', 'D+000004.4'), ('2021-04-06 01:43:55.320', 'D+000004.4'), ('2021-04-06 01:43:55.340', 'D+000004.4'), ('2021-04-06 01:43:55.360', 'D+000004.2'), ('2021-04-06 01:43:55.540', 'D+000005.0'), ('2021-04-06 01:43:55.560', 'D+000005.4'), ('2021-04-06 01:43:55.580', 'D+000005.4'), ('2021-04-06 01:43:55.600', 'D+000005.6'), ('2021-04-06 01:43:55.780', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 5.0, 5.4, 5.4, 5.6, 4.8]
np.array X: [[4.2]
 [5. ]
 [5.4]
 [5.4]
 [5.6]
 [4.8]]
revised_weight: 4.9
2021-04-06 01:43:55.780: revising weight finished
revised_weight: 4.9 at 2021-04-06 01:43:55.780
plc_result: True
sendmessage: 20210406014355780,1,000048,000049
send message to PLC: 2021-04-06 01:43:55.802
time gap: 0:00:00.007387
2021-04-06 01:43:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:56.187
lastevent: 2021-04-06 01:43:56.181, last ten sensor data: [0, 0, ('2021-04-06 01:43:55.800', 'D+000004.8'), ('2021-04-06 01:43:55.820', 'D+000005.2'), ('2021-04-06 01:43:55.840', 'D+000005.4'), ('2021-04-06 01:43:55.860', 'D+000005.2'), ('2021-04-06 01:43:56.020', 'D+000005.8'), ('2021-04-06 01:43:56.040', 'D+000005.2'), ('2021-04-06 01:43:56.060', 'D+000005.2'), ('2021-04-06 01:43:56.080', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.2, 5.8, 5.2, 5.2, 6.6]
np.array X: [[5.4]
 [5.2]
 [5.8]
 [5.2]
 [5.2]
 [6.6]]
revised_weight: 5.7
2021-04-06 01:43:56.080: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:43:56.080
plc_result: True
sendmessage: 20210406014356080,1,000066,000057
send message to PLC: 2021-04-06 01:43:56.195
time gap: 0:00:00.007330
2021-04-06 01:43:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:43:56.843
lastevent: 2021-04-06 01:43:56.828, last ten sensor data: [('2021-04-06 01:43:56.500', 'D+000004.8'), ('2021-04-06 01:43:56.520', 'D+000004.8'), ('2021-04-06 01:43:56.540', 'D+000004.8'), ('2021-04-06 01:43:56.560', 'D+000004.8'), ('2021-04-06 01:43:56.580', 'D+000004.6'), ('2021-04-06 01:43:56.750', 'D+000004.4'), ('2021-04-06 01:43:56.770', 'D+000004.4'), ('2021-04-06 01:43:56.790', 'D+000004.2'), ('2021-04-06 01:43:56.810', 'D+000004.4'), ('2021-04-06 01:43:56.830', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.4, 4.4, 4.2, 4.4, 4.4]
np.array X: [[4.6]
 [4.4]
 [4.4]
 [4.2]
 [4.4]
 [4.4]]
revised_weight: 4.5
2021-04-06 01:43:56.830: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:43:56.830
plc_result: True
sendmessage: 20210406014356830,1,000044,000045
send message to PLC: 2021-04-06 01:43:56.849
time gap: 0:00:00.006361
2021-04-06 01:43:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:58: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:43:58: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:43:58: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:58: select done
2021-04-06 01:43:58: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:43:58: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:43:58: sendjson called, 7 records in httpPlcDataSender thread
2021-04-06 01:43:58: count: 7 in httpPlcDataSender thread
2021-04-06 01:43:58: D+: 7 in httpPlcDataSender thread
2021-04-06 01:43:58: D-: 0 in httpPlcDataSender thread
2021-04-06 01:43:58: S+: 0 in httpPlcDataSender thread
2021-04-06 01:43:58: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:43:52.670'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:43:53.650'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:43:54.370'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:43:54.650'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:43:55.780'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:43:56.080'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:43:56.830'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:52.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:53.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:54.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:54.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:55.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:56.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:56.830'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:43:58', 'collectDate': '2021-04-06 01:43:56', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:43:52.670'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:43:53.650'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:43:54.370'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:43:54.650'}, {'value': '4.9', 'sensorAt': '2021-04-06 01:43:55.780'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:43:56.080'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:43:56.830'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:52.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:53.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:54.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:54.650'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:55.780'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:56.080'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:56.830'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:43:58: send http
2021-04-06 01:43:58: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:43:58: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:58.591
lastevent: 2021-04-06 01:43:58.576, last ten sensor data: [('2021-04-06 01:43:58.240', 'D+000003.0'), ('2021-04-06 01:43:58.260', 'D+000003.0'), ('2021-04-06 01:43:58.280', 'D+000003.2'), ('2021-04-06 01:43:58.300', 'D+000003.0'), ('2021-04-06 01:43:58.450', 'D+000003.2'), ('2021-04-06 01:43:58.470', 'D+000003.2'), ('2021-04-06 01:43:58.490', 'D+000003.2'), ('2021-04-06 01:43:58.510', 'D+000003.8'), ('2021-04-06 01:43:58.530', 'D+000004.0'), ('2021-04-06 01:43:58.550', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.2, 3.2, 3.8, 4.0, 3.4]
np.array X: [[3.2]
 [3.2]
 [3.2]
 [3.8]
 [4. ]
 [3.4]]
revised_weight: 3.3
2021-04-06 01:43:58.550: revising weight finished
revised_weight: 3.3 at 2021-04-06 01:43:58.550
plc_result: True
sendmessage: 20210406014358550,1,000034,000033
send message to PLC: 2021-04-06 01:43:58.598
time gap: 0:00:00.007059
2021-04-06 01:43:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:43:58: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:43:59.023
lastevent: 2021-04-06 01:43:59.004, last ten sensor data: [0, ('2021-04-06 01:43:58.700', 'D+000003.8'), ('2021-04-06 01:43:58.720', 'D+000003.8'), ('2021-04-06 01:43:58.740', 'D+000003.8'), ('2021-04-06 01:43:58.760', 'D+000003.8'), ('2021-04-06 01:43:58.780', 'D+000003.8'), ('2021-04-06 01:43:58.930', 'D+000003.4'), ('2021-04-06 01:43:58.970', 'D+000003.4'), ('2021-04-06 01:43:58.990', 'D+000003.8'), ('2021-04-06 01:43:59.010', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 3.4, 3.4, 3.8, 3.8]
np.array X: [[3.8]
 [3.8]
 [3.4]
 [3.4]
 [3.8]
 [3.8]]
revised_weight: 3.8
2021-04-06 01:43:59.010: revising weight finished
revised_weight: 3.8 at 2021-04-06 01:43:59.010
plc_result: True
sendmessage: 20210406014359010,1,000038,000038
send message to PLC: 2021-04-06 01:43:59.030
time gap: 0:00:00.007181
2021-04-06 01:43:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:00.226
lastevent: 2021-04-06 01:44:00.218, last ten sensor data: [('2021-04-06 01:43:59.750', 'D+000003.4'), ('2021-04-06 01:43:59.770', 'D+000003.4'), ('2021-04-06 01:43:59.950', 'D+000004.2'), ('2021-04-06 01:43:59.970', 'D+000004.2'), ('2021-04-06 01:43:59.990', 'D+000004.0'), ('2021-04-06 01:44:00.010', 'D+000003.8'), ('2021-04-06 01:44:00.030', 'D+000003.8'), ('2021-04-06 01:44:00.190', 'D+000004.4'), ('2021-04-06 01:44:00.210', 'D+000004.4'), ('2021-04-06 01:44:00.230', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 3.8, 3.8, 4.4, 4.4, 4.4]
np.array X: [[4. ]
 [3.8]
 [3.8]
 [4.4]
 [4.4]
 [4.4]]
revised_weight: 4.4
2021-04-06 01:44:00.230: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:44:00.230
plc_result: True
sendmessage: 20210406014400230,1,000044,000044
send message to PLC: 2021-04-06 01:44:00.232
time gap: 0:00:00.006418
2021-04-06 01:44:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:00.639
lastevent: 2021-04-06 01:44:00.618, last ten sensor data: [0, 0, 0, ('2021-04-06 01:44:00.250', 'D+000004.8'), ('2021-04-06 01:44:00.270', 'D+000004.6'), ('2021-04-06 01:44:00.430', 'D+000005.4'), ('2021-04-06 01:44:00.450', 'D+000005.4'), ('2021-04-06 01:44:00.470', 'D+000005.4'), ('2021-04-06 01:44:00.490', 'D+000005.2'), ('2021-04-06 01:44:00.510', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.4, 5.4, 5.4, 5.2, 5.0]
np.array X: [[4.6]
 [5.4]
 [5.4]
 [5.4]
 [5.2]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:44:00.510: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:44:00.510
plc_result: True
sendmessage: 20210406014400510,1,000050,000051
send message to PLC: 2021-04-06 01:44:00.650
time gap: 0:00:00.011292
2021-04-06 01:44:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:01.542
lastevent: 2021-04-06 01:44:01.140, last ten sensor data: [('2021-04-06 01:44:01.150', 'D+000004.8'), ('2021-04-06 01:44:01.180', 'D+000004.6'), ('2021-04-06 01:44:01.200', 'D+000004.8'), ('2021-04-06 01:44:01.220', 'D+000004.6'), ('2021-04-06 01:44:01.240', 'D+000004.6'), ('2021-04-06 01:44:01.400', 'D+000004.8'), ('2021-04-06 01:44:01.420', 'D+000004.6'), ('2021-04-06 01:44:01.440', 'D+000004.4'), ('2021-04-06 01:44:01.460', 'D+000004.6'), ('2021-04-06 01:44:01.480', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.8, 4.6, 4.4, 4.6, 4.6]
np.array X: [[4.6]
 [4.8]
 [4.6]
 [4.4]
 [4.6]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:44:01.480: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:44:01.480
plc_result: True
sendmessage: 20210406014401480,1,000046,000046
send message to PLC: 2021-04-06 01:44:01.549
time gap: 0:00:00.006430
2021-04-06 01:44:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:01: httpScaleDataSender thread Timeout occurred
2021-04-06 01:44:02: [13729] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
2021-04-06 01:44:02: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:44:03.438
lastevent: 2021-04-06 01:44:03.424, last ten sensor data: [('2021-04-06 01:44:02.930', 'D+000003.0'), ('2021-04-06 01:44:02.950', 'D+000002.8'), ('2021-04-06 01:44:03.110', 'D+000003.2'), ('2021-04-06 01:44:03.130', 'D+000003.0'), ('2021-04-06 01:44:03.150', 'D+000003.4'), ('2021-04-06 01:44:03.170', 'D+000003.2'), ('2021-04-06 01:44:03.190', 'D+000003.4'), ('2021-04-06 01:44:03.380', 'D+000003.6'), ('2021-04-06 01:44:03.400', 'D+000003.4'), ('2021-04-06 01:44:03.420', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.2, 3.4, 3.6, 3.4, 3.4]
np.array X: [[3.4]
 [3.2]
 [3.4]
 [3.6]
 [3.4]
 [3.4]]
revised_weight: 3.2
2021-04-06 01:44:03.420: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:44:03.420
plc_result: True
sendmessage: 20210406014403420,1,000034,000032
send message to PLC: 2021-04-06 01:44:03.444
time gap: 0:00:00.006179
2021-04-06 01:44:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:03: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:44:03: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:03: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:03: select done
2021-04-06 01:44:03: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:44:03: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:44:03: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:44:03: count: 6 in httpPlcDataSender thread
2021-04-06 01:44:03: D+: 6 in httpPlcDataSender thread
2021-04-06 01:44:03: D-: 0 in httpPlcDataSender thread
2021-04-06 01:44:03: S+: 0 in httpPlcDataSender thread
2021-04-06 01:44:03: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:43:58.550'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:43:59.010'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:44:00.230'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:44:00.510'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:44:01.480'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:44:03.420'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:58.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:59.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:00.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:00.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:01.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:03.420'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:44:03', 'collectDate': '2021-04-06 01:44:03', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.3', 'sensorAt': '2021-04-06 01:43:58.550'}, {'value': '3.8', 'sensorAt': '2021-04-06 01:43:59.010'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:44:00.230'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:44:00.510'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:44:01.480'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:44:03.420'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:43:58.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:43:59.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:00.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:00.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:01.480'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:03.420'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:03.967
lastevent: 2021-04-06 01:44:03.952, last ten sensor data: [0, ('2021-04-06 01:44:03.600', 'D+000004.0'), ('2021-04-06 01:44:03.620', 'D+000004.0'), ('2021-04-06 01:44:03.640', 'D+000004.2'), ('2021-04-06 01:44:03.660', 'D+000004.4'), ('2021-04-06 01:44:03.680', 'D+000004.2'), ('2021-04-06 01:44:03.860', 'D+000004.8'), ('2021-04-06 01:44:03.880', 'D+000005.6'), ('2021-04-06 01:44:03.900', 'D+000006.2'), ('2021-04-06 01:44:03.930', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.2, 4.8, 5.6, 6.2, 6.2]
np.array X: [[4.4]
 [4.2]
 [4.8]
 [5.6]
 [6.2]
 [6.2]]
revised_weight: 5.7
2021-04-06 01:44:03.930: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:44:03.930
plc_result: True
sendmessage: 20210406014403930,1,000062,000057
send message to PLC: 2021-04-06 01:44:03.973
time gap: 0:00:00.006269
2021-04-06 01:44:03: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:04: send http
2021-04-06 01:44:04: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:44:04: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:04: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:04.656
lastevent: 2021-04-06 01:44:04.642, last ten sensor data: [('2021-04-06 01:44:04.350', 'D+000006.8'), ('2021-04-06 01:44:04.370', 'D+000007.0'), ('2021-04-06 01:44:04.390', 'D+000006.6'), ('2021-04-06 01:44:04.410', 'D+000006.4'), ('2021-04-06 01:44:04.430', 'D+000006.8'), ('2021-04-06 01:44:04.580', 'D+000006.2'), ('2021-04-06 01:44:04.600', 'D+000006.0'), ('2021-04-06 01:44:04.620', 'D+000005.8'), ('2021-04-06 01:44:04.640', 'D+000005.6'), ('2021-04-06 01:44:04.660', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 6.2, 6.0, 5.8, 5.6, 5.8]
np.array X: [[6.8]
 [6.2]
 [6. ]
 [5.8]
 [5.6]
 [5.8]]
revised_weight: 6.2
2021-04-06 01:44:04.660: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:44:04.660
plc_result: True
sendmessage: 20210406014404660,1,000058,000062
send message to PLC: 2021-04-06 01:44:04.662
time gap: 0:00:00.006286
2021-04-06 01:44:04: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:05.162
lastevent: 2021-04-06 01:44:05.147, last ten sensor data: [0, 0, ('2021-04-06 01:44:04.850', 'D+000005.6'), ('2021-04-06 01:44:04.870', 'D+000006.0'), ('2021-04-06 01:44:04.890', 'D+000006.0'), ('2021-04-06 01:44:04.910', 'D+000006.2'), ('2021-04-06 01:44:05.080', 'D+000005.2'), ('2021-04-06 01:44:05.100', 'D+000006.8'), ('2021-04-06 01:44:05.120', 'D+000006.8'), ('2021-04-06 01:44:05.140', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.2, 5.2, 6.8, 6.8, 6.2]
np.array X: [[6. ]
 [6.2]
 [5.2]
 [6.8]
 [6.8]
 [6.2]]
revised_weight: 6.4
2021-04-06 01:44:05.140: revising weight finished
revised_weight: 6.4 at 2021-04-06 01:44:05.140
plc_result: True
sendmessage: 20210406014405140,1,000062,000064
send message to PLC: 2021-04-06 01:44:05.168
time gap: 0:00:00.006282
2021-04-06 01:44:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:05.676
lastevent: 2021-04-06 01:44:05.662, last ten sensor data: [('2021-04-06 01:44:05.170', 'D+000006.0'), ('2021-04-06 01:44:05.220', 'D+000006.0'), ('2021-04-06 01:44:05.330', 'D+000006.8'), ('2021-04-06 01:44:05.350', 'D+000007.2'), ('2021-04-06 01:44:05.370', 'D+000007.0'), ('2021-04-06 01:44:05.390', 'D+000006.8'), ('2021-04-06 01:44:05.580', 'D+000006.8'), ('2021-04-06 01:44:05.600', 'D+000006.4'), ('2021-04-06 01:44:05.620', 'D+000006.4'), ('2021-04-06 01:44:05.640', 'D+000006.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 6.8, 6.8, 6.4, 6.4, 6.2]
np.array X: [[7. ]
 [6.8]
 [6.8]
 [6.4]
 [6.4]
 [6.2]]
revised_weight: 6.6
2021-04-06 01:44:05.640: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:44:05.640
plc_result: True
sendmessage: 20210406014405640,1,000062,000066
send message to PLC: 2021-04-06 01:44:05.682
time gap: 0:00:00.006192
2021-04-06 01:44:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:07.440
lastevent: 2021-04-06 01:44:07.430, last ten sensor data: [('2021-04-06 01:44:06.950', 'D+000003.4'), ('2021-04-06 01:44:07.030', 'D+000003.0'), ('2021-04-06 01:44:07.070', 'D+000003.2'), ('2021-04-06 01:44:07.090', 'D+000003.2'), ('2021-04-06 01:44:07.110', 'D+000003.2'), ('2021-04-06 01:44:07.280', 'D+000003.0'), ('2021-04-06 01:44:07.300', 'D+000003.2'), ('2021-04-06 01:44:07.320', 'D+000003.6'), ('2021-04-06 01:44:07.340', 'D+000003.6'), ('2021-04-06 01:44:07.360', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.0, 3.2, 3.6, 3.6, 3.6]
np.array X: [[3.2]
 [3. ]
 [3.2]
 [3.6]
 [3.6]
 [3.6]]
revised_weight: 3.4
2021-04-06 01:44:07.360: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:44:07.360
plc_result: True
sendmessage: 20210406014407360,1,000036,000034
send message to PLC: 2021-04-06 01:44:07.447
time gap: 0:00:00.006348
2021-04-06 01:44:07: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:08.183
lastevent: 2021-04-06 01:44:08.168, last ten sensor data: [('2021-04-06 01:44:07.580', 'D+000003.4'), ('2021-04-06 01:44:07.600', 'D+000003.4'), ('2021-04-06 01:44:07.790', 'D+000003.4'), ('2021-04-06 01:44:07.810', 'D+000003.4'), ('2021-04-06 01:44:07.830', 'D+000003.4'), ('2021-04-06 01:44:08.020', 'D+000003.6'), ('2021-04-06 01:44:08.040', 'D+000003.4'), ('2021-04-06 01:44:08.060', 'D+000003.6'), ('2021-04-06 01:44:08.080', 'D+000004.0'), ('2021-04-06 01:44:08.100', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 3.4, 3.6, 4.0, 4.2]
np.array X: [[3.4]
 [3.6]
 [3.4]
 [3.6]
 [4. ]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:44:08.100: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:44:08.100
plc_result: True
sendmessage: 20210406014408100,1,000042,000042
send message to PLC: 2021-04-06 01:44:08.198
time gap: 0:00:00.015085
2021-04-06 01:44:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:08.685
lastevent: 2021-04-06 01:44:08.670, last ten sensor data: [('2021-04-06 01:44:08.270', 'D+000003.8'), ('2021-04-06 01:44:08.290', 'D+000003.6'), ('2021-04-06 01:44:08.310', 'D+000003.6'), ('2021-04-06 01:44:08.330', 'D+000003.6'), ('2021-04-06 01:44:08.350', 'D+000003.8'), ('2021-04-06 01:44:08.500', 'D+000003.6'), ('2021-04-06 01:44:08.520', 'D+000003.8'), ('2021-04-06 01:44:08.540', 'D+000003.8'), ('2021-04-06 01:44:08.560', 'D+000003.6'), ('2021-04-06 01:44:08.580', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.6, 3.8, 3.8, 3.6, 3.6]
np.array X: [[3.8]
 [3.6]
 [3.8]
 [3.8]
 [3.6]
 [3.6]]
revised_weight: 3.6
2021-04-06 01:44:08.580: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:44:08.580
plc_result: True
sendmessage: 20210406014408580,1,000036,000036
send message to PLC: 2021-04-06 01:44:08.692
time gap: 0:00:00.006398
2021-04-06 01:44:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:09: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:44:09: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:09: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:09: select done
2021-04-06 01:44:09: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:44:09: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:44:09: sendjson called, 7 records in httpPlcDataSender thread
2021-04-06 01:44:09: count: 7 in httpPlcDataSender thread
2021-04-06 01:44:09: D+: 7 in httpPlcDataSender thread
2021-04-06 01:44:09: D-: 0 in httpPlcDataSender thread
2021-04-06 01:44:09: S+: 0 in httpPlcDataSender thread
2021-04-06 01:44:09: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.7', 'sensorAt': '2021-04-06 01:44:03.930'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:44:04.660'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:44:05.140'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:44:05.640'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:44:07.360'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:44:08.100'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:44:08.580'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:03.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:04.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:05.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:05.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:07.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:08.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:08.580'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:44:09', 'collectDate': '2021-04-06 01:44:08', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.7', 'sensorAt': '2021-04-06 01:44:03.930'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:44:04.660'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:44:05.140'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:44:05.640'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:44:07.360'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:44:08.100'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:44:08.580'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:03.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:04.660'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:05.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:05.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:07.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:08.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:08.580'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:44:09: send http
2021-04-06 01:44:09: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:44:09: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:09: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:10.026
lastevent: 2021-04-06 01:44:10.009, last ten sensor data: [('2021-04-06 01:44:09.580', 'D+000003.6'), ('2021-04-06 01:44:09.600', 'D+000004.0'), ('2021-04-06 01:44:09.620', 'D+000003.8'), ('2021-04-06 01:44:09.640', 'D+000004.0'), ('2021-04-06 01:44:09.670', 'D+000003.8'), ('2021-04-06 01:44:09.820', 'D+000004.6'), ('2021-04-06 01:44:09.840', 'D+000004.6'), ('2021-04-06 01:44:09.860', 'D+000004.6'), ('2021-04-06 01:44:09.880', 'D+000004.6'), ('2021-04-06 01:44:09.900', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.6, 4.6, 4.6, 4.6, 4.6]
np.array X: [[3.8]
 [4.6]
 [4.6]
 [4.6]
 [4.6]
 [4.6]]
revised_weight: 4.5
2021-04-06 01:44:09.900: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:44:09.900
plc_result: True
sendmessage: 20210406014409900,1,000046,000045
send message to PLC: 2021-04-06 01:44:10.033
time gap: 0:00:00.007054
2021-04-06 01:44:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:10.891
lastevent: 2021-04-06 01:44:10.880, last ten sensor data: [('2021-04-06 01:44:10.540', 'D+000004.6'), ('2021-04-06 01:44:10.570', 'D+000005.2'), ('2021-04-06 01:44:10.590', 'D+000005.8'), ('2021-04-06 01:44:10.610', 'D+000005.8'), ('2021-04-06 01:44:10.630', 'D+000005.6'), ('2021-04-06 01:44:10.790', 'D+000006.6'), ('2021-04-06 01:44:10.810', 'D+000006.4'), ('2021-04-06 01:44:10.830', 'D+000006.2'), ('2021-04-06 01:44:10.850', 'D+000006.4'), ('2021-04-06 01:44:10.870', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.6, 6.4, 6.2, 6.4, 6.4]
np.array X: [[5.6]
 [6.6]
 [6.4]
 [6.2]
 [6.4]
 [6.4]]
revised_weight: 5.9
2021-04-06 01:44:10.870: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:44:10.870
plc_result: True
sendmessage: 20210406014410870,1,000064,000059
send message to PLC: 2021-04-06 01:44:10.898
time gap: 0:00:00.006739
2021-04-06 01:44:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:44:11: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:12.723
lastevent: 2021-04-06 01:44:12.716, last ten sensor data: [('2021-04-06 01:44:12.090', 'D+000004.4'), ('2021-04-06 01:44:12.270', 'D+000004.6'), ('2021-04-06 01:44:12.290', 'D+000004.6'), ('2021-04-06 01:44:12.310', 'D+000004.6'), ('2021-04-06 01:44:12.330', 'D+000004.8'), ('2021-04-06 01:44:12.490', 'D+000004.8'), ('2021-04-06 01:44:12.510', 'D+000004.6'), ('2021-04-06 01:44:12.530', 'D+000004.6'), ('2021-04-06 01:44:12.550', 'D+000004.6'), ('2021-04-06 01:44:12.570', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.6, 4.6, 4.6, 5.0]
np.array X: [[4.8]
 [4.8]
 [4.6]
 [4.6]
 [4.6]
 [5. ]]
revised_weight: 4.8
2021-04-06 01:44:12.570: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:44:12.570
plc_result: True
sendmessage: 20210406014412570,1,000050,000048
send message to PLC: 2021-04-06 01:44:12.737
time gap: 0:00:00.014457
2021-04-06 01:44:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:13.239
lastevent: 2021-04-06 01:44:13.236, last ten sensor data: [('2021-04-06 01:44:12.740', 'D+000005.2'), ('2021-04-06 01:44:12.760', 'D+000005.0'), ('2021-04-06 01:44:12.780', 'D+000005.0'), ('2021-04-06 01:44:12.800', 'D+000004.8'), ('2021-04-06 01:44:12.820', 'D+000004.8'), ('2021-04-06 01:44:12.980', 'D+000005.6'), ('2021-04-06 01:44:13.000', 'D+000005.6'), ('2021-04-06 01:44:13.020', 'D+000005.6'), ('2021-04-06 01:44:13.040', 'D+000005.4'), ('2021-04-06 01:44:13.060', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.6, 5.6, 5.6, 5.4, 5.4]
np.array X: [[4.8]
 [5.6]
 [5.6]
 [5.6]
 [5.4]
 [5.4]]
revised_weight: 5.4
2021-04-06 01:44:13.060: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:44:13.060
plc_result: True
sendmessage: 20210406014413060,1,000054,000054
send message to PLC: 2021-04-06 01:44:13.246
time gap: 0:00:00.006759
2021-04-06 01:44:13: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:14.122
lastevent: 2021-04-06 01:44:14.113, last ten sensor data: [('2021-04-06 01:44:13.720', 'D+000005.0'), ('2021-04-06 01:44:13.740', 'D+000004.8'), ('2021-04-06 01:44:13.760', 'D+000004.8'), ('2021-04-06 01:44:13.780', 'D+000005.0'), ('2021-04-06 01:44:13.800', 'D+000005.6'), ('2021-04-06 01:44:13.960', 'D+000007.4'), ('2021-04-06 01:44:13.980', 'D+000008.6'), ('2021-04-06 01:44:14.000', 'D+000008.8'), ('2021-04-06 01:44:14.020', 'D+000008.8'), ('2021-04-06 01:44:14.040', 'D+000008.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 7.4, 8.6, 8.8, 8.8, 8.8]
np.array X: [[5.6]
 [7.4]
 [8.6]
 [8.8]
 [8.8]
 [8.8]]
revised_weight: 8.5
2021-04-06 01:44:14.040: revising weight finished
revised_weight: 8.5 at 2021-04-06 01:44:14.040
plc_result: True
sendmessage: 20210406014414040,1,000088,000085
send message to PLC: 2021-04-06 01:44:14.129
time gap: 0:00:00.006961
2021-04-06 01:44:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:14.793
lastevent: 2021-04-06 01:44:14.787, last ten sensor data: [('2021-04-06 01:44:14.440', 'D+000008.8'), ('2021-04-06 01:44:14.460', 'D+000008.8'), ('2021-04-06 01:44:14.480', 'D+000008.6'), ('2021-04-06 01:44:14.500', 'D+000008.6'), ('2021-04-06 01:44:14.520', 'D+000008.4'), ('2021-04-06 01:44:14.680', 'D+000005.6'), ('2021-04-06 01:44:14.710', 'D+000005.4'), ('2021-04-06 01:44:14.730', 'D+000005.2'), ('2021-04-06 01:44:14.750', 'D+000005.0'), ('2021-04-06 01:44:14.770', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [8.4, 5.6, 5.4, 5.2, 5.0, 5.0]
np.array X: [[8.4]
 [5.6]
 [5.4]
 [5.2]
 [5. ]
 [5. ]]
revised_weight: 5.5
2021-04-06 01:44:14.770: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:44:14.770
plc_result: True
sendmessage: 20210406014414770,1,000050,000055
send message to PLC: 2021-04-06 01:44:14.806
time gap: 0:00:00.012357
2021-04-06 01:44:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:14: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:44:14: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:14: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:14: select done
2021-04-06 01:44:14: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:44:14: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:44:15: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:44:15: count: 6 in httpPlcDataSender thread
2021-04-06 01:44:15: D+: 6 in httpPlcDataSender thread
2021-04-06 01:44:15: D-: 0 in httpPlcDataSender thread
2021-04-06 01:44:15: S+: 0 in httpPlcDataSender thread
2021-04-06 01:44:15: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:44:09.900'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:44:10.870'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:44:12.570'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:44:13.060'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:44:14.040'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:44:14.770'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:09.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:10.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:12.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:13.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:14.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:14.770'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:44:15', 'collectDate': '2021-04-06 01:44:14', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.5', 'sensorAt': '2021-04-06 01:44:09.900'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:44:10.870'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:44:12.570'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:44:13.060'}, {'value': '8.5', 'sensorAt': '2021-04-06 01:44:14.040'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:44:14.770'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:09.900'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:10.870'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:12.570'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:13.060'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:14.040'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:14.770'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:44:15: send http
2021-04-06 01:44:15: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:44:15: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:15: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:16.105
lastevent: 2021-04-06 01:44:16.100, last ten sensor data: [('2021-04-06 01:44:15.670', 'D+000004.0'), ('2021-04-06 01:44:15.690', 'D+000004.0'), ('2021-04-06 01:44:15.710', 'D+000004.0'), ('2021-04-06 01:44:15.730', 'D+000004.0'), ('2021-04-06 01:44:15.750', 'D+000003.8'), ('2021-04-06 01:44:15.930', 'D+000003.6'), ('2021-04-06 01:44:15.950', 'D+000003.4'), ('2021-04-06 01:44:15.970', 'D+000003.4'), ('2021-04-06 01:44:15.990', 'D+000003.4'), ('2021-04-06 01:44:16.010', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.6, 3.4, 3.4, 3.4, 3.2]
np.array X: [[3.8]
 [3.6]
 [3.4]
 [3.4]
 [3.4]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:44:16.010: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:44:16.010
plc_result: True
sendmessage: 20210406014416010,1,000032,000031
send message to PLC: 2021-04-06 01:44:16.122
time gap: 0:00:00.016792
2021-04-06 01:44:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:17.305
lastevent: 2021-04-06 01:44:17.296, last ten sensor data: [('2021-04-06 01:44:16.720', 'D+000003.4'), ('2021-04-06 01:44:16.900', 'D+000003.4'), ('2021-04-06 01:44:16.920', 'D+000003.4'), ('2021-04-06 01:44:16.940', 'D+000003.6'), ('2021-04-06 01:44:16.960', 'D+000003.6'), ('2021-04-06 01:44:17.140', 'D+000004.0'), ('2021-04-06 01:44:17.160', 'D+000004.2'), ('2021-04-06 01:44:17.180', 'D+000004.2'), ('2021-04-06 01:44:17.200', 'D+000004.4'), ('2021-04-06 01:44:17.220', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 4.2, 4.2, 4.4, 4.6]
np.array X: [[3.6]
 [4. ]
 [4.2]
 [4.2]
 [4.4]
 [4.6]]
revised_weight: 4.4
2021-04-06 01:44:17.220: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:44:17.220
plc_result: True
sendmessage: 20210406014417220,1,000046,000044
send message to PLC: 2021-04-06 01:44:17.312
time gap: 0:00:00.006781
2021-04-06 01:44:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:18.568
lastevent: 2021-04-06 01:44:18.563, last ten sensor data: [('2021-04-06 01:44:17.940', 'D+000004.2'), ('2021-04-06 01:44:18.120', 'D+000004.2'), ('2021-04-06 01:44:18.140', 'D+000004.4'), ('2021-04-06 01:44:18.160', 'D+000004.0'), ('2021-04-06 01:44:18.180', 'D+000004.0'), ('2021-04-06 01:44:18.340', 'D+000005.6'), ('2021-04-06 01:44:18.370', 'D+000006.2'), ('2021-04-06 01:44:18.390', 'D+000006.6'), ('2021-04-06 01:44:18.410', 'D+000006.8'), ('2021-04-06 01:44:18.430', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 5.6, 6.2, 6.6, 6.8, 7.0]
np.array X: [[4. ]
 [5.6]
 [6.2]
 [6.6]
 [6.8]
 [7. ]]
revised_weight: 6.7
2021-04-06 01:44:18.430: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:44:18.430
plc_result: True
sendmessage: 20210406014418430,1,000070,000067
send message to PLC: 2021-04-06 01:44:18.581
time gap: 0:00:00.012756
2021-04-06 01:44:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:19.864
lastevent: 2021-04-06 01:44:19.861, last ten sensor data: [('2021-04-06 01:44:19.390', 'D+000004.6'), ('2021-04-06 01:44:19.410', 'D+000004.4'), ('2021-04-06 01:44:19.580', 'D+000005.2'), ('2021-04-06 01:44:19.600', 'D+000005.2'), ('2021-04-06 01:44:19.620', 'D+000005.4'), ('2021-04-06 01:44:19.640', 'D+000005.2'), ('2021-04-06 01:44:19.660', 'D+000005.2'), ('2021-04-06 01:44:19.810', 'D+000006.2'), ('2021-04-06 01:44:19.840', 'D+000006.0'), ('2021-04-06 01:44:19.860', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.2, 5.2, 6.2, 6.0, 5.8]
np.array X: [[5.4]
 [5.2]
 [5.2]
 [6.2]
 [6. ]
 [5.8]]
revised_weight: 5.9
2021-04-06 01:44:19.860: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:44:19.860
plc_result: True
sendmessage: 20210406014419860,1,000058,000059
send message to PLC: 2021-04-06 01:44:19.875
time gap: 0:00:00.011284
2021-04-06 01:44:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:20: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:44:20: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:20: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:20: select done
2021-04-06 01:44:20: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:44:20: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:44:20: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:44:20: count: 4 in httpPlcDataSender thread
2021-04-06 01:44:20: D+: 4 in httpPlcDataSender thread
2021-04-06 01:44:20: D-: 0 in httpPlcDataSender thread
2021-04-06 01:44:20: S+: 0 in httpPlcDataSender thread
2021-04-06 01:44:20: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.1', 'sensorAt': '2021-04-06 01:44:16.010'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:44:17.220'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:44:18.430'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:44:19.860'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:16.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:17.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:18.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:19.860'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:44:20', 'collectDate': '2021-04-06 01:44:19', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.1', 'sensorAt': '2021-04-06 01:44:16.010'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:44:17.220'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:44:18.430'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:44:19.860'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:16.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:17.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:18.430'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:19.860'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:44:20: send http
2021-04-06 01:44:20: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:44:20: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:21: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:21.794
lastevent: 2021-04-06 01:44:21.788, last ten sensor data: [('2021-04-06 01:44:21.300', 'D+000003.8'), ('2021-04-06 01:44:21.320', 'D+000004.0'), ('2021-04-06 01:44:21.340', 'D+000004.0'), ('2021-04-06 01:44:21.360', 'D+000004.0'), ('2021-04-06 01:44:21.540', 'D+000004.2'), ('2021-04-06 01:44:21.560', 'D+000004.0'), ('2021-04-06 01:44:21.580', 'D+000004.0'), ('2021-04-06 01:44:21.600', 'D+000004.2'), ('2021-04-06 01:44:21.620', 'D+000004.2'), ('2021-04-06 01:44:21.770', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.0, 4.0, 4.2, 4.2, 5.0]
np.array X: [[4.2]
 [4. ]
 [4. ]
 [4.2]
 [4.2]
 [5. ]]
revised_weight: 4.6
2021-04-06 01:44:21.770: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:44:21.770
plc_result: True
sendmessage: 20210406014421770,1,000050,000046
send message to PLC: 2021-04-06 01:44:21.806
time gap: 0:00:00.011710
2021-04-06 01:44:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:22.417
lastevent: 2021-04-06 01:44:22.407, last ten sensor data: [('2021-04-06 01:44:21.840', 'D+000004.4'), ('2021-04-06 01:44:22.030', 'D+000003.6'), ('2021-04-06 01:44:22.050', 'D+000003.6'), ('2021-04-06 01:44:22.070', 'D+000003.6'), ('2021-04-06 01:44:22.090', 'D+000003.8'), ('2021-04-06 01:44:22.270', 'D+000003.8'), ('2021-04-06 01:44:22.290', 'D+000003.8'), ('2021-04-06 01:44:22.310', 'D+000004.0'), ('2021-04-06 01:44:22.330', 'D+000004.0'), ('2021-04-06 01:44:22.350', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 3.8, 4.0, 4.0, 4.2]
np.array X: [[3.8]
 [3.8]
 [3.8]
 [4. ]
 [4. ]
 [4.2]]
revised_weight: 4.3
2021-04-06 01:44:22.350: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:44:22.350
plc_result: True
sendmessage: 20210406014422350,1,000042,000043
send message to PLC: 2021-04-06 01:44:22.434
time gap: 0:00:00.017241
2021-04-06 01:44:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:23.586
lastevent: 2021-04-06 01:44:23.574, last ten sensor data: [('2021-04-06 01:44:23.070', 'D+000003.8'), ('2021-04-06 01:44:23.250', 'D+000003.8'), ('2021-04-06 01:44:23.270', 'D+000003.8'), ('2021-04-06 01:44:23.290', 'D+000004.0'), ('2021-04-06 01:44:23.310', 'D+000004.2'), ('2021-04-06 01:44:23.330', 'D+000004.2'), ('2021-04-06 01:44:23.500', 'D+000004.6'), ('2021-04-06 01:44:23.520', 'D+000003.6'), ('2021-04-06 01:44:23.540', 'D+000004.2'), ('2021-04-06 01:44:23.560', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 4.6, 3.6, 4.2, 4.0]
np.array X: [[4.2]
 [4.2]
 [4.6]
 [3.6]
 [4.2]
 [4. ]]
revised_weight: 4.2
2021-04-06 01:44:23.560: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:44:23.560
plc_result: True
sendmessage: 20210406014423560,1,000040,000042
send message to PLC: 2021-04-06 01:44:23.599
time gap: 0:00:00.013190
2021-04-06 01:44:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:25.808
lastevent: 2021-04-06 01:44:25.798, last ten sensor data: [('2021-04-06 01:44:25.470', 'D+000003.6'), ('2021-04-06 01:44:25.490', 'D+000003.8'), ('2021-04-06 01:44:25.510', 'D+000004.0'), ('2021-04-06 01:44:25.530', 'D+000004.0'), ('2021-04-06 01:44:25.690', 'D+000004.4'), ('2021-04-06 01:44:25.710', 'D+000004.2'), ('2021-04-06 01:44:25.730', 'D+000004.2'), ('2021-04-06 01:44:25.750', 'D+000004.4'), ('2021-04-06 01:44:25.770', 'D+000004.6'), ('2021-04-06 01:44:25.790', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.2, 4.2, 4.4, 4.6, 4.6]
np.array X: [[4.4]
 [4.2]
 [4.2]
 [4.4]
 [4.6]
 [4.6]]
revised_weight: 4.7
2021-04-06 01:44:25.790: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:44:25.790
plc_result: True
sendmessage: 20210406014425790,1,000046,000047
send message to PLC: 2021-04-06 01:44:25.820
time gap: 0:00:00.011193
2021-04-06 01:44:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:26: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:44:26: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:26: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:26: select done
2021-04-06 01:44:26: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:44:26: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:26.126
lastevent: 2021-04-06 01:44:26.114, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:44:25.930', 'D+000004.8'), ('2021-04-06 01:44:25.950', 'D+000004.6'), ('2021-04-06 01:44:25.970', 'D+000004.8'), ('2021-04-06 01:44:25.990', 'D+000005.2'), ('2021-04-06 01:44:26.010', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 4.8, 4.6, 4.8, 5.2, 4.8]
np.array X: [[0. ]
 [4.8]
 [4.6]
 [4.8]
 [5.2]
 [4.8]]
revised_weight: 4.1
2021-04-06 01:44:26.010: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:44:26.010
plc_result: True
sendmessage: 20210406014426010,1,000048,000041
send message to PLC: 2021-04-06 01:44:26.138
time gap: 0:00:00.011297
2021-04-06 01:44:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:26: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:44:26: count: 4 in httpPlcDataSender thread
2021-04-06 01:44:26: D+: 4 in httpPlcDataSender thread
2021-04-06 01:44:26: D-: 0 in httpPlcDataSender thread
2021-04-06 01:44:26: S+: 0 in httpPlcDataSender thread
2021-04-06 01:44:26: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.6', 'sensorAt': '2021-04-06 01:44:21.770'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:44:22.350'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:44:23.560'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:44:25.790'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:21.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:22.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:23.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:25.790'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:44:26', 'collectDate': '2021-04-06 01:44:25', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.6', 'sensorAt': '2021-04-06 01:44:21.770'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:44:22.350'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:44:23.560'}, {'value': '4.7', 'sensorAt': '2021-04-06 01:44:25.790'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:21.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:22.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:23.560'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:25.790'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:26.362
lastevent: 2021-04-06 01:44:26.353, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:44:26.170', 'D+000005.8'), ('2021-04-06 01:44:26.190', 'D+000006.0'), ('2021-04-06 01:44:26.210', 'D+000005.8'), ('2021-04-06 01:44:26.230', 'D+000006.0'), ('2021-04-06 01:44:26.250', 'D+000006.4'), ('2021-04-06 01:44:26.270', 'D+000006.4')]
2021-04-06 01:44:26: send http
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
2021-04-06 01:44:26: response status code: 200
list X: [5.8, 6.0, 5.8, 6.0, 6.4, 6.4]
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
np.array X: [[5.8]
 [6. ]
 [5.8]
 [6. ]
 [6.4]
 [6.4]]
True
revised_weight: 6.1
2021-04-06 01:44:26.270: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:44:26.270
plc_result: True
sendmessage: 20210406014426270,1,000064,000061
send message to PLC: 2021-04-06 01:44:26.391
time gap: 0:00:00.028981
2021-04-06 01:44:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
Backupserver True
2021-04-06 01:44:26: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:26: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:27.964
lastevent: 2021-04-06 01:44:27.952, last ten sensor data: [('2021-04-06 01:44:27.480', 'D+000005.0'), ('2021-04-06 01:44:27.640', 'D+000005.0'), ('2021-04-06 01:44:27.680', 'D+000005.4'), ('2021-04-06 01:44:27.700', 'D+000005.4'), ('2021-04-06 01:44:27.720', 'D+000005.6'), ('2021-04-06 01:44:27.740', 'D+000005.6'), ('2021-04-06 01:44:27.900', 'D+000005.2'), ('2021-04-06 01:44:27.920', 'D+000005.2'), ('2021-04-06 01:44:27.940', 'D+000005.8'), ('2021-04-06 01:44:27.960', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.6, 5.2, 5.2, 5.8, 5.8]
np.array X: [[5.6]
 [5.6]
 [5.2]
 [5.2]
 [5.8]
 [5.8]]
revised_weight: 5.5
2021-04-06 01:44:27.960: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:44:27.960
plc_result: True
sendmessage: 20210406014427960,1,000058,000055
send message to PLC: 2021-04-06 01:44:27.979
time gap: 0:00:00.015741
2021-04-06 01:44:27: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:29.087
lastevent: 2021-04-06 01:44:29.072, last ten sensor data: [('2021-04-06 01:44:28.630', 'D+000004.0'), ('2021-04-06 01:44:28.650', 'D+000004.0'), ('2021-04-06 01:44:28.670', 'D+000004.2'), ('2021-04-06 01:44:28.690', 'D+000004.2'), ('2021-04-06 01:44:28.710', 'D+000004.6'), ('2021-04-06 01:44:28.870', 'D+000005.2'), ('2021-04-06 01:44:28.890', 'D+000005.2'), ('2021-04-06 01:44:28.910', 'D+000005.4'), ('2021-04-06 01:44:28.930', 'D+000006.2'), ('2021-04-06 01:44:28.950', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 5.2, 5.2, 5.4, 6.2, 6.4]
np.array X: [[4.6]
 [5.2]
 [5.2]
 [5.4]
 [6.2]
 [6.4]]
revised_weight: 5.9
2021-04-06 01:44:28.950: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:44:28.950
plc_result: True
sendmessage: 20210406014428950,1,000064,000059
send message to PLC: 2021-04-06 01:44:29.100
time gap: 0:00:00.012700
2021-04-06 01:44:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:29.849
lastevent: 2021-04-06 01:44:29.835, last ten sensor data: [('2021-04-06 01:44:29.210', 'D+000007.2'), ('2021-04-06 01:44:29.370', 'D+000007.0'), ('2021-04-06 01:44:29.390', 'D+000006.6'), ('2021-04-06 01:44:29.410', 'D+000006.6'), ('2021-04-06 01:44:29.430', 'D+000007.0'), ('2021-04-06 01:44:29.600', 'D+000006.8'), ('2021-04-06 01:44:29.620', 'D+000006.6'), ('2021-04-06 01:44:29.640', 'D+000007.0'), ('2021-04-06 01:44:29.660', 'D+000006.8'), ('2021-04-06 01:44:29.680', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [7.0, 6.8, 6.6, 7.0, 6.8, 6.4]
np.array X: [[7. ]
 [6.8]
 [6.6]
 [7. ]
 [6.8]
 [6.4]]
revised_weight: 6.7
2021-04-06 01:44:29.680: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:44:29.680
plc_result: True
sendmessage: 20210406014429680,1,000064,000067
send message to PLC: 2021-04-06 01:44:29.862
time gap: 0:00:00.012667
2021-04-06 01:44:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:31: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:44:31: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:31.649
lastevent: 2021-04-06 01:44:31.635, last ten sensor data: [('2021-04-06 01:44:31.300', 'D+000005.0'), ('2021-04-06 01:44:31.330', 'D+000005.2'), ('2021-04-06 01:44:31.350', 'D+000005.6'), ('2021-04-06 01:44:31.370', 'D+000005.4'), ('2021-04-06 01:44:31.390', 'D+000005.6'), ('2021-04-06 01:44:31.560', 'D+000006.0'), ('2021-04-06 01:44:31.580', 'D+000006.2'), ('2021-04-06 01:44:31.600', 'D+000007.0'), ('2021-04-06 01:44:31.620', 'D+000007.0'), ('2021-04-06 01:44:31.640', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.0, 6.2, 7.0, 7.0, 6.0]
np.array X: [[5.6]
 [6. ]
 [6.2]
 [7. ]
 [7. ]
 [6. ]]
revised_weight: 6.1
2021-04-06 01:44:31.640: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:44:31.640
plc_result: True
sendmessage: 20210406014431640,1,000060,000061
send message to PLC: 2021-04-06 01:44:31.660
time gap: 0:00:00.011064
2021-04-06 01:44:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:31: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:31: select done
2021-04-06 01:44:31: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:44:31: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:44:31: sendjson called, 6 records in httpPlcDataSender thread
2021-04-06 01:44:31: count: 6 in httpPlcDataSender thread
2021-04-06 01:44:31: D+: 6 in httpPlcDataSender thread
2021-04-06 01:44:31: D-: 0 in httpPlcDataSender thread
2021-04-06 01:44:31: S+: 0 in httpPlcDataSender thread
2021-04-06 01:44:31: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:44:26.010'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:44:26.270'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:44:27.960'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:44:28.950'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:44:29.680'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:44:31.640'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:26.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:26.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:27.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:28.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:29.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:31.640'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:44:31', 'collectDate': '2021-04-06 01:44:31', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:44:26.010'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:44:26.270'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:44:27.960'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:44:28.950'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:44:29.680'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:44:31.640'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:26.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:26.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:27.960'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:28.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:29.680'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:31.640'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:44:32: send http
2021-04-06 01:44:32: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:44:32: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:32: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:34.038
lastevent: 2021-04-06 01:44:34.031, last ten sensor data: [('2021-04-06 01:44:33.690', 'D+000005.0'), ('2021-04-06 01:44:33.710', 'D+000005.2'), ('2021-04-06 01:44:33.730', 'D+000005.2'), ('2021-04-06 01:44:33.750', 'D+000005.2'), ('2021-04-06 01:44:33.770', 'D+000005.2'), ('2021-04-06 01:44:33.920', 'D+000005.4'), ('2021-04-06 01:44:33.940', 'D+000005.6'), ('2021-04-06 01:44:33.960', 'D+000005.6'), ('2021-04-06 01:44:33.980', 'D+000005.8'), ('2021-04-06 01:44:34.000', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.4, 5.6, 5.6, 5.8, 5.4]
np.array X: [[5.2]
 [5.4]
 [5.6]
 [5.6]
 [5.8]
 [5.4]]
revised_weight: 5.4
2021-04-06 01:44:34.000: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:44:34.000
plc_result: True
sendmessage: 20210406014434000,1,000054,000054
send message to PLC: 2021-04-06 01:44:34.047
time gap: 0:00:00.008880
2021-04-06 01:44:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:34.817
lastevent: 2021-04-06 01:44:34.802, last ten sensor data: [('2021-04-06 01:44:34.420', 'D+000004.8'), ('2021-04-06 01:44:34.440', 'D+000004.6'), ('2021-04-06 01:44:34.460', 'D+000004.8'), ('2021-04-06 01:44:34.480', 'D+000005.0'), ('2021-04-06 01:44:34.500', 'D+000005.2'), ('2021-04-06 01:44:34.660', 'D+000005.2'), ('2021-04-06 01:44:34.680', 'D+000005.0'), ('2021-04-06 01:44:34.700', 'D+000004.8'), ('2021-04-06 01:44:34.720', 'D+000005.2'), ('2021-04-06 01:44:34.740', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.2, 5.0, 4.8, 5.2, 5.6]
np.array X: [[5.2]
 [5.2]
 [5. ]
 [4.8]
 [5.2]
 [5.6]]
revised_weight: 5.1
2021-04-06 01:44:34.740: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:44:34.740
plc_result: True
sendmessage: 20210406014434740,1,000056,000051
send message to PLC: 2021-04-06 01:44:34.828
time gap: 0:00:00.011374
2021-04-06 01:44:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:35.791
lastevent: 2021-04-06 01:44:35.789, last ten sensor data: [('2021-04-06 01:44:35.220', 'D+000005.4'), ('2021-04-06 01:44:35.400', 'D+000005.2'), ('2021-04-06 01:44:35.420', 'D+000005.2'), ('2021-04-06 01:44:35.440', 'D+000005.0'), ('2021-04-06 01:44:35.460', 'D+000005.0'), ('2021-04-06 01:44:35.480', 'D+000005.2'), ('2021-04-06 01:44:35.650', 'D+000005.2'), ('2021-04-06 01:44:35.670', 'D+000005.0'), ('2021-04-06 01:44:35.690', 'D+000004.8'), ('2021-04-06 01:44:35.710', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 5.2, 5.0, 4.8, 4.4]
np.array X: [[5. ]
 [5.2]
 [5.2]
 [5. ]
 [4.8]
 [4.4]]
revised_weight: 4.8
2021-04-06 01:44:35.710: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:44:35.710
plc_result: True
sendmessage: 20210406014435710,1,000044,000048
send message to PLC: 2021-04-06 01:44:35.807
time gap: 0:00:00.016078
2021-04-06 01:44:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:37.125
lastevent: 2021-04-06 01:44:37.112, last ten sensor data: [('2021-04-06 01:44:36.670', 'D+000004.0'), ('2021-04-06 01:44:36.690', 'D+000004.2'), ('2021-04-06 01:44:36.850', 'D+000004.8'), ('2021-04-06 01:44:36.870', 'D+000004.8'), ('2021-04-06 01:44:36.890', 'D+000005.0'), ('2021-04-06 01:44:36.910', 'D+000005.4'), ('2021-04-06 01:44:36.930', 'D+000005.4'), ('2021-04-06 01:44:37.090', 'D+000005.6'), ('2021-04-06 01:44:37.110', 'D+000005.4'), ('2021-04-06 01:44:37.130', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.4, 5.4, 5.6, 5.4, 5.6]
np.array X: [[5. ]
 [5.4]
 [5.4]
 [5.6]
 [5.4]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:44:37.130: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:44:37.130
plc_result: True
sendmessage: 20210406014437130,1,000056,000055
send message to PLC: 2021-04-06 01:44:37.132
time gap: 0:00:00.007154
2021-04-06 01:44:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:37: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:44:37: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:37: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:37: select done
2021-04-06 01:44:37: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:44:37: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:44:37: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:44:37: count: 4 in httpPlcDataSender thread
2021-04-06 01:44:37: D+: 4 in httpPlcDataSender thread
2021-04-06 01:44:37: D-: 0 in httpPlcDataSender thread
2021-04-06 01:44:37: S+: 0 in httpPlcDataSender thread
2021-04-06 01:44:37: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.4', 'sensorAt': '2021-04-06 01:44:34.000'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:44:34.740'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:44:35.710'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:44:37.130'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:34.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:34.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:35.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:37.130'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:44:37', 'collectDate': '2021-04-06 01:44:37', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.4', 'sensorAt': '2021-04-06 01:44:34.000'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:44:34.740'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:44:35.710'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:44:37.130'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:34.000'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:34.740'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:35.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:37.130'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:37.583
lastevent: 2021-04-06 01:44:37.575, last ten sensor data: [0, 0, 0, ('2021-04-06 01:44:37.150', 'D+000006.2'), ('2021-04-06 01:44:37.170', 'D+000006.2'), ('2021-04-06 01:44:37.330', 'D+000006.0'), ('2021-04-06 01:44:37.350', 'D+000006.6'), ('2021-04-06 01:44:37.370', 'D+000006.6'), ('2021-04-06 01:44:37.390', 'D+000006.4'), ('2021-04-06 01:44:37.410', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.0, 6.6, 6.6, 6.4, 6.0]
np.array X: [[6.2]
 [6. ]
 [6.6]
 [6.6]
 [6.4]
 [6. ]]
revised_weight: 6.1
2021-04-06 01:44:37.410: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:44:37.410
plc_result: True
sendmessage: 20210406014437410,1,000060,000061
2021-04-06 01:44:37: send http
2021-04-06 01:44:37: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
send message to PLC: 2021-04-06 01:44:37.599
time gap: 0:00:00.015931
2021-04-06 01:44:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
Backupserver True
2021-04-06 01:44:37: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:37: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:39.694
lastevent: 2021-04-06 01:44:39.678, last ten sensor data: [('2021-04-06 01:44:39.220', 'D+000003.6'), ('2021-04-06 01:44:39.240', 'D+000003.4'), ('2021-04-06 01:44:39.260', 'D+000003.4'), ('2021-04-06 01:44:39.280', 'D+000003.4'), ('2021-04-06 01:44:39.310', 'D+000003.4'), ('2021-04-06 01:44:39.470', 'D+000003.4'), ('2021-04-06 01:44:39.490', 'D+000003.6'), ('2021-04-06 01:44:39.510', 'D+000003.8'), ('2021-04-06 01:44:39.530', 'D+000003.4'), ('2021-04-06 01:44:39.550', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.4, 3.6, 3.8, 3.4, 3.2]
np.array X: [[3.4]
 [3.4]
 [3.6]
 [3.8]
 [3.4]
 [3.2]]
revised_weight: 3.1
2021-04-06 01:44:39.550: revising weight finished
revised_weight: 3.1 at 2021-04-06 01:44:39.550
plc_result: True
sendmessage: 20210406014439550,1,000032,000031
send message to PLC: 2021-04-06 01:44:39.711
time gap: 0:00:00.016938
2021-04-06 01:44:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:40.557
lastevent: 2021-04-06 01:44:40.544, last ten sensor data: [('2021-04-06 01:44:39.940', 'D+000003.6'), ('2021-04-06 01:44:40.110', 'D+000003.4'), ('2021-04-06 01:44:40.130', 'D+000003.4'), ('2021-04-06 01:44:40.150', 'D+000003.2'), ('2021-04-06 01:44:40.170', 'D+000003.4'), ('2021-04-06 01:44:40.190', 'D+000003.0'), ('2021-04-06 01:44:40.360', 'D+000003.6'), ('2021-04-06 01:44:40.380', 'D+000003.6'), ('2021-04-06 01:44:40.400', 'D+000003.6'), ('2021-04-06 01:44:40.420', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.0, 3.6, 3.6, 3.6, 3.2]
np.array X: [[3.4]
 [3. ]
 [3.6]
 [3.6]
 [3.6]
 [3.2]]
revised_weight: 3.0
2021-04-06 01:44:40.420: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:44:40.420
plc_result: True
sendmessage: 20210406014440420,1,000032,000030
send message to PLC: 2021-04-06 01:44:40.569
time gap: 0:00:00.012241
2021-04-06 01:44:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
trigger sensor detected: 2021-04-06 01:44:41.640
lastevent: 2021-04-06 01:44:41.627, last ten sensor data: [('2021-04-06 01:44:41.140', 'D+000003.4'), ('2021-04-06 01:44:41.160', 'D+000003.4'), ('2021-04-06 01:44:41.320', 'D+000003.8'), ('2021-04-06 01:44:41.350', 'D+000004.0'), ('2021-04-06 01:44:41.370', 'D+000004.6'), ('2021-04-06 01:44:41.390', 'D+000004.8'), ('2021-04-06 01:44:41.410', 'D+000005.4'), ('2021-04-06 01:44:41.590', 'D+000006.4'), ('2021-04-06 01:44:41.610', 'D+000008.0'), ('2021-04-06 01:44:41.630', 'D+000010.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.6, 4.8, 5.4, 6.4, 8.0, 10.0]
np.array X: [[ 4.6]
 [ 4.8]
 [ 5.4]
 [ 6.4]
 [ 8. ]
 [10. ]]
revised_weight: 7.9
2021-04-06 01:44:41.630: revising weight finished
revised_weight: 7.9 at 2021-04-06 01:44:41.630
plc_result: True
sendmessage: 20210406014441630,1,000100,000079
send message to PLC: 2021-04-06 01:44:41.652
time gap: 0:00:00.011958
2021-04-06 01:44:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:42: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:44:42: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:42: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:42: select done
2021-04-06 01:44:42: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:44:42: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:44:43: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:44:43: count: 4 in httpPlcDataSender thread
2021-04-06 01:44:43: D+: 4 in httpPlcDataSender thread
2021-04-06 01:44:43: D-: 0 in httpPlcDataSender thread
2021-04-06 01:44:43: S+: 0 in httpPlcDataSender thread
2021-04-06 01:44:43: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.1', 'sensorAt': '2021-04-06 01:44:37.410'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:44:39.550'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:44:40.420'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:44:41.630'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:37.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:39.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:40.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:41.630'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:44:43', 'collectDate': '2021-04-06 01:44:41', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '6.1', 'sensorAt': '2021-04-06 01:44:37.410'}, {'value': '3.1', 'sensorAt': '2021-04-06 01:44:39.550'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:44:40.420'}, {'value': '7.9', 'sensorAt': '2021-04-06 01:44:41.630'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:37.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:39.550'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:40.420'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:41.630'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:44:43: send http
2021-04-06 01:44:43: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:44:43: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:43.261
lastevent: 2021-04-06 01:44:43.249, last ten sensor data: [('2021-04-06 01:44:42.630', 'D+000004.2'), ('2021-04-06 01:44:42.810', 'D+000004.0'), ('2021-04-06 01:44:42.830', 'D+000004.0'), ('2021-04-06 01:44:42.850', 'D+000004.2'), ('2021-04-06 01:44:42.870', 'D+000004.0'), ('2021-04-06 01:44:42.930', 'D+000004.0'), ('2021-04-06 01:44:43.060', 'D+000006.8'), ('2021-04-06 01:44:43.080', 'D+000007.4'), ('2021-04-06 01:44:43.100', 'D+000007.8'), ('2021-04-06 01:44:43.120', 'D+000008.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 6.8, 7.4, 7.8, 8.2]
np.array X: [[4. ]
 [4. ]
 [6.8]
 [7.4]
 [7.8]
 [8.2]]
revised_weight: 7.2
2021-04-06 01:44:43.120: revising weight finished
revised_weight: 7.2 at 2021-04-06 01:44:43.120
plc_result: True
sendmessage: 20210406014443120,1,000082,000072
send message to PLC: 2021-04-06 01:44:43.268
time gap: 0:00:00.007061
2021-04-06 01:44:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:43: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:44:45.233
lastevent: 2021-04-06 01:44:45.219, last ten sensor data: [('2021-04-06 01:44:44.740', 'D+000003.0'), ('2021-04-06 01:44:44.760', 'D+000003.2'), ('2021-04-06 01:44:44.780', 'D+000003.2'), ('2021-04-06 01:44:44.800', 'D+000003.0'), ('2021-04-06 01:44:44.820', 'D+000003.0'), ('2021-04-06 01:44:44.980', 'D+000004.4'), ('2021-04-06 01:44:45.000', 'D+000004.6'), ('2021-04-06 01:44:45.020', 'D+000004.8'), ('2021-04-06 01:44:45.040', 'D+000005.6'), ('2021-04-06 01:44:45.220', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 4.4, 4.6, 4.8, 5.6, 5.8]
np.array X: [[3. ]
 [4.4]
 [4.6]
 [4.8]
 [5.6]
 [5.8]]
revised_weight: 5.4
2021-04-06 01:44:45.220: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:44:45.220
plc_result: True
sendmessage: 20210406014445220,1,000058,000054
send message to PLC: 2021-04-06 01:44:45.240
time gap: 0:00:00.006981
2021-04-06 01:44:45: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:48: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:44:48: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:48: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:48: select done
2021-04-06 01:44:48: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:44:48: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:44:48: sendjson called, 2 records in httpPlcDataSender thread
2021-04-06 01:44:48: count: 2 in httpPlcDataSender thread
2021-04-06 01:44:48: D+: 2 in httpPlcDataSender thread
2021-04-06 01:44:48: D-: 0 in httpPlcDataSender thread
2021-04-06 01:44:48: S+: 0 in httpPlcDataSender thread
2021-04-06 01:44:48: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.2', 'sensorAt': '2021-04-06 01:44:43.120'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:44:45.220'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:43.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:45.220'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:44:48', 'collectDate': '2021-04-06 01:44:45', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '7.2', 'sensorAt': '2021-04-06 01:44:43.120'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:44:45.220'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:44:43.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:44:45.220'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:44:48: send http
2021-04-06 01:44:48: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:44:48: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:48: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:44:53: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:44:53: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:44:54: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:54: select done
2021-04-06 01:44:54: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:44:54: No Data remains in httpPlcDataSender thread
2021-04-06 01:44:54: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_40.db
2021-04-06 01:44:54: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:44:54: current db filename:  in httpPlcDataSender thread
2021-04-06 01:44:54: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:45:01: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:45:02: httpScaleDataSender thread Timeout occurred
2021-04-06 01:45:02: [13730] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
2021-04-06 01:45:02: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:45:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:45:54: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:45:54: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:45:54: current db filename:  in httpPlcDataSender thread
2021-04-06 01:45:54: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:46:02: httpScaleDataSender thread Timeout occurred
2021-04-06 01:46:02: [13731] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
2021-04-06 01:46:02: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:46:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:46:54: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:46:54: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:46:54: current db filename:  in httpPlcDataSender thread
2021-04-06 01:46:54: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:47:02: httpScaleDataSender thread Timeout occurred
2021-04-06 01:47:02: [13732] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
2021-04-06 01:47:02: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:47:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:47:54: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:47:54: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:47:55: current db filename:  in httpPlcDataSender thread
2021-04-06 01:47:55: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:48:02: httpScaleDataSender thread Timeout occurred
2021-04-06 01:48:02: [13733] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
2021-04-06 01:48:02: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:48:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:48:55: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:48:55: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:48:55: current db filename:  in httpPlcDataSender thread
2021-04-06 01:48:55: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:49:02: httpScaleDataSender thread Timeout occurred
2021-04-06 01:49:02: [13734] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
2021-04-06 01:49:02: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:49:16: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:49:55: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:49:55: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:49:55: current db filename:  in httpPlcDataSender thread
2021-04-06 01:49:55: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
current_plcdb_name: plcdata2021-04-06_01_50.db
1[845]: datalist_to_store size: 845
2021-04-06 01:50:00: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:50:02: httpScaleDataSender thread Timeout occurred
2021-04-06 01:50:02: [13735] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_40.db in httpScaleDataSender thread
2021-04-06 01:50:02: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:50:02: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:50:02: select done
2021-04-06 01:50:02: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:50:02: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:50:02: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:50:02: count: 3000 in httpScaleDataSender thread
2021-04-06 01:50:02: D+: 2473 in httpScaleDataSender thread
2021-04-06 01:50:02: D-: 0 in httpScaleDataSender thread
2021-04-06 01:50:02: S+: 527 in httpScaleDataSender thread
2021-04-06 01:50:02: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
2021-04-06 01:50:07: send http
2021-04-06 01:50:07: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:50:07: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:50:08: got 'update query' results  in httpScaleDataSender thread
2021-04-06 01:50:18: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:50:18: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:50:18: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:50:18: select done
2021-04-06 01:50:18: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:50:18: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:50:18: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:50:18: count: 3000 in httpScaleDataSender thread
2021-04-06 01:50:18: D+: 2991 in httpScaleDataSender thread
2021-04-06 01:50:18: D-: 9 in httpScaleDataSender thread
2021-04-06 01:50:18: S+: 0 in httpScaleDataSender thread
2021-04-06 01:50:18: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
2021-04-06 01:50:23: send http
2021-04-06 01:50:23: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:50:23: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:50:24: got 'update query' results  in httpScaleDataSender thread
2021-04-06 01:50:34: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:50:34: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:50:34: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:50:34: select done
2021-04-06 01:50:34: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:50:34: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:50:34: sendjson called, 3000 records in httpScaleDataSender thread
2021-04-06 01:50:34: count: 3000 in httpScaleDataSender thread
2021-04-06 01:50:34: D+: 2932 in httpScaleDataSender thread
2021-04-06 01:50:34: D-: 68 in httpScaleDataSender thread
2021-04-06 01:50:34: S+: 0 in httpScaleDataSender thread
2021-04-06 01:50:34: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
2021-04-06 01:50:36: send http
2021-04-06 01:50:36: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:50:36: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:50:36: got 'update query' results  in httpScaleDataSender thread
2021-04-06 01:50:46: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:50:46: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:50:46: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:50:47: select done
2021-04-06 01:50:47: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:50:47: HTTPSThreadState.STATE_HTTP_SEND in httpScaleDataSender thread
2021-04-06 01:50:47: sendjson called, 2845 records in httpScaleDataSender thread
2021-04-06 01:50:47: count: 2845 in httpScaleDataSender thread
2021-04-06 01:50:47: D+: 489 in httpScaleDataSender thread
2021-04-06 01:50:47: D-: 0 in httpScaleDataSender thread
2021-04-06 01:50:47: S+: 2356 in httpScaleDataSender thread
2021-04-06 01:50:47: S-: 0 in httpScaleDataSender thread
True in httpScaleDataSender thread
2021-04-06 01:50:49: send http
2021-04-06 01:50:49: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2021-04-06 01:50:49: HTTPSThreadState.STATE_UPDATE_REQUEST in httpScaleDataSender thread
2021-04-06 01:50:49: got 'update query' results  in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:50:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db
2021-04-06 01:50:55: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:50:55: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:50:55: current db filename:  in httpPlcDataSender thread
2021-04-06 01:50:55: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:50:59: HTTP Send finished in httpScaleDataSender thread
2021-04-06 01:50:59: HTTPSThreadState.STATE_SELECT_REQUEST in httpScaleDataSender thread
2021-04-06 01:50:59: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:50:59: select done
2021-04-06 01:50:59: got 'select query' results  in httpScaleDataSender thread
2021-04-06 01:50:59: No Data remains in httpScaleDataSender thread
2021-04-06 01:50:59: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpScaleDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_40.db
2021-04-06 01:50:59: HTTPSThreadState.STATE_DONE in httpScaleDataSender thread
['/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db']
2021-04-06 01:51:00: current db filename: /home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
2021-04-06 01:51:00: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:51:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db
2021-04-06 01:51:55: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:51:55: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:51:55: current db filename:  in httpPlcDataSender thread
2021-04-06 01:51:55: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:52:00: httpScaleDataSender thread Timeout occurred
2021-04-06 01:52:00: [13736] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
2021-04-06 01:52:00: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:52:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db
2021-04-06 01:52:55: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:52:56: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:52:56: current db filename:  in httpPlcDataSender thread
2021-04-06 01:52:56: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:53:00: httpScaleDataSender thread Timeout occurred
2021-04-06 01:53:00: [13737] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
2021-04-06 01:53:00: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:53:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db
2021-04-06 01:53:56: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:53:56: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:53:56: current db filename:  in httpPlcDataSender thread
2021-04-06 01:53:56: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:54:00: httpScaleDataSender thread Timeout occurred
2021-04-06 01:54:00: [13738] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
2021-04-06 01:54:00: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:54:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db
2021-04-06 01:54:56: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:54:56: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:54:56: current db filename:  in httpPlcDataSender thread
2021-04-06 01:54:56: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2021-04-06 01:55:00: httpScaleDataSender thread Timeout occurred
2021-04-06 01:55:00: [13739] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
2021-04-06 01:55:00: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:55:05: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db
2021-04-06 01:55:56: httpPlcDataSender thread Timeout occurred
[]
2021-04-06 01:55:56: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:55:56: current db filename:  in httpPlcDataSender thread
2021-04-06 01:55:56: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
2[1000]: datalist_to_store size: 1000
2021-04-06 01:55:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db
2021-04-06 01:56:00: httpScaleDataSender thread Timeout occurred
2021-04-06 01:56:00: [13740] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
2021-04-06 01:56:00: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:56:09.191
lastevent: 2021-04-06 01:56:09.178, last ten sensor data: [('2021-04-06 01:56:08.730', 'D+000001.2'), ('2021-04-06 01:56:08.750', 'D+000001.6'), ('2021-04-06 01:56:08.770', 'D+000001.4'), ('2021-04-06 01:56:08.790', 'D+000001.2'), ('2021-04-06 01:56:08.810', 'D+000001.2'), ('2021-04-06 01:56:08.970', 'D+000002.8'), ('2021-04-06 01:56:08.990', 'D+000003.2'), ('2021-04-06 01:56:09.010', 'D+000003.4'), ('2021-04-06 01:56:09.030', 'D+000003.8'), ('2021-04-06 01:56:09.050', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.2, 2.8, 3.2, 3.4, 3.8, 3.4]
np.array X: [[1.2]
 [2.8]
 [3.2]
 [3.4]
 [3.8]
 [3.4]]
revised_weight: 3.2
2021-04-06 01:56:09.050: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:56:09.050
plc_result: True
sendmessage: 20210406015609050,1,000034,000032
send message to PLC: 2021-04-06 01:56:09.205
time gap: 0:00:00.014033
2021-04-06 01:56:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:10.361
lastevent: 2021-04-06 01:56:10.349, last ten sensor data: [('2021-04-06 01:56:09.760', 'D+000002.4'), ('2021-04-06 01:56:09.780', 'D+000002.4'), ('2021-04-06 01:56:09.960', 'D+000002.2'), ('2021-04-06 01:56:09.980', 'D+000002.4'), ('2021-04-06 01:56:10.000', 'D+000002.8'), ('2021-04-06 01:56:10.020', 'D+000003.2'), ('2021-04-06 01:56:10.200', 'D+000003.6'), ('2021-04-06 01:56:10.220', 'D+000004.0'), ('2021-04-06 01:56:10.240', 'D+000004.6'), ('2021-04-06 01:56:10.260', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.2, 3.6, 4.0, 4.6, 4.8]
np.array X: [[2.8]
 [3.2]
 [3.6]
 [4. ]
 [4.6]
 [4.8]]
revised_weight: 4.2
2021-04-06 01:56:10.260: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:56:10.260
plc_result: True
sendmessage: 20210406015610260,1,000048,000042
send message to PLC: 2021-04-06 01:56:10.374
time gap: 0:00:00.013623
2021-04-06 01:56:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:15.721
lastevent: 2021-04-06 01:56:15.706, last ten sensor data: [('2021-04-06 01:56:15.180', 'D+000000.8'), ('2021-04-06 01:56:15.200', 'D+000000.8'), ('2021-04-06 01:56:15.380', 'D+000002.6'), ('2021-04-06 01:56:15.400', 'D+000002.4'), ('2021-04-06 01:56:15.420', 'D+000002.2'), ('2021-04-06 01:56:15.440', 'D+000002.2'), ('2021-04-06 01:56:15.630', 'D+000003.0'), ('2021-04-06 01:56:15.650', 'D+000003.6'), ('2021-04-06 01:56:15.670', 'D+000003.6'), ('2021-04-06 01:56:15.690', 'D+000003.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.2, 3.0, 3.6, 3.6, 3.0]
np.array X: [[2.2]
 [2.2]
 [3. ]
 [3.6]
 [3.6]
 [3. ]]
revised_weight: 3.0
2021-04-06 01:56:15.690: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:56:15.690
plc_result: True
sendmessage: 20210406015615690,1,000030,000030
send message to PLC: 2021-04-06 01:56:15.741
time gap: 0:00:00.019850
2021-04-06 01:56:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:18.365
lastevent: 2021-04-06 01:56:18.349, last ten sensor data: [('2021-04-06 01:56:17.830', 'D+000001.2'), ('2021-04-06 01:56:18.000', 'D+000002.0'), ('2021-04-06 01:56:18.020', 'D+000002.2'), ('2021-04-06 01:56:18.040', 'D+000002.4'), ('2021-04-06 01:56:18.060', 'D+000002.6'), ('2021-04-06 01:56:18.240', 'D+000003.8'), ('2021-04-06 01:56:18.260', 'D+000003.6'), ('2021-04-06 01:56:18.280', 'D+000003.4'), ('2021-04-06 01:56:18.300', 'D+000003.6'), ('2021-04-06 01:56:18.320', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 3.8, 3.6, 3.4, 3.6, 3.8]
np.array X: [[2.6]
 [3.8]
 [3.6]
 [3.4]
 [3.6]
 [3.8]]
revised_weight: 3.5
2021-04-06 01:56:18.320: revising weight finished
revised_weight: 3.5 at 2021-04-06 01:56:18.320
plc_result: True
sendmessage: 20210406015618320,1,000038,000035
send message to PLC: 2021-04-06 01:56:18.379
time gap: 0:00:00.013892
2021-04-06 01:56:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:19.125
lastevent: 2021-04-06 01:56:19.112, last ten sensor data: [('2021-04-06 01:56:18.720', 'D+000003.2'), ('2021-04-06 01:56:18.740', 'D+000002.8'), ('2021-04-06 01:56:18.760', 'D+000003.2'), ('2021-04-06 01:56:18.780', 'D+000003.6'), ('2021-04-06 01:56:18.800', 'D+000003.6'), ('2021-04-06 01:56:18.970', 'D+000004.0'), ('2021-04-06 01:56:18.990', 'D+000003.8'), ('2021-04-06 01:56:19.010', 'D+000003.6'), ('2021-04-06 01:56:19.030', 'D+000004.4'), ('2021-04-06 01:56:19.050', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 3.8, 3.6, 4.4, 4.8]
np.array X: [[3.6]
 [4. ]
 [3.8]
 [3.6]
 [4.4]
 [4.8]]
revised_weight: 4.3
2021-04-06 01:56:19.050: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:56:19.050
plc_result: True
sendmessage: 20210406015619050,1,000048,000043
send message to PLC: 2021-04-06 01:56:19.132
time gap: 0:00:00.007250
2021-04-06 01:56:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:20.429
lastevent: 2021-04-06 01:56:20.425, last ten sensor data: [('2021-04-06 01:56:20.030', 'D+000002.8'), ('2021-04-06 01:56:20.050', 'D+000002.6'), ('2021-04-06 01:56:20.070', 'D+000002.8'), ('2021-04-06 01:56:20.090', 'D+000002.8'), ('2021-04-06 01:56:20.110', 'D+000003.2'), ('2021-04-06 01:56:20.250', 'D+000004.4'), ('2021-04-06 01:56:20.290', 'D+000004.4'), ('2021-04-06 01:56:20.310', 'D+000004.0'), ('2021-04-06 01:56:20.330', 'D+000004.0'), ('2021-04-06 01:56:20.350', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 4.4, 4.4, 4.0, 4.0, 5.2]
np.array X: [[3.2]
 [4.4]
 [4.4]
 [4. ]
 [4. ]
 [5.2]]
revised_weight: 4.8
2021-04-06 01:56:20.350: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:56:20.350
plc_result: True
sendmessage: 20210406015620350,1,000052,000048
send message to PLC: 2021-04-06 01:56:20.435
time gap: 0:00:00.006264
2021-04-06 01:56:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:21.881
lastevent: 2021-04-06 01:56:21.879, last ten sensor data: [('2021-04-06 01:56:21.490', 'D+000002.6'), ('2021-04-06 01:56:21.510', 'D+000002.6'), ('2021-04-06 01:56:21.530', 'D+000002.6'), ('2021-04-06 01:56:21.550', 'D+000003.0'), ('2021-04-06 01:56:21.570', 'D+000003.2'), ('2021-04-06 01:56:21.720', 'D+000004.4'), ('2021-04-06 01:56:21.740', 'D+000004.0'), ('2021-04-06 01:56:21.760', 'D+000003.6'), ('2021-04-06 01:56:21.780', 'D+000004.2'), ('2021-04-06 01:56:21.800', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 4.4, 4.0, 3.6, 4.2, 4.8]
np.array X: [[3.2]
 [4.4]
 [4. ]
 [3.6]
 [4.2]
 [4.8]]
revised_weight: 4.3
2021-04-06 01:56:21.800: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:56:21.800
plc_result: True
sendmessage: 20210406015621800,1,000048,000043
send message to PLC: 2021-04-06 01:56:21.893
time gap: 0:00:00.012335
2021-04-06 01:56:21: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:23.814
lastevent: 2021-04-06 01:56:23.799, last ten sensor data: [('2021-04-06 01:56:23.430', 'D+000002.4'), ('2021-04-06 01:56:23.450', 'D+000002.2'), ('2021-04-06 01:56:23.470', 'D+000002.6'), ('2021-04-06 01:56:23.490', 'D+000002.6'), ('2021-04-06 01:56:23.510', 'D+000002.0'), ('2021-04-06 01:56:23.680', 'D+000003.2'), ('2021-04-06 01:56:23.700', 'D+000004.0'), ('2021-04-06 01:56:23.720', 'D+000004.8'), ('2021-04-06 01:56:23.740', 'D+000002.8'), ('2021-04-06 01:56:23.760', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 3.2, 4.0, 4.8, 2.8, 3.6]
np.array X: [[2. ]
 [3.2]
 [4. ]
 [4.8]
 [2.8]
 [3.6]]
revised_weight: 2.7
2021-04-06 01:56:23.760: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:56:23.760
plc_result: True
sendmessage: 20210406015623760,1,000036,000027
send message to PLC: 2021-04-06 01:56:23.826
time gap: 0:00:00.011414
2021-04-06 01:56:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:25.483
lastevent: 2021-04-06 01:56:25.467, last ten sensor data: [('2021-04-06 01:56:25.140', 'D+000003.4'), ('2021-04-06 01:56:25.160', 'D+000003.6'), ('2021-04-06 01:56:25.180', 'D+000003.4'), ('2021-04-06 01:56:25.200', 'D+000003.2'), ('2021-04-06 01:56:25.220', 'D+000003.6'), ('2021-04-06 01:56:25.240', 'D+000003.6'), ('2021-04-06 01:56:25.380', 'D+000003.6'), ('2021-04-06 01:56:25.420', 'D+000004.2'), ('2021-04-06 01:56:25.440', 'D+000003.8'), ('2021-04-06 01:56:25.460', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 3.6, 3.6, 4.2, 3.8, 3.8]
np.array X: [[3.6]
 [3.6]
 [3.6]
 [4.2]
 [3.8]
 [3.8]]
revised_weight: 3.7
2021-04-06 01:56:25.460: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:56:25.460
plc_result: True
sendmessage: 20210406015625460,1,000038,000037
send message to PLC: 2021-04-06 01:56:25.495
time gap: 0:00:00.011779
2021-04-06 01:56:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:26.745
lastevent: 2021-04-06 01:56:26.727, last ten sensor data: [('2021-04-06 01:56:26.190', 'D+000002.2'), ('2021-04-06 01:56:26.370', 'D+000002.8'), ('2021-04-06 01:56:26.390', 'D+000003.0'), ('2021-04-06 01:56:26.410', 'D+000003.4'), ('2021-04-06 01:56:26.430', 'D+000003.2'), ('2021-04-06 01:56:26.450', 'D+000003.0'), ('2021-04-06 01:56:26.620', 'D+000003.6'), ('2021-04-06 01:56:26.640', 'D+000005.0'), ('2021-04-06 01:56:26.660', 'D+000005.4'), ('2021-04-06 01:56:26.690', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.0, 3.6, 5.0, 5.4, 4.6]
np.array X: [[3.2]
 [3. ]
 [3.6]
 [5. ]
 [5.4]
 [4.6]]
revised_weight: 4.4
2021-04-06 01:56:26.690: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:56:26.690
plc_result: True
sendmessage: 20210406015626690,1,000046,000044
send message to PLC: 2021-04-06 01:56:26.757
time gap: 0:00:00.011659
2021-04-06 01:56:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:28.410
lastevent: 2021-04-06 01:56:28.392, last ten sensor data: [('2021-04-06 01:56:28.080', 'D+000003.8'), ('2021-04-06 01:56:28.100', 'D+000003.2'), ('2021-04-06 01:56:28.120', 'D+000003.0'), ('2021-04-06 01:56:28.140', 'D+000003.8'), ('2021-04-06 01:56:28.300', 'D+000003.8'), ('2021-04-06 01:56:28.320', 'D+000003.4'), ('2021-04-06 01:56:28.340', 'D+000004.0'), ('2021-04-06 01:56:28.360', 'D+000004.0'), ('2021-04-06 01:56:28.380', 'D+000003.8'), ('2021-04-06 01:56:28.400', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.4, 4.0, 4.0, 3.8, 3.8]
np.array X: [[3.8]
 [3.4]
 [4. ]
 [4. ]
 [3.8]
 [3.8]]
revised_weight: 3.7
2021-04-06 01:56:28.400: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:56:28.400
plc_result: True
sendmessage: 20210406015628400,1,000038,000037
send message to PLC: 2021-04-06 01:56:28.421
time gap: 0:00:00.011595
2021-04-06 01:56:28: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:29.581
lastevent: 2021-04-06 01:56:29.572, last ten sensor data: [('2021-04-06 01:56:29.120', 'D+000002.0'), ('2021-04-06 01:56:29.140', 'D+000001.8'), ('2021-04-06 01:56:29.300', 'D+000003.2'), ('2021-04-06 01:56:29.320', 'D+000003.2'), ('2021-04-06 01:56:29.340', 'D+000003.8'), ('2021-04-06 01:56:29.360', 'D+000004.2'), ('2021-04-06 01:56:29.520', 'D+000004.4'), ('2021-04-06 01:56:29.540', 'D+000004.0'), ('2021-04-06 01:56:29.560', 'D+000004.2'), ('2021-04-06 01:56:29.580', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 4.2, 4.4, 4.0, 4.2, 4.2]
np.array X: [[3.8]
 [4.2]
 [4.4]
 [4. ]
 [4.2]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:56:29.580: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:56:29.580
plc_result: True
sendmessage: 20210406015629580,1,000042,000042
send message to PLC: 2021-04-06 01:56:29.587
time gap: 0:00:00.006388
2021-04-06 01:56:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:31.455
lastevent: 2021-04-06 01:56:31.442, last ten sensor data: [('2021-04-06 01:56:30.960', 'D+000002.2'), ('2021-04-06 01:56:30.980', 'D+000002.2'), ('2021-04-06 01:56:31.000', 'D+000002.0'), ('2021-04-06 01:56:31.020', 'D+000002.0'), ('2021-04-06 01:56:31.040', 'D+000002.0'), ('2021-04-06 01:56:31.220', 'D+000003.2'), ('2021-04-06 01:56:31.240', 'D+000003.4'), ('2021-04-06 01:56:31.260', 'D+000003.6'), ('2021-04-06 01:56:31.280', 'D+000003.6'), ('2021-04-06 01:56:31.440', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 3.2, 3.4, 3.6, 3.6, 3.4]
np.array X: [[2. ]
 [3.2]
 [3.4]
 [3.6]
 [3.6]
 [3.4]]
revised_weight: 3.2
2021-04-06 01:56:31.440: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:56:31.440
plc_result: True
sendmessage: 20210406015631440,1,000034,000032
send message to PLC: 2021-04-06 01:56:31.462
time gap: 0:00:00.007265
2021-04-06 01:56:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:33.094
lastevent: 2021-04-06 01:56:33.079, last ten sensor data: [('2021-04-06 01:56:32.670', 'D+000002.6'), ('2021-04-06 01:56:32.690', 'D+000002.4'), ('2021-04-06 01:56:32.710', 'D+000002.4'), ('2021-04-06 01:56:32.730', 'D+000002.6'), ('2021-04-06 01:56:32.750', 'D+000003.2'), ('2021-04-06 01:56:32.850', 'D+000003.6'), ('2021-04-06 01:56:32.870', 'D+000003.8'), ('2021-04-06 01:56:32.890', 'D+000004.0'), ('2021-04-06 01:56:32.910', 'D+000004.2'), ('2021-04-06 01:56:32.930', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.6, 3.8, 4.0, 4.2, 4.2]
np.array X: [[3.2]
 [3.6]
 [3.8]
 [4. ]
 [4.2]
 [4.2]]
revised_weight: 4.2
2021-04-06 01:56:32.930: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:56:32.930
plc_result: True
sendmessage: 20210406015632930,1,000042,000042
send message to PLC: 2021-04-06 01:56:33.102
time gap: 0:00:00.007377
2021-04-06 01:56:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:56:34.695
lastevent: 2021-04-06 01:56:34.683, last ten sensor data: [('2021-04-06 01:56:34.320', 'D+000002.4'), ('2021-04-06 01:56:34.340', 'D+000003.2'), ('2021-04-06 01:56:34.360', 'D+000003.4'), ('2021-04-06 01:56:34.380', 'D+000003.8'), ('2021-04-06 01:56:34.400', 'D+000003.8'), ('2021-04-06 01:56:34.560', 'D+000005.4'), ('2021-04-06 01:56:34.580', 'D+000004.8'), ('2021-04-06 01:56:34.600', 'D+000004.4'), ('2021-04-06 01:56:34.620', 'D+000005.4'), ('2021-04-06 01:56:34.640', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.4, 4.8, 4.4, 5.4, 5.4]
np.array X: [[3.8]
 [5.4]
 [4.8]
 [4.4]
 [5.4]
 [5.4]]
revised_weight: 4.5
2021-04-06 01:56:34.640: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:56:34.640
plc_result: True
sendmessage: 20210406015634640,1,000054,000045
send message to PLC: 2021-04-06 01:56:34.702
time gap: 0:00:00.007360
2021-04-06 01:56:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:56:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db
2021-04-06 01:56:56: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db']
2021-04-06 01:56:56: [13104] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_50.db
select_plcdb_filename: b
2021-04-06 01:56:56: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:56:57: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:56:57: select done
2021-04-06 01:56:57: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:56:57: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:56:57: sendjson called, 15 records in httpPlcDataSender thread
2021-04-06 01:56:57: count: 15 in httpPlcDataSender thread
2021-04-06 01:56:57: D+: 15 in httpPlcDataSender thread
2021-04-06 01:56:57: D-: 0 in httpPlcDataSender thread
2021-04-06 01:56:57: S+: 0 in httpPlcDataSender thread
2021-04-06 01:56:57: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.2', 'sensorAt': '2021-04-06 01:56:09.050'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:56:10.260'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:56:15.690'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:56:18.320'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:56:19.050'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:56:20.350'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:56:21.800'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:56:23.760'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:56:25.460'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:56:26.690'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:56:28.400'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:56:29.580'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:56:31.440'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:56:32.930'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:56:34.640'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:56:09.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:10.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:15.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:18.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:19.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:20.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:21.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:23.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:25.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:26.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:28.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:29.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:31.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:32.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:34.640'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:56:57', 'collectDate': '2021-04-06 01:56:34', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.2', 'sensorAt': '2021-04-06 01:56:09.050'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:56:10.260'}, {'value': '3.0', 'sensorAt': '2021-04-06 01:56:15.690'}, {'value': '3.5', 'sensorAt': '2021-04-06 01:56:18.320'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:56:19.050'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:56:20.350'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:56:21.800'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:56:23.760'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:56:25.460'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:56:26.690'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:56:28.400'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:56:29.580'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:56:31.440'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:56:32.930'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:56:34.640'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:56:09.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:10.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:15.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:18.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:19.050'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:20.350'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:21.800'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:23.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:25.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:26.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:28.400'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:29.580'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:31.440'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:32.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:56:34.640'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:56:57: send http
2021-04-06 01:56:57: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:56:57: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:56:57: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:57:00: httpScaleDataSender thread Timeout occurred
2021-04-06 01:57:00: [13741] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
2021-04-06 01:57:00: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2021-04-06 01:57:02: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:57:02: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:57:02: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:57:02: select done
2021-04-06 01:57:02: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:57:02: No Data remains in httpPlcDataSender thread
2021-04-06 01:57:02: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:57:02: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:57:02: current db filename:  in httpPlcDataSender thread
2021-04-06 01:57:02: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:57:34.890
lastevent: 2021-04-06 01:57:34.866, last ten sensor data: [('2021-04-06 01:57:34.530', 'D+000001.8'), ('2021-04-06 01:57:34.550', 'D+000002.2'), ('2021-04-06 01:57:34.570', 'D+000002.0'), ('2021-04-06 01:57:34.590', 'D+000002.4'), ('2021-04-06 01:57:34.610', 'D+000002.4'), ('2021-04-06 01:57:34.770', 'D+000004.4'), ('2021-04-06 01:57:34.790', 'D+000003.2'), ('2021-04-06 01:57:34.810', 'D+000003.0'), ('2021-04-06 01:57:34.830', 'D+000003.6'), ('2021-04-06 01:57:34.850', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 4.4, 3.2, 3.0, 3.6, 3.4]
np.array X: [[2.4]
 [4.4]
 [3.2]
 [3. ]
 [3.6]
 [3.4]]
revised_weight: 3.0
2021-04-06 01:57:34.850: revising weight finished
revised_weight: 3.0 at 2021-04-06 01:57:34.850
plc_result: True
sendmessage: 20210406015734850,1,000034,000030
send message to PLC: 2021-04-06 01:57:34.904
time gap: 0:00:00.014030
2021-04-06 01:57:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:57:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db
2021-04-06 01:58:00: httpScaleDataSender thread Timeout occurred
2021-04-06 01:58:00: [13742] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
2021-04-06 01:58:00: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
2021-04-06 01:58:02: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db']
2021-04-06 01:58:03: [13105] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_50.db
select_plcdb_filename: b
2021-04-06 01:58:03: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:58:03: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:58:03: select done
2021-04-06 01:58:03: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:58:03: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:58:03: sendjson called, 1 records in httpPlcDataSender thread
2021-04-06 01:58:03: count: 1 in httpPlcDataSender thread
2021-04-06 01:58:03: D+: 1 in httpPlcDataSender thread
2021-04-06 01:58:03: D-: 0 in httpPlcDataSender thread
2021-04-06 01:58:03: S+: 0 in httpPlcDataSender thread
2021-04-06 01:58:03: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.0', 'sensorAt': '2021-04-06 01:57:34.850'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:57:34.850'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:58:03', 'collectDate': '2021-04-06 01:57:34', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.0', 'sensorAt': '2021-04-06 01:57:34.850'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:57:34.850'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:58:03: send http
2021-04-06 01:58:03: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:58:03: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:58:03: got 'update query' results  in httpPlcDataSender thread
2021-04-06 01:58:08: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:58:08: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:58:08: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:58:08: select done
2021-04-06 01:58:08: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:58:08: No Data remains in httpPlcDataSender thread
2021-04-06 01:58:08: HTTPSThreadState.STATE_MOVEFILE_REQUEST in httpPlcDataSender thread
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:58:08: HTTPSThreadState.STATE_DONE in httpPlcDataSender thread
[]
2021-04-06 01:58:09: current db filename:  in httpPlcDataSender thread
2021-04-06 01:58:09: HTTPSThreadState.STATE_IDLE in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:58:22.934
lastevent: 2021-04-06 01:58:22.921, last ten sensor data: [('2021-04-06 01:58:22.460', 'D+000001.2'), ('2021-04-06 01:58:22.480', 'D+000001.2'), ('2021-04-06 01:58:22.630', 'D+000003.0'), ('2021-04-06 01:58:22.650', 'D+000003.2'), ('2021-04-06 01:58:22.670', 'D+000003.0'), ('2021-04-06 01:58:22.690', 'D+000003.0'), ('2021-04-06 01:58:22.710', 'D+000003.2'), ('2021-04-06 01:58:22.890', 'D+000004.6'), ('2021-04-06 01:58:22.910', 'D+000005.2'), ('2021-04-06 01:58:22.930', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.0, 3.2, 4.6, 5.2, 5.4]
np.array X: [[3. ]
 [3. ]
 [3.2]
 [4.6]
 [5.2]
 [5.4]]
revised_weight: 4.3
2021-04-06 01:58:22.930: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:58:22.930
plc_result: True
sendmessage: 20210406015822930,1,000054,000043
send message to PLC: 2021-04-06 01:58:22.942
time gap: 0:00:00.007859
2021-04-06 01:58:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:23.303
lastevent: 2021-04-06 01:58:23.288, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:58:22.950', 'D+000005.2'), ('2021-04-06 01:58:23.140', 'D+000005.8'), ('2021-04-06 01:58:23.160', 'D+000005.6'), ('2021-04-06 01:58:23.180', 'D+000005.8'), ('2021-04-06 01:58:23.200', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 5.2, 5.8, 5.6, 5.8, 6.0]
np.array X: [[0. ]
 [5.2]
 [5.8]
 [5.6]
 [5.8]
 [6. ]]
revised_weight: 5.0
2021-04-06 01:58:23.200: revising weight finished
revised_weight: 5.0 at 2021-04-06 01:58:23.200
plc_result: True
sendmessage: 20210406015823200,1,000060,000050
send message to PLC: 2021-04-06 01:58:23.314
time gap: 0:00:00.010509
2021-04-06 01:58:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:25.454
lastevent: 2021-04-06 01:58:25.452, last ten sensor data: [('2021-04-06 01:58:25.090', 'D+000002.2'), ('2021-04-06 01:58:25.110', 'D+000002.4'), ('2021-04-06 01:58:25.130', 'D+000002.4'), ('2021-04-06 01:58:25.150', 'D+000002.4'), ('2021-04-06 01:58:25.170', 'D+000002.8'), ('2021-04-06 01:58:25.320', 'D+000003.4'), ('2021-04-06 01:58:25.350', 'D+000003.8'), ('2021-04-06 01:58:25.370', 'D+000003.2'), ('2021-04-06 01:58:25.390', 'D+000003.6'), ('2021-04-06 01:58:25.410', 'D+000003.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.4, 3.8, 3.2, 3.6, 3.4]
np.array X: [[2.8]
 [3.4]
 [3.8]
 [3.2]
 [3.6]
 [3.4]]
revised_weight: 3.4
2021-04-06 01:58:25.410: revising weight finished
revised_weight: 3.4 at 2021-04-06 01:58:25.410
plc_result: True
sendmessage: 20210406015825410,1,000034,000034
send message to PLC: 2021-04-06 01:58:25.461
time gap: 0:00:00.007290
2021-04-06 01:58:25: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2[1000]: datalist_to_store size: 1000
2021-04-06 01:58:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:31.243
lastevent: 2021-04-06 01:58:31.242, last ten sensor data: [('2021-04-06 01:58:30.540', 'D+000001.2'), ('2021-04-06 01:58:30.810', 'D+000001.6'), ('2021-04-06 01:58:30.830', 'D+000001.6'), ('2021-04-06 01:58:30.850', 'D+000001.8'), ('2021-04-06 01:58:30.870', 'D+000001.6'), ('2021-04-06 01:58:31.050', 'D+000003.8'), ('2021-04-06 01:58:31.070', 'D+000003.6'), ('2021-04-06 01:58:31.090', 'D+000003.4'), ('2021-04-06 01:58:31.110', 'D+000003.2'), ('2021-04-06 01:58:31.130', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 3.8, 3.6, 3.4, 3.2, 3.2]
np.array X: [[1.6]
 [3.8]
 [3.6]
 [3.4]
 [3.2]
 [3.2]]
revised_weight: 2.7
2021-04-06 01:58:31.130: revising weight finished
revised_weight: 2.7 at 2021-04-06 01:58:31.130
plc_result: True
sendmessage: 20210406015831130,1,000032,000027
send message to PLC: 2021-04-06 01:58:31.250
time gap: 0:00:00.006687
2021-04-06 01:58:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:31.607
lastevent: 2021-04-06 01:58:31.605, last ten sensor data: [('2021-04-06 01:58:31.290', 'D+000005.0'), ('2021-04-06 01:58:31.310', 'D+000005.2'), ('2021-04-06 01:58:31.330', 'D+000005.4'), ('2021-04-06 01:58:31.350', 'D+000006.0'), ('2021-04-06 01:58:31.370', 'D+000005.8'), ('2021-04-06 01:58:31.530', 'D+000006.2'), ('2021-04-06 01:58:31.550', 'D+000005.2'), ('2021-04-06 01:58:31.570', 'D+000005.6'), ('2021-04-06 01:58:31.590', 'D+000005.2'), ('2021-04-06 01:58:31.610', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.2, 5.2, 5.6, 5.2, 5.0]
np.array X: [[5.8]
 [6.2]
 [5.2]
 [5.6]
 [5.2]
 [5. ]]
revised_weight: 5.6
2021-04-06 01:58:31.610: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:58:31.610
plc_result: True
sendmessage: 20210406015831610,1,000050,000056
send message to PLC: 2021-04-06 01:58:31.614
time gap: 0:00:00.006904
2021-04-06 01:58:31: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:32.115
lastevent: 2021-04-06 01:58:32.108, last ten sensor data: [0, ('2021-04-06 01:58:31.780', 'D+000005.8'), ('2021-04-06 01:58:31.800', 'D+000005.8'), ('2021-04-06 01:58:31.820', 'D+000005.8'), ('2021-04-06 01:58:31.840', 'D+000005.4'), ('2021-04-06 01:58:31.860', 'D+000005.6'), ('2021-04-06 01:58:32.040', 'D+000005.8'), ('2021-04-06 01:58:32.060', 'D+000006.6'), ('2021-04-06 01:58:32.080', 'D+000006.2'), ('2021-04-06 01:58:32.100', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 5.8, 6.6, 6.2, 5.4]
np.array X: [[5.4]
 [5.6]
 [5.8]
 [6.6]
 [6.2]
 [5.4]]
revised_weight: 5.7
2021-04-06 01:58:32.100: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:58:32.100
plc_result: True
sendmessage: 20210406015832100,1,000054,000057
send message to PLC: 2021-04-06 01:58:32.128
time gap: 0:00:00.012728
2021-04-06 01:58:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:32.495
lastevent: 2021-04-06 01:58:32.486, last ten sensor data: [0, 0, 0, 0, 0, 0, ('2021-04-06 01:58:32.280', 'D+000007.4'), ('2021-04-06 01:58:32.300', 'D+000006.4'), ('2021-04-06 01:58:32.320', 'D+000006.0'), ('2021-04-06 01:58:32.340', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 0, 7.4, 6.4, 6.0, 6.6]
np.array X: [[0. ]
 [0. ]
 [7.4]
 [6.4]
 [6. ]
 [6.6]]
revised_weight: 5.9
2021-04-06 01:58:32.340: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:58:32.340
plc_result: True
sendmessage: 20210406015832340,1,000066,000059
send message to PLC: 2021-04-06 01:58:32.509
time gap: 0:00:00.013553
2021-04-06 01:58:32: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:35.301
lastevent: 2021-04-06 01:58:35.291, last ten sensor data: [('2021-04-06 01:58:34.950', 'D+000002.2'), ('2021-04-06 01:58:34.970', 'D+000002.0'), ('2021-04-06 01:58:34.990', 'D+000002.0'), ('2021-04-06 01:58:35.010', 'D+000002.6'), ('2021-04-06 01:58:35.030', 'D+000002.8'), ('2021-04-06 01:58:35.190', 'D+000005.0'), ('2021-04-06 01:58:35.210', 'D+000003.6'), ('2021-04-06 01:58:35.230', 'D+000003.4'), ('2021-04-06 01:58:35.250', 'D+000004.6'), ('2021-04-06 01:58:35.270', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 5.0, 3.6, 3.4, 4.6, 4.4]
np.array X: [[2.8]
 [5. ]
 [3.6]
 [3.4]
 [4.6]
 [4.4]]
revised_weight: 3.7
2021-04-06 01:58:35.270: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:58:35.270
plc_result: True
sendmessage: 20210406015835270,1,000044,000037
send message to PLC: 2021-04-06 01:58:35.315
time gap: 0:00:00.013813
2021-04-06 01:58:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:35.660
lastevent: 2021-04-06 01:58:35.656, last ten sensor data: [0, 0, 0, 0, 0, 0, ('2021-04-06 01:58:35.450', 'D+000006.0'), ('2021-04-06 01:58:35.470', 'D+000005.8'), ('2021-04-06 01:58:35.490', 'D+000005.2'), ('2021-04-06 01:58:35.510', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 0, 6.0, 5.8, 5.2, 5.8]
np.array X: [[0. ]
 [0. ]
 [6. ]
 [5.8]
 [5.2]
 [5.8]]
revised_weight: 5.3
2021-04-06 01:58:35.510: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:58:35.510
plc_result: True
sendmessage: 20210406015835510,1,000058,000053
send message to PLC: 2021-04-06 01:58:35.674
time gap: 0:00:00.013930
2021-04-06 01:58:35: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:37.550
lastevent: 2021-04-06 01:58:37.546, last ten sensor data: [('2021-04-06 01:58:36.980', 'D+000002.2'), ('2021-04-06 01:58:37.150', 'D+000002.6'), ('2021-04-06 01:58:37.170', 'D+000002.8'), ('2021-04-06 01:58:37.190', 'D+000003.0'), ('2021-04-06 01:58:37.210', 'D+000003.0'), ('2021-04-06 01:58:37.230', 'D+000002.8'), ('2021-04-06 01:58:37.410', 'D+000003.8'), ('2021-04-06 01:58:37.430', 'D+000005.2'), ('2021-04-06 01:58:37.450', 'D+000005.2'), ('2021-04-06 01:58:37.470', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 2.8, 3.8, 5.2, 5.2, 4.4]
np.array X: [[3. ]
 [2.8]
 [3.8]
 [5.2]
 [5.2]
 [4.4]]
revised_weight: 4.2
2021-04-06 01:58:37.470: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:58:37.470
plc_result: True
sendmessage: 20210406015837470,1,000044,000042
send message to PLC: 2021-04-06 01:58:37.562
time gap: 0:00:00.011433
2021-04-06 01:58:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:37.929
lastevent: 2021-04-06 01:58:37.918, last ten sensor data: [0, 0, ('2021-04-06 01:58:37.650', 'D+000006.2'), ('2021-04-06 01:58:37.670', 'D+000005.6'), ('2021-04-06 01:58:37.690', 'D+000005.6'), ('2021-04-06 01:58:37.710', 'D+000006.0'), ('2021-04-06 01:58:37.730', 'D+000006.6'), ('2021-04-06 01:58:37.890', 'D+000005.4'), ('2021-04-06 01:58:37.910', 'D+000005.6'), ('2021-04-06 01:58:37.930', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.0, 6.6, 5.4, 5.6, 5.8]
np.array X: [[5.6]
 [6. ]
 [6.6]
 [5.4]
 [5.6]
 [5.8]]
revised_weight: 5.7
2021-04-06 01:58:37.930: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:58:37.930
plc_result: True
sendmessage: 20210406015837930,1,000058,000057
send message to PLC: 2021-04-06 01:58:37.941
time gap: 0:00:00.011473
2021-04-06 01:58:37: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:38.659
lastevent: 2021-04-06 01:58:38.655, last ten sensor data: [('2021-04-06 01:58:38.200', 'D+000003.6'), ('2021-04-06 01:58:38.220', 'D+000003.6'), ('2021-04-06 01:58:38.370', 'D+000003.4'), ('2021-04-06 01:58:38.400', 'D+000004.4'), ('2021-04-06 01:58:38.420', 'D+000004.4'), ('2021-04-06 01:58:38.440', 'D+000004.0'), ('2021-04-06 01:58:38.460', 'D+000004.2'), ('2021-04-06 01:58:38.630', 'D+000004.2'), ('2021-04-06 01:58:38.650', 'D+000004.4'), ('2021-04-06 01:58:38.670', 'D+000004.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 4.0, 4.2, 4.2, 4.4, 4.6]
np.array X: [[4.4]
 [4. ]
 [4.2]
 [4.2]
 [4.4]
 [4.6]]
revised_weight: 4.6
2021-04-06 01:58:38.670: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:58:38.670
plc_result: True
sendmessage: 20210406015838670,1,000046,000046
send message to PLC: 2021-04-06 01:58:38.670
time gap: 0:00:00.011220
2021-04-06 01:58:38: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:39.269
lastevent: 2021-04-06 01:58:39.263, last ten sensor data: [0, ('2021-04-06 01:58:38.690', 'D+000004.4'), ('2021-04-06 01:58:38.880', 'D+000004.6'), ('2021-04-06 01:58:38.900', 'D+000004.8'), ('2021-04-06 01:58:38.920', 'D+000005.0'), ('2021-04-06 01:58:38.940', 'D+000005.2'), ('2021-04-06 01:58:39.120', 'D+000005.4'), ('2021-04-06 01:58:39.140', 'D+000005.2'), ('2021-04-06 01:58:39.160', 'D+000005.8'), ('2021-04-06 01:58:39.180', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 5.4, 5.2, 5.8, 5.4]
np.array X: [[5. ]
 [5.2]
 [5.4]
 [5.2]
 [5.8]
 [5.4]]
revised_weight: 5.3
2021-04-06 01:58:39.180: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:58:39.180
plc_result: True
sendmessage: 20210406015839180,1,000054,000053
send message to PLC: 2021-04-06 01:58:39.281
time gap: 0:00:00.011315
2021-04-06 01:58:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:42.463
lastevent: 2021-04-06 01:58:42.450, last ten sensor data: [('2021-04-06 01:58:42.000', 'D+000001.4'), ('2021-04-06 01:58:42.020', 'D+000001.4'), ('2021-04-06 01:58:42.180', 'D+000002.6'), ('2021-04-06 01:58:42.200', 'D+000003.2'), ('2021-04-06 01:58:42.220', 'D+000003.2'), ('2021-04-06 01:58:42.240', 'D+000003.0'), ('2021-04-06 01:58:42.260', 'D+000003.0'), ('2021-04-06 01:58:42.420', 'D+000003.6'), ('2021-04-06 01:58:42.440', 'D+000004.4'), ('2021-04-06 01:58:42.460', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.0, 3.0, 3.6, 4.4, 4.4]
np.array X: [[3.2]
 [3. ]
 [3. ]
 [3.6]
 [4.4]
 [4.4]]
revised_weight: 4.1
2021-04-06 01:58:42.460: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:58:42.460
plc_result: True
sendmessage: 20210406015842460,1,000044,000041
send message to PLC: 2021-04-06 01:58:42.475
time gap: 0:00:00.012218
2021-04-06 01:58:42: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:43.078
lastevent: 2021-04-06 01:58:43.067, last ten sensor data: [('2021-04-06 01:58:42.500', 'D+000003.8'), ('2021-04-06 01:58:42.660', 'D+000004.0'), ('2021-04-06 01:58:42.680', 'D+000004.0'), ('2021-04-06 01:58:42.700', 'D+000004.2'), ('2021-04-06 01:58:42.720', 'D+000004.8'), ('2021-04-06 01:58:42.740', 'D+000004.8'), ('2021-04-06 01:58:42.920', 'D+000004.4'), ('2021-04-06 01:58:42.940', 'D+000004.4'), ('2021-04-06 01:58:42.960', 'D+000005.4'), ('2021-04-06 01:58:42.980', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 4.4, 4.4, 5.4, 5.6]
np.array X: [[4.8]
 [4.8]
 [4.4]
 [4.4]
 [5.4]
 [5.6]]
revised_weight: 5.2
2021-04-06 01:58:42.980: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:58:42.980
plc_result: True
sendmessage: 20210406015842980,1,000056,000052
send message to PLC: 2021-04-06 01:58:43.090
time gap: 0:00:00.012467
2021-04-06 01:58:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:43.593
lastevent: 2021-04-06 01:58:43.581, last ten sensor data: [0, 0, ('2021-04-06 01:58:43.170', 'D+000004.8'), ('2021-04-06 01:58:43.190', 'D+000004.8'), ('2021-04-06 01:58:43.210', 'D+000005.0'), ('2021-04-06 01:58:43.230', 'D+000005.2'), ('2021-04-06 01:58:43.400', 'D+000006.6'), ('2021-04-06 01:58:43.420', 'D+000006.4'), ('2021-04-06 01:58:43.440', 'D+000005.4'), ('2021-04-06 01:58:43.460', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 6.6, 6.4, 5.4, 5.4]
np.array X: [[5. ]
 [5.2]
 [6.6]
 [6.4]
 [5.4]
 [5.4]]
revised_weight: 5.9
2021-04-06 01:58:43.460: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:58:43.460
plc_result: True
sendmessage: 20210406015843460,1,000054,000059
send message to PLC: 2021-04-06 01:58:43.607
time gap: 0:00:00.013606
2021-04-06 01:58:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:46.764
lastevent: 2021-04-06 01:58:46.749, last ten sensor data: [('2021-04-06 01:58:46.430', 'D+000002.2'), ('2021-04-06 01:58:46.450', 'D+000002.2'), ('2021-04-06 01:58:46.470', 'D+000002.4'), ('2021-04-06 01:58:46.490', 'D+000002.6'), ('2021-04-06 01:58:46.510', 'D+000002.6'), ('2021-04-06 01:58:46.650', 'D+000004.8'), ('2021-04-06 01:58:46.670', 'D+000003.8'), ('2021-04-06 01:58:46.690', 'D+000003.2'), ('2021-04-06 01:58:46.710', 'D+000003.6'), ('2021-04-06 01:58:46.730', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.6, 4.8, 3.8, 3.2, 3.6, 3.8]
np.array X: [[2.6]
 [4.8]
 [3.8]
 [3.2]
 [3.6]
 [3.8]]
revised_weight: 3.6
2021-04-06 01:58:46.730: revising weight finished
revised_weight: 3.6 at 2021-04-06 01:58:46.730
plc_result: True
sendmessage: 20210406015846730,1,000038,000036
send message to PLC: 2021-04-06 01:58:46.782
time gap: 0:00:00.018032
2021-04-06 01:58:46: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:47.261
lastevent: 2021-04-06 01:58:47.249, last ten sensor data: [('2021-04-06 01:58:46.900', 'D+000004.8'), ('2021-04-06 01:58:46.920', 'D+000005.0'), ('2021-04-06 01:58:46.940', 'D+000004.8'), ('2021-04-06 01:58:46.960', 'D+000004.6'), ('2021-04-06 01:58:46.980', 'D+000004.8'), ('2021-04-06 01:58:47.130', 'D+000005.6'), ('2021-04-06 01:58:47.160', 'D+000005.2'), ('2021-04-06 01:58:47.180', 'D+000005.0'), ('2021-04-06 01:58:47.200', 'D+000005.8'), ('2021-04-06 01:58:47.220', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.6, 5.2, 5.0, 5.8, 5.0]
np.array X: [[4.8]
 [5.6]
 [5.2]
 [5. ]
 [5.8]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:58:47.220: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:58:47.220
plc_result: True
sendmessage: 20210406015847220,1,000050,000051
send message to PLC: 2021-04-06 01:58:47.268
time gap: 0:00:00.007234
2021-04-06 01:58:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:48.305
lastevent: 2021-04-06 01:58:48.303, last ten sensor data: [('2021-04-06 01:58:47.700', 'D+000003.0'), ('2021-04-06 01:58:47.880', 'D+000002.8'), ('2021-04-06 01:58:47.900', 'D+000003.0'), ('2021-04-06 01:58:47.920', 'D+000003.0'), ('2021-04-06 01:58:47.940', 'D+000003.2'), ('2021-04-06 01:58:48.120', 'D+000004.8'), ('2021-04-06 01:58:48.140', 'D+000004.2'), ('2021-04-06 01:58:48.160', 'D+000004.2'), ('2021-04-06 01:58:48.180', 'D+000004.6'), ('2021-04-06 01:58:48.200', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 4.8, 4.2, 4.2, 4.6, 5.4]
np.array X: [[3.2]
 [4.8]
 [4.2]
 [4.2]
 [4.6]
 [5.4]]
revised_weight: 4.6
2021-04-06 01:58:48.200: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:58:48.200
plc_result: True
sendmessage: 20210406015848200,1,000054,000046
send message to PLC: 2021-04-06 01:58:48.319
time gap: 0:00:00.014147
2021-04-06 01:58:48: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:50.131
lastevent: 2021-04-06 01:58:50.115, last ten sensor data: [('2021-04-06 01:58:49.650', 'D+000002.2'), ('2021-04-06 01:58:49.830', 'D+000003.0'), ('2021-04-06 01:58:49.850', 'D+000003.4'), ('2021-04-06 01:58:49.870', 'D+000003.8'), ('2021-04-06 01:58:49.890', 'D+000004.0'), ('2021-04-06 01:58:49.910', 'D+000004.0'), ('2021-04-06 01:58:50.070', 'D+000005.0'), ('2021-04-06 01:58:50.090', 'D+000004.0'), ('2021-04-06 01:58:50.110', 'D+000004.0'), ('2021-04-06 01:58:50.130', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.0, 5.0, 4.0, 4.0, 5.2]
np.array X: [[4. ]
 [4. ]
 [5. ]
 [4. ]
 [4. ]
 [5.2]]
revised_weight: 4.8
2021-04-06 01:58:50.130: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:58:50.130
plc_result: True
sendmessage: 20210406015850130,1,000052,000048
send message to PLC: 2021-04-06 01:58:50.144
time gap: 0:00:00.013839
2021-04-06 01:58:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:50.520
lastevent: 2021-04-06 01:58:50.508, last ten sensor data: [0, 0, 0, ('2021-04-06 01:58:50.150', 'D+000005.2'), ('2021-04-06 01:58:50.170', 'D+000005.2'), ('2021-04-06 01:58:50.310', 'D+000005.6'), ('2021-04-06 01:58:50.330', 'D+000005.6'), ('2021-04-06 01:58:50.350', 'D+000006.4'), ('2021-04-06 01:58:50.370', 'D+000006.6'), ('2021-04-06 01:58:50.390', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.2, 5.6, 5.6, 6.4, 6.6, 5.6]
np.array X: [[5.2]
 [5.6]
 [5.6]
 [6.4]
 [6.6]
 [5.6]]
revised_weight: 5.8
2021-04-06 01:58:50.390: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:58:50.390
plc_result: True
sendmessage: 20210406015850390,1,000056,000058
send message to PLC: 2021-04-06 01:58:50.528
time gap: 0:00:00.007067
2021-04-06 01:58:50: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:53.513
lastevent: 2021-04-06 01:58:53.507, last ten sensor data: [('2021-04-06 01:58:53.010', 'D+000001.8'), ('2021-04-06 01:58:53.190', 'D+000002.4'), ('2021-04-06 01:58:53.210', 'D+000002.6'), ('2021-04-06 01:58:53.230', 'D+000002.8'), ('2021-04-06 01:58:53.250', 'D+000002.8'), ('2021-04-06 01:58:53.430', 'D+000004.6'), ('2021-04-06 01:58:53.450', 'D+000005.2'), ('2021-04-06 01:58:53.470', 'D+000005.0'), ('2021-04-06 01:58:53.490', 'D+000004.6'), ('2021-04-06 01:58:53.510', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 4.6, 5.2, 5.0, 4.6, 5.0]
np.array X: [[2.8]
 [4.6]
 [5.2]
 [5. ]
 [4.6]
 [5. ]]
revised_weight: 5.5
2021-04-06 01:58:53.510: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:58:53.510
plc_result: True
sendmessage: 20210406015853510,1,000050,000055
send message to PLC: 2021-04-06 01:58:53.521
time gap: 0:00:00.007380
2021-04-06 01:58:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:53.888
lastevent: 2021-04-06 01:58:53.877, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:58:53.670', 'D+000006.4'), ('2021-04-06 01:58:53.690', 'D+000005.4'), ('2021-04-06 01:58:53.710', 'D+000005.8'), ('2021-04-06 01:58:53.730', 'D+000006.2'), ('2021-04-06 01:58:53.750', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 6.4, 5.4, 5.8, 6.2, 6.0]
np.array X: [[0. ]
 [6.4]
 [5.4]
 [5.8]
 [6.2]
 [6. ]]
revised_weight: 5.2
2021-04-06 01:58:53.750: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:58:53.750
plc_result: True
sendmessage: 20210406015853750,1,000060,000052
send message to PLC: 2021-04-06 01:58:53.896
time gap: 0:00:00.007684
2021-04-06 01:58:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:54.741
lastevent: 2021-04-06 01:58:54.724, last ten sensor data: [('2021-04-06 01:58:54.400', 'D+000003.2'), ('2021-04-06 01:58:54.420', 'D+000003.4'), ('2021-04-06 01:58:54.440', 'D+000003.6'), ('2021-04-06 01:58:54.460', 'D+000003.6'), ('2021-04-06 01:58:54.480', 'D+000003.6'), ('2021-04-06 01:58:54.630', 'D+000004.8'), ('2021-04-06 01:58:54.660', 'D+000004.6'), ('2021-04-06 01:58:54.680', 'D+000004.6'), ('2021-04-06 01:58:54.700', 'D+000004.6'), ('2021-04-06 01:58:54.720', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.8, 4.6, 4.6, 4.6, 5.8]
np.array X: [[3.6]
 [4.8]
 [4.6]
 [4.6]
 [4.6]
 [5.8]]
revised_weight: 5.3
2021-04-06 01:58:54.720: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:58:54.720
plc_result: True
sendmessage: 20210406015854720,1,000058,000053
send message to PLC: 2021-04-06 01:58:54.752
time gap: 0:00:00.011185
2021-04-06 01:58:54: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:55.121
lastevent: 2021-04-06 01:58:55.116, last ten sensor data: [0, 0, 0, ('2021-04-06 01:58:54.760', 'D+000005.6'), ('2021-04-06 01:58:54.830', 'D+000005.8'), ('2021-04-06 01:58:54.900', 'D+000006.0'), ('2021-04-06 01:58:54.920', 'D+000006.2'), ('2021-04-06 01:58:54.940', 'D+000006.4'), ('2021-04-06 01:58:54.960', 'D+000007.4'), ('2021-04-06 01:58:54.980', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.0, 6.2, 6.4, 7.4, 7.4]
np.array X: [[5.8]
 [6. ]
 [6.2]
 [6.4]
 [7.4]
 [7.4]]
revised_weight: 6.8
2021-04-06 01:58:54.980: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:58:54.980
plc_result: True
sendmessage: 20210406015854980,1,000074,000068
send message to PLC: 2021-04-06 01:58:55.127
time gap: 0:00:00.006319
2021-04-06 01:58:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:58.198
lastevent: 2021-04-06 01:58:58.181, last ten sensor data: [('2021-04-06 01:58:57.630', 'D+000001.0'), ('2021-04-06 01:58:57.650', 'D+000001.0'), ('2021-04-06 01:58:57.840', 'D+000002.2'), ('2021-04-06 01:58:57.860', 'D+000002.2'), ('2021-04-06 01:58:57.880', 'D+000002.2'), ('2021-04-06 01:58:57.900', 'D+000002.0'), ('2021-04-06 01:58:58.080', 'D+000003.8'), ('2021-04-06 01:58:58.100', 'D+000003.0'), ('2021-04-06 01:58:58.120', 'D+000003.0'), ('2021-04-06 01:58:58.140', 'D+000003.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 2.0, 3.8, 3.0, 3.0, 3.8]
np.array X: [[2.2]
 [2. ]
 [3.8]
 [3. ]
 [3. ]
 [3.8]]
revised_weight: 4.3
2021-04-06 01:58:58.140: revising weight finished
revised_weight: 4.3 at 2021-04-06 01:58:58.140
plc_result: True
sendmessage: 20210406015858140,1,000038,000043
send message to PLC: 2021-04-06 01:58:58.209
time gap: 0:00:00.011067
2021-04-06 01:58:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:58.566
lastevent: 2021-04-06 01:58:58.557, last ten sensor data: [0, 0, 0, 0, 0, 0, ('2021-04-06 01:58:58.320', 'D+000005.4'), ('2021-04-06 01:58:58.340', 'D+000005.6'), ('2021-04-06 01:58:58.360', 'D+000005.8'), ('2021-04-06 01:58:58.380', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 0, 5.4, 5.6, 5.8, 6.0]
np.array X: [[0. ]
 [0. ]
 [5.4]
 [5.6]
 [5.8]
 [6. ]]
revised_weight: 5.2
2021-04-06 01:58:58.380: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:58:58.380
plc_result: True
sendmessage: 20210406015858380,1,000060,000052
send message to PLC: 2021-04-06 01:58:58.578
time gap: 0:00:00.011904
2021-04-06 01:58:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:58.922
lastevent: 2021-04-06 01:58:58.909, last ten sensor data: [0, ('2021-04-06 01:58:58.570', 'D+000006.4'), ('2021-04-06 01:58:58.590', 'D+000006.8'), ('2021-04-06 01:58:58.610', 'D+000006.4'), ('2021-04-06 01:58:58.630', 'D+000006.2'), ('2021-04-06 01:58:58.800', 'D+000007.4'), ('2021-04-06 01:58:58.820', 'D+000007.2'), ('2021-04-06 01:58:58.840', 'D+000007.2'), ('2021-04-06 01:58:58.860', 'D+000007.6'), ('2021-04-06 01:58:58.880', 'D+000007.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 7.4, 7.2, 7.2, 7.6, 7.0]
np.array X: [[6.2]
 [7.4]
 [7.2]
 [7.2]
 [7.6]
 [7. ]]
revised_weight: 6.7
2021-04-06 01:58:58.880: revising weight finished
revised_weight: 6.7 at 2021-04-06 01:58:58.880
plc_result: True
sendmessage: 20210406015858880,1,000070,000067
send message to PLC: 2021-04-06 01:58:58.929
time gap: 0:00:00.006433
2021-04-06 01:58:58: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:58:59.295
lastevent: 2021-04-06 01:58:59.286, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:58:59.040', 'D+000007.2'), ('2021-04-06 01:58:59.060', 'D+000005.6'), ('2021-04-06 01:58:59.080', 'D+000005.6'), ('2021-04-06 01:58:59.100', 'D+000007.0'), ('2021-04-06 01:58:59.120', 'D+000007.4'), ('2021-04-06 01:58:59.280', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, ('2021-04-06 01:58:59.300', 'D+000005.8')]
list X: [7.2, 5.6, 5.6, 7.0, 7.4, 5.2]
np.array X: [[7.2]
 [5.6]
 [5.6]
 [7. ]
 [7.4]
 [5.2]]
revised_weight: 5.4
2021-04-06 01:58:59.280: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:58:59.280
plc_result: True
sendmessage: 20210406015859280,1,000052,000054
send message to PLC: 2021-04-06 01:58:59.302
time gap: 0:00:00.006365
2021-04-06 01:58:59: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:00: httpScaleDataSender thread Timeout occurred
2021-04-06 01:59:00: [13743] running in httpScaleDataSender thread
insert_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
select_scaledb_filename: scaledata_2021-04-06_01_50.db in httpScaleDataSender thread
2021-04-06 01:59:00: HTTPSThreadState.STATE_IDLE in httpScaleDataSender thread
trigger sensor detected: 2021-04-06 01:59:02.436
lastevent: 2021-04-06 01:59:02.422, last ten sensor data: [('2021-04-06 01:59:01.800', 'D+000001.2'), ('2021-04-06 01:59:01.980', 'D+000001.2'), ('2021-04-06 01:59:02.000', 'D+000001.2'), ('2021-04-06 01:59:02.020', 'D+000001.2'), ('2021-04-06 01:59:02.040', 'D+000001.4'), ('2021-04-06 01:59:02.220', 'D+000003.4'), ('2021-04-06 01:59:02.240', 'D+000003.4'), ('2021-04-06 01:59:02.260', 'D+000003.6'), ('2021-04-06 01:59:02.280', 'D+000003.4'), ('2021-04-06 01:59:02.300', 'D+000003.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.4, 3.4, 3.4, 3.6, 3.4, 3.2]
np.array X: [[1.4]
 [3.4]
 [3.4]
 [3.6]
 [3.4]
 [3.2]]
revised_weight: 2.8
2021-04-06 01:59:02.300: revising weight finished
revised_weight: 2.8 at 2021-04-06 01:59:02.300
plc_result: True
sendmessage: 20210406015902300,1,000032,000028
send message to PLC: 2021-04-06 01:59:02.443
time gap: 0:00:00.006860
2021-04-06 01:59:02: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:06.559
lastevent: 2021-04-06 01:59:06.544, last ten sensor data: [('2021-04-06 01:59:06.120', 'D+000001.4'), ('2021-04-06 01:59:06.140', 'D+000001.4'), ('2021-04-06 01:59:06.160', 'D+000001.6'), ('2021-04-06 01:59:06.180', 'D+000001.6'), ('2021-04-06 01:59:06.360', 'D+000003.4'), ('2021-04-06 01:59:06.380', 'D+000003.6'), ('2021-04-06 01:59:06.400', 'D+000003.6'), ('2021-04-06 01:59:06.420', 'D+000003.4'), ('2021-04-06 01:59:06.440', 'D+000003.4'), ('2021-04-06 01:59:06.460', 'D+000002.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 3.6, 3.4, 3.4, 2.8]
np.array X: [[3.4]
 [3.6]
 [3.6]
 [3.4]
 [3.4]
 [2.8]]
revised_weight: 2.9
2021-04-06 01:59:06.460: revising weight finished
revised_weight: 2.9 at 2021-04-06 01:59:06.460
plc_result: True
sendmessage: 20210406015906460,1,000028,000029
send message to PLC: 2021-04-06 01:59:06.566
time gap: 0:00:00.006432
2021-04-06 01:59:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:06.975
lastevent: 2021-04-06 01:59:06.960, last ten sensor data: [0, 0, ('2021-04-06 01:59:06.600', 'D+000004.6'), ('2021-04-06 01:59:06.630', 'D+000005.2'), ('2021-04-06 01:59:06.650', 'D+000004.8'), ('2021-04-06 01:59:06.670', 'D+000004.8'), ('2021-04-06 01:59:06.860', 'D+000005.4'), ('2021-04-06 01:59:06.880', 'D+000005.6'), ('2021-04-06 01:59:06.900', 'D+000005.6'), ('2021-04-06 01:59:06.920', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 4.8, 5.4, 5.6, 5.6, 5.4]
np.array X: [[4.8]
 [4.8]
 [5.4]
 [5.6]
 [5.6]
 [5.4]]
revised_weight: 5.3
2021-04-06 01:59:06.920: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:59:06.920
plc_result: True
sendmessage: 20210406015906920,1,000054,000053
send message to PLC: 2021-04-06 01:59:06.990
time gap: 0:00:00.015306
2021-04-06 01:59:06: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:08.871
lastevent: 2021-04-06 01:59:08.860, last ten sensor data: [('2021-04-06 01:59:08.370', 'D+000002.0'), ('2021-04-06 01:59:08.390', 'D+000002.0'), ('2021-04-06 01:59:08.570', 'D+000003.0'), ('2021-04-06 01:59:08.590', 'D+000003.0'), ('2021-04-06 01:59:08.610', 'D+000003.2'), ('2021-04-06 01:59:08.630', 'D+000003.6'), ('2021-04-06 01:59:08.790', 'D+000004.0'), ('2021-04-06 01:59:08.820', 'D+000004.0'), ('2021-04-06 01:59:08.840', 'D+000004.4'), ('2021-04-06 01:59:08.860', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.6, 4.0, 4.0, 4.4, 4.4]
np.array X: [[3.2]
 [3.6]
 [4. ]
 [4. ]
 [4.4]
 [4.4]]
revised_weight: 4.2
2021-04-06 01:59:08.860: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:59:08.860
plc_result: True
sendmessage: 20210406015908860,1,000044,000042
send message to PLC: 2021-04-06 01:59:08.881
time gap: 0:00:00.010069
2021-04-06 01:59:08: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:09: httpPlcDataSender thread Timeout occurred
['/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db']
2021-04-06 01:59:09: [13106] running in httpPlcDataSender thread
insert_plcdb_filename: plcdata2021-04-06_01_50.db
select_plcdb_filename: b
2021-04-06 01:59:09: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:09: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:09: select done
2021-04-06 01:59:09: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:59:09: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:59:09: sendjson called, 33 records in httpPlcDataSender thread
2021-04-06 01:59:09: count: 33 in httpPlcDataSender thread
2021-04-06 01:59:09: D+: 33 in httpPlcDataSender thread
2021-04-06 01:59:09: D-: 0 in httpPlcDataSender thread
2021-04-06 01:59:09: S+: 0 in httpPlcDataSender thread
2021-04-06 01:59:09: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.3', 'sensorAt': '2021-04-06 01:58:22.930'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:58:23.200'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:58:25.410'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:58:31.130'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:58:31.610'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:58:32.100'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:58:32.340'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:58:35.270'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:58:35.510'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:58:37.470'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:58:37.930'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:58:38.670'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:58:39.180'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:58:42.460'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:58:42.980'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:58:43.460'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:58:46.730'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:58:47.220'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:58:48.200'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:58:50.130'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:58:50.390'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:58:53.510'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:58:53.750'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:58:54.720'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:58:54.980'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:58:58.140'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:58:58.380'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:58:58.880'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:58:59.280'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:59:02.300'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:59:06.460'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:59:06.920'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:59:08.860'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:58:22.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:23.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:25.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:31.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:31.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:32.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:32.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:35.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:35.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:37.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:37.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:38.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:39.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:42.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:42.980'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:43.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:46.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:47.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:48.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:50.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:50.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:53.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:53.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:54.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:54.980'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:58.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:58.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:58.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:59.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:02.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:06.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:06.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:08.860'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:59:09', 'collectDate': '2021-04-06 01:59:08', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.3', 'sensorAt': '2021-04-06 01:58:22.930'}, {'value': '5.0', 'sensorAt': '2021-04-06 01:58:23.200'}, {'value': '3.4', 'sensorAt': '2021-04-06 01:58:25.410'}, {'value': '2.7', 'sensorAt': '2021-04-06 01:58:31.130'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:58:31.610'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:58:32.100'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:58:32.340'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:58:35.270'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:58:35.510'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:58:37.470'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:58:37.930'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:58:38.670'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:58:39.180'}, {'value': '4.1', 'sensorAt': '2021-04-06 01:58:42.460'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:58:42.980'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:58:43.460'}, {'value': '3.6', 'sensorAt': '2021-04-06 01:58:46.730'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:58:47.220'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:58:48.200'}, {'value': '4.8', 'sensorAt': '2021-04-06 01:58:50.130'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:58:50.390'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:58:53.510'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:58:53.750'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:58:54.720'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:58:54.980'}, {'value': '4.3', 'sensorAt': '2021-04-06 01:58:58.140'}, {'value': '5.2', 'sensorAt': '2021-04-06 01:58:58.380'}, {'value': '6.7', 'sensorAt': '2021-04-06 01:58:58.880'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:58:59.280'}, {'value': '2.8', 'sensorAt': '2021-04-06 01:59:02.300'}, {'value': '2.9', 'sensorAt': '2021-04-06 01:59:06.460'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:59:06.920'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:59:08.860'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:58:22.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:23.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:25.410'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:31.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:31.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:32.100'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:32.340'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:35.270'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:35.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:37.470'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:37.930'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:38.670'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:39.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:42.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:42.980'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:43.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:46.730'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:47.220'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:48.200'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:50.130'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:50.390'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:53.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:53.750'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:54.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:54.980'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:58.140'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:58.380'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:58.880'}, {'value': 1, 'sensorAt': '2021-04-06 01:58:59.280'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:02.300'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:06.460'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:06.920'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:08.860'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:09.356
lastevent: 2021-04-06 01:59:09.341, last ten sensor data: [('2021-04-06 01:59:08.880', 'D+000004.0'), ('2021-04-06 01:59:08.900', 'D+000004.2'), ('2021-04-06 01:59:09.040', 'D+000005.0'), ('2021-04-06 01:59:09.060', 'D+000005.0'), ('2021-04-06 01:59:09.080', 'D+000005.4'), ('2021-04-06 01:59:09.100', 'D+000005.6'), ('2021-04-06 01:59:09.120', 'D+000005.6'), ('2021-04-06 01:59:09.140', 'D+000005.8'), ('2021-04-06 01:59:09.300', 'D+000005.6'), ('2021-04-06 01:59:09.320', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 5.6, 5.8, 5.6, 5.2]
np.array X: [[5.4]
 [5.6]
 [5.6]
 [5.8]
 [5.6]
 [5.2]]
revised_weight: 5.4
2021-04-06 01:59:09.320: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:59:09.320
plc_result: True
sendmessage: 20210406015909320,1,000052,000054
send message to PLC: 2021-04-06 01:59:09.364
time gap: 0:00:00.007929
2021-04-06 01:59:09: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:09: send http
2021-04-06 01:59:09: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:59:09: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:09: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:10.334
lastevent: 2021-04-06 01:59:10.319, last ten sensor data: [('2021-04-06 01:59:09.860', 'D+000003.0'), ('2021-04-06 01:59:10.030', 'D+000004.0'), ('2021-04-06 01:59:10.050', 'D+000004.2'), ('2021-04-06 01:59:10.070', 'D+000004.0'), ('2021-04-06 01:59:10.090', 'D+000004.0'), ('2021-04-06 01:59:10.110', 'D+000004.4'), ('2021-04-06 01:59:10.260', 'D+000005.8'), ('2021-04-06 01:59:10.290', 'D+000005.8'), ('2021-04-06 01:59:10.310', 'D+000006.2'), ('2021-04-06 01:59:10.330', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.4, 5.8, 5.8, 6.2, 6.0]
np.array X: [[4. ]
 [4.4]
 [5.8]
 [5.8]
 [6.2]
 [6. ]]
revised_weight: 5.6
2021-04-06 01:59:10.330: revising weight finished
revised_weight: 5.6 at 2021-04-06 01:59:10.330
plc_result: True
sendmessage: 20210406015910330,1,000060,000056
send message to PLC: 2021-04-06 01:59:10.341
time gap: 0:00:00.006372
2021-04-06 01:59:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:10.710
lastevent: 2021-04-06 01:59:10.695, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:59:10.350', 'D+000005.8'), ('2021-04-06 01:59:10.510', 'D+000006.6'), ('2021-04-06 01:59:10.530', 'D+000006.4'), ('2021-04-06 01:59:10.550', 'D+000007.6'), ('2021-04-06 01:59:10.570', 'D+000007.2'), ('2021-04-06 01:59:10.590', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.8, 6.6, 6.4, 7.6, 7.2, 6.6]
np.array X: [[5.8]
 [6.6]
 [6.4]
 [7.6]
 [7.2]
 [6.6]]
revised_weight: 6.8
2021-04-06 01:59:10.590: revising weight finished
revised_weight: 6.8 at 2021-04-06 01:59:10.590
plc_result: True
sendmessage: 20210406015910590,1,000066,000068
send message to PLC: 2021-04-06 01:59:10.716
time gap: 0:00:00.006355
2021-04-06 01:59:10: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:12.263
lastevent: 2021-04-06 01:59:12.256, last ten sensor data: [('2021-04-06 01:59:11.790', 'D+000002.6'), ('2021-04-06 01:59:11.810', 'D+000003.0'), ('2021-04-06 01:59:11.980', 'D+000003.8'), ('2021-04-06 01:59:12.000', 'D+000003.8'), ('2021-04-06 01:59:12.020', 'D+000004.2'), ('2021-04-06 01:59:12.040', 'D+000004.0'), ('2021-04-06 01:59:12.060', 'D+000004.0'), ('2021-04-06 01:59:12.220', 'D+000005.0'), ('2021-04-06 01:59:12.240', 'D+000006.2'), ('2021-04-06 01:59:12.260', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.0, 4.0, 5.0, 6.2, 5.8]
np.array X: [[4.2]
 [4. ]
 [4. ]
 [5. ]
 [6.2]
 [5.8]]
revised_weight: 5.5
2021-04-06 01:59:12.260: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:59:12.260
plc_result: True
sendmessage: 20210406015912260,1,000058,000055
send message to PLC: 2021-04-06 01:59:12.269
time gap: 0:00:00.006358
2021-04-06 01:59:12: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:14.445
lastevent: 2021-04-06 01:59:14.429, last ten sensor data: [('2021-04-06 01:59:14.020', 'D+000002.8'), ('2021-04-06 01:59:14.180', 'D+000004.0'), ('2021-04-06 01:59:14.200', 'D+000004.2'), ('2021-04-06 01:59:14.220', 'D+000004.6'), ('2021-04-06 01:59:14.240', 'D+000005.0'), ('2021-04-06 01:59:14.260', 'D+000005.4'), ('2021-04-06 01:59:14.370', 'D+000007.2'), ('2021-04-06 01:59:14.390', 'D+000007.6'), ('2021-04-06 01:59:14.410', 'D+000008.0'), ('2021-04-06 01:59:14.430', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.4, 7.2, 7.6, 8.0, 7.8]
np.array X: [[5. ]
 [5.4]
 [7.2]
 [7.6]
 [8. ]
 [7.8]]
revised_weight: 7.1
2021-04-06 01:59:14.430: revising weight finished
revised_weight: 7.1 at 2021-04-06 01:59:14.430
plc_result: True
sendmessage: 20210406015914430,1,000078,000071
send message to PLC: 2021-04-06 01:59:14.451
time gap: 0:00:00.006268
2021-04-06 01:59:14: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:14: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:59:14: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:14: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:14: select done
2021-04-06 01:59:14: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:59:14: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:59:14: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:59:14: count: 5 in httpPlcDataSender thread
2021-04-06 01:59:14: D+: 5 in httpPlcDataSender thread
2021-04-06 01:59:14: D-: 0 in httpPlcDataSender thread
2021-04-06 01:59:15: S+: 0 in httpPlcDataSender thread
2021-04-06 01:59:15: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.4', 'sensorAt': '2021-04-06 01:59:09.320'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:59:10.330'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:59:10.590'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:59:12.260'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:59:14.430'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:09.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:10.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:10.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:12.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:14.430'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:59:15', 'collectDate': '2021-04-06 01:59:14', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.4', 'sensorAt': '2021-04-06 01:59:09.320'}, {'value': '5.6', 'sensorAt': '2021-04-06 01:59:10.330'}, {'value': '6.8', 'sensorAt': '2021-04-06 01:59:10.590'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:59:12.260'}, {'value': '7.1', 'sensorAt': '2021-04-06 01:59:14.430'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:09.320'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:10.330'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:10.590'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:12.260'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:14.430'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:15.089
lastevent: 2021-04-06 01:59:15.074, last ten sensor data: [('2021-04-06 01:59:14.610', 'D+000009.2'), ('2021-04-06 01:59:14.630', 'D+000009.0'), ('2021-04-06 01:59:14.650', 'D+000009.6'), ('2021-04-06 01:59:14.670', 'D+000009.8'), ('2021-04-06 01:59:14.850', 'D+000009.4'), ('2021-04-06 01:59:14.870', 'D+000010.2'), ('2021-04-06 01:59:14.890', 'D+000010.8'), ('2021-04-06 01:59:14.910', 'D+000009.6'), ('2021-04-06 01:59:14.930', 'D+000009.4'), ('2021-04-06 01:59:15.030', 'D+000009.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [9.4, 10.2, 10.8, 9.6, 9.4, 9.2]
np.array X: [[ 9.4]
 [10.2]
 [10.8]
 [ 9.6]
 [ 9.4]
 [ 9.2]]
revised_weight: 9.7
2021-04-06 01:59:15.030: revising weight finished
revised_weight: 9.7 at 2021-04-06 01:59:15.030
plc_result: True
sendmessage: 20210406015915030,1,000092,000097
send message to PLC: 2021-04-06 01:59:15.096
time gap: 0:00:00.007152
2021-04-06 01:59:15: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:15: send http
2021-04-06 01:59:15: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:59:15: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:15: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:17.774
lastevent: 2021-04-06 01:59:17.764, last ten sensor data: [('2021-04-06 01:59:17.120', 'D+000001.6'), ('2021-04-06 01:59:17.290', 'D+000001.8'), ('2021-04-06 01:59:17.310', 'D+000001.8'), ('2021-04-06 01:59:17.330', 'D+000001.8'), ('2021-04-06 01:59:17.350', 'D+000002.0'), ('2021-04-06 01:59:17.530', 'D+000003.6'), ('2021-04-06 01:59:17.550', 'D+000003.6'), ('2021-04-06 01:59:17.570', 'D+000003.8'), ('2021-04-06 01:59:17.590', 'D+000003.6'), ('2021-04-06 01:59:17.610', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 3.6, 3.6, 3.8, 3.6, 3.6]
np.array X: [[2. ]
 [3.6]
 [3.6]
 [3.8]
 [3.6]
 [3.6]]
revised_weight: 3.2
2021-04-06 01:59:17.610: revising weight finished
revised_weight: 3.2 at 2021-04-06 01:59:17.610
plc_result: True
sendmessage: 20210406015917610,1,000036,000032
send message to PLC: 2021-04-06 01:59:17.781
time gap: 0:00:00.006625
2021-04-06 01:59:17: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:18.155
lastevent: 2021-04-06 01:59:18.139, last ten sensor data: [0, ('2021-04-06 01:59:17.790', 'D+000005.8'), ('2021-04-06 01:59:17.810', 'D+000006.0'), ('2021-04-06 01:59:17.830', 'D+000006.0'), ('2021-04-06 01:59:17.850', 'D+000006.0'), ('2021-04-06 01:59:18.030', 'D+000006.0'), ('2021-04-06 01:59:18.050', 'D+000006.2'), ('2021-04-06 01:59:18.070', 'D+000006.2'), ('2021-04-06 01:59:18.090', 'D+000006.4'), ('2021-04-06 01:59:18.120', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.0, 6.2, 6.2, 6.4, 5.4]
np.array X: [[6. ]
 [6. ]
 [6.2]
 [6.2]
 [6.4]
 [5.4]]
revised_weight: 5.9
2021-04-06 01:59:18.120: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:59:18.120
plc_result: True
sendmessage: 20210406015918120,1,000054,000059
send message to PLC: 2021-04-06 01:59:18.161
time gap: 0:00:00.006388
2021-04-06 01:59:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:18.985
lastevent: 2021-04-06 01:59:18.972, last ten sensor data: [('2021-04-06 01:59:18.530', 'D+000002.8'), ('2021-04-06 01:59:18.550', 'D+000002.8'), ('2021-04-06 01:59:18.570', 'D+000002.6'), ('2021-04-06 01:59:18.590', 'D+000002.6'), ('2021-04-06 01:59:18.760', 'D+000003.6'), ('2021-04-06 01:59:18.780', 'D+000004.0'), ('2021-04-06 01:59:18.800', 'D+000004.4'), ('2021-04-06 01:59:18.820', 'D+000004.4'), ('2021-04-06 01:59:18.840', 'D+000003.8'), ('2021-04-06 01:59:18.940', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.6, 4.0, 4.4, 4.4, 3.8, 4.8]
np.array X: [[3.6]
 [4. ]
 [4.4]
 [4.4]
 [3.8]
 [4.8]]
revised_weight: 4.4
2021-04-06 01:59:18.940: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:59:18.940
plc_result: True
sendmessage: 20210406015918940,1,000048,000044
send message to PLC: 2021-04-06 01:59:18.992
time gap: 0:00:00.006412
2021-04-06 01:59:18: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:19.565
lastevent: 2021-04-06 01:59:19.555, last ten sensor data: [('2021-04-06 01:59:19.080', 'D+000004.8'), ('2021-04-06 01:59:19.240', 'D+000005.4'), ('2021-04-06 01:59:19.260', 'D+000005.2'), ('2021-04-06 01:59:19.280', 'D+000005.2'), ('2021-04-06 01:59:19.300', 'D+000005.4'), ('2021-04-06 01:59:19.320', 'D+000005.6'), ('2021-04-06 01:59:19.500', 'D+000005.8'), ('2021-04-06 01:59:19.520', 'D+000005.2'), ('2021-04-06 01:59:19.540', 'D+000004.6'), ('2021-04-06 01:59:19.560', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 5.6, 5.8, 5.2, 4.6, 5.0]
np.array X: [[5.4]
 [5.6]
 [5.8]
 [5.2]
 [4.6]
 [5. ]]
revised_weight: 5.1
2021-04-06 01:59:19.560: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:59:19.560
plc_result: True
sendmessage: 20210406015919560,1,000050,000051
send message to PLC: 2021-04-06 01:59:19.571
time gap: 0:00:00.006224
2021-04-06 01:59:19: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:20: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:59:20: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:20: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:20: select done
2021-04-06 01:59:20: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:59:20: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:59:20: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:59:20: count: 5 in httpPlcDataSender thread
2021-04-06 01:59:20: D+: 5 in httpPlcDataSender thread
2021-04-06 01:59:20: D-: 0 in httpPlcDataSender thread
2021-04-06 01:59:20: S+: 0 in httpPlcDataSender thread
2021-04-06 01:59:20: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.7', 'sensorAt': '2021-04-06 01:59:15.030'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:59:17.610'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:59:18.120'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:59:18.940'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:59:19.560'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:15.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:17.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:18.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:18.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:19.560'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:59:20', 'collectDate': '2021-04-06 01:59:19', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '9.7', 'sensorAt': '2021-04-06 01:59:15.030'}, {'value': '3.2', 'sensorAt': '2021-04-06 01:59:17.610'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:59:18.120'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:59:18.940'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:59:19.560'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:15.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:17.610'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:18.120'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:18.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:19.560'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:59:20: send http
2021-04-06 01:59:20: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
2[1000]: datalist_to_store size: 1000
2021-04-06 01:59:20: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/scale_db/scaledata_2021-04-06_01_50.db
Backupserver True
2021-04-06 01:59:20: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:20: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:22.126
lastevent: 2021-04-06 01:59:22.123, last ten sensor data: [('2021-04-06 01:59:21.720', 'D+000001.8'), ('2021-04-06 01:59:21.750', 'D+000002.2'), ('2021-04-06 01:59:21.770', 'D+000002.4'), ('2021-04-06 01:59:21.790', 'D+000002.4'), ('2021-04-06 01:59:21.810', 'D+000002.4'), ('2021-04-06 01:59:21.990', 'D+000003.6'), ('2021-04-06 01:59:22.010', 'D+000004.8'), ('2021-04-06 01:59:22.030', 'D+000004.8'), ('2021-04-06 01:59:22.050', 'D+000004.4'), ('2021-04-06 01:59:22.070', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 3.6, 4.8, 4.8, 4.4, 4.4]
np.array X: [[2.4]
 [3.6]
 [4.8]
 [4.8]
 [4.4]
 [4.4]]
revised_weight: 4.8
2021-04-06 01:59:22.070: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:59:22.070
plc_result: True
sendmessage: 20210406015922070,1,000044,000048
send message to PLC: 2021-04-06 01:59:22.137
time gap: 0:00:00.011472
2021-04-06 01:59:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:22.511
lastevent: 2021-04-06 01:59:22.502, last ten sensor data: [0, 0, 0, ('2021-04-06 01:59:22.230', 'D+000006.2'), ('2021-04-06 01:59:22.250', 'D+000006.0'), ('2021-04-06 01:59:22.270', 'D+000006.0'), ('2021-04-06 01:59:22.290', 'D+000006.0'), ('2021-04-06 01:59:22.470', 'D+000005.8'), ('2021-04-06 01:59:22.490', 'D+000005.8'), ('2021-04-06 01:59:22.510', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.0, 6.0, 5.8, 5.8, 6.0]
np.array X: [[6. ]
 [6. ]
 [6. ]
 [5.8]
 [5.8]
 [6. ]]
revised_weight: 5.9
2021-04-06 01:59:22.510: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:59:22.510
plc_result: True
sendmessage: 20210406015922510,1,000060,000059
send message to PLC: 2021-04-06 01:59:22.523
time gap: 0:00:00.012118
2021-04-06 01:59:22: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:23.145
lastevent: 2021-04-06 01:59:23.135, last ten sensor data: [('2021-04-06 01:59:22.710', 'D+000005.2'), ('2021-04-06 01:59:22.730', 'D+000005.2'), ('2021-04-06 01:59:22.750', 'D+000005.0'), ('2021-04-06 01:59:22.770', 'D+000005.0'), ('2021-04-06 01:59:22.790', 'D+000004.8'), ('2021-04-06 01:59:22.950', 'D+000005.0'), ('2021-04-06 01:59:22.970', 'D+000005.2'), ('2021-04-06 01:59:22.990', 'D+000005.6'), ('2021-04-06 01:59:23.010', 'D+000005.0'), ('2021-04-06 01:59:23.030', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.0, 5.2, 5.6, 5.0, 5.6]
np.array X: [[4.8]
 [5. ]
 [5.2]
 [5.6]
 [5. ]
 [5.6]]
revised_weight: 5.5
2021-04-06 01:59:23.030: revising weight finished
revised_weight: 5.5 at 2021-04-06 01:59:23.030
plc_result: True
sendmessage: 20210406015923030,1,000056,000055
send message to PLC: 2021-04-06 01:59:23.156
time gap: 0:00:00.011158
2021-04-06 01:59:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:23.557
lastevent: 2021-04-06 01:59:23.549, last ten sensor data: [('2021-04-06 01:59:23.190', 'D+000005.8'), ('2021-04-06 01:59:23.210', 'D+000006.0'), ('2021-04-06 01:59:23.230', 'D+000005.8'), ('2021-04-06 01:59:23.250', 'D+000006.0'), ('2021-04-06 01:59:23.270', 'D+000006.2'), ('2021-04-06 01:59:23.440', 'D+000007.4'), ('2021-04-06 01:59:23.460', 'D+000006.8'), ('2021-04-06 01:59:23.480', 'D+000006.4'), ('2021-04-06 01:59:23.500', 'D+000006.2'), ('2021-04-06 01:59:23.520', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 7.4, 6.8, 6.4, 6.2, 6.4]
np.array X: [[6.2]
 [7.4]
 [6.8]
 [6.4]
 [6.2]
 [6.4]]
revised_weight: 6.6
2021-04-06 01:59:23.520: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:59:23.520
plc_result: True
sendmessage: 20210406015923520,1,000064,000066
send message to PLC: 2021-04-06 01:59:23.568
time gap: 0:00:00.011167
2021-04-06 01:59:23: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:24.472
lastevent: 2021-04-06 01:59:24.469, last ten sensor data: [('2021-04-06 01:59:24.000', 'D+000004.4'), ('2021-04-06 01:59:24.180', 'D+000004.2'), ('2021-04-06 01:59:24.200', 'D+000004.0'), ('2021-04-06 01:59:24.220', 'D+000004.0'), ('2021-04-06 01:59:24.240', 'D+000004.8'), ('2021-04-06 01:59:24.260', 'D+000005.2'), ('2021-04-06 01:59:24.420', 'D+000007.0'), ('2021-04-06 01:59:24.440', 'D+000006.6'), ('2021-04-06 01:59:24.460', 'D+000006.0'), ('2021-04-06 01:59:24.480', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.8, 5.2, 7.0, 6.6, 6.0, 6.8]
np.array X: [[4.8]
 [5.2]
 [7. ]
 [6.6]
 [6. ]
 [6.8]]
revised_weight: 7.0
2021-04-06 01:59:24.480: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:59:24.480
plc_result: True
sendmessage: 20210406015924480,1,000068,000070
send message to PLC: 2021-04-06 01:59:24.484
time gap: 0:00:00.011093
2021-04-06 01:59:24: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:25: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:59:25: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:26: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:26: select done
2021-04-06 01:59:26: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:59:26: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:59:26: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:59:26: count: 5 in httpPlcDataSender thread
2021-04-06 01:59:26: D+: 5 in httpPlcDataSender thread
2021-04-06 01:59:26: D-: 0 in httpPlcDataSender thread
2021-04-06 01:59:26: S+: 0 in httpPlcDataSender thread
2021-04-06 01:59:26: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:59:22.070'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:59:22.510'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:59:23.030'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:59:23.520'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:59:24.480'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:22.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:22.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:23.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:23.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:24.480'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:59:26', 'collectDate': '2021-04-06 01:59:24', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:59:22.070'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:59:22.510'}, {'value': '5.5', 'sensorAt': '2021-04-06 01:59:23.030'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:59:23.520'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:59:24.480'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:22.070'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:22.510'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:23.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:23.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:24.480'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:59:26: send http
2021-04-06 01:59:26: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
trigger sensor detected: 2021-04-06 01:59:26.361
lastevent: 2021-04-06 01:59:26.358, last ten sensor data: [('2021-04-06 01:59:26.090', 'D+000003.0'), ('2021-04-06 01:59:26.110', 'D+000003.2'), ('2021-04-06 01:59:26.130', 'D+000004.0'), ('2021-04-06 01:59:26.150', 'D+000004.0'), ('2021-04-06 01:59:26.240', 'D+000004.2'), ('2021-04-06 01:59:26.260', 'D+000004.0'), ('2021-04-06 01:59:26.310', 'D+000004.8'), ('2021-04-06 01:59:26.330', 'D+000004.4'), ('2021-04-06 01:59:26.350', 'D+000004.4'), ('2021-04-06 01:59:26.370', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.0, 4.8, 4.4, 4.4, 5.0]
np.array X: [[4.2]
 [4. ]
 [4.8]
 [4.4]
 [4.4]
 [5. ]]
revised_weight: 4.7
2021-04-06 01:59:26.370: revising weight finished
revised_weight: 4.7 at 2021-04-06 01:59:26.370
plc_result: True
sendmessage: 20210406015926370,1,000050,000047
send message to PLC: 2021-04-06 01:59:26.367
time gap: 0:00:00.006141
2021-04-06 01:59:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
Backupserver True
2021-04-06 01:59:26: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:26: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:26.748
lastevent: 2021-04-06 01:59:26.741, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:59:26.390', 'D+000005.4'), ('2021-04-06 01:59:26.560', 'D+000006.0'), ('2021-04-06 01:59:26.580', 'D+000006.4'), ('2021-04-06 01:59:26.600', 'D+000006.2'), ('2021-04-06 01:59:26.620', 'D+000005.8'), ('2021-04-06 01:59:26.640', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.4, 6.0, 6.4, 6.2, 5.8, 5.6]
np.array X: [[5.4]
 [6. ]
 [6.4]
 [6.2]
 [5.8]
 [5.6]]
revised_weight: 5.9
2021-04-06 01:59:26.640: revising weight finished
revised_weight: 5.9 at 2021-04-06 01:59:26.640
plc_result: True
sendmessage: 20210406015926640,1,000056,000059
send message to PLC: 2021-04-06 01:59:26.754
time gap: 0:00:00.006204
2021-04-06 01:59:26: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:29.014
lastevent: 2021-04-06 01:59:29.002, last ten sensor data: [('2021-04-06 01:59:28.510', 'D+000001.8'), ('2021-04-06 01:59:28.530', 'D+000001.8'), ('2021-04-06 01:59:28.550', 'D+000001.6'), ('2021-04-06 01:59:28.570', 'D+000001.6'), ('2021-04-06 01:59:28.590', 'D+000001.6'), ('2021-04-06 01:59:28.770', 'D+000003.2'), ('2021-04-06 01:59:28.790', 'D+000003.6'), ('2021-04-06 01:59:28.810', 'D+000003.6'), ('2021-04-06 01:59:28.830', 'D+000003.8'), ('2021-04-06 01:59:29.010', 'D+000003.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [1.6, 3.2, 3.6, 3.6, 3.8, 3.6]
np.array X: [[1.6]
 [3.2]
 [3.6]
 [3.6]
 [3.8]
 [3.6]]
revised_weight: 3.7
2021-04-06 01:59:29.010: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:59:29.010
plc_result: True
sendmessage: 20210406015929010,1,000036,000037
send message to PLC: 2021-04-06 01:59:29.025
time gap: 0:00:00.011387
2021-04-06 01:59:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:29.504
lastevent: 2021-04-06 01:59:29.493, last ten sensor data: [0, 0, ('2021-04-06 01:59:29.030', 'D+000003.6'), ('2021-04-06 01:59:29.050', 'D+000003.8'), ('2021-04-06 01:59:29.070', 'D+000003.8'), ('2021-04-06 01:59:29.280', 'D+000005.6'), ('2021-04-06 01:59:29.300', 'D+000005.2'), ('2021-04-06 01:59:29.320', 'D+000005.2'), ('2021-04-06 01:59:29.340', 'D+000005.4'), ('2021-04-06 01:59:29.360', 'D+000005.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 5.6, 5.2, 5.2, 5.4, 5.2]
np.array X: [[3.8]
 [5.6]
 [5.2]
 [5.2]
 [5.4]
 [5.2]]
revised_weight: 4.6
2021-04-06 01:59:29.360: revising weight finished
revised_weight: 4.6 at 2021-04-06 01:59:29.360
plc_result: True
sendmessage: 20210406015929360,1,000052,000046
send message to PLC: 2021-04-06 01:59:29.515
time gap: 0:00:00.011046
2021-04-06 01:59:29: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:30.779
lastevent: 2021-04-06 01:59:30.770, last ten sensor data: [('2021-04-06 01:59:30.270', 'D+000002.4'), ('2021-04-06 01:59:30.290', 'D+000002.4'), ('2021-04-06 01:59:30.310', 'D+000002.2'), ('2021-04-06 01:59:30.330', 'D+000002.6'), ('2021-04-06 01:59:30.510', 'D+000004.2'), ('2021-04-06 01:59:30.530', 'D+000004.2'), ('2021-04-06 01:59:30.550', 'D+000004.2'), ('2021-04-06 01:59:30.570', 'D+000004.2'), ('2021-04-06 01:59:30.750', 'D+000005.4'), ('2021-04-06 01:59:30.770', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.2, 4.2, 4.2, 4.2, 5.4, 6.0]
np.array X: [[4.2]
 [4.2]
 [4.2]
 [4.2]
 [5.4]
 [6. ]]
revised_weight: 5.4
2021-04-06 01:59:30.770: revising weight finished
revised_weight: 5.4 at 2021-04-06 01:59:30.770
plc_result: True
sendmessage: 20210406015930770,1,000060,000054
send message to PLC: 2021-04-06 01:59:30.790
time gap: 0:00:00.011456
2021-04-06 01:59:30: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:31: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:59:31: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:31: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:31: select done
2021-04-06 01:59:31: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:59:31: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:59:31: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:59:31: count: 5 in httpPlcDataSender thread
2021-04-06 01:59:31: D+: 5 in httpPlcDataSender thread
2021-04-06 01:59:31: D-: 0 in httpPlcDataSender thread
2021-04-06 01:59:31: S+: 0 in httpPlcDataSender thread
2021-04-06 01:59:31: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.7', 'sensorAt': '2021-04-06 01:59:26.370'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:59:26.640'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:59:29.010'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:59:29.360'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:59:30.770'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:26.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:26.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:29.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:29.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:30.770'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:59:31', 'collectDate': '2021-04-06 01:59:30', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.7', 'sensorAt': '2021-04-06 01:59:26.370'}, {'value': '5.9', 'sensorAt': '2021-04-06 01:59:26.640'}, {'value': '3.7', 'sensorAt': '2021-04-06 01:59:29.010'}, {'value': '4.6', 'sensorAt': '2021-04-06 01:59:29.360'}, {'value': '5.4', 'sensorAt': '2021-04-06 01:59:30.770'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:26.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:26.640'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:29.010'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:29.360'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:30.770'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:59:31: send http
2021-04-06 01:59:31: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:59:32: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:32: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:33.323
lastevent: 2021-04-06 01:59:33.319, last ten sensor data: [('2021-04-06 01:59:32.750', 'D+000002.2'), ('2021-04-06 01:59:32.910', 'D+000002.0'), ('2021-04-06 01:59:32.930', 'D+000001.8'), ('2021-04-06 01:59:32.950', 'D+000001.8'), ('2021-04-06 01:59:32.970', 'D+000002.4'), ('2021-04-06 01:59:32.990', 'D+000002.2'), ('2021-04-06 01:59:33.170', 'D+000004.0'), ('2021-04-06 01:59:33.190', 'D+000003.8'), ('2021-04-06 01:59:33.210', 'D+000003.4'), ('2021-04-06 01:59:33.230', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.4, 2.2, 4.0, 3.8, 3.4, 5.0]
np.array X: [[2.4]
 [2.2]
 [4. ]
 [3.8]
 [3.4]
 [5. ]]
revised_weight: 4.1
2021-04-06 01:59:33.230: revising weight finished
revised_weight: 4.1 at 2021-04-06 01:59:33.230
plc_result: True
sendmessage: 20210406015933230,1,000050,000041
send message to PLC: 2021-04-06 01:59:33.336
time gap: 0:00:00.012268
2021-04-06 01:59:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:33.838
lastevent: 2021-04-06 01:59:33.825, last ten sensor data: [('2021-04-06 01:59:33.340', 'D+000004.6'), ('2021-04-06 01:59:33.400', 'D+000004.0'), ('2021-04-06 01:59:33.420', 'D+000004.0'), ('2021-04-06 01:59:33.440', 'D+000004.2'), ('2021-04-06 01:59:33.460', 'D+000004.4'), ('2021-04-06 01:59:33.480', 'D+000005.0'), ('2021-04-06 01:59:33.660', 'D+000005.6'), ('2021-04-06 01:59:33.680', 'D+000004.8'), ('2021-04-06 01:59:33.700', 'D+000004.6'), ('2021-04-06 01:59:33.720', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 5.0, 5.6, 4.8, 4.6, 6.0]
np.array X: [[4.4]
 [5. ]
 [5.6]
 [4.8]
 [4.6]
 [6. ]]
revised_weight: 5.3
2021-04-06 01:59:33.720: revising weight finished
revised_weight: 5.3 at 2021-04-06 01:59:33.720
plc_result: True
sendmessage: 20210406015933720,1,000060,000053
send message to PLC: 2021-04-06 01:59:33.850
time gap: 0:00:00.012465
2021-04-06 01:59:33: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:34.523
lastevent: 2021-04-06 01:59:34.511, last ten sensor data: [('2021-04-06 01:59:34.180', 'D+000005.6'), ('2021-04-06 01:59:34.200', 'D+000005.0'), ('2021-04-06 01:59:34.220', 'D+000004.8'), ('2021-04-06 01:59:34.380', 'D+000004.6'), ('2021-04-06 01:59:34.400', 'D+000006.2'), ('2021-04-06 01:59:34.420', 'D+000006.0'), ('2021-04-06 01:59:34.440', 'D+000005.8'), ('2021-04-06 01:59:34.460', 'D+000006.0'), ('2021-04-06 01:59:34.500', 'D+000006.2'), ('2021-04-06 01:59:34.520', 'D+000006.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.2, 6.0, 5.8, 6.0, 6.2, 6.4]
np.array X: [[6.2]
 [6. ]
 [5.8]
 [6. ]
 [6.2]
 [6.4]]
revised_weight: 6.2
2021-04-06 01:59:34.520: revising weight finished
revised_weight: 6.2 at 2021-04-06 01:59:34.520
plc_result: True
sendmessage: 20210406015934520,1,000064,000062
send message to PLC: 2021-04-06 01:59:34.536
time gap: 0:00:00.012311
2021-04-06 01:59:34: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:36.185
lastevent: 2021-04-06 01:59:36.180, last ten sensor data: [('2021-04-06 01:59:35.720', 'D+000002.4'), ('2021-04-06 01:59:35.740', 'D+000002.4'), ('2021-04-06 01:59:35.760', 'D+000002.2'), ('2021-04-06 01:59:35.780', 'D+000002.6'), ('2021-04-06 01:59:35.940', 'D+000003.4'), ('2021-04-06 01:59:35.960', 'D+000003.8'), ('2021-04-06 01:59:35.980', 'D+000004.2'), ('2021-04-06 01:59:36.000', 'D+000004.4'), ('2021-04-06 01:59:36.020', 'D+000004.4'), ('2021-04-06 01:59:36.180', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.8, 4.2, 4.4, 4.4, 4.8]
np.array X: [[3.4]
 [3.8]
 [4.2]
 [4.4]
 [4.4]
 [4.8]]
revised_weight: 4.5
2021-04-06 01:59:36.180: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:59:36.180
plc_result: True
sendmessage: 20210406015936180,1,000048,000045
send message to PLC: 2021-04-06 01:59:36.198
time gap: 0:00:00.012370
2021-04-06 01:59:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:36.612
lastevent: 2021-04-06 01:59:36.602, last ten sensor data: [0, ('2021-04-06 01:59:36.200', 'D+000005.4'), ('2021-04-06 01:59:36.220', 'D+000005.8'), ('2021-04-06 01:59:36.240', 'D+000005.6'), ('2021-04-06 01:59:36.260', 'D+000005.0'), ('2021-04-06 01:59:36.430', 'D+000006.0'), ('2021-04-06 01:59:36.450', 'D+000005.8'), ('2021-04-06 01:59:36.470', 'D+000006.4'), ('2021-04-06 01:59:36.490', 'D+000006.0'), ('2021-04-06 01:59:36.510', 'D+000005.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 6.0, 5.8, 6.4, 6.0, 5.8]
np.array X: [[5. ]
 [6. ]
 [5.8]
 [6.4]
 [6. ]
 [5.8]]
revised_weight: 6.0
2021-04-06 01:59:36.510: revising weight finished
revised_weight: 6.0 at 2021-04-06 01:59:36.510
plc_result: True
sendmessage: 20210406015936510,1,000058,000060
send message to PLC: 2021-04-06 01:59:36.624
time gap: 0:00:00.012547
2021-04-06 01:59:36: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:37: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:59:37: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:37: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:37: select done
2021-04-06 01:59:37: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:59:37: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:59:37: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:59:37: count: 5 in httpPlcDataSender thread
2021-04-06 01:59:37: D+: 5 in httpPlcDataSender thread
2021-04-06 01:59:37: D-: 0 in httpPlcDataSender thread
2021-04-06 01:59:37: S+: 0 in httpPlcDataSender thread
2021-04-06 01:59:37: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:59:33.230'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:59:33.720'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:59:34.520'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:59:36.180'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:59:36.510'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:33.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:33.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:34.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:36.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:36.510'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:59:37', 'collectDate': '2021-04-06 01:59:36', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.1', 'sensorAt': '2021-04-06 01:59:33.230'}, {'value': '5.3', 'sensorAt': '2021-04-06 01:59:33.720'}, {'value': '6.2', 'sensorAt': '2021-04-06 01:59:34.520'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:59:36.180'}, {'value': '6.0', 'sensorAt': '2021-04-06 01:59:36.510'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:33.230'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:33.720'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:34.520'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:36.180'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:36.510'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:59:37: send http
2021-04-06 01:59:37: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:59:37: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:37: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:39.662
lastevent: 2021-04-06 01:59:39.653, last ten sensor data: [('2021-04-06 01:59:39.120', 'D+000001.2'), ('2021-04-06 01:59:39.280', 'D+000002.4'), ('2021-04-06 01:59:39.300', 'D+000002.4'), ('2021-04-06 01:59:39.320', 'D+000002.4'), ('2021-04-06 01:59:39.340', 'D+000002.0'), ('2021-04-06 01:59:39.360', 'D+000002.0'), ('2021-04-06 01:59:39.540', 'D+000003.4'), ('2021-04-06 01:59:39.560', 'D+000004.6'), ('2021-04-06 01:59:39.580', 'D+000004.6'), ('2021-04-06 01:59:39.600', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 2.0, 3.4, 4.6, 4.6, 4.0]
np.array X: [[2. ]
 [2. ]
 [3.4]
 [4.6]
 [4.6]
 [4. ]]
revised_weight: 3.7
2021-04-06 01:59:39.600: revising weight finished
revised_weight: 3.7 at 2021-04-06 01:59:39.600
plc_result: True
sendmessage: 20210406015939600,1,000040,000037
send message to PLC: 2021-04-06 01:59:39.674
time gap: 0:00:00.012134
2021-04-06 01:59:39: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:40.901
lastevent: 2021-04-06 01:59:40.887, last ten sensor data: [('2021-04-06 01:59:40.500', 'D+000002.4'), ('2021-04-06 01:59:40.520', 'D+000003.0'), ('2021-04-06 01:59:40.540', 'D+000002.8'), ('2021-04-06 01:59:40.560', 'D+000002.8'), ('2021-04-06 01:59:40.580', 'D+000003.0'), ('2021-04-06 01:59:40.750', 'D+000003.6'), ('2021-04-06 01:59:40.770', 'D+000003.8'), ('2021-04-06 01:59:40.790', 'D+000005.6'), ('2021-04-06 01:59:40.810', 'D+000005.4'), ('2021-04-06 01:59:40.830', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.0, 3.6, 3.8, 5.6, 5.4, 4.0]
np.array X: [[3. ]
 [3.6]
 [3.8]
 [5.6]
 [5.4]
 [4. ]]
revised_weight: 4.5
2021-04-06 01:59:40.830: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:59:40.830
plc_result: True
sendmessage: 20210406015940830,1,000040,000045
send message to PLC: 2021-04-06 01:59:40.913
time gap: 0:00:00.012578
2021-04-06 01:59:40: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:41.387
lastevent: 2021-04-06 01:59:41.374, last ten sensor data: [('2021-04-06 01:59:40.980', 'D+000005.0'), ('2021-04-06 01:59:41.010', 'D+000004.8'), ('2021-04-06 01:59:41.030', 'D+000005.0'), ('2021-04-06 01:59:41.050', 'D+000005.2'), ('2021-04-06 01:59:41.070', 'D+000005.6'), ('2021-04-06 01:59:41.230', 'D+000005.8'), ('2021-04-06 01:59:41.250', 'D+000005.0'), ('2021-04-06 01:59:41.270', 'D+000005.6'), ('2021-04-06 01:59:41.290', 'D+000006.6'), ('2021-04-06 01:59:41.310', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 5.8, 5.0, 5.6, 6.6, 6.0]
np.array X: [[5.6]
 [5.8]
 [5. ]
 [5.6]
 [6.6]
 [6. ]]
revised_weight: 5.7
2021-04-06 01:59:41.310: revising weight finished
revised_weight: 5.7 at 2021-04-06 01:59:41.310
plc_result: True
sendmessage: 20210406015941310,1,000060,000057
send message to PLC: 2021-04-06 01:59:41.393
time gap: 0:00:00.006435
2021-04-06 01:59:41: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:42: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:59:42: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:42: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:42: select done
2021-04-06 01:59:42: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:59:42: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:59:43: sendjson called, 3 records in httpPlcDataSender thread
2021-04-06 01:59:43: count: 3 in httpPlcDataSender thread
2021-04-06 01:59:43: D+: 3 in httpPlcDataSender thread
2021-04-06 01:59:43: D-: 0 in httpPlcDataSender thread
2021-04-06 01:59:43: S+: 0 in httpPlcDataSender thread
2021-04-06 01:59:43: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.7', 'sensorAt': '2021-04-06 01:59:39.600'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:59:40.830'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:59:41.310'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:39.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:40.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:41.310'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:59:43', 'collectDate': '2021-04-06 01:59:41', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '3.7', 'sensorAt': '2021-04-06 01:59:39.600'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:59:40.830'}, {'value': '5.7', 'sensorAt': '2021-04-06 01:59:41.310'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:39.600'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:40.830'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:41.310'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:59:43: send http
2021-04-06 01:59:43: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:59:43: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:43.424
lastevent: 2021-04-06 01:59:43.416, last ten sensor data: [('2021-04-06 01:59:43.020', 'D+000002.2'), ('2021-04-06 01:59:43.040', 'D+000002.4'), ('2021-04-06 01:59:43.130', 'D+000002.8'), ('2021-04-06 01:59:43.150', 'D+000003.0'), ('2021-04-06 01:59:43.200', 'D+000003.4'), ('2021-04-06 01:59:43.220', 'D+000003.6'), ('2021-04-06 01:59:43.240', 'D+000003.6'), ('2021-04-06 01:59:43.270', 'D+000004.0'), ('2021-04-06 01:59:43.290', 'D+000003.8'), ('2021-04-06 01:59:43.310', 'D+000004.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.4, 3.6, 3.6, 4.0, 3.8, 4.0]
np.array X: [[3.4]
 [3.6]
 [3.6]
 [4. ]
 [3.8]
 [4. ]]
revised_weight: 4.0
2021-04-06 01:59:43.310: revising weight finished
revised_weight: 4.0 at 2021-04-06 01:59:43.310
plc_result: True
sendmessage: 20210406015943310,1,000040,000040
send message to PLC: 2021-04-06 01:59:43.437
time gap: 0:00:00.013002
2021-04-06 01:59:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:43: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:43.817
lastevent: 2021-04-06 01:59:43.812, last ten sensor data: [('2021-04-06 01:59:43.440', 'D+000003.8'), ('2021-04-06 01:59:43.460', 'D+000003.8'), ('2021-04-06 01:59:43.480', 'D+000004.6'), ('2021-04-06 01:59:43.500', 'D+000004.8'), ('2021-04-06 01:59:43.520', 'D+000005.0'), ('2021-04-06 01:59:43.680', 'D+000005.2'), ('2021-04-06 01:59:43.700', 'D+000006.2'), ('2021-04-06 01:59:43.720', 'D+000006.2'), ('2021-04-06 01:59:43.740', 'D+000005.6'), ('2021-04-06 01:59:43.760', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.0, 5.2, 6.2, 6.2, 5.6, 5.4]
np.array X: [[5. ]
 [5.2]
 [6.2]
 [6.2]
 [5.6]
 [5.4]]
revised_weight: 5.8
2021-04-06 01:59:43.760: revising weight finished
revised_weight: 5.8 at 2021-04-06 01:59:43.760
plc_result: True
sendmessage: 20210406015943760,1,000054,000058
send message to PLC: 2021-04-06 01:59:43.836
time gap: 0:00:00.019150
2021-04-06 01:59:43: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:44.711
lastevent: 2021-04-06 01:59:44.702, last ten sensor data: [('2021-04-06 01:59:44.220', 'D+000004.0'), ('2021-04-06 01:59:44.240', 'D+000003.0'), ('2021-04-06 01:59:44.410', 'D+000003.4'), ('2021-04-06 01:59:44.430', 'D+000003.4'), ('2021-04-06 01:59:44.450', 'D+000003.8'), ('2021-04-06 01:59:44.470', 'D+000003.8'), ('2021-04-06 01:59:44.490', 'D+000004.0'), ('2021-04-06 01:59:44.670', 'D+000006.0'), ('2021-04-06 01:59:44.690', 'D+000005.4'), ('2021-04-06 01:59:44.710', 'D+000005.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.8, 3.8, 4.0, 6.0, 5.4, 5.6]
np.array X: [[3.8]
 [3.8]
 [4. ]
 [6. ]
 [5.4]
 [5.6]]
revised_weight: 5.1
2021-04-06 01:59:44.710: revising weight finished
revised_weight: 5.1 at 2021-04-06 01:59:44.710
plc_result: True
sendmessage: 20210406015944710,1,000056,000051
send message to PLC: 2021-04-06 01:59:44.723
time gap: 0:00:00.011839
2021-04-06 01:59:44: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:47.981
lastevent: 2021-04-06 01:59:47.972, last ten sensor data: [('2021-04-06 01:59:47.580', 'D+000001.8'), ('2021-04-06 01:59:47.600', 'D+000002.4'), ('2021-04-06 01:59:47.620', 'D+000002.4'), ('2021-04-06 01:59:47.640', 'D+000002.6'), ('2021-04-06 01:59:47.660', 'D+000002.2'), ('2021-04-06 01:59:47.820', 'D+000003.4'), ('2021-04-06 01:59:47.840', 'D+000004.2'), ('2021-04-06 01:59:47.860', 'D+000005.0'), ('2021-04-06 01:59:47.880', 'D+000004.8'), ('2021-04-06 01:59:47.900', 'D+000004.2')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.2, 3.4, 4.2, 5.0, 4.8, 4.2]
np.array X: [[2.2]
 [3.4]
 [4.2]
 [5. ]
 [4.8]
 [4.2]]
revised_weight: 4.4
2021-04-06 01:59:47.900: revising weight finished
revised_weight: 4.4 at 2021-04-06 01:59:47.900
plc_result: True
sendmessage: 20210406015947900,1,000042,000044
send message to PLC: 2021-04-06 01:59:47.993
time gap: 0:00:00.011802
2021-04-06 01:59:47: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:48: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:59:48: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:48: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:48: select done
2021-04-06 01:59:48: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:59:48: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:59:48: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:59:48: count: 4 in httpPlcDataSender thread
2021-04-06 01:59:48: D+: 4 in httpPlcDataSender thread
2021-04-06 01:59:48: D-: 0 in httpPlcDataSender thread
2021-04-06 01:59:48: S+: 0 in httpPlcDataSender thread
2021-04-06 01:59:48: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.0', 'sensorAt': '2021-04-06 01:59:43.310'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:59:43.760'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:59:44.710'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:59:47.900'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:43.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:43.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:44.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:47.900'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:59:48', 'collectDate': '2021-04-06 01:59:47', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.0', 'sensorAt': '2021-04-06 01:59:43.310'}, {'value': '5.8', 'sensorAt': '2021-04-06 01:59:43.760'}, {'value': '5.1', 'sensorAt': '2021-04-06 01:59:44.710'}, {'value': '4.4', 'sensorAt': '2021-04-06 01:59:47.900'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:43.310'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:43.760'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:44.710'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:47.900'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:59:48: send http
2021-04-06 01:59:48: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:59:48: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:49: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:49.381
lastevent: 2021-04-06 01:59:49.368, last ten sensor data: [('2021-04-06 01:59:49.050', 'D+000003.2'), ('2021-04-06 01:59:49.070', 'D+000003.4'), ('2021-04-06 01:59:49.090', 'D+000003.6'), ('2021-04-06 01:59:49.110', 'D+000003.8'), ('2021-04-06 01:59:49.130', 'D+000004.0'), ('2021-04-06 01:59:49.290', 'D+000004.4'), ('2021-04-06 01:59:49.310', 'D+000005.4'), ('2021-04-06 01:59:49.330', 'D+000005.8'), ('2021-04-06 01:59:49.350', 'D+000004.2'), ('2021-04-06 01:59:49.370', 'D+000005.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.0, 4.4, 5.4, 5.8, 4.2, 5.0]
np.array X: [[4. ]
 [4.4]
 [5.4]
 [5.8]
 [4.2]
 [5. ]]
revised_weight: 5.2
2021-04-06 01:59:49.370: revising weight finished
revised_weight: 5.2 at 2021-04-06 01:59:49.370
plc_result: True
sendmessage: 20210406015949370,1,000050,000052
send message to PLC: 2021-04-06 01:59:49.388
time gap: 0:00:00.007044
2021-04-06 01:59:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:49.788
lastevent: 2021-04-06 01:59:49.775, last ten sensor data: [0, 0, 0, 0, ('2021-04-06 01:59:49.540', 'D+000006.0'), ('2021-04-06 01:59:49.560', 'D+000006.0'), ('2021-04-06 01:59:49.580', 'D+000006.4'), ('2021-04-06 01:59:49.600', 'D+000006.6'), ('2021-04-06 01:59:49.620', 'D+000006.4'), ('2021-04-06 01:59:49.770', 'D+000006.0')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.0, 6.0, 6.4, 6.6, 6.4, 6.0]
np.array X: [[6. ]
 [6. ]
 [6.4]
 [6.6]
 [6.4]
 [6. ]]
revised_weight: 6.1
2021-04-06 01:59:49.770: revising weight finished
revised_weight: 6.1 at 2021-04-06 01:59:49.770
plc_result: True
sendmessage: 20210406015949770,1,000060,000061
send message to PLC: 2021-04-06 01:59:49.795
time gap: 0:00:00.006751
2021-04-06 01:59:49: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:51.902
lastevent: 2021-04-06 01:59:51.890, last ten sensor data: [('2021-04-06 01:59:51.300', 'D+000002.0'), ('2021-04-06 01:59:51.500', 'D+000002.4'), ('2021-04-06 01:59:51.520', 'D+000002.4'), ('2021-04-06 01:59:51.540', 'D+000002.6'), ('2021-04-06 01:59:51.560', 'D+000002.8'), ('2021-04-06 01:59:51.730', 'D+000003.6'), ('2021-04-06 01:59:51.750', 'D+000003.6'), ('2021-04-06 01:59:51.770', 'D+000004.4'), ('2021-04-06 01:59:51.790', 'D+000004.8'), ('2021-04-06 01:59:51.810', 'D+000004.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.8, 3.6, 3.6, 4.4, 4.8, 4.8]
np.array X: [[2.8]
 [3.6]
 [3.6]
 [4.4]
 [4.8]
 [4.8]]
revised_weight: 4.2
2021-04-06 01:59:51.810: revising weight finished
revised_weight: 4.2 at 2021-04-06 01:59:51.810
plc_result: True
sendmessage: 20210406015951810,1,000048,000042
send message to PLC: 2021-04-06 01:59:51.912
time gap: 0:00:00.009829
2021-04-06 01:59:51: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:53.202
lastevent: 2021-04-06 01:59:53.189, last ten sensor data: [('2021-04-06 01:59:52.710', 'D+000002.8'), ('2021-04-06 01:59:52.730', 'D+000002.4'), ('2021-04-06 01:59:52.750', 'D+000002.2'), ('2021-04-06 01:59:52.770', 'D+000001.8'), ('2021-04-06 01:59:52.790', 'D+000002.0'), ('2021-04-06 01:59:52.950', 'D+000003.6'), ('2021-04-06 01:59:52.970', 'D+000004.4'), ('2021-04-06 01:59:52.990', 'D+000004.4'), ('2021-04-06 01:59:53.010', 'D+000004.4'), ('2021-04-06 01:59:53.030', 'D+000004.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [2.0, 3.6, 4.4, 4.4, 4.4, 4.4]
np.array X: [[2. ]
 [3.6]
 [4.4]
 [4.4]
 [4.4]
 [4.4]]
revised_weight: 4.5
2021-04-06 01:59:53.030: revising weight finished
revised_weight: 4.5 at 2021-04-06 01:59:53.030
plc_result: True
sendmessage: 20210406015953030,1,000044,000045
send message to PLC: 2021-04-06 01:59:53.210
time gap: 0:00:00.007237
2021-04-06 01:59:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:53.603
lastevent: 2021-04-06 01:59:53.593, last ten sensor data: [0, ('2021-04-06 01:59:53.210', 'D+000005.2'), ('2021-04-06 01:59:53.230', 'D+000005.6'), ('2021-04-06 01:59:53.250', 'D+000006.0'), ('2021-04-06 01:59:53.270', 'D+000005.6'), ('2021-04-06 01:59:53.430', 'D+000006.4'), ('2021-04-06 01:59:53.460', 'D+000007.4'), ('2021-04-06 01:59:53.480', 'D+000005.4'), ('2021-04-06 01:59:53.500', 'D+000005.8'), ('2021-04-06 01:59:53.520', 'D+000007.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [5.6, 6.4, 7.4, 5.4, 5.8, 7.4]
np.array X: [[5.6]
 [6.4]
 [7.4]
 [5.4]
 [5.8]
 [7.4]]
revised_weight: 6.6
2021-04-06 01:59:53.520: revising weight finished
revised_weight: 6.6 at 2021-04-06 01:59:53.520
plc_result: True
sendmessage: 20210406015953520,1,000074,000066
send message to PLC: 2021-04-06 01:59:53.610
time gap: 0:00:00.007064
2021-04-06 01:59:53: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:54: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:59:54: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:54: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:54: select done
2021-04-06 01:59:54: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:59:54: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:59:54: sendjson called, 5 records in httpPlcDataSender thread
2021-04-06 01:59:54: count: 5 in httpPlcDataSender thread
2021-04-06 01:59:54: D+: 5 in httpPlcDataSender thread
2021-04-06 01:59:54: D-: 0 in httpPlcDataSender thread
2021-04-06 01:59:54: S+: 0 in httpPlcDataSender thread
2021-04-06 01:59:54: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.2', 'sensorAt': '2021-04-06 01:59:49.370'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:59:49.770'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:59:51.810'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:59:53.030'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:59:53.520'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:49.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:49.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:51.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:53.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:53.520'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:59:54', 'collectDate': '2021-04-06 01:59:53', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '5.2', 'sensorAt': '2021-04-06 01:59:49.370'}, {'value': '6.1', 'sensorAt': '2021-04-06 01:59:49.770'}, {'value': '4.2', 'sensorAt': '2021-04-06 01:59:51.810'}, {'value': '4.5', 'sensorAt': '2021-04-06 01:59:53.030'}, {'value': '6.6', 'sensorAt': '2021-04-06 01:59:53.520'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:49.370'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:49.770'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:51.810'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:53.030'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:53.520'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
2021-04-06 01:59:54: send http
2021-04-06 01:59:54: response status code: 200
!!!!!!!!!! http://211.188.214.99:9001/?api-key=7PnRIpclK7wpHHDsp3KhJbCvXt88ABYVBFFzbuOkM8CpVka1lZ23Wp9piFHwX0yfw {'content-type': 'application/json'}
True
Backupserver True
2021-04-06 01:59:54: HTTPSThreadState.STATE_UPDATE_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:54: got 'update query' results  in httpPlcDataSender thread
trigger sensor detected: 2021-04-06 01:59:55.972
lastevent: 2021-04-06 01:59:55.963, last ten sensor data: [('2021-04-06 01:59:55.470', 'D+000001.8'), ('2021-04-06 01:59:55.650', 'D+000003.4'), ('2021-04-06 01:59:55.670', 'D+000003.2'), ('2021-04-06 01:59:55.690', 'D+000003.2'), ('2021-04-06 01:59:55.710', 'D+000003.2'), ('2021-04-06 01:59:55.730', 'D+000003.6'), ('2021-04-06 01:59:55.890', 'D+000004.8'), ('2021-04-06 01:59:55.910', 'D+000005.8'), ('2021-04-06 01:59:55.930', 'D+000006.0'), ('2021-04-06 01:59:55.950', 'D+000005.4')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [3.2, 3.6, 4.8, 5.8, 6.0, 5.4]
np.array X: [[3.2]
 [3.6]
 [4.8]
 [5.8]
 [6. ]
 [5.4]]
revised_weight: 4.8
2021-04-06 01:59:55.950: revising weight finished
revised_weight: 4.8 at 2021-04-06 01:59:55.950
plc_result: True
sendmessage: 20210406015955950,1,000054,000048
send message to PLC: 2021-04-06 01:59:55.978
time gap: 0:00:00.006787
2021-04-06 01:59:55: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:56.727
lastevent: 2021-04-06 01:59:56.713, last ten sensor data: [('2021-04-06 01:59:56.370', 'D+000007.4'), ('2021-04-06 01:59:56.390', 'D+000007.4'), ('2021-04-06 01:59:56.410', 'D+000007.2'), ('2021-04-06 01:59:56.430', 'D+000007.0'), ('2021-04-06 01:59:56.450', 'D+000006.8'), ('2021-04-06 01:59:56.610', 'D+000007.2'), ('2021-04-06 01:59:56.630', 'D+000006.2'), ('2021-04-06 01:59:56.650', 'D+000005.8'), ('2021-04-06 01:59:56.670', 'D+000006.6'), ('2021-04-06 01:59:56.690', 'D+000006.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [6.8, 7.2, 6.2, 5.8, 6.6, 6.8]
np.array X: [[6.8]
 [7.2]
 [6.2]
 [5.8]
 [6.6]
 [6.8]]
revised_weight: 6.3
2021-04-06 01:59:56.690: revising weight finished
revised_weight: 6.3 at 2021-04-06 01:59:56.690
plc_result: True
sendmessage: 20210406015956690,1,000068,000063
send message to PLC: 2021-04-06 01:59:56.734
time gap: 0:00:00.006907
2021-04-06 01:59:56: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:57.115
lastevent: 2021-04-06 01:59:57.103, last ten sensor data: [0, 0, 0, 0, 0, ('2021-04-06 01:59:56.860', 'D+000006.6'), ('2021-04-06 01:59:56.880', 'D+000006.4'), ('2021-04-06 01:59:56.900', 'D+000006.2'), ('2021-04-06 01:59:56.920', 'D+000006.6'), ('2021-04-06 01:59:56.940', 'D+000007.8')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [0, 6.6, 6.4, 6.2, 6.6, 7.8]
np.array X: [[0. ]
 [6.6]
 [6.4]
 [6.2]
 [6.6]
 [7.8]]
revised_weight: 7.0
2021-04-06 01:59:56.940: revising weight finished
revised_weight: 7.0 at 2021-04-06 01:59:56.940
plc_result: True
sendmessage: 20210406015956940,1,000078,000070
send message to PLC: 2021-04-06 01:59:57.125
time gap: 0:00:00.010167
2021-04-06 01:59:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
trigger sensor detected: 2021-04-06 01:59:57.954
lastevent: 2021-04-06 01:59:57.953, last ten sensor data: [('2021-04-06 01:59:57.600', 'D+000004.0'), ('2021-04-06 01:59:57.620', 'D+000004.6'), ('2021-04-06 01:59:57.640', 'D+000005.0'), ('2021-04-06 01:59:57.660', 'D+000004.6'), ('2021-04-06 01:59:57.680', 'D+000004.4'), ('2021-04-06 01:59:57.840', 'D+000006.0'), ('2021-04-06 01:59:57.860', 'D+000006.4'), ('2021-04-06 01:59:57.880', 'D+000006.4'), ('2021-04-06 01:59:57.900', 'D+000006.2'), ('2021-04-06 01:59:57.920', 'D+000006.6')]
self.scaleReader.sensordatalastten_list: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
list X: [4.4, 6.0, 6.4, 6.4, 6.2, 6.6]
np.array X: [[4.4]
 [6. ]
 [6.4]
 [6.4]
 [6.2]
 [6.6]]
revised_weight: 6.4
2021-04-06 01:59:57.920: revising weight finished
revised_weight: 6.4 at 2021-04-06 01:59:57.920
plc_result: True
sendmessage: 20210406015957920,1,000066,000064
send message to PLC: 2021-04-06 01:59:57.960
time gap: 0:00:00.006205
2021-04-06 01:59:57: insertdb called
/home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:59: HTTP Send finished in httpPlcDataSender thread
2021-04-06 01:59:59: HTTPSThreadState.STATE_SELECT_REQUEST in httpPlcDataSender thread
2021-04-06 01:59:59: select from dbfilename: /home/skp002/workspace/skp_weight_new/db_folder/plc_db/plcdata2021-04-06_01_50.db
2021-04-06 01:59:59: select done
2021-04-06 01:59:59: got 'select query' results in httpPlcDataSender thread
2021-04-06 01:59:59: HTTPSThreadState.STATE_HTTP_SEND in httpPlcDataSender thread
2021-04-06 01:59:59: sendjson called, 4 records in httpPlcDataSender thread
2021-04-06 01:59:59: count: 4 in httpPlcDataSender thread
2021-04-06 01:59:59: D+: 4 in httpPlcDataSender thread
2021-04-06 01:59:59: D-: 0 in httpPlcDataSender thread
2021-04-06 01:59:59: S+: 0 in httpPlcDataSender thread
2021-04-06 01:59:59: S-: 0 in httpPlcDataSender thread
make revisions, jsontype_payloads_item: {'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:59:55.950'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:59:56.690'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:59:56.940'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:59:57.920'}]} in httpPlcDataSender thread
make plc_result, jsontype_payloads_item: {'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:55.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:56.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:56.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:57.920'}]} in httpPlcDataSender thread
makejson, jsonobject_all: {'version': 'v1.2', 'serviceCode': 'cjlogistics', 'sensorDate': '2021-04-06 01:59:59', 'collectDate': '2021-04-06 01:59:57', 'sensorInfo': {'cycle': 'millisecond', 'sensorId': 'wiz0000000000000001', 'sensorType': 'weight', 'latitude': 37.4155, 'longitude': 127.3109}, 'revisions': [{'type': 'D+', 'unit': 'kg', 'values': [{'value': '4.8', 'sensorAt': '2021-04-06 01:59:55.950'}, {'value': '6.3', 'sensorAt': '2021-04-06 01:59:56.690'}, {'value': '7.0', 'sensorAt': '2021-04-06 01:59:56.940'}, {'value': '6.4', 'sensorAt': '2021-04-06 01:59:57.920'}]}], 'plc_result': [{'type': 'D+', 'unit': 'boolean', 'values': [{'value': 1, 'sensorAt': '2021-04-06 01:59:55.950'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:56.690'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:56.940'}, {'value': 1, 'sensorAt': '2021-04-06 01:59:57.920'}]}]} in httpPlcDataSender thread
True in httpPlcDataSender thread
logging_2021-04-06_02.log
current_plcdb_name: plcdata2021-04-06_02_00.db
